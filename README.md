package {
    import flash.display.*;

    public dynamic class ArrowSkin_Invisible extends MovieClip {

    }
}//package 
﻿package {
    import flash.display.*;

    public dynamic class ScrollArrowDown_upSkin extends MovieClip {

    }
}//package 
﻿package {
    import flash.display.*;

    public dynamic class ScrollThumb_upSkin extends MovieClip {

    }
}//package 
﻿package {
    import flash.display.*;

    public dynamic class ScrollArrowUp_disabledSkin extends MovieClip {

    }
}//package 
﻿package flashx.undo {

    public interface IUndoManager {

        function clearAll():void;
        function get undoAndRedoItemLimit():int;
        function set undoAndRedoItemLimit(_arg1:int):void;
        function canUndo():Boolean;
        function peekUndo():IOperation;
        function popUndo():IOperation;
        function pushUndo(_arg1:IOperation):void;
        function clearRedo():void;
        function canRedo():Boolean;
        function peekRedo():IOperation;
        function popRedo():IOperation;
        function pushRedo(_arg1:IOperation):void;
        function undo():void;
        function redo():void;

    }
}//package flashx.undo 
﻿package flashx.undo {

    public class UndoManager implements IUndoManager {

        private var undoStack:Array;
        private var redoStack:Array;
        private var _undoAndRedoItemLimit:int = 25;

        public function UndoManager(){
            this.undoStack = new Array();
            this.redoStack = new Array();
        }
        public function clearAll():void{
            this.undoStack.length = 0;
            this.redoStack.length = 0;
        }
        public function canUndo():Boolean{
            return ((this.undoStack.length > 0));
        }
        public function peekUndo():IOperation{
            return ((((this.undoStack.length > 0)) ? this.undoStack[(this.undoStack.length - 1)] : null));
        }
        public function popUndo():IOperation{
            return (IOperation(this.undoStack.pop()));
        }
        public function pushUndo(_arg1:IOperation):void{
            this.undoStack.push(_arg1);
            this.trimUndoRedoStacks();
        }
        public function canRedo():Boolean{
            return ((this.redoStack.length > 0));
        }
        public function clearRedo():void{
            this.redoStack.length = 0;
        }
        public function peekRedo():IOperation{
            return ((((this.redoStack.length > 0)) ? this.redoStack[(this.redoStack.length - 1)] : null));
        }
        public function popRedo():IOperation{
            return (IOperation(this.redoStack.pop()));
        }
        public function pushRedo(_arg1:IOperation):void{
            this.redoStack.push(_arg1);
            this.trimUndoRedoStacks();
        }
        public function get undoAndRedoItemLimit():int{
            return (this._undoAndRedoItemLimit);
        }
        public function set undoAndRedoItemLimit(_arg1:int):void{
            this._undoAndRedoItemLimit = _arg1;
            this.trimUndoRedoStacks();
        }
        public function undo():void{
            var _local1:IOperation;
            if (this.canUndo()){
                _local1 = this.popUndo();
                _local1.performUndo();
            };
        }
        public function redo():void{
            var _local1:IOperation;
            if (this.canRedo()){
                _local1 = this.popRedo();
                _local1.performRedo();
            };
        }
        private function trimUndoRedoStacks():void{
            var _local2:int;
            var _local1:int = (this.undoStack.length + this.redoStack.length);
            if (_local1 > this._undoAndRedoItemLimit){
                _local2 = Math.min((_local1 - this._undoAndRedoItemLimit), this.redoStack.length);
                if (_local2){
                    this.redoStack.splice(0, _local2);
                    _local1 = (this.undoStack.length + this.redoStack.length);
                };
                if (_local1 > this._undoAndRedoItemLimit){
                    _local2 = Math.min((_local1 - this._undoAndRedoItemLimit), this.undoStack.length);
                    this.undoStack.splice(0, _local2);
                };
            };
        }

    }
}//package flashx.undo 
﻿package flashx.undo {

    public interface IOperation {

        function performRedo():void;
        function performUndo():void;

    }
}//package flashx.undo 
﻿package flashx.textLayout.elements {
    import flash.display.*;
    import flash.text.engine.*;
    import flash.events.*;
    import flash.geom.*;
    import flashx.textLayout.property.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.compose.*;
    import flash.net.*;
    import flashx.textLayout.events.*;
    import flash.system.*;
    import flashx.textLayout.*;

    public final class InlineGraphicElement extends FlowLeafElement {

        private static const graphicElementText:String = String.fromCharCode(ContentElement.GRAPHIC_ELEMENT);
        private static const LOAD_INITIATED:String = "loadInitiated";
        private static const OPEN_RECEIVED:String = "openReceived";
        private static const LOAD_COMPLETE:String = "loadComplete";
        private static const EMBED_LOADED:String = "embedLoaded";
        private static const DISPLAY_OBJECT:String = "displayObject";
        private static const NULL_GRAPHIC:String = "nullGraphic";
        tlf_internal static const heightPropertyDefinition:Property = Property.NewNumberOrPercentOrEnumProperty("height", FormatValue.AUTO, false, null, 0, 0x7D00, "0%", "1000000%", FormatValue.AUTO);
        tlf_internal static const widthPropertyDefinition:Property = Property.NewNumberOrPercentOrEnumProperty("width", FormatValue.AUTO, false, null, 0, 0x7D00, "0%", "1000000%", FormatValue.AUTO);
        tlf_internal static const rotationPropertyDefinition:Property = Property.NewEnumStringProperty("rotation", TextRotation.ROTATE_0, false, null, TextRotation.ROTATE_0, TextRotation.ROTATE_90, TextRotation.ROTATE_180, TextRotation.ROTATE_270);
        tlf_internal static const floatPropertyDefinition:Property = Property.NewEnumStringProperty("float", Float.NONE, false, null, Float.NONE, Float.LEFT, Float.RIGHT, Float.START, Float.END);

        private static var isMac:Boolean = (Capabilities.os.search("Mac OS") > -1);

        private var _source:Object;
        private var _graphic:DisplayObject;
        private var _placeholderGraphic:Sprite;
        private var _elementWidth:Number;
        private var _elementHeight:Number;
        private var _graphicStatus:Object;
        private var okToUpdateHeightAndWidth:Boolean;
        private var _width;
        private var _height;
        private var _measuredWidth:Number;
        private var _measuredHeight:Number;
        private var _float;
        private var _effectiveFloat:String;

        public function InlineGraphicElement(){
            this.okToUpdateHeightAndWidth = false;
            this._measuredWidth = 0;
            this._measuredHeight = 0;
            this.internalSetWidth(undefined);
            this.internalSetHeight(undefined);
            this._graphicStatus = InlineGraphicElementStatus.LOAD_PENDING;
            setTextLength(1);
            _text = graphicElementText;
        }
        private static function recursiveShutDownGraphic(_arg1:DisplayObject):void{
            var _local2:DisplayObjectContainer;
            var _local3:int;
            if ((_arg1 is Loader)){
                Loader(_arg1).unloadAndStop();
            } else {
                if (_arg1){
                    _local2 = (_arg1 as DisplayObjectContainer);
                    if (_local2){
                        _local3 = 0;
                        while (_local3 < _local2.numChildren) {
                            recursiveShutDownGraphic(_local2.getChildAt(_local3));
                            _local3++;
                        };
                    };
                    if ((_arg1 is MovieClip)){
                        MovieClip(_arg1).stop();
                    };
                };
            };
        }

        override tlf_internal function createContentElement():void{
            if (_blockElement){
                return;
            };
            this.computedFormat;
            var _local1:GraphicElement = new GraphicElement();
            _blockElement = _local1;
            this.updateContentElement();
            super.createContentElement();
        }
        private function updateContentElement():void{
            var _local2:Number;
            var _local3:Number;
            var _local1:GraphicElement = (_blockElement as GraphicElement);
            if (!this._placeholderGraphic){
                this._placeholderGraphic = new Sprite();
            };
            _local1.graphic = this._placeholderGraphic;
            if (this.effectiveFloat != Float.NONE){
                if (_local1.elementHeight != 0){
                    _local1.elementHeight = 0;
                };
                if (_local1.elementWidth != 0){
                    _local1.elementWidth = 0;
                };
            } else {
                _local2 = this.elementHeightWithMarginsAndPadding();
                if (_local1.elementHeight != _local2){
                    _local1.elementHeight = _local2;
                };
                _local3 = this.elementWidthWithMarginsAndPadding();
                if (_local1.elementWidth != _local3){
                    _local1.elementWidth = _local3;
                };
            };
        }
        override public function get computedFormat():ITextLayoutFormat{
            var _local1 = (_computedFormat == null);
            super.computedFormat;
            if (((_local1) && (_blockElement))){
                this.updateContentElement();
            };
            return (_computedFormat);
        }
        tlf_internal function elementWidthWithMarginsAndPadding():Number{
            var _local1:TextFlow = getTextFlow();
            if (!_local1){
                return (this.elementWidth);
            };
            var _local2:Number = (((_local1.computedFormat.blockProgression == BlockProgression.RL)) ? (getEffectivePaddingTop() + getEffectivePaddingBottom()) : (getEffectivePaddingLeft() + getEffectivePaddingRight()));
            return ((this.elementWidth + _local2));
        }
        tlf_internal function elementHeightWithMarginsAndPadding():Number{
            var _local1:TextFlow = getTextFlow();
            if (!_local1){
                return (this.elementWidth);
            };
            var _local2:Number = (((_local1.computedFormat.blockProgression == BlockProgression.RL)) ? (getEffectivePaddingLeft() + getEffectivePaddingRight()) : (getEffectivePaddingTop() + getEffectivePaddingBottom()));
            return ((this.elementHeight + _local2));
        }
        public function get graphic():DisplayObject{
            return (this._graphic);
        }
        private function setGraphic(_arg1:DisplayObject):void{
            this._graphic = _arg1;
        }
        tlf_internal function get placeholderGraphic():Sprite{
            return (this._placeholderGraphic);
        }
        tlf_internal function get elementWidth():Number{
            return (this._elementWidth);
        }
        tlf_internal function set elementWidth(_arg1:Number):void{
            this._elementWidth = _arg1;
            if (_blockElement){
                (_blockElement as GraphicElement).elementWidth = ((this.effectiveFloat)!=Float.NONE) ? 0 : this.elementWidthWithMarginsAndPadding();
            };
            modelChanged(ModelChange.ELEMENT_MODIFIED, this, 0, textLength, true, false);
        }
        tlf_internal function get elementHeight():Number{
            return (this._elementHeight);
        }
        tlf_internal function set elementHeight(_arg1:Number):void{
            this._elementHeight = _arg1;
            if (_blockElement){
                (_blockElement as GraphicElement).elementHeight = ((this.effectiveFloat)!=Float.NONE) ? 0 : this.elementHeightWithMarginsAndPadding();
            };
            modelChanged(ModelChange.ELEMENT_MODIFIED, this, 0, textLength, true, false);
        }
        public function get status():String{
            switch (this._graphicStatus){
                case LOAD_INITIATED:
                case OPEN_RECEIVED:
                    return (InlineGraphicElementStatus.LOADING);
                case LOAD_COMPLETE:
                case EMBED_LOADED:
                case DISPLAY_OBJECT:
                case NULL_GRAPHIC:
                    return (InlineGraphicElementStatus.READY);
                case InlineGraphicElementStatus.LOAD_PENDING:
                case InlineGraphicElementStatus.SIZE_PENDING:
                    return (String(this._graphicStatus));
            };
            return (InlineGraphicElementStatus.ERROR);
        }
        private function changeGraphicStatus(_arg1:Object):void{
            var _local4:TextFlow;
            var _local2:String = this.status;
            this._graphicStatus = _arg1;
            var _local3:String = this.status;
            if (((!((_local2 == _local3))) || ((_arg1 is ErrorEvent)))){
                _local4 = getTextFlow();
                if (_local4){
                    if (_local3 == InlineGraphicElementStatus.SIZE_PENDING){
                        _local4.processAutoSizeImageLoaded(this);
                    };
                    _local4.dispatchEvent(new StatusChangeEvent(StatusChangeEvent.INLINE_GRAPHIC_STATUS_CHANGE, false, false, this, _local3, (_arg1 as ErrorEvent)));
                };
            };
        }
        public function get width(){
            return (this._width);
        }
        public function set width(_arg1):void{
            this.internalSetWidth(_arg1);
            modelChanged(ModelChange.ELEMENT_MODIFIED, this, 0, textLength);
        }
        public function get measuredWidth():Number{
            return (this._measuredWidth);
        }
        public function get actualWidth():Number{
            return (this.elementWidth);
        }
        private function widthIsComputed():Boolean{
            return ((this.internalWidth is String));
        }
        private function get internalWidth():Object{
            return ((((this._width === undefined)) ? widthPropertyDefinition.defaultValue : this._width));
        }
        private function computeWidth():Number{
            var _local1:Number;
            if (this.internalWidth == FormatValue.AUTO){
                if (this.internalHeight == FormatValue.AUTO){
                    return (this._measuredWidth);
                };
                if ((((this._measuredHeight == 0)) || ((this._measuredWidth == 0)))){
                    return (0);
                };
                _local1 = ((this.heightIsComputed()) ? this.computeHeight() : Number(this.internalHeight));
                return (((_local1 / this._measuredHeight) * this._measuredWidth));
            };
            return (widthPropertyDefinition.computeActualPropertyValue(this.internalWidth, this._measuredWidth));
        }
        private function internalSetWidth(_arg1):void{
            this._width = widthPropertyDefinition.setHelper(this.width, _arg1);
            this.elementWidth = ((this.widthIsComputed()) ? 0 : Number(this.internalWidth));
            if (((this.okToUpdateHeightAndWidth) && (this.graphic))){
                if (this.widthIsComputed()){
                    this.elementWidth = this.computeWidth();
                };
                this.graphic.width = this.elementWidth;
                if (this.internalHeight == FormatValue.AUTO){
                    this.elementHeight = this.computeHeight();
                    this.graphic.height = this.elementHeight;
                };
            };
        }
        public function get height(){
            return (this._height);
        }
        public function set height(_arg1):void{
            this.internalSetHeight(_arg1);
            modelChanged(ModelChange.ELEMENT_MODIFIED, this, 0, textLength);
        }
        private function get internalHeight():Object{
            return ((((this._height === undefined)) ? heightPropertyDefinition.defaultValue : this._height));
        }
        tlf_internal function get computedFloat(){
            if (this._float === undefined){
                return (floatPropertyDefinition.defaultValue);
            };
            return (this._float);
        }
        tlf_internal function get effectiveFloat(){
            return (((this._effectiveFloat) ? this._effectiveFloat : this.computedFloat));
        }
        tlf_internal function setEffectiveFloat(_arg1:String):void{
            if (this._effectiveFloat != _arg1){
                this._effectiveFloat = _arg1;
                if (_blockElement){
                    this.updateContentElement();
                };
            };
        }
        public function get float(){
            return (this._float);
        }
        public function set float(_arg1){
            _arg1 = (floatPropertyDefinition.setHelper(this.float, _arg1) as String);
            if (this._float != _arg1){
                this._float = _arg1;
                if (_blockElement){
                    this.updateContentElement();
                };
                modelChanged(ModelChange.ELEMENT_MODIFIED, this, 0, textLength);
            };
        }
        public function get measuredHeight():Number{
            return (this._measuredHeight);
        }
        public function get actualHeight():Number{
            return (this.elementHeight);
        }
        private function heightIsComputed():Boolean{
            return ((this.internalHeight is String));
        }
        private function computeHeight():Number{
            var _local1:Number;
            if (this.internalHeight == FormatValue.AUTO){
                if (this.internalWidth == FormatValue.AUTO){
                    return (this._measuredHeight);
                };
                if ((((this._measuredHeight == 0)) || ((this._measuredWidth == 0)))){
                    return (0);
                };
                _local1 = ((this.widthIsComputed()) ? this.computeWidth() : Number(this.internalWidth));
                return (((_local1 / this._measuredWidth) * this._measuredHeight));
            };
            return (heightPropertyDefinition.computeActualPropertyValue(this.internalHeight, this._measuredHeight));
        }
        private function internalSetHeight(_arg1):void{
            this._height = heightPropertyDefinition.setHelper(this.height, _arg1);
            this.elementHeight = ((this.heightIsComputed()) ? 0 : Number(this.internalHeight));
            if (((this.okToUpdateHeightAndWidth) && (!((this.graphic == null))))){
                if (this.heightIsComputed()){
                    this.elementHeight = this.computeHeight();
                };
                this.graphic.height = this.elementHeight;
                if (this.internalWidth == FormatValue.AUTO){
                    this.elementWidth = this.computeWidth();
                    this.graphic.width = this.elementWidth;
                };
            };
        }
        private function loadCompleteHandler(_arg1:Event):void{
            this.removeDefaultLoadHandlers((this.graphic as Loader));
            this.okToUpdateHeightAndWidth = true;
            var _local2:DisplayObject = this.graphic;
            this._measuredWidth = _local2.width;
            this._measuredHeight = _local2.height;
            if (!this.widthIsComputed()){
                _local2.width = this.elementWidth;
            };
            if (!this.heightIsComputed()){
                _local2.height = this.elementHeight;
            };
            if ((_arg1 is IOErrorEvent)){
                this.changeGraphicStatus(_arg1);
            } else {
                if (((this.widthIsComputed()) || (this.heightIsComputed()))){
                    _local2.visible = false;
                    this.changeGraphicStatus(InlineGraphicElementStatus.SIZE_PENDING);
                } else {
                    this.changeGraphicStatus(LOAD_COMPLETE);
                };
            };
        }
        private function openHandler(_arg1:Event):void{
            this.changeGraphicStatus(OPEN_RECEIVED);
        }
        private function addDefaultLoadHandlers(_arg1:Loader):void{
            var _local2:LoaderInfo = _arg1.contentLoaderInfo;
            _local2.addEventListener(Event.OPEN, this.openHandler, false, 0, true);
            _local2.addEventListener(Event.COMPLETE, this.loadCompleteHandler, false, 0, true);
            _local2.addEventListener(IOErrorEvent.IO_ERROR, this.loadCompleteHandler, false, 0, true);
        }
        private function removeDefaultLoadHandlers(_arg1:Loader):void{
            _arg1.contentLoaderInfo.removeEventListener(Event.OPEN, this.openHandler);
            _arg1.contentLoaderInfo.removeEventListener(Event.COMPLETE, this.loadCompleteHandler);
            _arg1.contentLoaderInfo.removeEventListener(IOErrorEvent.IO_ERROR, this.loadCompleteHandler);
        }
        public function get source():Object{
            return (this._source);
        }
        public function set source(_arg1:Object):void{
            this.stop(true);
            this._source = _arg1;
            this.changeGraphicStatus(InlineGraphicElementStatus.LOAD_PENDING);
            modelChanged(ModelChange.ELEMENT_MODIFIED, this, 0, textLength);
        }
        override tlf_internal function applyDelayedElementUpdate(_arg1:TextFlow, _arg2:Boolean, _arg3:Boolean):void{
            var source:* = null;
            var elem:* = null;
            var inlineGraphicResolver:* = null;
            var loader:* = null;
            var myPattern:* = null;
            var src:* = null;
            var pictURLReq:* = null;
            var cls:* = null;
            var textFlow:* = _arg1;
            var okToUnloadGraphics:* = _arg2;
            var hasController:* = _arg3;
            if (textFlow != this.getTextFlow()){
                hasController = false;
            };
            if (this._graphicStatus == InlineGraphicElementStatus.LOAD_PENDING){
                if (hasController){
                    source = this._source;
                    if ((source is String)){
                        inlineGraphicResolver = textFlow.configuration.inlineGraphicResolverFunction;
                        if (inlineGraphicResolver != null){
                            source = inlineGraphicResolver(this);
                        };
                    };
                    if ((((source is String)) || ((source is URLRequest)))){
                        this.okToUpdateHeightAndWidth = false;
                        loader = new Loader();
                        try {
                            this.addDefaultLoadHandlers(loader);
                            if ((source is String)){
                                myPattern = /\\/g;
                                src = (source as String);
                                src = src.replace(myPattern, "/");
                                if (isMac){
                                    pictURLReq = new URLRequest(encodeURI(src));
                                } else {
                                    pictURLReq = new URLRequest(src);
                                };
                                loader.load(pictURLReq);
                            } else {
                                loader.load(URLRequest(source));
                            };
                            this.setGraphic(loader);
                            this.changeGraphicStatus(LOAD_INITIATED);
                        } catch(e:Error) {
                            removeDefaultLoadHandlers(loader);
                            elem = new Shape();
                            changeGraphicStatus(NULL_GRAPHIC);
                        };
                    } else {
                        if ((source is Class)){
                            cls = (source as Class);
                            elem = DisplayObject(new (cls)());
                            this.changeGraphicStatus(EMBED_LOADED);
                        } else {
                            if ((source is DisplayObject)){
                                elem = DisplayObject(source);
                                this.changeGraphicStatus(DISPLAY_OBJECT);
                            } else {
                                elem = new Shape();
                                this.changeGraphicStatus(NULL_GRAPHIC);
                            };
                        };
                    };
                    if (this._graphicStatus != LOAD_INITIATED){
                        this.okToUpdateHeightAndWidth = true;
                        this._measuredWidth = ((elem) ? elem.width : 0);
                        this._measuredHeight = ((elem) ? elem.height : 0);
                        if (this.widthIsComputed()){
                            if (elem){
                                elem.width = (this.elementWidth = this.computeWidth());
                            } else {
                                this.elementWidth = 0;
                            };
                        } else {
                            elem.width = Number(this.width);
                        };
                        if (this.heightIsComputed()){
                            if (elem){
                                elem.height = (this.elementHeight = this.computeHeight());
                            } else {
                                this.elementHeight = 0;
                            };
                        } else {
                            elem.height = Number(this.height);
                        };
                        this.setGraphic(elem);
                    };
                };
            } else {
                if (this._graphicStatus == InlineGraphicElementStatus.SIZE_PENDING){
                    this.updateAutoSizes();
                    this.graphic.visible = true;
                    this.changeGraphicStatus(LOAD_COMPLETE);
                };
                if (!hasController){
                    this.stop(okToUnloadGraphics);
                };
            };
        }
        override tlf_internal function updateForMustUseComposer(_arg1:TextFlow):Boolean{
            this.applyDelayedElementUpdate(_arg1, false, true);
            return (!((this.status == InlineGraphicElementStatus.READY)));
        }
        private function updateAutoSizes():void{
            if (this.widthIsComputed()){
                this.elementWidth = this.computeWidth();
                this.graphic.width = this.elementWidth;
            };
            if (this.heightIsComputed()){
                this.elementHeight = this.computeHeight();
                this.graphic.height = this.elementHeight;
            };
        }
        tlf_internal function stop(_arg1:Boolean):Boolean{
            var loader:* = null;
            var okToUnloadGraphics:* = _arg1;
            if ((((this._graphicStatus == OPEN_RECEIVED)) || ((this._graphicStatus == LOAD_INITIATED)))){
                loader = (this.graphic as Loader);
                try {
                    loader.close();
                } catch(e:Error) {
                };
                this.removeDefaultLoadHandlers(loader);
            };
            if (this._graphicStatus != DISPLAY_OBJECT){
                if (okToUnloadGraphics){
                    recursiveShutDownGraphic(this.graphic);
                    this.setGraphic(null);
                };
                if (this.widthIsComputed()){
                    this.elementWidth = 0;
                };
                if (this.heightIsComputed()){
                    this.elementHeight = 0;
                };
                this.changeGraphicStatus(InlineGraphicElementStatus.LOAD_PENDING);
            };
            return (true);
        }
        override tlf_internal function getEffectiveFontSize():Number{
            if (this.effectiveFloat != Float.NONE){
                return (0);
            };
            var _local1:Number = super.getEffectiveFontSize();
            return (Math.max(_local1, this.elementHeightWithMarginsAndPadding()));
        }
        override tlf_internal function getEffectiveLineHeight(_arg1:String):Number{
            if (this.effectiveFloat != Float.NONE){
                return (0);
            };
            return (super.getEffectiveLineHeight(_arg1));
        }
        tlf_internal function getTypographicAscent(_arg1:TextLine):Number{
            var _local3:String;
            if (this.effectiveFloat != Float.NONE){
                return (0);
            };
            var _local2:Number = this.elementHeightWithMarginsAndPadding();
            if (this._computedFormat.dominantBaseline != FormatValue.AUTO){
                _local3 = this._computedFormat.dominantBaseline;
            } else {
                _local3 = this.getParagraph().getEffectiveDominantBaseline();
            };
            var _local4:ElementFormat = ((_blockElement) ? _blockElement.elementFormat : computeElementFormat());
            var _local5:String = (((_local4.alignmentBaseline == TextBaseline.USE_DOMINANT_BASELINE)) ? _local3 : _local4.alignmentBaseline);
            var _local6:Number = 0;
            if (_local3 == TextBaseline.IDEOGRAPHIC_CENTER){
                _local6 = (_local6 + (_local2 / 2));
            } else {
                if ((((((_local3 == TextBaseline.IDEOGRAPHIC_BOTTOM)) || ((_local3 == TextBaseline.DESCENT)))) || ((_local3 == TextBaseline.ROMAN)))){
                    _local6 = (_local6 + _local2);
                };
            };
            _local6 = (_local6 + (_arg1.getBaselinePosition(TextBaseline.ROMAN) - _arg1.getBaselinePosition(_local5)));
            _local6 = (_local6 + _local4.baselineShift);
            return (_local6);
        }
        override tlf_internal function getCSSInlineBox(_arg1:String, _arg2:TextLine, _arg3:ParagraphElement=null, _arg4:ISWFContext=null):Rectangle{
            if (this.effectiveFloat != Float.NONE){
                return (null);
            };
            var _local5:Rectangle = new Rectangle();
            _local5.top = -(this.getTypographicAscent(_arg2));
            _local5.height = this.elementHeightWithMarginsAndPadding();
            _local5.width = this.elementWidth;
            return (_local5);
        }
        override tlf_internal function updateIMEAdornments(_arg1:TextLine, _arg2:String, _arg3:String):void{
            if (this.effectiveFloat == Float.NONE){
                super.updateIMEAdornments(_arg1, _arg2, _arg3);
            };
        }
        override tlf_internal function updateAdornments(_arg1:TextLine, _arg2:String):int{
            if (this.effectiveFloat == Float.NONE){
                return (super.updateAdornments(_arg1, _arg2));
            };
            return (0);
        }
        override public function shallowCopy(_arg1:int=0, _arg2:int=-1):FlowElement{
            if (_arg2 == -1){
                _arg2 = textLength;
            };
            var _local3:InlineGraphicElement = (super.shallowCopy(_arg1, _arg2) as InlineGraphicElement);
            _local3.source = this.source;
            _local3.width = this.width;
            _local3.height = this.height;
            _local3.float = this.float;
            return (_local3);
        }
        override protected function get abstract():Boolean{
            return (false);
        }
        override tlf_internal function get defaultTypeName():String{
            return ("img");
        }
        override tlf_internal function appendElementsForDelayedUpdate(_arg1:TextFlow, _arg2:String):void{
            if (_arg2 == ModelChange.ELEMENT_ADDED){
                _arg1.incGraphicObjectCount();
            } else {
                if (_arg2 == ModelChange.ELEMENT_REMOVAL){
                    _arg1.decGraphicObjectCount();
                };
            };
            if (((!((this.status == InlineGraphicElementStatus.READY))) || ((_arg2 == ModelChange.ELEMENT_REMOVAL)))){
                _arg1.appendOneElementForUpdate(this);
            };
        }
        override tlf_internal function calculateStrikeThrough(_arg1:TextLine, _arg2:String, _arg3:FontMetrics):Number{
            var _local6:Number;
            var _local7:TextFlowLine;
            var _local8:int;
            if (((!(this.graphic)) || (!((this.status == InlineGraphicElementStatus.READY))))){
                return (super.calculateStrikeThrough(_arg1, _arg2, _arg3));
            };
            var _local4:Number = 0;
            var _local5:DisplayObjectContainer = this._placeholderGraphic.parent;
            if (_local5){
                if (_arg2 != BlockProgression.RL){
                    _local4 = (this.placeholderGraphic.parent.y + ((this.elementHeight / 2) + Number(getEffectivePaddingTop())));
                } else {
                    _local6 = getEffectivePaddingRight();
                    _local7 = (_arg1.userData as TextFlowLine);
                    _local8 = (this.getAbsoluteStart() - _local7.absoluteStart);
                    if (_arg1.getAtomTextRotation(_local8) != TextRotation.ROTATE_0){
                        _local4 = (this._placeholderGraphic.parent.x - ((this.elementHeight / 2) + _local6));
                    } else {
                        _local4 = (this._placeholderGraphic.parent.x - ((this.elementWidth / 2) + _local6));
                    };
                };
            };
            return ((((_arg2 == BlockProgression.TB)) ? _local4 : -(_local4)));
        }
        override tlf_internal function calculateUnderlineOffset(_arg1:Number, _arg2:String, _arg3:FontMetrics, _arg4:TextLine):Number{
            if (((!(this.graphic)) || (!((this.status == InlineGraphicElementStatus.READY))))){
                return (super.calculateUnderlineOffset(_arg1, _arg2, _arg3, _arg4));
            };
            var _local5:ParagraphElement = this.getParagraph();
            var _local6:Number = 0;
            var _local7:DisplayObjectContainer = this._placeholderGraphic.parent;
            if (_local7){
                if (_arg2 == BlockProgression.TB){
                    _local6 = (_local7.y + this.elementHeightWithMarginsAndPadding());
                } else {
                    if (_local5.computedFormat.locale.toLowerCase().indexOf("zh") == 0){
                        _local6 = (_local7.x - this.elementHeightWithMarginsAndPadding());
                        _local6 = (_local6 - (_arg3.underlineOffset + (_arg3.underlineThickness / 2)));
                        return (_local6);
                    };
                    _local6 = (_local7.x - getEffectivePaddingLeft());
                };
            };
            _local6 = (_local6 + (_arg3.underlineOffset + (_arg3.underlineThickness / 2)));
            var _local8:String = _local5.getEffectiveJustificationRule();
            if (_local8 == JustificationRule.EAST_ASIAN){
                _local6 = (_local6 + 1);
            };
            return (_local6);
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flash.events.*;
    import flashx.textLayout.formats.*;
    import flash.net.*;
    import flashx.textLayout.events.*;
    import flashx.textLayout.*;

    public final class LinkElement extends SubParagraphGroupElementBase implements IEventDispatcher {

        tlf_internal static const LINK_NORMAL_FORMAT_NAME:String = "linkNormalFormat";
        tlf_internal static const LINK_ACTIVE_FORMAT_NAME:String = "linkActiveFormat";
        tlf_internal static const LINK_HOVER_FORMAT_NAME:String = "linkHoverFormat";

        private var _uriString:String;
        private var _targetString:String;
        private var _linkState:String;

        public function LinkElement(){
            this._linkState = LinkState.LINK;
        }
        override tlf_internal function get precedence():uint{
            return (800);
        }
        public function addEventListener(_arg1:String, _arg2:Function, _arg3:Boolean=false, _arg4:int=0, _arg5:Boolean=false):void{
            getEventMirror().addEventListener(_arg1, _arg2, _arg3, _arg4, _arg5);
        }
        public function dispatchEvent(_arg1:Event):Boolean{
            if (!hasActiveEventMirror()){
                return (false);
            };
            return (_eventMirror.dispatchEvent(_arg1));
        }
        public function hasEventListener(_arg1:String):Boolean{
            if (!hasActiveEventMirror()){
                return (false);
            };
            return (_eventMirror.hasEventListener(_arg1));
        }
        public function removeEventListener(_arg1:String, _arg2:Function, _arg3:Boolean=false):void{
            if (hasActiveEventMirror()){
                _eventMirror.removeEventListener(_arg1, _arg2, _arg3);
            };
        }
        public function willTrigger(_arg1:String):Boolean{
            if (!hasActiveEventMirror()){
                return (false);
            };
            return (_eventMirror.willTrigger(_arg1));
        }
        override protected function get abstract():Boolean{
            return (false);
        }
        override tlf_internal function get defaultTypeName():String{
            return ("a");
        }
        public function get href():String{
            return (this._uriString);
        }
        public function set href(_arg1:String):void{
            this._uriString = _arg1;
            modelChanged(ModelChange.ELEMENT_MODIFIED, this, 0, textLength);
        }
        public function get target():String{
            return (this._targetString);
        }
        public function set target(_arg1:String):void{
            this._targetString = _arg1;
            modelChanged(ModelChange.ELEMENT_MODIFIED, this, 0, textLength);
        }
        public function get linkState():String{
            return (this._linkState);
        }
        override public function shallowCopy(_arg1:int=0, _arg2:int=-1):FlowElement{
            if (_arg2 == -1){
                _arg2 = textLength;
            };
            var _local3:LinkElement = (super.shallowCopy(_arg1, _arg2) as LinkElement);
            _local3.href = this.href;
            _local3.target = this.target;
            return (_local3);
        }
        override tlf_internal function mergeToPreviousIfPossible():Boolean{
            var _local1:int;
            var _local2:LinkElement;
            if (((parent) && (!(bindableElement)))){
                _local1 = parent.getChildIndex(this);
                if (textLength == 0){
                    parent.replaceChildren(_local1, (_local1 + 1), null);
                    return (true);
                };
                if (((!((_local1 == 0))) && (!(hasActiveEventMirror())))){
                    _local2 = (parent.getChildAt((_local1 - 1)) as LinkElement);
                    if (((!((_local2 == null))) && (!(_local2.hasActiveEventMirror())))){
                        if ((((((this.href == _local2.href)) && ((this.target == _local2.target)))) && (equalStylesForMerge(_local2)))){
                            parent.removeChildAt(_local1);
                            if (numChildren > 0){
                                _local2.replaceChildren(_local2.numChildren, _local2.numChildren, this.mxmlChildren);
                            };
                            return (true);
                        };
                    };
                };
            };
            return (false);
        }
        private function computeLinkFormat(_arg1:String):ITextLayoutFormat{
            var _local3:TextFlow;
            var _local2:ITextLayoutFormat = (getUserStyleWorker(_arg1) as ITextLayoutFormat);
            if (_local2 == null){
                _local3 = getTextFlow();
                if (_local3){
                    _local2 = _local3.configuration[("defaultL" + _arg1.substr(1))];
                };
            };
            return (_local2);
        }
        tlf_internal function get effectiveLinkElementTextLayoutFormat():ITextLayoutFormat{
            var _local1:ITextLayoutFormat;
            if (this._linkState == LinkState.SUPPRESSED){
                return (null);
            };
            if (this._linkState == LinkState.ACTIVE){
                _local1 = this.computeLinkFormat(LINK_ACTIVE_FORMAT_NAME);
                if (_local1){
                    return (_local1);
                };
            } else {
                if (this._linkState == LinkState.HOVER){
                    _local1 = this.computeLinkFormat(LINK_HOVER_FORMAT_NAME);
                    if (_local1){
                        return (_local1);
                    };
                };
            };
            return (this.computeLinkFormat(LINK_NORMAL_FORMAT_NAME));
        }
        override tlf_internal function get formatForCascade():ITextLayoutFormat{
            var _local3:TextLayoutFormat;
            var _local1:TextLayoutFormat = TextLayoutFormat(format);
            var _local2:ITextLayoutFormat = this.effectiveLinkElementTextLayoutFormat;
            if (((_local2) || (_local1))){
                if (((_local2) && (_local1))){
                    _local3 = new TextLayoutFormat(_local2);
                    if (_local1){
                        _local3.concatInheritOnly(_local1);
                    };
                    return (_local3);
                };
                return (((_local1) ? _local1 : _local2));
            };
            return (null);
        }
        private function setToState(_arg1:String):void{
            var _local2:ITextLayoutFormat;
            var _local3:ITextLayoutFormat;
            var _local4:TextFlow;
            if (this._linkState != _arg1){
                _local2 = this.effectiveLinkElementTextLayoutFormat;
                this._linkState = _arg1;
                _local3 = this.effectiveLinkElementTextLayoutFormat;
                if (!TextLayoutFormat.isEqual(_local2, _local3)){
                    formatChanged(true);
                    _local4 = getTextFlow();
                    if (((_local4) && (_local4.flowComposer))){
                        _local4.flowComposer.updateAllControllers();
                    };
                };
            };
        }
        tlf_internal function chgLinkState(_arg1:String):void{
            if (this._linkState != _arg1){
                this._linkState = _arg1;
                formatChanged(false);
            };
        }
        tlf_internal function mouseDownHandler(_arg1:FlowElementMouseEventManager, _arg2:MouseEvent):void{
            _arg1.setHandCursor(true);
            this.setToState(LinkState.ACTIVE);
            _arg2.stopImmediatePropagation();
        }
        tlf_internal function mouseMoveHandler(_arg1:FlowElementMouseEventManager, _arg2:MouseEvent):void{
            _arg1.setHandCursor(true);
            this.setToState(((_arg2.buttonDown) ? LinkState.ACTIVE : LinkState.HOVER));
        }
        tlf_internal function mouseOutHandler(_arg1:FlowElementMouseEventManager, _arg2:MouseEvent):void{
            _arg1.setHandCursor(false);
            this.setToState(LinkState.LINK);
        }
        tlf_internal function mouseOverHandler(_arg1:FlowElementMouseEventManager, _arg2:MouseEvent):void{
            _arg1.setHandCursor(true);
            this.setToState(((_arg2.buttonDown) ? LinkState.ACTIVE : LinkState.HOVER));
        }
        tlf_internal function mouseUpHandler(_arg1:FlowElementMouseEventManager, _arg2:MouseEvent):void{
            _arg1.setHandCursor(true);
            this.setToState(LinkState.HOVER);
            _arg2.stopImmediatePropagation();
        }
        tlf_internal function mouseClickHandler(_arg1:FlowElementMouseEventManager, _arg2:MouseEvent):void{
            var _local3:URLRequest;
            if (this._uriString != null){
                if ((((this._uriString.length > 6)) && ((this._uriString.substr(0, 6) == "event:")))){
                    _arg1.dispatchFlowElementMouseEvent(this._uriString.substring(6, this._uriString.length), _arg2);
                } else {
                    _local3 = new URLRequest(encodeURI(this._uriString));
                    navigateToURL(_local3, this.target);
                };
            };
            _arg2.stopImmediatePropagation();
        }
        override tlf_internal function acceptTextBefore():Boolean{
            return (false);
        }
        override tlf_internal function acceptTextAfter():Boolean{
            return (false);
        }
        override tlf_internal function appendElementsForDelayedUpdate(_arg1:TextFlow, _arg2:String):void{
            if (_arg2 == ModelChange.ELEMENT_ADDED){
                _arg1.incInteractiveObjectCount();
            } else {
                if (_arg2 == ModelChange.ELEMENT_REMOVAL){
                    _arg1.decInteractiveObjectCount();
                };
            };
            super.appendElementsForDelayedUpdate(_arg1, _arg2);
        }
        override tlf_internal function updateForMustUseComposer(_arg1:TextFlow):Boolean{
            return (true);
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flashx.textLayout.*;

    public final class BreakElement extends SpecialCharacterElement {

        public function BreakElement(){
            this.text = " ";
        }
        override protected function get abstract():Boolean{
            return (false);
        }
        override tlf_internal function get defaultTypeName():String{
            return ("br");
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flashx.textLayout.compose.*;
    import flashx.textLayout.*;

    public class ContainerFormattedElement extends ParagraphFormattedElement {

        public function get flowComposer():IFlowComposer{
            return (null);
        }
        override tlf_internal function formatChanged(_arg1:Boolean=true):void{
            var _local2:int;
            super.formatChanged(_arg1);
            if (this.flowComposer){
                _local2 = 0;
                while (_local2 < this.flowComposer.numControllers) {
                    this.flowComposer.getControllerAt(_local2).formatChanged();
                    _local2++;
                };
            };
        }
        tlf_internal function preCompose():void{
        }
        override tlf_internal function normalizeRange(_arg1:uint, _arg2:uint):void{
            var _local3:ParagraphElement;
            super.normalizeRange(_arg1, _arg2);
            if (this.numChildren == 0){
                _local3 = new ParagraphElement();
                if (this.canOwnFlowElement(_local3)){
                    _local3.replaceChildren(0, 0, new SpanElement());
                    replaceChildren(0, 0, _local3);
                    _local3.normalizeRange(0, _local3.textLength);
                };
            };
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flash.utils.*;
    import flash.text.engine.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.events.*;
    import flashx.textLayout.utils.*;
    import flashx.textLayout.*;

    public class SpanElement extends FlowLeafElement {

        tlf_internal static const kParagraphTerminator:String = " ";
        private static const _dblSpacePattern:RegExp = /[ ]{2,}/g;
        private static const _newLineTabPattern:RegExp = /[	

]/g;
        private static const _tabPlaceholderPattern:RegExp = //g;
        private static const anyPrintChar:RegExp = /[^	

 ]/g;

        override tlf_internal function createContentElement():void{
            if (_blockElement){
                return;
            };
            computedFormat;
            _blockElement = new TextElement(_text, null);
            super.createContentElement();
        }
        override public function shallowCopy(_arg1:int=0, _arg2:int=-1):FlowElement{
            if (_arg2 == -1){
                _arg2 = textLength;
            };
            var _local3:SpanElement = (super.shallowCopy(_arg1, _arg2) as SpanElement);
            var _local4:int;
            var _local5:int = (_local4 + textLength);
            var _local6:int = (((_local4 >= _arg1)) ? _local4 : _arg1);
            var _local7:int = (((_local5 < _arg2)) ? _local5 : _arg2);
            if ((((_local7 == textLength)) && (this.hasParagraphTerminator))){
                _local7--;
            };
            if (_local6 > _local7){
                throw (RangeError(GlobalSettings.resourceStringFunction("badShallowCopyRange")));
            };
            if (((((!((_local6 == _local5))) && (CharacterUtil.isLowSurrogate(_text.charCodeAt(_local6))))) || (((!((_local7 == 0))) && (CharacterUtil.isHighSurrogate(_text.charCodeAt((_local7 - 1)))))))){
                throw (RangeError(GlobalSettings.resourceStringFunction("badSurrogatePairCopy")));
            };
            if (_local6 != _local7){
                _local3.replaceText(0, _local3.textLength, _text.substring(_local6, _local7));
            };
            return (_local3);
        }
        override protected function get abstract():Boolean{
            return (false);
        }
        override tlf_internal function get defaultTypeName():String{
            return ("span");
        }
        override public function get text():String{
            if (textLength == 0){
                return ("");
            };
            return (((this.hasParagraphTerminator) ? _text.substr(0, (textLength - 1)) : _text));
        }
        public function set text(_arg1:String):void{
            this.replaceText(0, textLength, _arg1);
        }
        override public function getText(_arg1:int=0, _arg2:int=-1, _arg3:String="\n"):String{
            if (_arg2 == -1){
                _arg2 = textLength;
            };
            if (((((textLength) && ((_arg2 == textLength)))) && (this.hasParagraphTerminator))){
                _arg2--;
            };
            return (((_text) ? _text.substring(_arg1, _arg2) : ""));
        }
        public function get mxmlChildren():Array{
            return ([this.text]);
        }
        public function set mxmlChildren(_arg1:Array):void{
            var _local3:Object;
            var _local2:String = new String();
            for each (_local3 in _arg1) {
                if ((_local3 is String)){
                    _local2 = (_local2 + (_local3 as String));
                } else {
                    if ((_local3 is Number)){
                        _local2 = (_local2 + _local3.toString());
                    } else {
                        if ((_local3 is BreakElement)){
                            _local2 = (_local2 + String.fromCharCode(8232));
                        } else {
                            if ((_local3 is TabElement)){
                                _local2 = (_local2 + String.fromCharCode(0xE000));
                            } else {
                                if (_local3 != null){
                                    throw (new TypeError(GlobalSettings.resourceStringFunction("badMXMLChildrenArgument", [getQualifiedClassName(_local3)])));
                                };
                            };
                        };
                    };
                };
            };
            this.replaceText(0, textLength, _local2);
        }
        tlf_internal function get hasParagraphTerminator():Boolean{
            var _local1:ParagraphElement = getParagraph();
            return (((_local1) && ((_local1.getLastLeaf() == this))));
        }
        override tlf_internal function applyWhiteSpaceCollapse(_arg1:String):void{
            var _local2:ITextLayoutFormat = this.formatForCascade;
            var _local3:* = ((_local2) ? _local2.whiteSpaceCollapse : undefined);
            if (((!((_local3 === undefined))) && (!((_local3 == FormatValue.INHERIT))))){
                _arg1 = _local3;
            };
            var _local4:String = this.text;
            var _local5:String = _local4;
            if (((!(_arg1)) || ((_arg1 == WhiteSpaceCollapse.COLLAPSE)))){
                if (((impliedElement) && (!((parent == null))))){
                    if (_local5.search(anyPrintChar) == -1){
                        parent.removeChild(this);
                        return;
                    };
                };
                _local5 = _local5.replace(_newLineTabPattern, " ");
                _local5 = _local5.replace(_dblSpacePattern, " ");
            };
            _local5 = _local5.replace(_tabPlaceholderPattern, "\t");
            if (_local5 != _local4){
                this.replaceText(0, textLength, _local5);
            };
            super.applyWhiteSpaceCollapse(_arg1);
        }
        public function replaceText(_arg1:int, _arg2:int, _arg3:String):void{
            if ((((((_arg1 < 0)) || ((_arg2 > textLength)))) || ((_arg2 < _arg1)))){
                throw (RangeError(GlobalSettings.resourceStringFunction("invalidReplaceTextPositions")));
            };
            if (((((((!((_arg1 == 0))) && (!((_arg1 == textLength))))) && (CharacterUtil.isLowSurrogate(_text.charCodeAt(_arg1))))) || (((((!((_arg2 == 0))) && (!((_arg2 == textLength))))) && (CharacterUtil.isHighSurrogate(_text.charCodeAt((_arg2 - 1)))))))){
                throw (RangeError(GlobalSettings.resourceStringFunction("invalidSurrogatePairSplit")));
            };
            if (this.hasParagraphTerminator){
                if (_arg1 == textLength){
                    _arg1--;
                };
                if (_arg2 == textLength){
                    _arg2--;
                };
            };
            if (_arg2 != _arg1){
                modelChanged(ModelChange.TEXT_DELETED, this, _arg1, (_arg2 - _arg1));
            };
            this.replaceTextInternal(_arg1, _arg2, _arg3);
            if (((_arg3) && (_arg3.length))){
                modelChanged(ModelChange.TEXT_INSERTED, this, _arg1, _arg3.length);
            };
        }
        private function replaceTextInternal(_arg1:int, _arg2:int, _arg3:String):void{
            var _local7:ContainerController;
            var _local4:int = (((_arg3 == null)) ? 0 : _arg3.length);
            var _local5:int = (_arg2 - _arg1);
            var _local6:int = (_local4 - _local5);
            if (_blockElement){
                (_blockElement as TextElement).replaceText(_arg1, _arg2, _arg3);
                _text = _blockElement.rawText;
            } else {
                if (_text){
                    if (_arg3){
                        _text = ((_text.slice(0, _arg1) + _arg3) + _text.slice(_arg2, _text.length));
                    } else {
                        _text = (_text.slice(0, _arg1) + _text.slice(_arg2, _text.length));
                    };
                } else {
                    _text = _arg3;
                };
            };
            if (_local6 != 0){
                updateLengths((getAbsoluteStart() + _arg1), _local6, true);
                deleteContainerText(_arg2, _local5);
                if (_local4 != 0){
                    _local7 = getEnclosingController(_arg1);
                    if (_local7){
                        ContainerController(_local7).setTextLength((_local7.textLength + _local4));
                    };
                };
            };
        }
        tlf_internal function addParaTerminator():void{
            this.replaceTextInternal(textLength, textLength, SpanElement.kParagraphTerminator);
            modelChanged(ModelChange.TEXT_INSERTED, this, (textLength - 1), 1);
        }
        tlf_internal function removeParaTerminator():void{
            this.replaceTextInternal((textLength - 1), textLength, "");
            modelChanged(ModelChange.TEXT_DELETED, this, (((textLength > 0)) ? (textLength - 1) : 0), 1);
        }
        override public function splitAtPosition(_arg1:int):FlowElement{
            var _local3:TextElement;
            var _local4:int;
            var _local5:ParagraphElement;
            var _local6:GroupElement;
            var _local7:int;
            if ((((_arg1 < 0)) || ((_arg1 > textLength)))){
                throw (RangeError(GlobalSettings.resourceStringFunction("invalidSplitAtPosition")));
            };
            if ((((_arg1 < textLength)) && (CharacterUtil.isLowSurrogate(String(this.text).charCodeAt(_arg1))))){
                throw (RangeError(GlobalSettings.resourceStringFunction("invalidSurrogatePairSplit")));
            };
            var _local2:SpanElement = new SpanElement();
            _local2.id = this.id;
            _local2.typeName = this.typeName;
            if (parent){
                _local4 = (textLength - _arg1);
                if (_blockElement){
                    _local6 = parent.createContentAsGroup();
                    _local7 = _local6.getElementIndex(_blockElement);
                    _local6.splitTextElement(_local7, _arg1);
                    _blockElement = _local6.getElementAt(_local7);
                    _text = _blockElement.rawText;
                    _local3 = (_local6.getElementAt((_local7 + 1)) as TextElement);
                } else {
                    if (_arg1 < textLength){
                        _local2.text = _text.substr(_arg1);
                        _text = _text.substring(0, _arg1);
                    };
                };
                modelChanged(ModelChange.TEXT_DELETED, this, _arg1, _local4);
                _local2.quickInitializeForSplit(this, _local4, _local3);
                setTextLength(_arg1);
                parent.addChildAfterInternal(this, _local2);
                _local5 = this.getParagraph();
                _local5.updateTerminatorSpan(this, _local2);
                parent.modelChanged(ModelChange.ELEMENT_ADDED, _local2, _local2.parentRelativeStart, _local2.textLength);
            } else {
                _local2.format = format;
                if (_arg1 < textLength){
                    _local2.text = String(this.text).substr(_arg1);
                    this.replaceText(_arg1, textLength, null);
                };
            };
            return (_local2);
        }
        override tlf_internal function normalizeRange(_arg1:uint, _arg2:uint):void{
            var _local3:ParagraphElement;
            var _local4:FlowLeafElement;
            if ((((this.textLength == 1)) && (!(bindableElement)))){
                _local3 = getParagraph();
                if (((_local3) && ((_local3.getLastLeaf() == this)))){
                    _local4 = getPreviousLeaf(_local3);
                    if (_local4){
                        if (!TextLayoutFormat.isEqual(this.format, _local4.format)){
                            this.format = _local4.format;
                        };
                    };
                };
            };
            super.normalizeRange(_arg1, _arg2);
        }
        override tlf_internal function mergeToPreviousIfPossible():Boolean{
            var _local1:int;
            var _local2:SpanElement;
            var _local3:Boolean;
            var _local4:ParagraphElement;
            var _local5:FlowLeafElement;
            var _local6:int;
            if (((parent) && (!(bindableElement)))){
                _local1 = parent.getChildIndex(this);
                if (_local1 != 0){
                    _local2 = (parent.getChildAt((_local1 - 1)) as SpanElement);
                    if (((((!(_local2)) && ((this.textLength == 1)))) && (this.hasParagraphTerminator))){
                        _local4 = getParagraph();
                        if (_local4){
                            _local5 = (getPreviousLeaf(_local4) as SpanElement);
                            if (_local5){
                                parent.removeChildAt(_local1);
                                return (true);
                            };
                        };
                    };
                    if (_local2 == null){
                        return (false);
                    };
                    if (this.hasActiveEventMirror()){
                        return (false);
                    };
                    _local3 = (((textLength == 1)) && (this.hasParagraphTerminator));
                    if (((_local2.hasActiveEventMirror()) && (!(_local3)))){
                        return (false);
                    };
                    if (((_local3) || (equalStylesForMerge(_local2)))){
                        _local6 = _local2.textLength;
                        _local2.replaceText(_local6, _local6, this.text);
                        parent.removeChildAt(_local1);
                        return (true);
                    };
                };
            };
            return (false);
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {

    public class TextRange {

        private var _textFlow:TextFlow;
        private var _anchorPosition:int;
        private var _activePosition:int;

        public function TextRange(_arg1:TextFlow, _arg2:int, _arg3:int){
            this._textFlow = _arg1;
            if (((!((_arg2 == -1))) || (!((_arg3 == -1))))){
                _arg2 = this.clampToRange(_arg2);
                _arg3 = this.clampToRange(_arg3);
            };
            this._anchorPosition = _arg2;
            this._activePosition = _arg3;
        }
        private function clampToRange(_arg1:int):int{
            if (_arg1 < 0){
                return (0);
            };
            if (_arg1 > this._textFlow.textLength){
                return (this._textFlow.textLength);
            };
            return (_arg1);
        }
        public function updateRange(_arg1:int, _arg2:int):Boolean{
            if (((!((_arg1 == -1))) || (!((_arg2 == -1))))){
                _arg1 = this.clampToRange(_arg1);
                _arg2 = this.clampToRange(_arg2);
            };
            if (((!((this._anchorPosition == _arg1))) || (!((this._activePosition == _arg2))))){
                this._anchorPosition = _arg1;
                this._activePosition = _arg2;
                return (true);
            };
            return (false);
        }
        public function get textFlow():TextFlow{
            return (this._textFlow);
        }
        public function set textFlow(_arg1:TextFlow):void{
            this._textFlow = _arg1;
        }
        public function get anchorPosition():int{
            return (this._anchorPosition);
        }
        public function set anchorPosition(_arg1:int):void{
            this._anchorPosition = _arg1;
        }
        public function get activePosition():int{
            return (this._activePosition);
        }
        public function set activePosition(_arg1:int):void{
            this._activePosition = _arg1;
        }
        public function get absoluteStart():int{
            return ((((this._activePosition < this._anchorPosition)) ? this._activePosition : this._anchorPosition));
        }
        public function set absoluteStart(_arg1:int):void{
            if (this._activePosition < this._anchorPosition){
                this._activePosition = _arg1;
            } else {
                this._anchorPosition = _arg1;
            };
        }
        public function get absoluteEnd():int{
            return ((((this._activePosition > this._anchorPosition)) ? this._activePosition : this._anchorPosition));
        }
        public function set absoluteEnd(_arg1:int):void{
            if (this._activePosition > this._anchorPosition){
                this._activePosition = _arg1;
            } else {
                this._anchorPosition = _arg1;
            };
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flashx.textLayout.formats.*;

    public class FlowValueHolder extends TextLayoutFormat {

        private var _privateData:Object;

        public function FlowValueHolder(_arg1:FlowValueHolder=null){
            super(_arg1);
            this.initialize(_arg1);
        }
        private function initialize(_arg1:FlowValueHolder):void{
            var _local2:String;
            if (_arg1){
                for (_local2 in _arg1.privateData) {
                    this.setPrivateData(_local2, _arg1.privateData[_local2]);
                };
            };
        }
        public function get privateData():Object{
            return (this._privateData);
        }
        public function set privateData(_arg1:Object):void{
            this._privateData = _arg1;
        }
        public function getPrivateData(_arg1:String){
            return (((this._privateData) ? this._privateData[_arg1] : undefined));
        }
        public function setPrivateData(_arg1:String, _arg2):void{
            if (_arg2 === undefined){
                if (this._privateData){
                    delete this._privateData[_arg1];
                };
            } else {
                if (this._privateData == null){
                    this._privateData = {};
                };
                this._privateData[_arg1] = _arg2;
            };
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flash.display.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.compose.*;
    import flash.system.*;
    import flashx.textLayout.*;

    public class Configuration implements IConfiguration {

        tlf_internal static const playerEnablesArgoFeatures:Boolean = versionIsAtLeast(10, 1);
        tlf_internal static const playerEnablesSpicyFeatures:Boolean = ((versionIsAtLeast(10, 2)) && (new Sprite().hasOwnProperty("needsSoftKeyboard")));
        tlf_internal static const hasTouchScreen:Boolean = ((playerEnablesArgoFeatures) && (!((Capabilities["touchScreenType"] == "none"))));

        private var _manageTabKey:Boolean;
        private var _manageEnterKey:Boolean;
        private var _overflowPolicy:String;
        private var _enableAccessibility:Boolean;
        private var _releaseLineCreationData:Boolean;
        private var _defaultLinkNormalFormat:ITextLayoutFormat;
        private var _defaultLinkActiveFormat:ITextLayoutFormat;
        private var _defaultLinkHoverFormat:ITextLayoutFormat;
        private var _defaultListMarkerFormat:IListMarkerFormat;
        private var _textFlowInitialFormat:ITextLayoutFormat;
        private var _focusedSelectionFormat:SelectionFormat;
        private var _unfocusedSelectionFormat:SelectionFormat;
        private var _inactiveSelectionFormat:SelectionFormat;
        private var _scrollDragDelay:Number;
        private var _scrollDragPixels:Number;
        private var _scrollPagePercentage:Number;
        private var _scrollMouseWheelMultiplier:Number;
        private var _flowComposerClass:Class;
        private var _inlineGraphicResolverFunction:Function;
        private var _immutableClone:IConfiguration;

        public function Configuration(_arg1:Boolean=true){
            if (_arg1){
                this.initialize();
            };
        }
        tlf_internal static function versionIsAtLeast(_arg1:int, _arg2:int):Boolean{
            var _local3:Array = Capabilities.version.split(" ")[1].split(",");
            return ((((int(_local3[0]) > _arg1)) || ((((int(_local3[0]) == _arg1)) && ((int(_local3[1]) >= _arg2))))));
        }
        tlf_internal static function get debugCodeEnabled():Boolean{
            return (false);
        }

        private function initialize():void{
            var _local1:TextLayoutFormat;
            this._manageTabKey = false;
            this._manageEnterKey = true;
            this._overflowPolicy = OverflowPolicy.FIT_DESCENDERS;
            this._enableAccessibility = false;
            this._releaseLineCreationData = false;
            this._focusedSelectionFormat = new SelectionFormat(0xFFFFFF, 1, BlendMode.DIFFERENCE);
            this._unfocusedSelectionFormat = new SelectionFormat(0xFFFFFF, 0, BlendMode.DIFFERENCE, 0xFFFFFF, 0, BlendMode.DIFFERENCE, 0);
            this._inactiveSelectionFormat = this._unfocusedSelectionFormat;
            _local1 = new TextLayoutFormat();
            _local1.textDecoration = TextDecoration.UNDERLINE;
            _local1.color = 0xFF;
            this._defaultLinkNormalFormat = _local1;
            var _local2:ListMarkerFormat = new ListMarkerFormat();
            _local2.paragraphEndIndent = 4;
            this._defaultListMarkerFormat = _local2;
            _local1 = new TextLayoutFormat();
            _local1.lineBreak = FormatValue.INHERIT;
            _local1.paddingLeft = FormatValue.INHERIT;
            _local1.paddingRight = FormatValue.INHERIT;
            _local1.paddingTop = FormatValue.INHERIT;
            _local1.paddingBottom = FormatValue.INHERIT;
            _local1.verticalAlign = FormatValue.INHERIT;
            _local1.columnCount = FormatValue.INHERIT;
            _local1.columnCount = FormatValue.INHERIT;
            _local1.columnGap = FormatValue.INHERIT;
            _local1.columnWidth = FormatValue.INHERIT;
            this._textFlowInitialFormat = _local1;
            this._scrollDragDelay = 35;
            this._scrollDragPixels = 20;
            this._scrollPagePercentage = (7 / 8);
            this._scrollMouseWheelMultiplier = 20;
            this._flowComposerClass = StandardFlowComposer;
        }
        tlf_internal function getImmutableClone():IConfiguration{
            var _local1:Configuration;
            if (!this._immutableClone){
                _local1 = this.clone();
                this._immutableClone = _local1;
                _local1._immutableClone = _local1;
            };
            return (this._immutableClone);
        }
        public function clone():Configuration{
            var _local1:Configuration = new Configuration(false);
            _local1.defaultLinkActiveFormat = this.defaultLinkActiveFormat;
            _local1.defaultLinkHoverFormat = this.defaultLinkHoverFormat;
            _local1.defaultLinkNormalFormat = this.defaultLinkNormalFormat;
            _local1.defaultListMarkerFormat = this.defaultListMarkerFormat;
            _local1.textFlowInitialFormat = this._textFlowInitialFormat;
            _local1.focusedSelectionFormat = this._focusedSelectionFormat;
            _local1.unfocusedSelectionFormat = this._unfocusedSelectionFormat;
            _local1.inactiveSelectionFormat = this._inactiveSelectionFormat;
            _local1.manageTabKey = this._manageTabKey;
            _local1.manageEnterKey = this._manageEnterKey;
            _local1.overflowPolicy = this._overflowPolicy;
            _local1.enableAccessibility = this._enableAccessibility;
            _local1.releaseLineCreationData = this._releaseLineCreationData;
            _local1.scrollDragDelay = this._scrollDragDelay;
            _local1.scrollDragPixels = this._scrollDragPixels;
            _local1.scrollPagePercentage = this._scrollPagePercentage;
            _local1.scrollMouseWheelMultiplier = this._scrollMouseWheelMultiplier;
            _local1.flowComposerClass = this._flowComposerClass;
            _local1._inlineGraphicResolverFunction = this._inlineGraphicResolverFunction;
            return (_local1);
        }
        public function get manageTabKey():Boolean{
            return (this._manageTabKey);
        }
        public function set manageTabKey(_arg1:Boolean):void{
            this._manageTabKey = _arg1;
            this._immutableClone = null;
        }
        public function get manageEnterKey():Boolean{
            return (this._manageEnterKey);
        }
        public function set manageEnterKey(_arg1:Boolean):void{
            this._manageEnterKey = _arg1;
            this._immutableClone = null;
        }
        public function get overflowPolicy():String{
            return (this._overflowPolicy);
        }
        public function set overflowPolicy(_arg1:String):void{
            this._overflowPolicy = _arg1;
        }
        public function get defaultLinkNormalFormat():ITextLayoutFormat{
            return (this._defaultLinkNormalFormat);
        }
        public function set defaultLinkNormalFormat(_arg1:ITextLayoutFormat):void{
            this._defaultLinkNormalFormat = _arg1;
            this._immutableClone = null;
        }
        public function get defaultListMarkerFormat():IListMarkerFormat{
            return (this._defaultListMarkerFormat);
        }
        public function set defaultListMarkerFormat(_arg1:IListMarkerFormat):void{
            this._defaultListMarkerFormat = _arg1;
            this._immutableClone = null;
        }
        public function get defaultLinkHoverFormat():ITextLayoutFormat{
            return (this._defaultLinkHoverFormat);
        }
        public function set defaultLinkHoverFormat(_arg1:ITextLayoutFormat):void{
            this._defaultLinkHoverFormat = _arg1;
            this._immutableClone = null;
        }
        public function get defaultLinkActiveFormat():ITextLayoutFormat{
            return (this._defaultLinkActiveFormat);
        }
        public function set defaultLinkActiveFormat(_arg1:ITextLayoutFormat):void{
            this._defaultLinkActiveFormat = _arg1;
            this._immutableClone = null;
        }
        public function get textFlowInitialFormat():ITextLayoutFormat{
            return (this._textFlowInitialFormat);
        }
        public function set textFlowInitialFormat(_arg1:ITextLayoutFormat):void{
            this._textFlowInitialFormat = _arg1;
            this._immutableClone = null;
        }
        public function get focusedSelectionFormat():SelectionFormat{
            return (this._focusedSelectionFormat);
        }
        public function set focusedSelectionFormat(_arg1:SelectionFormat):void{
            if (_arg1 != null){
                this._focusedSelectionFormat = _arg1;
                this._immutableClone = null;
            };
        }
        public function get unfocusedSelectionFormat():SelectionFormat{
            return (this._unfocusedSelectionFormat);
        }
        public function set unfocusedSelectionFormat(_arg1:SelectionFormat):void{
            if (_arg1 != null){
                this._unfocusedSelectionFormat = _arg1;
                this._immutableClone = null;
            };
        }
        public function get inactiveSelectionFormat():SelectionFormat{
            return (this._inactiveSelectionFormat);
        }
        public function set inactiveSelectionFormat(_arg1:SelectionFormat):void{
            if (_arg1 != null){
                this._inactiveSelectionFormat = _arg1;
                this._immutableClone = null;
            };
        }
        public function get scrollDragDelay():Number{
            return (this._scrollDragDelay);
        }
        public function set scrollDragDelay(_arg1:Number):void{
            if (_arg1 > 0){
                this._scrollDragDelay = _arg1;
                this._immutableClone = null;
            };
        }
        public function get scrollDragPixels():Number{
            return (this._scrollDragPixels);
        }
        public function set scrollDragPixels(_arg1:Number):void{
            if (_arg1 > 0){
                this._scrollDragPixels = _arg1;
                this._immutableClone = null;
            };
        }
        public function get scrollPagePercentage():Number{
            return (this._scrollPagePercentage);
        }
        public function set scrollPagePercentage(_arg1:Number):void{
            if (_arg1 > 0){
                this._scrollPagePercentage = _arg1;
                this._immutableClone = null;
            };
        }
        public function get scrollMouseWheelMultiplier():Number{
            return (this._scrollMouseWheelMultiplier);
        }
        public function set scrollMouseWheelMultiplier(_arg1:Number):void{
            if (_arg1 > 0){
                this._scrollMouseWheelMultiplier = _arg1;
                this._immutableClone = null;
            };
        }
        public function get flowComposerClass():Class{
            return (this._flowComposerClass);
        }
        public function set flowComposerClass(_arg1:Class):void{
            this._flowComposerClass = _arg1;
            this._immutableClone = null;
        }
        public function get enableAccessibility():Boolean{
            return (this._enableAccessibility);
        }
        public function set enableAccessibility(_arg1:Boolean):void{
            this._enableAccessibility = _arg1;
            this._immutableClone = null;
        }
        public function get releaseLineCreationData():Boolean{
            return (this._releaseLineCreationData);
        }
        public function set releaseLineCreationData(_arg1:Boolean):void{
            this._releaseLineCreationData = _arg1;
            this._immutableClone = null;
        }
        public function get inlineGraphicResolverFunction():Function{
            return (this._inlineGraphicResolverFunction);
        }
        public function set inlineGraphicResolverFunction(_arg1:Function):void{
            this._inlineGraphicResolverFunction = _arg1;
            this._immutableClone = null;
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import __AS3__.vec.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.events.*;
    import flashx.textLayout.*;

    public class ListElement extends ContainerFormattedElement {

        tlf_internal static const LIST_MARKER_FORMAT_NAME:String = "listMarkerFormat";
        tlf_internal static const constantListStyles:Object = {
            none:"",
            disc:"•",
            circle:"◦",
            square:"■",
            box:"□",
            check:"✓",
            diamond:"◆",
            hyphen:"⁃"
        };
        private static const romanDigitFunction:Vector.<Function> = Vector.<Function>([function (_arg1:String, _arg2:String, _arg3:String):String{
            return ("");
        }, function (_arg1:String, _arg2:String, _arg3:String):String{
            return (_arg1);
        }, function (_arg1:String, _arg2:String, _arg3:String):String{
            return ((_arg1 + _arg1));
        }, function (_arg1:String, _arg2:String, _arg3:String):String{
            return (((_arg1 + _arg1) + _arg1));
        }, function (_arg1:String, _arg2:String, _arg3:String):String{
            return ((_arg1 + _arg2));
        }, function (_arg1:String, _arg2:String, _arg3:String):String{
            return (_arg2);
        }, function (_arg1:String, _arg2:String, _arg3:String):String{
            return ((_arg2 + _arg1));
        }, function (_arg1:String, _arg2:String, _arg3:String):String{
            return (((_arg2 + _arg1) + _arg1));
        }, function (_arg1:String, _arg2:String, _arg3:String):String{
            return ((((_arg2 + _arg1) + _arg1) + _arg1));
        }, function (_arg1:String, _arg2:String, _arg3:String):String{
            return ((_arg1 + _arg3));
        }]);
        private static const upperRomanData:Vector.<String> = Vector.<String>(["I", "V", "X", "L", "C", "D", "M"]);
        private static const lowerRomanData:Vector.<String> = Vector.<String>(["i", "v", "x", "l", "c", "d", "m"]);
        tlf_internal static const cjkEarthlyBranchData:Vector.<int> = Vector.<int>([23376, 19985, 23493, 21359, 36784, 24051, 21320, 26410, 30003, 37193, 25100, 20133]);
        tlf_internal static const cjkHeavenlyStemData:Vector.<int> = Vector.<int>([30002, 20057, 19993, 19969, 25098, 24049, 24218, 36763, 22764, 30328]);
        tlf_internal static const hangulData:Vector.<int> = Vector.<int>([0xAC00, 45208, 45796, 46972, 47560, 48148, 49324, 50500, 51088, 52264, 52852, 53440, 54028, 54616]);
        tlf_internal static const hangulConstantData:Vector.<int> = Vector.<int>([0x3131, 12596, 12599, 12601, 12609, 12610, 12613, 12615, 12616, 12618, 12619, 12620, 12621, 12622]);
        tlf_internal static const hiraganaData:Vector.<int> = Vector.<int>([12354, 12356, 12358, 12360, 12362, 12363, 12365, 12367, 12369, 12371, 12373, 12375, 12377, 12379, 12381, 12383, 12385, 12388, 12390, 12392, 12394, 12395, 12396, 12397, 12398, 12399, 12402, 12405, 12408, 12411, 12414, 12415, 12416, 12417, 12418, 12420, 12422, 12424, 12425, 12426, 12427, 12428, 12429, 12431, 12432, 12433, 12434, 12435]);
        tlf_internal static const hiraganaIrohaData:Vector.<int> = Vector.<int>([12356, 12429, 12399, 12395, 12411, 12408, 12392, 12385, 12426, 12396, 12427, 12434, 12431, 12363, 12424, 12383, 12428, 12381, 12388, 12397, 12394, 12425, 12416, 12358, 12432, 12398, 12362, 12367, 12420, 12414, 12369, 12405, 12371, 12360, 12390, 12354, 12373, 12365, 12422, 12417, 12415, 12375, 12433, 12402, 12418, 12379, 12377]);
        tlf_internal static const katakanaData:Vector.<int> = Vector.<int>([12450, 12452, 12454, 12456, 12458, 12459, 12461, 12463, 12465, 12467, 12469, 12471, 12473, 12475, 12477, 12479, 12481, 12484, 12486, 12488, 12490, 12491, 12492, 12493, 12494, 12495, 12498, 12501, 12504, 12507, 12510, 12511, 12512, 12513, 12514, 12516, 12518, 12520, 12521, 12522, 12523, 12524, 12525, 12527, 12528, 12529, 12530, 12531]);
        tlf_internal static const katakanaIrohaData:Vector.<int> = Vector.<int>([12452, 12525, 12495, 12491, 12507, 12504, 12488, 12481, 12522, 12492, 12523, 12530, 12527, 12459, 12520, 12479, 12524, 12477, 12484, 12493, 12490, 12521, 12512, 12454, 12528, 12494, 12458, 12463, 12516, 12510, 12465, 12501, 12467, 12456, 12486, 12450, 12469, 12461, 12518, 12513, 12511, 12471, 12529, 12498, 12514, 12475, 12473]);
        tlf_internal static const lowerGreekData:Vector.<int> = Vector.<int>([945, 946, 947, 948, 949, 950, 951, 952, 953, 954, 955, 956, 957, 958, 959, 960, 961, 963, 964, 965, 966, 967, 968, 969]);
        tlf_internal static const upperGreekData:Vector.<int> = Vector.<int>([913, 914, 915, 916, 917, 918, 919, 920, 921, 922, 923, 924, 925, 926, 927, 928, 929, 931, 932, 933, 934, 935, 936, 937]);
        tlf_internal static const algorithmicListStyles:Object = {
            upperRoman:upperRomanString,
            lowerRoman:lowerRomanString
        };
        tlf_internal static const numericListStyles:Object = {
            arabicIndic:arabicIndicString,
            bengali:bengaliString,
            decimal:decimalString,
            decimalLeadingZero:decimalLeadingZeroString,
            devanagari:devanagariString,
            gujarati:gujaratiString,
            gurmukhi:gurmukhiString,
            kannada:kannadaString,
            persian:persianString,
            thai:thaiString,
            urdu:urduString
        };
        tlf_internal static const alphabeticListStyles:Object = {
            upperAlpha:upperAlphaString,
            lowerAlpha:lowerAlphaString,
            cjkEarthlyBranch:cjkEarthlyBranchString,
            cjkHeavenlyStem:cjkHeavenlyStemString,
            hangul:hangulString,
            hangulConstant:hangulConstantString,
            hiragana:hiraganaString,
            hiraganaIroha:hiraganaIrohaString,
            katakana:katakanaString,
            katakanaIroha:katakanaIrohaString,
            lowerGreek:lowerGreekString,
            lowerLatin:lowerLatinString,
            upperGreek:upperGreekString,
            upperLatin:upperLatinString
        };
        tlf_internal static const listSuffixes:Object = {
            upperAlpha:".",
            lowerAlpha:".",
            upperRoman:".",
            lowerRoman:".",
            arabicIndic:".",
            bengali:".",
            decimal:".",
            decimalLeadingZero:".",
            devanagari:".",
            gujarati:".",
            gurmukhi:".",
            kannada:".",
            persian:".",
            thai:".",
            urdu:".",
            cjkEarthlyBranch:".",
            cjkHeavenlyStem:".",
            hangul:".",
            hangulConstant:".",
            hiragana:".",
            hiraganaIroha:".",
            katakana:".",
            katakanaIroha:".",
            lowerGreek:".",
            lowerLatin:".",
            upperGreek:".",
            upperLatin:"."
        };

        tlf_internal static function createRomanString(_arg1:int, _arg2:Vector.<String>):String{
            var _local3 = "";
            while (_arg1 >= 1000) {
                _local3 = (_local3 + _arg2[6]);
                _arg1 = (_arg1 - 1000);
            };
            var _temp1 = (_local3 + romanDigitFunction[int((_arg1 / 100))](_arg2[4], _arg2[5], _arg2[6]));
            var _temp2 = (_temp1 + romanDigitFunction[int(((_arg1 / 10) % 10))](_arg2[2], _arg2[3], _arg2[4]));
            return ((_temp2 + romanDigitFunction[int((_arg1 % 10))](_arg2[0], _arg2[1], _arg2[2])));
        }
        tlf_internal static function upperRomanString(_arg1:int):String{
            if (_arg1 <= 0){
                return (decimalString(_arg1));
            };
            if (_arg1 <= 1000){
                return (createRomanString(_arg1, upperRomanData));
            };
            if (_arg1 >= 40000){
                return (decimalString(_arg1));
            };
            var _local2:String = createRomanString((_arg1 % 1000), upperRomanData);
            var _local3 = "";
            _arg1 = (_arg1 - (_arg1 % 1000));
            while (_arg1 >= 10000) {
                _local3 = (_local3 + String.fromCharCode(8578));
                _arg1 = (_arg1 - 10000);
            };
            if (_arg1 == 9000){
                _local3 = (_local3 + ("M" + String.fromCharCode(8578)));
            } else {
                if (_arg1 == 4000){
                    _local3 = (_local3 + ("M" + String.fromCharCode(8577)));
                } else {
                    if (_arg1 >= 5000){
                        _local3 = (_local3 + String.fromCharCode(8577));
                        _arg1 = (_arg1 - 5000);
                    };
                    while (_arg1 > 0) {
                        _local3 = (_local3 + "M");
                        _arg1 = (_arg1 - 1000);
                    };
                };
            };
            return ((_local3 + _local2));
        }
        tlf_internal static function lowerRomanString(_arg1:int):String{
            return ((((((_arg1 > 0)) && ((_arg1 < 4000)))) ? createRomanString(_arg1, lowerRomanData) : decimalString(_arg1)));
        }
        tlf_internal static function decimalString(_arg1:int):String{
            return (_arg1.toString());
        }
        tlf_internal static function decimalLeadingZeroString(_arg1:int):String{
            return ((((((_arg1 <= 9)) && ((_arg1 >= -9)))) ? ("0" + _arg1.toString()) : _arg1.toString()));
        }
        tlf_internal static function createNumericBaseTenString(_arg1:int, _arg2:int):String{
            if (_arg1 == 0){
                return (String.fromCharCode(_arg2));
            };
            var _local3 = "";
            while (_arg1 > 0) {
                _local3 = (String.fromCharCode(((_arg1 % 10) + _arg2)) + _local3);
                _arg1 = (_arg1 / 10);
            };
            return (_local3);
        }
        tlf_internal static function arabicIndicString(_arg1:int):String{
            return (createNumericBaseTenString(_arg1, 1632));
        }
        tlf_internal static function bengaliString(_arg1:int):String{
            return (createNumericBaseTenString(_arg1, 2534));
        }
        tlf_internal static function devanagariString(_arg1:int):String{
            return (createNumericBaseTenString(_arg1, 2406));
        }
        tlf_internal static function gujaratiString(_arg1:int):String{
            return (createNumericBaseTenString(_arg1, 2790));
        }
        tlf_internal static function gurmukhiString(_arg1:int):String{
            return (createNumericBaseTenString(_arg1, 2662));
        }
        tlf_internal static function kannadaString(_arg1:int):String{
            return (createNumericBaseTenString(_arg1, 3302));
        }
        tlf_internal static function persianString(_arg1:int):String{
            return (createNumericBaseTenString(_arg1, 1776));
        }
        tlf_internal static function thaiString(_arg1:int):String{
            return (createNumericBaseTenString(_arg1, 3664));
        }
        tlf_internal static function urduString(_arg1:int):String{
            return (createNumericBaseTenString(_arg1, 1776));
        }
        tlf_internal static function createContinuousAlphaString(_arg1:int, _arg2:int, _arg3:int):String{
            var _local4 = "";
            while (_arg1 > 0) {
                _local4 = (String.fromCharCode((((_arg1 - 1) % _arg3) + _arg2)) + _local4);
                _arg1 = ((_arg1 - 1) / _arg3);
            };
            return (_local4);
        }
        tlf_internal static function lowerAlphaString(_arg1:int):String{
            return (createContinuousAlphaString(_arg1, 97, 26));
        }
        tlf_internal static function upperAlphaString(_arg1:int):String{
            return (createContinuousAlphaString(_arg1, 65, 26));
        }
        tlf_internal static function lowerLatinString(_arg1:int):String{
            return (createContinuousAlphaString(_arg1, 97, 26));
        }
        tlf_internal static function upperLatinString(_arg1:int):String{
            return (createContinuousAlphaString(_arg1, 65, 26));
        }
        tlf_internal static function createTableAlphaString(_arg1:int, _arg2:Vector.<int>):String{
            var _local3 = "";
            var _local4:int = _arg2.length;
            while (_arg1 > 0) {
                _local3 = (String.fromCharCode(_arg2[((_arg1 - 1) % _local4)]) + _local3);
                _arg1 = ((_arg1 - 1) / _local4);
            };
            return (_local3);
        }
        tlf_internal static function cjkEarthlyBranchString(_arg1:int):String{
            return (createTableAlphaString(_arg1, cjkEarthlyBranchData));
        }
        tlf_internal static function cjkHeavenlyStemString(_arg1:int):String{
            return (createTableAlphaString(_arg1, cjkHeavenlyStemData));
        }
        tlf_internal static function hangulString(_arg1:int):String{
            return (createTableAlphaString(_arg1, hangulData));
        }
        tlf_internal static function hangulConstantString(_arg1:int):String{
            return (createTableAlphaString(_arg1, hangulConstantData));
        }
        tlf_internal static function hiraganaString(_arg1:int):String{
            return (createTableAlphaString(_arg1, hiraganaData));
        }
        tlf_internal static function hiraganaIrohaString(_arg1:int):String{
            return (createTableAlphaString(_arg1, hiraganaIrohaData));
        }
        tlf_internal static function katakanaString(_arg1:int):String{
            return (createTableAlphaString(_arg1, katakanaData));
        }
        tlf_internal static function katakanaIrohaString(_arg1:int):String{
            return (createTableAlphaString(_arg1, katakanaIrohaData));
        }
        tlf_internal static function lowerGreekString(_arg1:int):String{
            return (createTableAlphaString(_arg1, lowerGreekData));
        }
        tlf_internal static function upperGreekString(_arg1:int):String{
            return (createTableAlphaString(_arg1, upperGreekData));
        }

        override protected function get abstract():Boolean{
            return (false);
        }
        override tlf_internal function get defaultTypeName():String{
            return ("list");
        }
        override tlf_internal function canOwnFlowElement(_arg1:FlowElement):Boolean{
            return (((((!((_arg1 is TextFlow))) && (!((_arg1 is FlowLeafElement))))) && (!((_arg1 is SubParagraphGroupElementBase)))));
        }
        override tlf_internal function modelChanged(_arg1:String, _arg2:FlowElement, _arg3:int, _arg4:int, _arg5:Boolean=true, _arg6:Boolean=true):void{
            if ((((((((_arg1 == ModelChange.ELEMENT_ADDED)) || ((_arg1 == ModelChange.ELEMENT_REMOVAL)))) && ((_arg2 is ListItemElement)))) && (this.isNumberedList()))){
                _arg3 = _arg2.parentRelativeStart;
                _arg4 = (textLength - _arg2.parentRelativeStart);
            };
            super.modelChanged(_arg1, _arg2, _arg3, _arg4, _arg5, _arg6);
        }
        override tlf_internal function getEffectivePaddingLeft():Number{
            if (computedFormat.paddingLeft != FormatValue.AUTO){
                return (computedFormat.paddingLeft);
            };
            var _local1:TextFlow = getTextFlow();
            if (((((!(_local1)) || (!((_local1.computedFormat.blockProgression == BlockProgression.TB))))) || (!((computedFormat.direction == Direction.LTR))))){
                return (0);
            };
            return (computedFormat.listAutoPadding);
        }
        override tlf_internal function getEffectivePaddingRight():Number{
            if (computedFormat.paddingRight != FormatValue.AUTO){
                return (computedFormat.paddingRight);
            };
            var _local1:TextFlow = getTextFlow();
            if (((((!(_local1)) || (!((_local1.computedFormat.blockProgression == BlockProgression.TB))))) || (!((computedFormat.direction == Direction.RTL))))){
                return (0);
            };
            return (computedFormat.listAutoPadding);
        }
        override tlf_internal function getEffectivePaddingTop():Number{
            if (computedFormat.paddingTop != FormatValue.AUTO){
                return (computedFormat.paddingTop);
            };
            var _local1:TextFlow = getTextFlow();
            if (((((!(_local1)) || (!((_local1.computedFormat.blockProgression == BlockProgression.RL))))) || (!((computedFormat.direction == Direction.LTR))))){
                return (0);
            };
            return (computedFormat.listAutoPadding);
        }
        override tlf_internal function getEffectivePaddingBottom():Number{
            if (computedFormat.paddingBottom != FormatValue.AUTO){
                return (computedFormat.paddingBottom);
            };
            var _local1:TextFlow = getTextFlow();
            if (((((!(_local1)) || (!((_local1.computedFormat.blockProgression == BlockProgression.RL))))) || (!((computedFormat.direction == Direction.RTL))))){
                return (0);
            };
            return (computedFormat.listAutoPadding);
        }
        tlf_internal function computeListItemText(_arg1:ListItemElement, _arg2:IListMarkerFormat):String{
            var _local3:String;
            var _local4:String;
            var _local7:String;
            var _local8:ListElement;
            var _local9:IListMarkerFormat;
            if (((_arg2.content) && (_arg2.content.hasOwnProperty("counters")))){
                _local4 = "";
                _local3 = _arg2.content.ordered;
                _local7 = _arg2.content.suffix;
                _local8 = this;
                _local9 = _arg2;
                while (true) {
                    _local4 = (_local8.computeListItemTextSpecified(_arg1, _local9, (((_local3 == null)) ? _local8.computedFormat.listStyleType : _local3), _local7) + _local4);
                    _arg1 = (_local8.getParentByType(ListItemElement) as ListItemElement);
                    if (!_arg1){
                        break;
                    };
                    _local8 = (_arg1.parent as ListElement);
                    _local9 = _arg1.computedListMarkerFormat();
                };
            } else {
                if (_arg2.content !== undefined){
                    if (_arg2.content == FormatValue.NONE){
                        _local3 = ListStyleType.NONE;
                    } else {
                        _local3 = _arg2.content.ordered;
                    };
                };
                if (_local3 == null){
                    _local3 = computedFormat.listStyleType;
                };
                _local4 = this.computeListItemTextSpecified(_arg1, _arg2, _local3, null);
            };
            var _local5:String = ((_arg2.beforeContent) ? _arg2.beforeContent : "");
            var _local6:String = ((_arg2.afterContent) ? _arg2.afterContent : "");
            return (((_local5 + _local4) + _local6));
        }
        tlf_internal function computeListItemTextSpecified(_arg1:ListItemElement, _arg2:IListMarkerFormat, _arg3:String, _arg4:String):String{
            var _local5:String;
            var _local7:int;
            var _local8:Function;
            var _local6:* = constantListStyles[_arg3];
            if (_local6 !== undefined){
                _local5 = (_local6 as String);
            } else {
                _local7 = _arg1.getListItemNumber(_arg2);
                _local8 = numericListStyles[_arg3];
                if (_local8 != null){
                    _local5 = (((_local7 < 0)) ? ("-" + _local8(-(_local7))) : _local8(_local7));
                } else {
                    if (_local7 <= 0){
                        _local5 = (((_local7 == 0)) ? "0" : ("-" + decimalString(-(_local7))));
                    } else {
                        _local8 = alphabeticListStyles[_arg3];
                        if (_local8 != null){
                            _local5 = _local8(_local7);
                        } else {
                            _local5 = algorithmicListStyles[_arg3](_local7);
                        };
                    };
                };
                if (_arg4 != null){
                    _local5 = (_local5 + _arg4);
                } else {
                    if (_arg2.suffix != Suffix.NONE){
                        _local5 = (_local5 + listSuffixes[_arg3]);
                    };
                };
            };
            return (_local5);
        }
        tlf_internal function isNumberedList():Boolean{
            return ((constantListStyles[computedFormat.listStyleType] === undefined));
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flash.utils.*;
    import flash.text.engine.*;
    import flash.events.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.compose.*;
    import flashx.textLayout.events.*;
    import flashx.textLayout.*;

    public class TextFlow extends ContainerFormattedElement implements IEventDispatcher {

        public static var defaultConfiguration:Configuration = new Configuration();
        private static var _nextGeneration:uint = 1;

        private var _flowComposer:IFlowComposer;
        private var _interactionManager:ISelectionManager;
        private var _configuration:IConfiguration;
        private var _backgroundManager:BackgroundManager;
        private var normalizeStart:int = 0;
        private var normalizeLen:int = 0;
        private var _eventDispatcher:EventDispatcher;
        private var _generation:uint;
        private var _formatResolver:IFormatResolver;
        private var _interactiveObjectCount:int;
        private var _graphicObjectCount:int;
        private var _elemsToUpdate:Dictionary;
        private var _hostFormatHelper:HostFormatHelper;

        public function TextFlow(_arg1:IConfiguration=null){
            this.initializeForConstructor(_arg1);
        }
        private function initializeForConstructor(_arg1:IConfiguration):void{
            if (_arg1 == null){
                _arg1 = defaultConfiguration;
            };
            this._configuration = Configuration(_arg1).getImmutableClone();
            format = this._configuration.textFlowInitialFormat;
            if (this._configuration.flowComposerClass){
                this.flowComposer = new this._configuration.flowComposerClass();
            };
            this._generation = _nextGeneration++;
            this._interactiveObjectCount = 0;
            this._graphicObjectCount = 0;
        }
        override public function shallowCopy(_arg1:int=0, _arg2:int=-1):FlowElement{
            var _local3:TextFlow = (super.shallowCopy(_arg1, _arg2) as TextFlow);
            _local3._configuration = this._configuration;
            _local3._generation = _nextGeneration++;
            if (this.formatResolver){
                _local3.formatResolver = this.formatResolver.getResolverForNewFlow(this, _local3);
            };
            if (((_local3.flowComposer) && (this.flowComposer))){
                _local3.flowComposer.swfContext = this.flowComposer.swfContext;
            };
            return (_local3);
        }
        tlf_internal function get interactiveObjectCount():int{
            return (this._interactiveObjectCount);
        }
        tlf_internal function incInteractiveObjectCount():void{
            this._interactiveObjectCount++;
        }
        tlf_internal function decInteractiveObjectCount():void{
            this._interactiveObjectCount--;
        }
        tlf_internal function get graphicObjectCount():int{
            return (this._graphicObjectCount);
        }
        tlf_internal function incGraphicObjectCount():void{
            this._graphicObjectCount++;
        }
        tlf_internal function decGraphicObjectCount():void{
            this._graphicObjectCount--;
        }
        public function get configuration():IConfiguration{
            return (this._configuration);
        }
        public function get interactionManager():ISelectionManager{
            return (this._interactionManager);
        }
        public function set interactionManager(_arg1:ISelectionManager):void{
            if (this._interactionManager != _arg1){
                if (this._interactionManager){
                    this._interactionManager.textFlow = null;
                };
                this._interactionManager = _arg1;
                if (this._interactionManager){
                    this._interactionManager.textFlow = this;
                    this.normalize();
                };
                if (this.flowComposer){
                    this.flowComposer.interactionManagerChanged(_arg1);
                };
            };
        }
        override public function get flowComposer():IFlowComposer{
            return (this._flowComposer);
        }
        public function set flowComposer(_arg1:IFlowComposer):void{
            this.changeFlowComposer(_arg1, true);
        }
        tlf_internal function changeFlowComposer(_arg1:IFlowComposer, _arg2:Boolean):void{
            var _local4:ISWFContext;
            var _local5:ISWFContext;
            var _local6:int;
            var _local3:IFlowComposer = this._flowComposer;
            if (this._flowComposer != _arg1){
                _local4 = FlowComposerBase.computeBaseSWFContext(((this._flowComposer) ? this._flowComposer.swfContext : null));
                _local5 = FlowComposerBase.computeBaseSWFContext(((_arg1) ? _arg1.swfContext : null));
                if (this._flowComposer){
                    _local6 = 0;
                    while (_local6 < this._flowComposer.numControllers) {
                        var _temp1 = _local6;
                        _local6 = (_local6 + 1);
                        this._flowComposer.getControllerAt(_temp1).clearSelectionShapes();
                    };
                    this._flowComposer.setRootElement(null);
                };
                this._flowComposer = _arg1;
                if (this._flowComposer){
                    this._flowComposer.setRootElement(this);
                };
                if (textLength){
                    this.damage(getAbsoluteStart(), textLength, TextLineValidity.INVALID, false);
                };
                if (_local4 != _local5){
                    this.invalidateAllFormats();
                };
                if (this._flowComposer == null){
                    if (_arg2){
                        this.unloadGraphics();
                    };
                } else {
                    if (_local3 == null){
                        this.prepareGraphicsForLoad();
                    };
                };
            };
        }
        tlf_internal function unloadGraphics():void{
            if (this._graphicObjectCount){
                applyFunctionToElements(function (_arg1:FlowElement):Boolean{
                    if ((_arg1 is InlineGraphicElement)){
                        (_arg1 as InlineGraphicElement).stop(true);
                    };
                    return (false);
                });
            };
        }
        tlf_internal function prepareGraphicsForLoad():void{
            if (this._graphicObjectCount){
                appendElementsForDelayedUpdate(this, null);
            };
        }
        public function getElementByID(_arg1:String):FlowElement{
            var rslt:* = null;
            var idName:* = _arg1;
            applyFunctionToElements(function (_arg1:FlowElement):Boolean{
                if (_arg1.id == idName){
                    rslt = _arg1;
                    return (true);
                };
                return (false);
            });
            return (rslt);
        }
        public function getElementsByStyleName(_arg1:String):Array{
            var a:* = null;
            var styleNameValue:* = _arg1;
            a = new Array();
            applyFunctionToElements(function (_arg1:FlowElement):Boolean{
                if (_arg1.styleName == styleNameValue){
                    a.push(_arg1);
                };
                return (false);
            });
            return (a);
        }
        public function getElementsByTypeName(_arg1:String):Array{
            var a:* = null;
            var typeNameValue:* = _arg1;
            a = new Array();
            applyFunctionToElements(function (_arg1:FlowElement):Boolean{
                if (_arg1.typeName == typeNameValue){
                    a.push(_arg1);
                };
                return (false);
            });
            return (a);
        }
        override protected function get abstract():Boolean{
            return (false);
        }
        override tlf_internal function get defaultTypeName():String{
            return ("TextFlow");
        }
        override tlf_internal function updateLengths(_arg1:int, _arg2:int, _arg3:Boolean):void{
            var _local4:int;
            if (this.normalizeStart != -1){
                _local4 = (((_arg1 < this.normalizeStart)) ? _arg1 : this.normalizeStart);
                if (_local4 < this.normalizeStart){
                    this.normalizeLen = (this.normalizeLen + (this.normalizeStart - _local4));
                };
                this.normalizeLen = (this.normalizeLen + _arg2);
                this.normalizeStart = _local4;
            } else {
                this.normalizeStart = _arg1;
                this.normalizeLen = _arg2;
            };
            if (this.normalizeLen < 0){
                this.normalizeLen = 0;
            };
            if (((_arg3) && (this._flowComposer))){
                this._flowComposer.updateLengths(_arg1, _arg2);
                super.updateLengths(_arg1, _arg2, false);
            } else {
                super.updateLengths(_arg1, _arg2, _arg3);
            };
        }
        override public function set mxmlChildren(_arg1:Array):void{
            super.mxmlChildren = _arg1;
            this.normalize();
            applyWhiteSpaceCollapse(null);
        }
        tlf_internal function applyUpdateElements(_arg1:Boolean):Boolean{
            var _local2:Boolean;
            var _local3:Object;
            if (this._elemsToUpdate){
                _local2 = ((this.flowComposer) && (!((this.flowComposer.numControllers == 0))));
                for (_local3 in this._elemsToUpdate) {
                    (_local3 as FlowElement).applyDelayedElementUpdate(this, _arg1, _local2);
                };
                if (_local2){
                    this._elemsToUpdate = null;
                    return (true);
                };
            };
            return (false);
        }
        override tlf_internal function preCompose():void{
            do  {
                this.normalize();
            } while (this.applyUpdateElements(true));
        }
        tlf_internal function damage(_arg1:int, _arg2:int, _arg3:String, _arg4:Boolean=true):void{
            var _local5:uint;
            if (_arg4){
                if (this.normalizeStart == -1){
                    this.normalizeStart = _arg1;
                    this.normalizeLen = _arg2;
                } else {
                    if (_arg1 < this.normalizeStart){
                        _local5 = this.normalizeLen;
                        _local5 = ((this.normalizeStart + this.normalizeLen) - _arg1);
                        if (_arg2 > _local5){
                            _local5 = _arg2;
                        };
                        this.normalizeStart = _arg1;
                        this.normalizeLen = _local5;
                    } else {
                        if ((this.normalizeStart + this.normalizeLen) > _arg1){
                            if ((_arg1 + _arg2) > (this.normalizeStart + this.normalizeLen)){
                                this.normalizeLen = ((_arg1 + _arg2) - this.normalizeStart);
                            };
                        } else {
                            this.normalizeLen = ((_arg1 + _arg2) - this.normalizeStart);
                        };
                    };
                };
                if ((this.normalizeStart + this.normalizeLen) > textLength){
                    this.normalizeLen = (textLength - this.normalizeStart);
                };
            };
            if (this._flowComposer){
                this._flowComposer.damage(_arg1, _arg2, _arg3);
            };
            if (this.hasEventListener(DamageEvent.DAMAGE)){
                this.dispatchEvent(new DamageEvent(DamageEvent.DAMAGE, false, false, this, _arg1, _arg2));
            };
        }
        tlf_internal function findAbsoluteParagraph(_arg1:int):ParagraphElement{
            var _local2:FlowElement = findLeaf(_arg1);
            return (((_local2) ? _local2.getParagraph() : null));
        }
        tlf_internal function findAbsoluteFlowGroupElement(_arg1:int):FlowGroupElement{
            var _local2:FlowElement = findLeaf(_arg1);
            return (_local2.parent);
        }
        public function addEventListener(_arg1:String, _arg2:Function, _arg3:Boolean=false, _arg4:int=0, _arg5:Boolean=false):void{
            if (!this._eventDispatcher){
                this._eventDispatcher = new EventDispatcher(this);
            };
            this._eventDispatcher.addEventListener(_arg1, _arg2, _arg3, _arg4, _arg5);
        }
        public function dispatchEvent(_arg1:Event):Boolean{
            if (!this._eventDispatcher){
                return (true);
            };
            return (this._eventDispatcher.dispatchEvent(_arg1));
        }
        public function hasEventListener(_arg1:String):Boolean{
            if (!this._eventDispatcher){
                return (false);
            };
            return (this._eventDispatcher.hasEventListener(_arg1));
        }
        public function removeEventListener(_arg1:String, _arg2:Function, _arg3:Boolean=false):void{
            if (!this._eventDispatcher){
                return;
            };
            this._eventDispatcher.removeEventListener(_arg1, _arg2, _arg3);
        }
        public function willTrigger(_arg1:String):Boolean{
            if (!this._eventDispatcher){
                return (false);
            };
            return (this._eventDispatcher.willTrigger(_arg1));
        }
        tlf_internal function appendOneElementForUpdate(_arg1:FlowElement):void{
            if (this._elemsToUpdate == null){
                this._elemsToUpdate = new Dictionary();
            };
            this._elemsToUpdate[_arg1] = null;
        }
        tlf_internal function mustUseComposer():Boolean{
            var _local2:Object;
            if (this._interactiveObjectCount != 0){
                return (true);
            };
            if ((((this._elemsToUpdate == null)) || ((this._elemsToUpdate.length == 0)))){
                return (false);
            };
            this.normalize();
            var _local1:Boolean;
            for (_local2 in this._elemsToUpdate) {
                if ((_local2 as FlowElement).updateForMustUseComposer(this)){
                    _local1 = true;
                };
            };
            return (_local1);
        }
        tlf_internal function processModelChanged(_arg1:String, _arg2:Object, _arg3:int, _arg4:int, _arg5:Boolean, _arg6:Boolean):void{
            if ((_arg2 is FlowElement)){
                (_arg2 as FlowElement).appendElementsForDelayedUpdate(this, _arg1);
            };
            if (_arg6){
                this._generation = _nextGeneration++;
            };
            if ((((_arg4 > 0)) || ((_arg1 == ModelChange.ELEMENT_ADDED)))){
                this.damage(_arg3, _arg4, TextLineValidity.INVALID, _arg5);
            };
            if (this.formatResolver){
                switch (_arg1){
                    case ModelChange.ELEMENT_REMOVAL:
                    case ModelChange.ELEMENT_ADDED:
                    case ModelChange.STYLE_SELECTOR_CHANGED:
                        this.formatResolver.invalidate(_arg2);
                        _arg2.formatChanged(false);
                        break;
                };
            };
        }
        public function get generation():uint{
            return (this._generation);
        }
        tlf_internal function setGeneration(_arg1:uint):void{
            this._generation = _arg1;
        }
        tlf_internal function processAutoSizeImageLoaded(_arg1:InlineGraphicElement):void{
            if (this.flowComposer){
                _arg1.appendElementsForDelayedUpdate(this, null);
            };
        }
        tlf_internal function normalize():void{
            var _local1:int;
            if (this.normalizeStart != -1){
                _local1 = (this.normalizeStart + (((this.normalizeLen == 0)) ? 1 : this.normalizeLen));
                normalizeRange((((this.normalizeStart == 0)) ? this.normalizeStart : (this.normalizeStart - 1)), _local1);
                this.normalizeStart = -1;
                this.normalizeLen = 0;
            };
        }
        public function get hostFormat():ITextLayoutFormat{
            return (((this._hostFormatHelper) ? this._hostFormatHelper.format : null));
        }
        public function set hostFormat(_arg1:ITextLayoutFormat):void{
            if (_arg1 == null){
                this._hostFormatHelper = null;
            } else {
                if (this._hostFormatHelper == null){
                    this._hostFormatHelper = new HostFormatHelper();
                };
                this._hostFormatHelper.format = _arg1;
            };
            formatChanged();
        }
        override tlf_internal function doComputeTextLayoutFormat():TextLayoutFormat{
            var _local1:TextLayoutFormat = ((this._hostFormatHelper) ? this._hostFormatHelper.getComputedPrototypeFormat() : null);
            return (FlowElement.createTextLayoutFormatPrototype(formatForCascade, _local1));
        }
        tlf_internal function getTextLayoutFormatStyle(_arg1:Object):TextLayoutFormat{
            if (this._formatResolver == null){
                return (null);
            };
            var _local2:ITextLayoutFormat = this._formatResolver.resolveFormat(_arg1);
            if (_local2 == null){
                return (null);
            };
            var _local3:TextLayoutFormat = (_local2 as TextLayoutFormat);
            return (((_local3) ? _local3 : new TextLayoutFormat(_local2)));
        }
        tlf_internal function get backgroundManager():BackgroundManager{
            return (this._backgroundManager);
        }
        tlf_internal function clearBackgroundManager():void{
            this._backgroundManager = null;
        }
        tlf_internal function getBackgroundManager():BackgroundManager{
            if (((!(this._backgroundManager)) && ((this.flowComposer is StandardFlowComposer)))){
                this._backgroundManager = (this.flowComposer as StandardFlowComposer).createBackgroundManager();
            };
            return (this._backgroundManager);
        }
        public function get formatResolver():IFormatResolver{
            return (this._formatResolver);
        }
        public function set formatResolver(_arg1:IFormatResolver):void{
            if (this._formatResolver != _arg1){
                if (this._formatResolver){
                    this._formatResolver.invalidateAll(this);
                };
                this._formatResolver = _arg1;
                if (this._formatResolver){
                    this._formatResolver.invalidateAll(this);
                };
                formatChanged(true);
            };
        }
        public function invalidateAllFormats():void{
            if (this._formatResolver){
                this._formatResolver.invalidateAll(this);
            };
            formatChanged(true);
        }

    }
}//package flashx.textLayout.elements 

import flashx.textLayout.formats.*;

class HostFormatHelper {

    private var _format:ITextLayoutFormat;
    private var _computedPrototypeFormat:TextLayoutFormat;

    public function HostFormatHelper(){
    }
    public function get format():ITextLayoutFormat{
        return (this._format);
    }
    public function set format(_arg1:ITextLayoutFormat):void{
        this._format = _arg1;
        this._computedPrototypeFormat = null;
    }
    public function getComputedPrototypeFormat():TextLayoutFormat{
        var _local1:ITextLayoutFormat;
        if (this._computedPrototypeFormat == null){
            if ((((this._format is TextLayoutFormat)) || ((this._format is TextLayoutFormat)))){
                _local1 = this._format;
            } else {
                _local1 = new TextLayoutFormat(this._format);
            };
            this._computedPrototypeFormat = FlowElement.createTextLayoutFormatPrototype(_local1, null);
        };
        return (this._computedPrototypeFormat);
    }

}
﻿package flashx.textLayout.elements {
    import flashx.textLayout.*;

    public class GlobalSettings {

        private static const resourceDict:Object = {
            missingStringResource:"No string for resource {0}",
            invalidFlowElementConstruct:"Attempted construct of invalid FlowElement subclass",
            invalidSplitAtPosition:"Invalid parameter to splitAtPosition",
            badMXMLChildrenArgument:"Bad element of type {0} passed to mxmlChildren",
            badReplaceChildrenIndex:"Out of range index to FlowGroupElement.replaceChildren",
            invalidChildType:"NewElement not of a type that this can be parent of",
            badRemoveChild:"Child to remove not found",
            invalidSplitAtIndex:"Invalid parameter to splitAtIndex",
            badShallowCopyRange:"Bad range in shallowCopy",
            badSurrogatePairCopy:"Copying only half of a surrogate pair in SpanElement.shallowCopy",
            invalidReplaceTextPositions:"Invalid positions passed to SpanElement.replaceText",
            invalidSurrogatePairSplit:"Invalid splitting of a surrogate pair",
            badPropertyValue:"Property {0} value {1} is out of range",
            illegalOperation:"Illegal attempt to execute {0} operation",
            unexpectedXMLElementInSpan:"Unexpected element {0} within a span",
            unexpectedNamespace:"Unexpected namespace {0}",
            unknownElement:"Unknown element {0}",
            unknownAttribute:"Attribute {0} not permitted in element {1}",
            malformedTag:"Malformed tag {0}",
            malformedMarkup:"Malformed markup {0}",
            missingTextFlow:"No TextFlow to parse",
            expectedExactlyOneTextLayoutFormat:"Expected one and only one TextLayoutFormat in {0}",
            expectedExactlyOneListMarkerFormat:"Expected one and only one ListMarkerFormat in {0}",
            unsupportedVersion:"Version {0} is unsupported",
            unsupportedProperty:"Property {0} is unsupported"
        };

        private static var _fontMapperFunction:Function;
        private static var _enableSearch:Boolean = true;
        private static var _resolveFontLookupFunction:Function;
        private static var _resourceStringFunction:Function = defaultResourceStringFunction;
        private static var _enableDefaultTabStops:Boolean = false;

        public static function get fontMapperFunction():Function{
            return (_fontMapperFunction);
        }
        public static function set fontMapperFunction(_arg1:Function):void{
            _fontMapperFunction = _arg1;
        }
        public static function get enableSearch():Boolean{
            return (_enableSearch);
        }
        public static function set enableSearch(_arg1:Boolean):void{
            _enableSearch = _arg1;
        }
        public static function get resolveFontLookupFunction():Function{
            return (_resolveFontLookupFunction);
        }
        public static function set resolveFontLookupFunction(_arg1:Function):void{
            _resolveFontLookupFunction = _arg1;
        }
        public static function get resourceStringFunction():Function{
            return (_resourceStringFunction);
        }
        public static function set resourceStringFunction(_arg1:Function):void{
            _resourceStringFunction = _arg1;
        }
        tlf_internal static function defaultResourceStringFunction(_arg1:String, _arg2:Array=null):String{
            var _local3:String = String(resourceDict[_arg1]);
            if (_local3 == null){
                _local3 = String(resourceDict["missingStringResource"]);
                _arg2 = [_arg1];
            };
            if (_arg2){
                _local3 = substitute(_local3, _arg2);
            };
            return (_local3);
        }
        tlf_internal static function substitute(_arg1:String, ... _args):String{
            var _local4:Array;
            if (_arg1 == null){
                return ("");
            };
            var _local3:uint = _args.length;
            if ((((_local3 == 1)) && ((_args[0] is Array)))){
                _local4 = (_args[0] as Array);
                _local3 = _local4.length;
            } else {
                _local4 = _args;
            };
            var _local5:int;
            while (_local5 < _local3) {
                _arg1 = _arg1.replace(new RegExp((("\\{" + _local5) + "\\}"), "g"), _local4[_local5]);
                _local5++;
            };
            return (_arg1);
        }
        tlf_internal static function get enableDefaultTabStops():Boolean{
            return (_enableDefaultTabStops);
        }
        tlf_internal static function set enableDefaultTabStops(_arg1:Boolean):void{
            _enableDefaultTabStops = _arg1;
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flash.text.engine.*;
    import flash.geom.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.*;

    public final class TCYElement extends SubParagraphGroupElementBase {

        override tlf_internal function createContentElement():void{
            super.createContentElement();
            this.updateTCYRotation();
        }
        override protected function get abstract():Boolean{
            return (false);
        }
        override tlf_internal function get defaultTypeName():String{
            return ("tcy");
        }
        override tlf_internal function get precedence():uint{
            return (100);
        }
        override tlf_internal function mergeToPreviousIfPossible():Boolean{
            var _local1:int;
            var _local2:TCYElement;
            var _local3:FlowElement;
            if (((parent) && (!(bindableElement)))){
                _local1 = parent.getChildIndex(this);
                if (_local1 != 0){
                    _local2 = (parent.getChildAt((_local1 - 1)) as TCYElement);
                    if (_local2){
                        while (this.numChildren > 0) {
                            _local3 = this.getChildAt(0);
                            replaceChildren(0, 1);
                            _local2.replaceChildren(_local2.numChildren, _local2.numChildren, _local3);
                        };
                        parent.replaceChildren(_local1, (_local1 + 1));
                        return (true);
                    };
                };
            };
            return (false);
        }
        override tlf_internal function acceptTextBefore():Boolean{
            return (false);
        }
        override tlf_internal function setParentAndRelativeStart(_arg1:FlowGroupElement, _arg2:int):void{
            super.setParentAndRelativeStart(_arg1, _arg2);
            this.updateTCYRotation();
        }
        override tlf_internal function formatChanged(_arg1:Boolean=true):void{
            super.formatChanged(_arg1);
            this.updateTCYRotation();
        }
        tlf_internal function calculateAdornmentBounds(_arg1:SubParagraphGroupElementBase, _arg2:TextLine, _arg3:String, _arg4:Rectangle):void{
            var _local6:FlowElement;
            var _local7:FlowLeafElement;
            var _local8:Rectangle;
            var _local5:int;
            while (_local5 < _arg1.numChildren) {
                _local6 = (_arg1.getChildAt(_local5) as FlowElement);
                _local7 = (_local6 as FlowLeafElement);
                if (((!(_local7)) && ((_local6 is SubParagraphGroupElementBase)))){
                    this.calculateAdornmentBounds((_local6 as SubParagraphGroupElementBase), _arg2, _arg3, _arg4);
                    _local5++;
                } else {
                    _local8 = null;
                    if (!(_local7 is InlineGraphicElement)){
                        _local8 = _local7.getSpanBoundsOnLine(_arg2, _arg3)[0];
                    } else {
                        _local8 = (_local7 as InlineGraphicElement).graphic.getBounds(_arg2);
                    };
                    if (_local5 != 0){
                        if (_local8.top < _arg4.top){
                            _arg4.top = _local8.top;
                        };
                        if (_local8.bottom > _arg4.bottom){
                            _arg4.bottom = _local8.bottom;
                        };
                        if (_arg4.x > _local8.x){
                            _arg4.x = _local8.x;
                        };
                    } else {
                        _arg4.top = _local8.top;
                        _arg4.bottom = _local8.bottom;
                        _arg4.x = _local8.x;
                    };
                    _local5++;
                };
            };
        }
        private function updateTCYRotation():void{
            var _local1:ContainerFormattedElement = getAncestorWithContainer();
            if (groupElement){
                groupElement.textRotation = ((((_local1) && ((_local1.computedFormat.blockProgression == BlockProgression.RL)))) ? TextRotation.ROTATE_270 : TextRotation.ROTATE_0);
            };
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flash.utils.*;
    import flash.text.engine.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.compose.*;
    import flashx.textLayout.events.*;
    import flashx.textLayout.*;

    public class FlowGroupElement extends FlowElement {

        private var _childArray:Array;
        private var _singleChild:FlowElement;
        private var _numChildren:int;

        public function FlowGroupElement(){
            this._numChildren = 0;
        }
        private static function getNestedArgCount(_arg1:Object):uint{
            return ((((_arg1 is Array)) ? _arg1.length : 1));
        }
        private static function getNestedArg(_arg1:Object, _arg2:uint):FlowElement{
            return (((((_arg1 is Array)) ? _arg1[_arg2] : _arg1) as FlowElement));
        }

        override public function deepCopy(_arg1:int=0, _arg2:int=-1):FlowElement{
            var _local4:FlowElement;
            var _local6:FlowElement;
            var _local7:FlowElement;
            if (_arg2 == -1){
                _arg2 = textLength;
            };
            var _local3:FlowGroupElement = (shallowCopy(_arg1, _arg2) as FlowGroupElement);
            var _local5:int;
            while (_local5 < this._numChildren) {
                _local6 = this.getChildAt(_local5);
                if (((((_arg1 - _local6.parentRelativeStart) < _local6.textLength)) && (((_arg2 - _local6.parentRelativeStart) > 0)))){
                    _local4 = _local6.deepCopy((_arg1 - _local6.parentRelativeStart), (_arg2 - _local6.parentRelativeStart));
                    _local3.replaceChildren(_local3.numChildren, _local3.numChildren, _local4);
                    if (_local3.numChildren > 1){
                        _local7 = _local3.getChildAt((_local3.numChildren - 2));
                        if (_local7.textLength == 0){
                            _local3.replaceChildren((_local3.numChildren - 2), (_local3.numChildren - 1));
                        };
                    };
                };
                _local5++;
            };
            return (_local3);
        }
        override public function getText(_arg1:int=0, _arg2:int=-1, _arg3:String="\n"):String{
            var _local7:FlowElement;
            var _local8:int;
            var _local9:int;
            var _local4:String = super.getText();
            if (_arg2 == -1){
                _arg2 = textLength;
            };
            var _local5:int = _arg1;
            var _local6:int = this.findChildIndexAtPosition(_arg1);
            while ((((_local6 < this._numChildren)) && ((_local5 < _arg2)))) {
                _local7 = this.getChildAt(_local6);
                _local8 = (_local5 - _local7.parentRelativeStart);
                _local9 = Math.min((_arg2 - _local7.parentRelativeStart), _local7.textLength);
                _local4 = (_local4 + _local7.getText(_local8, _local9, _arg3));
                _local5 = (_local5 + (_local9 - _local8));
                if (((((_arg3) && ((_local7 is ParagraphFormattedElement)))) && ((_local5 < _arg2)))){
                    _local4 = (_local4 + _arg3);
                };
                _local6++;
            };
            return (_local4);
        }
        override tlf_internal function formatChanged(_arg1:Boolean=true):void{
            var _local3:FlowElement;
            super.formatChanged(_arg1);
            var _local2:int;
            while (_local2 < this._numChildren) {
                _local3 = this.getChildAt(_local2);
                _local3.formatChanged(false);
                _local2++;
            };
        }
        override tlf_internal function styleSelectorChanged():void{
            super.styleSelectorChanged();
            this.formatChanged(false);
        }
        public function get mxmlChildren():Array{
            return ((((this._numChildren == 0)) ? null : (((this._numChildren == 1)) ? [this._singleChild] : this._childArray.slice())));
        }
        public function set mxmlChildren(_arg1:Array):void{
            var _local3:Object;
            var _local4:SpanElement;
            this.replaceChildren(0, this._numChildren);
            var _local2:FlowGroupElement = this;
            for each (_local3 in _arg1) {
                if ((_local3 is FlowElement)){
                    if ((_local3 is ParagraphFormattedElement)){
                        _local2 = this;
                    } else {
                        if ((_local2 is ContainerFormattedElement)){
                            _local2 = new ParagraphElement();
                            _local2.impliedElement = true;
                            this.replaceChildren(this._numChildren, this._numChildren, _local2);
                        };
                    };
                    if ((((_local3 is SpanElement)) || ((_local3 is SubParagraphGroupElementBase)))){
                        _local3.bindableElement = true;
                    };
                    _local2.replaceChildren(_local2.numChildren, _local2.numChildren, FlowElement(_local3));
                } else {
                    if ((_local3 is String)){
                        _local4 = new SpanElement();
                        _local4.text = String(_local3);
                        _local4.bindableElement = true;
                        _local4.impliedElement = true;
                        if ((_local2 is ContainerFormattedElement)){
                            _local2 = new ParagraphElement();
                            this.replaceChildren(this._numChildren, this._numChildren, _local2);
                            _local2.impliedElement = true;
                        };
                        _local2.replaceChildren(_local2.numChildren, _local2.numChildren, _local4);
                    } else {
                        if (_local3 != null){
                            throw (new TypeError(GlobalSettings.resourceStringFunction("badMXMLChildrenArgument", [getQualifiedClassName(_local3)])));
                        };
                    };
                };
            };
        }
        public function get numChildren():int{
            return (this._numChildren);
        }
        public function getChildIndex(_arg1:FlowElement):int{
            var _local4:int;
            var _local5:FlowElement;
            var _local6:int;
            var _local2:int = (this._numChildren - 1);
            if (_local2 <= 0){
                return ((((this._singleChild == _arg1)) ? 0 : -1));
            };
            var _local3:int;
            while (_local3 <= _local2) {
                _local4 = ((_local3 + _local2) / 2);
                _local5 = this._childArray[_local4];
                if (_local5.parentRelativeStart == _arg1.parentRelativeStart){
                    if (_local5 == _arg1){
                        return (_local4);
                    };
                    if (_local5.textLength == 0){
                        _local6 = _local4;
                        while (_local6 < this._numChildren) {
                            _local5 = this._childArray[_local6];
                            if (_local5 == _arg1){
                                return (_local6);
                            };
                            if (_local5.textLength != 0){
                                break;
                            };
                            _local6++;
                        };
                    };
                    while (_local4 > 0) {
                        _local4--;
                        _local5 = this._childArray[_local4];
                        if (_local5 == _arg1){
                            return (_local4);
                        };
                        if (_local5.textLength != 0){
                            break;
                        };
                    };
                    return (-1);
                };
                if (_local5.parentRelativeStart < _arg1.parentRelativeStart){
                    _local3 = (_local4 + 1);
                } else {
                    _local2 = (_local4 - 1);
                };
            };
            return (-1);
        }
        public function getChildAt(_arg1:int):FlowElement{
            if (this._numChildren > 1){
                return (this._childArray[_arg1]);
            };
            return ((((_arg1 == 0)) ? this._singleChild : null));
        }
        tlf_internal function getNextLeafHelper(_arg1:FlowGroupElement, _arg2:FlowElement):FlowLeafElement{
            var _local3:int = this.getChildIndex(_arg2);
            if (_local3 == -1){
                return (null);
            };
            if (_local3 == (this._numChildren - 1)){
                if ((((_arg1 == this)) || (!(parent)))){
                    return (null);
                };
                return (parent.getNextLeafHelper(_arg1, this));
            };
            _arg2 = this.getChildAt((_local3 + 1));
            return ((((_arg2 is FlowLeafElement)) ? FlowLeafElement(_arg2) : FlowGroupElement(_arg2).getFirstLeaf()));
        }
        tlf_internal function getPreviousLeafHelper(_arg1:FlowGroupElement, _arg2:FlowElement):FlowLeafElement{
            var _local3:int = this.getChildIndex(_arg2);
            if (_local3 == -1){
                return (null);
            };
            if (_local3 == 0){
                if ((((_arg1 == this)) || (!(parent)))){
                    return (null);
                };
                return (parent.getPreviousLeafHelper(_arg1, this));
            };
            _arg2 = this.getChildAt((_local3 - 1));
            return ((((_arg2 is FlowLeafElement)) ? FlowLeafElement(_arg2) : FlowGroupElement(_arg2).getLastLeaf()));
        }
        public function findLeaf(_arg1:int):FlowLeafElement{
            var _local4:FlowElement;
            var _local5:int;
            var _local2:FlowLeafElement;
            var _local3:int = this.findChildIndexAtPosition(_arg1);
            if (_local3 != -1){
                do  {
                    var _temp1 = _local3;
                    _local3 = (_local3 + 1);
                    _local4 = this.getChildAt(_temp1);
                    if (!_local4){
                        break;
                    };
                    _local5 = (_arg1 - _local4.parentRelativeStart);
                    if ((_local4 is FlowGroupElement)){
                        _local2 = FlowGroupElement(_local4).findLeaf(_local5);
                    } else {
                        if ((((((_local5 >= 0)) && ((_local5 < _local4.textLength)))) || ((((_local4.textLength == 0)) && ((this._numChildren == 1)))))){
                            _local2 = FlowLeafElement(_local4);
                        };
                    };
                } while (((!(_local2)) && (!(_local4.textLength))));
            };
            return (_local2);
        }
        public function findChildIndexAtPosition(_arg1:int):int{
            var _local4:int;
            var _local5:FlowElement;
            var _local2:int;
            var _local3:int = (this._numChildren - 1);
            while (_local2 <= _local3) {
                _local4 = ((_local2 + _local3) / 2);
                _local5 = this.getChildAt(_local4);
                if (_local5.parentRelativeStart <= _arg1){
                    if (_local5.parentRelativeStart == _arg1){
                        while (_local4 != 0) {
                            _local5 = this.getChildAt((_local4 - 1));
                            if (_local5.textLength != 0){
                                break;
                            };
                            _local4--;
                        };
                        return (_local4);
                    };
                    if ((_local5.parentRelativeStart + _local5.textLength) > _arg1){
                        return (_local4);
                    };
                    _local2 = (_local4 + 1);
                } else {
                    _local3 = (_local4 - 1);
                };
            };
            return (-1);
        }
        public function getFirstLeaf():FlowLeafElement{
            var _local1:int;
            var _local2:FlowElement;
            var _local3:FlowLeafElement;
            if (this._numChildren > 1){
                _local1 = 0;
                while (_local1 < this._numChildren) {
                    _local2 = this._childArray[_local1];
                    _local3 = (((_local2 is FlowGroupElement)) ? FlowGroupElement(_local2).getFirstLeaf() : FlowLeafElement(_local2));
                    if (_local3){
                        return (_local3);
                    };
                    _local1++;
                };
                return (null);
            };
            return ((((this._numChildren == 0)) ? null : (((this._singleChild is FlowGroupElement)) ? FlowGroupElement(this._singleChild).getFirstLeaf() : FlowLeafElement(this._singleChild))));
        }
        public function getLastLeaf():FlowLeafElement{
            var _local1:int;
            var _local2:FlowElement;
            var _local3:FlowLeafElement;
            if (this._numChildren > 1){
                _local1 = this._numChildren;
                while (_local1 != 0) {
                    _local2 = this._childArray[(_local1 - 1)];
                    _local3 = (((_local2 is FlowGroupElement)) ? FlowGroupElement(_local2).getLastLeaf() : FlowLeafElement(_local2));
                    if (_local3){
                        return (_local3);
                    };
                    _local1--;
                };
                return (null);
            };
            return ((((this._numChildren == 0)) ? null : (((this._singleChild is FlowGroupElement)) ? FlowGroupElement(this._singleChild).getLastLeaf() : FlowLeafElement(this._singleChild))));
        }
        override public function getCharAtPosition(_arg1:int):String{
            var _local2:FlowLeafElement = this.findLeaf(_arg1);
            return (((_local2) ? _local2.getCharAtPosition((_arg1 - _local2.getElementRelativeStart(this))) : ""));
        }
        override tlf_internal function applyFunctionToElements(_arg1:Function):Boolean{
            if (_arg1(this)){
                return (true);
            };
            var _local2:int;
            while (_local2 < this._numChildren) {
                if (this.getChildAt(_local2).applyFunctionToElements(_arg1)){
                    return (true);
                };
                _local2++;
            };
            return (false);
        }
        tlf_internal function removeBlockElement(_arg1:FlowElement, _arg2:ContentElement):void{
        }
        tlf_internal function insertBlockElement(_arg1:FlowElement, _arg2:ContentElement):void{
        }
        tlf_internal function hasBlockElement():Boolean{
            return (false);
        }
        tlf_internal function createContentAsGroup():GroupElement{
            return (null);
        }
        tlf_internal function addChildAfterInternal(_arg1:FlowElement, _arg2:FlowElement):void{
            if (this._numChildren > 1){
                this._childArray.splice((this._childArray.indexOf(_arg1) + 1), 0, _arg2);
            } else {
                this._childArray = [this._singleChild, _arg2];
                this._singleChild = null;
            };
            this._numChildren++;
            _arg2.setParentAndRelativeStartOnly(this, _arg1.parentRelativeEnd);
        }
        tlf_internal function canOwnFlowElement(_arg1:FlowElement):Boolean{
            return (((((((!((_arg1 is TextFlow))) && (!((_arg1 is FlowLeafElement))))) && (!((_arg1 is SubParagraphGroupElementBase))))) && (!((_arg1 is ListItemElement)))));
        }
        public function replaceChildren(_arg1:int, _arg2:int, ... _args):void{
            var _local8:Array;
            var _local9:FlowElement;
            var _local10:FlowElement;
            var _local11:int;
            var _local12:Object;
            var _local13:FlowElement;
            var _local14:int;
            var _local15:int;
            var _local16:FlowGroupElement;
            var _local17:int;
            var _local18:uint;
            var _local19:ContainerController;
            var _local20:TextFlow;
            if ((((_arg1 > this._numChildren)) || ((_arg2 > this._numChildren)))){
                throw (RangeError(GlobalSettings.resourceStringFunction("badReplaceChildrenIndex")));
            };
            var _local4:int = getAbsoluteStart();
            var _local5:int = (_local4 + (((_arg1 == this._numChildren)) ? textLength : this.getChildAt(_arg1).parentRelativeStart));
            var _local6:int = (((_arg1 == this._numChildren)) ? textLength : this.getChildAt(_arg1).parentRelativeStart);
            if (_arg1 < _arg2){
                _local14 = 0;
                while (_arg1 < _arg2) {
                    _local13 = this.getChildAt(_arg1);
                    this.modelChanged(ModelChange.ELEMENT_REMOVAL, _local13, _local13.parentRelativeStart, _local13.textLength);
                    _local14 = (_local14 + _local13.textLength);
                    _local13.setParentAndRelativeStart(null, 0);
                    if (this._numChildren == 1){
                        this._singleChild = null;
                        this._numChildren = 0;
                    } else {
                        this._childArray.splice(_arg1, 1);
                        this._numChildren--;
                        if (this._numChildren == 1){
                            this._singleChild = this._childArray[0];
                            this._childArray = null;
                        };
                    };
                    _arg2--;
                };
                if (_local14){
                    while (_arg2 < this._numChildren) {
                        _local13 = this.getChildAt(_arg2);
                        this.getChildAt(_arg2).setParentRelativeStart((_local13.parentRelativeStart - _local14));
                        _arg2++;
                    };
                    updateLengths(_local5, -(_local14), true);
                    deleteContainerText((_local6 + _local14), _local14);
                };
            };
            var _local7:int;
            for each (_local12 in _args) {
                if (!_local12){
                } else {
                    _local15 = getNestedArgCount(_local12);
                    _local11 = 0;
                    while (_local11 < _local15) {
                        _local10 = getNestedArg(_local12, _local11);
                        if (_local10){
                            _local16 = _local10.parent;
                            if (_local16){
                                if (_local16 == this){
                                    _local17 = this.getChildIndex(_local10);
                                    _local16.removeChild(_local10);
                                    _local4 = getAbsoluteStart();
                                    if (_local17 <= _arg1){
                                        _arg1--;
                                        _local5 = (_local4 + (((_arg1 == this._numChildren)) ? textLength : this.getChildAt(_arg1).parentRelativeStart));
                                        _local6 = (((_arg1 == this._numChildren)) ? textLength : this.getChildAt(_arg1).parentRelativeStart);
                                    };
                                } else {
                                    _local16.removeChild(_local10);
                                    _local4 = getAbsoluteStart();
                                    _local5 = (_local4 + (((_arg1 == this._numChildren)) ? textLength : this.getChildAt(_arg1).parentRelativeStart));
                                    _local6 = (((_arg1 == this._numChildren)) ? textLength : this.getChildAt(_arg1).parentRelativeStart);
                                };
                            };
                            if (!this.canOwnFlowElement(_local10)){
                                throw (ArgumentError(GlobalSettings.resourceStringFunction("invalidChildType")));
                            };
                            if (_local7 == 0){
                                _local9 = _local10;
                            } else {
                                if (_local7 == 1){
                                    _local8 = [_local9, _local10];
                                } else {
                                    _local8.push(_local10);
                                };
                            };
                            _local7++;
                        };
                        _local11++;
                    };
                };
            };
            if (_local7){
                _local18 = 0;
                _local11 = 0;
                while (_local11 < _local7) {
                    _local10 = (((_local7 == 1)) ? _local9 : _local8[_local11]);
                    if (this._numChildren == 0){
                        this._singleChild = _local10;
                    } else {
                        if (this._numChildren > 1){
                            this._childArray.splice(_arg1, 0, _local10);
                        } else {
                            this._childArray = (((_arg1 == 0)) ? [_local10, this._singleChild] : [this._singleChild, _local10]);
                            this._singleChild = null;
                        };
                    };
                    this._numChildren++;
                    _local10.setParentAndRelativeStart(this, (_local6 + _local18));
                    _local18 = (_local18 + _local10.textLength);
                    _arg1++;
                    _local11++;
                };
                if (_local18){
                    while (_arg1 < this._numChildren) {
                        var _temp1 = _arg1;
                        _arg1 = (_arg1 + 1);
                        _local13 = this.getChildAt(_temp1);
                        this.getChildAt(_temp1).setParentRelativeStart((_local13.parentRelativeStart + _local18));
                    };
                    updateLengths(_local5, _local18, true);
                    _local19 = getEnclosingController(_local6);
                    if (_local19){
                        ContainerController(_local19).setTextLength((_local19.textLength + _local18));
                    };
                };
                _local11 = 0;
                while (_local11 < _local7) {
                    _local10 = (((_local7 == 1)) ? _local9 : _local8[_local11]);
                    this.modelChanged(ModelChange.ELEMENT_ADDED, _local10, _local10.parentRelativeStart, _local10.textLength);
                    _local11++;
                };
            } else {
                _local20 = getTextFlow();
                if (_local20 != null){
                    if (_arg1 < this._numChildren){
                        _local11 = (_local4 + this.getChildAt(_arg1).parentRelativeStart);
                    } else {
                        if (_arg1 > 1){
                            _local10 = this.getChildAt((_arg1 - 1));
                            _local11 = (((_local4 + _local10.parentRelativeStart) + _local10.textLength) - 1);
                        } else {
                            _local11 = _local4;
                            if (_local11 >= _local20.textLength){
                                _local11--;
                            };
                        };
                    };
                    _local20.damage(_local11, 1, FlowDamageType.INVALID, false);
                };
            };
        }
        public function addChild(_arg1:FlowElement):FlowElement{
            this.replaceChildren(this._numChildren, this._numChildren, _arg1);
            return (_arg1);
        }
        public function addChildAt(_arg1:uint, _arg2:FlowElement):FlowElement{
            this.replaceChildren(_arg1, _arg1, _arg2);
            return (_arg2);
        }
        public function removeChild(_arg1:FlowElement):FlowElement{
            var _local2:int = this.getChildIndex(_arg1);
            if (_local2 == -1){
                throw (ArgumentError(GlobalSettings.resourceStringFunction("badRemoveChild")));
            };
            this.removeChildAt(_local2);
            return (_arg1);
        }
        public function removeChildAt(_arg1:uint):FlowElement{
            var _local2:FlowElement = this.getChildAt(_arg1);
            this.replaceChildren(_arg1, (_arg1 + 1));
            return (_local2);
        }
        public function splitAtIndex(_arg1:int):FlowGroupElement{
            var _local4:Array;
            var _local5:int;
            if (_arg1 > this._numChildren){
                throw (RangeError(GlobalSettings.resourceStringFunction("invalidSplitAtIndex")));
            };
            var _local2:FlowGroupElement = (shallowCopy() as FlowGroupElement);
            var _local3:int = (this._numChildren - _arg1);
            if (_local3 == 1){
                _local2.addChild(this.removeChildAt(_arg1));
            } else {
                if (_local3 != 0){
                    _local4 = this._childArray.slice(_arg1);
                    this.replaceChildren(_arg1, (this._numChildren - 1));
                    _local2.replaceChildren(0, 0, _local4);
                };
            };
            if (parent){
                _local5 = parent.getChildIndex(this);
                parent.replaceChildren((_local5 + 1), (_local5 + 1), _local2);
            };
            return (_local2);
        }
        override public function splitAtPosition(_arg1:int):FlowElement{
            var _local2:int;
            var _local3:FlowElement;
            if ((((_arg1 < 0)) || ((_arg1 > textLength)))){
                throw (RangeError(GlobalSettings.resourceStringFunction("invalidSplitAtPosition")));
            };
            if (_arg1 == textLength){
                _local2 = this._numChildren;
            } else {
                _local2 = this.findChildIndexAtPosition(_arg1);
                _local3 = this.getChildAt(_local2);
                if (_local3.parentRelativeStart != _arg1){
                    if ((_local3 is FlowGroupElement)){
                        FlowGroupElement(_local3).splitAtPosition((_arg1 - _local3.parentRelativeStart));
                    } else {
                        SpanElement(_local3).splitAtPosition((_arg1 - _local3.parentRelativeStart));
                    };
                    _local2++;
                };
            };
            return (this.splitAtIndex(_local2));
        }
        override tlf_internal function normalizeRange(_arg1:uint, _arg2:uint):void{
            var _local4:FlowElement;
            var _local5:int;
            var _local6:int;
            var _local3:int = this.findChildIndexAtPosition(_arg1);
            if (((!((_local3 == -1))) && ((_local3 < this._numChildren)))){
                _local4 = this.getChildAt(_local3);
                _arg1 = (_arg1 - _local4.parentRelativeStart);
                while (true) {
                    _local5 = (_local4.parentRelativeStart + _local4.textLength);
                    _local4.normalizeRange(_arg1, (_arg2 - _local4.parentRelativeStart));
                    _local6 = (_local4.parentRelativeStart + _local4.textLength);
                    _arg2 = (_arg2 + (_local6 - _local5));
                    if ((((_local4.textLength == 0)) && (!(_local4.bindableElement)))){
                        this.replaceChildren(_local3, (_local3 + 1));
                    } else {
                        _local3++;
                    };
                    if (_local3 == this._numChildren){
                        break;
                    };
                    _local4 = this.getChildAt(_local3);
                    if (_local4.parentRelativeStart > _arg2){
                        break;
                    };
                    _arg1 = 0;
                };
            };
        }
        override tlf_internal function applyWhiteSpaceCollapse(_arg1:String):void{
            var _local3:ITextLayoutFormat;
            var _local4:*;
            var _local5:FlowElement;
            if (_arg1 == null){
                _arg1 = this.computedFormat.whiteSpaceCollapse;
            } else {
                _local3 = this.formatForCascade;
                _local4 = ((_local3) ? _local3.whiteSpaceCollapse : undefined);
                if (((!((_local4 === undefined))) && (!((_local4 == FormatValue.INHERIT))))){
                    _arg1 = _local4;
                };
            };
            var _local2:int;
            while (_local2 < this._numChildren) {
                _local5 = this.getChildAt(_local2);
                _local5.applyWhiteSpaceCollapse(_arg1);
                if (_local5.parent == this){
                    _local2++;
                };
            };
            if ((((((textLength == 0)) && (impliedElement))) && (!((parent == null))))){
                parent.removeChild(this);
            };
            super.applyWhiteSpaceCollapse(_arg1);
        }
        override tlf_internal function appendElementsForDelayedUpdate(_arg1:TextFlow, _arg2:String):void{
            var _local4:FlowElement;
            var _local3:int;
            while (_local3 < this._numChildren) {
                _local4 = this.getChildAt(_local3);
                _local4.appendElementsForDelayedUpdate(_arg1, _arg2);
                _local3++;
            };
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flashx.textLayout.*;

    public final class TabElement extends SpecialCharacterElement {

        public function TabElement(){
            this.text = "\t";
        }
        override protected function get abstract():Boolean{
            return (false);
        }
        override tlf_internal function get defaultTypeName():String{
            return ("tab");
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flashx.textLayout.*;

    public final class LinkState {

        public static const LINK:String = "link";
        public static const HOVER:String = "hover";
        public static const ACTIVE:String = "active";
        tlf_internal static const SUPPRESSED:String = "supressed";

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flash.display.*;
    import flash.text.engine.*;
    import flash.events.*;
    import flash.geom.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.compose.*;
    import flashx.textLayout.events.*;
    import flashx.textLayout.utils.*;
    import flashx.textLayout.*;

    public class FlowLeafElement extends FlowElement {

        protected var _blockElement:ContentElement;
        protected var _text:String;
        private var _hasAttachedListeners:Boolean;
        tlf_internal var _eventMirror:FlowElementEventDispatcher = null;

        public function FlowLeafElement(){
            this._hasAttachedListeners = false;
            super();
        }
        tlf_internal static function resolveDomBaseline(_arg1:ITextLayoutFormat, _arg2:ParagraphElement):String{
            var _local3:String = _arg1.dominantBaseline;
            if (_local3 == FormatValue.AUTO){
                if (_arg1.textRotation == TextRotation.ROTATE_270){
                    _local3 = TextBaseline.IDEOGRAPHIC_CENTER;
                } else {
                    if (_arg2 != null){
                        _local3 = _arg2.getEffectiveDominantBaseline();
                    } else {
                        _local3 = LocaleUtil.dominantBaseline(_arg1.locale);
                    };
                };
            };
            return (_local3);
        }
        tlf_internal static function computeElementFormatHelper(_arg1:ITextLayoutFormat, _arg2:ParagraphElement, _arg3:ISWFContext):ElementFormat{
            var _local7:FontMetrics;
            var _local4:ElementFormat = new ElementFormat();
            _local4.alignmentBaseline = _arg1.alignmentBaseline;
            _local4.alpha = Number(_arg1.textAlpha);
            _local4.breakOpportunity = _arg1.breakOpportunity;
            _local4.color = uint(_arg1.color);
            _local4.dominantBaseline = resolveDomBaseline(_arg1, _arg2);
            _local4.digitCase = _arg1.digitCase;
            _local4.digitWidth = _arg1.digitWidth;
            _local4.ligatureLevel = _arg1.ligatureLevel;
            _local4.fontSize = Number(_arg1.fontSize);
            _local4.kerning = _arg1.kerning;
            _local4.locale = _arg1.locale;
            _local4.trackingLeft = TextLayoutFormat.trackingLeftProperty.computeActualPropertyValue(_arg1.trackingLeft, _local4.fontSize);
            _local4.trackingRight = TextLayoutFormat.trackingRightProperty.computeActualPropertyValue(_arg1.trackingRight, _local4.fontSize);
            _local4.textRotation = _arg1.textRotation;
            _local4.baselineShift = -(TextLayoutFormat.baselineShiftProperty.computeActualPropertyValue(_arg1.baselineShift, _local4.fontSize));
            switch (_arg1.typographicCase){
                case TLFTypographicCase.LOWERCASE_TO_SMALL_CAPS:
                    _local4.typographicCase = TypographicCase.CAPS_AND_SMALL_CAPS;
                    break;
                case TLFTypographicCase.CAPS_TO_SMALL_CAPS:
                    _local4.typographicCase = TypographicCase.SMALL_CAPS;
                    break;
                default:
                    _local4.typographicCase = _arg1.typographicCase;
            };
            var _local5:FontDescription = new FontDescription();
            _local5.fontWeight = _arg1.fontWeight;
            _local5.fontPosture = _arg1.fontStyle;
            _local5.fontName = _arg1.fontFamily;
            _local5.renderingMode = _arg1.renderingMode;
            _local5.cffHinting = _arg1.cffHinting;
            if (GlobalSettings.resolveFontLookupFunction == null){
                _local5.fontLookup = _arg1.fontLookup;
            } else {
                _local5.fontLookup = GlobalSettings.resolveFontLookupFunction(((_arg3) ? FlowComposerBase.computeBaseSWFContext(_arg3) : null), _arg1);
            };
            var _local6:Function = GlobalSettings.fontMapperFunction;
            if (_local6 != null){
                _local6(_local5);
            };
            _local4.fontDescription = _local5;
            if ((((_arg1.baselineShift == BaselineShift.SUPERSCRIPT)) || ((_arg1.baselineShift == BaselineShift.SUBSCRIPT)))){
                if (_arg3){
                    _local7 = _arg3.callInContext(_local4.getFontMetrics, _local4, null, true);
                } else {
                    _local7 = _local4.getFontMetrics();
                };
                if (_arg1.baselineShift == BaselineShift.SUPERSCRIPT){
                    _local4.baselineShift = (_local7.superscriptOffset * _local4.fontSize);
                    _local4.fontSize = (_local7.superscriptScale * _local4.fontSize);
                } else {
                    _local4.baselineShift = (_local7.subscriptOffset * _local4.fontSize);
                    _local4.fontSize = (_local7.subscriptScale * _local4.fontSize);
                };
            };
            return (_local4);
        }
        tlf_internal static function getCSSInlineBoxHelper(_arg1:ITextLayoutFormat, _arg2:FontMetrics, _arg3:TextLine, _arg4:ParagraphElement=null):Rectangle{
            var _local14:Number;
            var _local5:Rectangle = _arg2.emBox;
            var _local6:Number = -(_local5.top);
            var _local7:Number = _local5.bottom;
            var _local8:Number = _local5.height;
            var _local9:Number = _arg1.fontSize;
            var _local10:Number = TextLayoutFormat.lineHeightProperty.computeActualPropertyValue(_arg1.lineHeight, _local9);
            var _local11:Number = ((_local10 - _local8) / 2);
            _local5.top = (_local5.top - _local11);
            _local5.bottom = (_local5.bottom + _local11);
            var _local12:String = resolveDomBaseline(_arg1, _arg4);
            switch (_local12){
                case TextBaseline.ASCENT:
                case TextBaseline.IDEOGRAPHIC_TOP:
                    _local5.offset(0, _local6);
                    break;
                case TextBaseline.IDEOGRAPHIC_CENTER:
                    _local5.offset(0, (_local6 - (_local8 / 2)));
                    break;
                case TextBaseline.ROMAN:
                    break;
                case TextBaseline.DESCENT:
                case TextBaseline.IDEOGRAPHIC_BOTTOM:
                    _local5.offset(0, -(_local7));
            };
            var _local13:String = (((_arg1.alignmentBaseline == TextBaseline.USE_DOMINANT_BASELINE)) ? _local12 : _arg1.alignmentBaseline);
            _local5.offset(0, _arg3.getBaselinePosition(_local13));
            if (_arg1.baselineShift == BaselineShift.SUPERSCRIPT){
                _local14 = (_arg2.superscriptOffset * _local9);
            } else {
                if (_arg1.baselineShift == BaselineShift.SUBSCRIPT){
                    _local14 = (_arg2.subscriptOffset * _local9);
                } else {
                    _local14 = -(_arg1.baselineShift);
                };
            };
            _local5.offset(0, _local14);
            return (_local5);
        }

        override tlf_internal function createContentElement():void{
            if (_computedFormat){
                this._blockElement.elementFormat = this.computeElementFormat();
            };
            if (parent){
                parent.insertBlockElement(this, this._blockElement);
            };
        }
        override tlf_internal function releaseContentElement():void{
            this._blockElement = null;
            _computedFormat = null;
        }
        private function blockElementExists():Boolean{
            return (!((this._blockElement == null)));
        }
        tlf_internal function getBlockElement():ContentElement{
            if (!this._blockElement){
                this.createContentElement();
            };
            return (this._blockElement);
        }
        override tlf_internal function getEventMirror():IEventDispatcher{
            if (!this._eventMirror){
                this._eventMirror = new FlowElementEventDispatcher(this);
            };
            return (this._eventMirror);
        }
        override tlf_internal function hasActiveEventMirror():Boolean{
            return (((this._eventMirror) && (!((this._eventMirror._listenerCount == 0)))));
        }
        override tlf_internal function appendElementsForDelayedUpdate(_arg1:TextFlow, _arg2:String):void{
            if (_arg2 == ModelChange.ELEMENT_ADDED){
                if (this.hasActiveEventMirror()){
                    _arg1.incInteractiveObjectCount();
                };
            } else {
                if (_arg2 == ModelChange.ELEMENT_REMOVAL){
                    if (this.hasActiveEventMirror()){
                        _arg1.decInteractiveObjectCount();
                    };
                };
            };
            super.appendElementsForDelayedUpdate(_arg1, _arg2);
        }
        public function get text():String{
            return (this._text);
        }
        tlf_internal function getElementFormat():ElementFormat{
            if (!this._blockElement){
                this.createContentElement();
            };
            return (this._blockElement.elementFormat);
        }
        override tlf_internal function setParentAndRelativeStart(_arg1:FlowGroupElement, _arg2:int):void{
            if (_arg1 == parent){
                return;
            };
            var _local3 = !((this._blockElement == null));
            if (((((this._blockElement) && (parent))) && (parent.hasBlockElement()))){
                parent.removeBlockElement(this, this._blockElement);
            };
            if (((((_arg1) && (!(_arg1.hasBlockElement())))) && (this._blockElement))){
                _arg1.createContentElement();
            };
            super.setParentAndRelativeStart(_arg1, _arg2);
            if (parent){
                if (parent.hasBlockElement()){
                    if (!this._blockElement){
                        this.createContentElement();
                    } else {
                        if (_local3){
                            parent.insertBlockElement(this, this._blockElement);
                        };
                    };
                } else {
                    if (this._blockElement){
                        this.releaseContentElement();
                    };
                };
            };
        }
        tlf_internal function quickInitializeForSplit(_arg1:FlowLeafElement, _arg2:int, _arg3:TextElement):void{
            setTextLength(_arg2);
            this._blockElement = _arg3;
            if (this._blockElement){
                this._text = this._blockElement.text;
            };
            quickCloneTextLayoutFormat(_arg1);
            var _local4:TextFlow = _arg1.getTextFlow();
            if ((((_local4 == null)) || ((_local4.formatResolver == null)))){
                _computedFormat = _arg1._computedFormat;
                if (this._blockElement){
                    this._blockElement.elementFormat = _arg1.getElementFormat();
                };
            };
        }
        public function getNextLeaf(_arg1:FlowGroupElement=null):FlowLeafElement{
            if (!parent){
                return (null);
            };
            return (parent.getNextLeafHelper(_arg1, this));
        }
        public function getPreviousLeaf(_arg1:FlowGroupElement=null):FlowLeafElement{
            if (!parent){
                return (null);
            };
            return (parent.getPreviousLeafHelper(_arg1, this));
        }
        override public function getCharAtPosition(_arg1:int):String{
            return (((this._text) ? this._text.charAt(_arg1) : ""));
        }
        override tlf_internal function normalizeRange(_arg1:uint, _arg2:uint):void{
            if (this._blockElement){
                this.computedFormat;
            };
        }
        public function getComputedFontMetrics():FontMetrics{
            if (!this._blockElement){
                this.createContentElement();
            };
            var _local1:ElementFormat = this._blockElement.elementFormat;
            if (!_local1){
                return (null);
            };
            var _local2:TextFlow = getTextFlow();
            if (((((_local2) && (_local2.flowComposer))) && (_local2.flowComposer.swfContext))){
                return (_local2.flowComposer.swfContext.callInContext(_local1.getFontMetrics, _local1, null, true));
            };
            return (_local1.getFontMetrics());
        }
        tlf_internal function computeElementFormat():ElementFormat{
            var _local1:TextFlow = getTextFlow();
            return (computeElementFormatHelper(_computedFormat, getParagraph(), ((((_local1) && (_local1.flowComposer))) ? _local1.flowComposer.swfContext : null)));
        }
        override public function get computedFormat():ITextLayoutFormat{
            if (!_computedFormat){
                _computedFormat = doComputeTextLayoutFormat();
                if (this._blockElement){
                    this._blockElement.elementFormat = this.computeElementFormat();
                };
            };
            return (_computedFormat);
        }
        tlf_internal function getEffectiveLineHeight(_arg1:String):Number{
            if ((((_arg1 == BlockProgression.RL)) && ((parent is TCYElement)))){
                return (0);
            };
            return (TextLayoutFormat.lineHeightProperty.computeActualPropertyValue(_computedFormat.lineHeight, this.getEffectiveFontSize()));
        }
        tlf_internal function getCSSInlineBox(_arg1:String, _arg2:TextLine, _arg3:ParagraphElement=null, _arg4:ISWFContext=null):Rectangle{
            if ((((_arg1 == BlockProgression.RL)) && ((parent is TCYElement)))){
                return (null);
            };
            return (getCSSInlineBoxHelper(this.computedFormat, this.getComputedFontMetrics(), _arg2, _arg3));
        }
        tlf_internal function getEffectiveFontSize():Number{
            return (Number(this.computedFormat.fontSize));
        }
        tlf_internal function getSpanBoundsOnLine(_arg1:TextLine, _arg2:String):Array{
            var _local10:String;
            var _local3:TextFlowLine = TextFlowLine(_arg1.userData);
            var _local4:int = _local3.paragraph.getAbsoluteStart();
            var _local5:int = ((_local3.absoluteStart + _local3.textLength) - _local4);
            var _local6:int = (getAbsoluteStart() - _local4);
            var _local7:int = (_local6 + this.text.length);
            var _local8:int = Math.max(_local6, (_local3.absoluteStart - _local4));
            if (_local7 >= _local5){
                _local7 = _local5;
                _local10 = this.text;
                while ((((_local7 > _local8)) && (CharacterUtil.isWhitespace(_local10.charCodeAt(((_local7 - _local6) - 1)))))) {
                    _local7--;
                };
            };
            var _local9:Array = [];
            _local3.calculateSelectionBounds(_arg1, _local9, _local8, _local7, _arg2, [_local3.textHeight, 0]);
            return (_local9);
        }
        tlf_internal function updateIMEAdornments(_arg1:TextLine, _arg2:String, _arg3:String):void{
            var _local7:int;
            var _local8:uint;
            var _local9:Number;
            var _local10:Number;
            var _local11:Number;
            var _local12:Number;
            var _local13:Rectangle;
            var _local14:Number;
            var _local15:Number;
            var _local16:Shape;
            var _local17:TextFlowLine;
            var _local18:int;
            var _local19:TCYElement;
            var _local20:Rectangle;
            var _local21:Number;
            var _local4:FontMetrics = this.getComputedFontMetrics();
            var _local5:Array = this.getSpanBoundsOnLine(_arg1, _arg2);
            var _local6:int;
            while (_local6 < _local5.length) {
                _local7 = 1;
                _local8 = 0;
                _local9 = 0;
                _local10 = 0;
                _local11 = 0;
                _local12 = 0;
                if ((((_arg3 == IMEStatus.SELECTED_CONVERTED)) || ((_arg3 == IMEStatus.SELECTED_RAW)))){
                    _local7 = 2;
                };
                if ((((((_arg3 == IMEStatus.SELECTED_RAW)) || ((_arg3 == IMEStatus.NOT_SELECTED_RAW)))) || ((_arg3 == IMEStatus.DEAD_KEY_INPUT_STATE)))){
                    _local8 = 0xA6A6A6;
                };
                _local13 = (_local5[_local6] as Rectangle);
                _local14 = this.calculateStrikeThrough(_arg1, _arg2, _local4);
                _local15 = this.calculateUnderlineOffset(_local14, _arg2, _local4, _arg1);
                if (_arg2 != BlockProgression.RL){
                    _local9 = (_local13.topLeft.x + 1);
                    _local11 = ((_local13.topLeft.x + _local13.width) - 1);
                    _local10 = _local15;
                    _local12 = _local15;
                } else {
                    _local17 = (_arg1.userData as TextFlowLine);
                    _local18 = (this.getAbsoluteStart() - _local17.absoluteStart);
                    _local10 = (_local13.topLeft.y + 1);
                    _local12 = ((_local13.topLeft.y + _local13.height) - 1);
                    if ((((((_local18 < 0)) || ((_arg1.atomCount <= _local18)))) || (!((_arg1.getAtomTextRotation(_local18) == TextRotation.ROTATE_0))))){
                        _local9 = _local15;
                        _local11 = _local15;
                    } else {
                        _local19 = (this.getParentByType(TCYElement) as TCYElement);
                        if ((this.getAbsoluteStart() + this.textLength) == (_local19.getAbsoluteStart() + _local19.textLength)){
                            _local20 = new Rectangle();
                            _local19.calculateAdornmentBounds(_local19, _arg1, _arg2, _local20);
                            _local21 = (_local4.underlineOffset + (_local4.underlineThickness / 2));
                            _local10 = (_local20.top + 1);
                            _local12 = (_local20.bottom - 1);
                            _local9 = (_local13.bottomRight.x + _local21);
                            _local11 = (_local13.bottomRight.x + _local21);
                        };
                    };
                };
                _local16 = new Shape();
                _local16.alpha = 1;
                _local16.graphics.beginFill(_local8);
                _local16.graphics.lineStyle(_local7, _local8, _local16.alpha);
                _local16.graphics.moveTo(_local9, _local10);
                _local16.graphics.lineTo(_local11, _local12);
                _local16.graphics.endFill();
                _arg1.addChild(_local16);
                _local6++;
            };
        }
        tlf_internal function updateAdornments(_arg1:TextLine, _arg2:String):int{
            var _local3:Array;
            var _local4:int;
            if ((((((_computedFormat.textDecoration == TextDecoration.UNDERLINE)) || (_computedFormat.lineThrough))) || ((((_computedFormat.backgroundAlpha > 0)) && (!((_computedFormat.backgroundColor == BackgroundColor.TRANSPARENT))))))){
                _local3 = this.getSpanBoundsOnLine(_arg1, _arg2);
                _local4 = 0;
                while (_local4 < _local3.length) {
                    this.updateAdornmentsOnBounds(_arg1, _arg2, _local3[_local4]);
                    _local4++;
                };
                return (_local3.length);
            };
            return (0);
        }
        private function updateAdornmentsOnBounds(_arg1:TextLine, _arg2:String, _arg3:Rectangle):void{
            var _local6:Shape;
            var _local7:Graphics;
            var _local8:Number;
            var _local9:Number;
            var _local10:TextFlowLine;
            var _local11:int;
            var _local12:TCYElement;
            var _local13:ParagraphElement;
            var _local14:String;
            var _local15:Boolean;
            var _local16:Rectangle;
            var _local17:Number;
            var _local18:Number;
            var _local19:Number;
            var _local20:TextLine;
            var _local4:FontMetrics = this.getComputedFontMetrics();
            var _local5 = !((((_computedFormat.textDecoration == TextDecoration.UNDERLINE)) || (_computedFormat.lineThrough)));
            if (!_local5){
                _local6 = new Shape();
                _local6.alpha = Number(_computedFormat.textAlpha);
                _local7 = _local6.graphics;
                _local8 = this.calculateStrikeThrough(_arg1, _arg2, _local4);
                _local9 = this.calculateUnderlineOffset(_local8, _arg2, _local4, _arg1);
            };
            if (_arg2 != BlockProgression.RL){
                this.addBackgroundRect(_arg1, _local4, _arg3, true);
                if (_computedFormat.textDecoration == TextDecoration.UNDERLINE){
                    _local7.lineStyle(_local4.underlineThickness, (_computedFormat.color as uint));
                    _local7.moveTo(_arg3.topLeft.x, _local9);
                    _local7.lineTo((_arg3.topLeft.x + _arg3.width), _local9);
                };
                if (_computedFormat.lineThrough){
                    _local7.lineStyle(_local4.strikethroughThickness, (_computedFormat.color as uint));
                    _local7.moveTo(_arg3.topLeft.x, _local8);
                    _local7.lineTo((_arg3.topLeft.x + _arg3.width), _local8);
                };
            } else {
                _local10 = (_arg1.userData as TextFlowLine);
                _local11 = (this.getAbsoluteStart() - _local10.absoluteStart);
                if ((((((_local11 < 0)) || ((_arg1.atomCount <= _local11)))) || (!((_arg1.getAtomTextRotation(_local11) == TextRotation.ROTATE_0))))){
                    this.addBackgroundRect(_arg1, _local4, _arg3, false);
                    if (_computedFormat.textDecoration == TextDecoration.UNDERLINE){
                        _local7.lineStyle(_local4.underlineThickness, (_computedFormat.color as uint));
                        _local7.moveTo(_local9, _arg3.topLeft.y);
                        _local7.lineTo(_local9, (_arg3.topLeft.y + _arg3.height));
                    };
                    if (_computedFormat.lineThrough == true){
                        _local7.lineStyle(_local4.strikethroughThickness, (_computedFormat.color as uint));
                        _local7.moveTo(-(_local8), _arg3.topLeft.y);
                        _local7.lineTo(-(_local8), (_arg3.topLeft.y + _arg3.height));
                    };
                } else {
                    this.addBackgroundRect(_arg1, _local4, _arg3, true, true);
                    if (!_local5){
                        _local12 = (this.getParentByType(TCYElement) as TCYElement);
                        _local13 = (this.getParentByType(ParagraphElement) as ParagraphElement);
                        _local14 = _local13.computedFormat.locale.toLowerCase();
                        _local15 = !((_local14.indexOf("zh") == 0));
                        if ((this.getAbsoluteStart() + this.textLength) == (_local12.getAbsoluteStart() + _local12.textLength)){
                            _local16 = new Rectangle();
                            _local12.calculateAdornmentBounds(_local12, _arg1, _arg2, _local16);
                            if (_computedFormat.textDecoration == TextDecoration.UNDERLINE){
                                _local7.lineStyle(_local4.underlineThickness, (_computedFormat.color as uint));
                                _local17 = (_local4.underlineOffset + (_local4.underlineThickness / 2));
                                _local18 = ((_local15) ? _arg3.right : _arg3.left);
                                if (!_local15){
                                    _local17 = -(_local17);
                                };
                                _local7.moveTo((_local18 + _local17), _local16.top);
                                _local7.lineTo((_local18 + _local17), _local16.bottom);
                            };
                            if (_computedFormat.lineThrough == true){
                                _local19 = (_arg3.bottomRight.x - _local16.x);
                                _local19 = (_local19 / 2);
                                _local19 = (_local19 + _local16.x);
                                _local7.lineStyle(_local4.strikethroughThickness, (_computedFormat.color as uint));
                                _local7.moveTo(_local19, _local16.top);
                                _local7.lineTo(_local19, _local16.bottom);
                            };
                        };
                    };
                };
            };
            if (_local6){
                _local20 = (_arg1.userData as TextFlowLine).peekTextLine();
                if (((_local20) && (!((_arg1 == _local20))))){
                    _arg1 = _local20;
                };
                _arg1.addChild(_local6);
            };
        }
        private function addBackgroundRect(_arg1:TextLine, _arg2:FontMetrics, _arg3:Rectangle, _arg4:Boolean, _arg5:Boolean=false):void{
            var _local8:Number;
            var _local9:Number;
            var _local10:Number;
            var _local11:Number;
            var _local12:Number;
            var _local13:Number;
            var _local14:Number;
            var _local15:Number;
            if ((((_computedFormat.backgroundAlpha == 0)) || ((_computedFormat.backgroundColor == BackgroundColor.TRANSPARENT)))){
                return;
            };
            var _local6:TextFlow = this.getTextFlow();
            if (!_local6.getBackgroundManager()){
                return;
            };
            var _local7:Rectangle = _arg3.clone();
            if (((!(_arg5)) && ((((_computedFormat.baselineShift == BaselineShift.SUPERSCRIPT)) || ((_computedFormat.baselineShift == BaselineShift.SUBSCRIPT)))))){
                _local10 = this.getEffectiveFontSize();
                _local11 = (_arg2.strikethroughOffset + (_arg2.strikethroughThickness / 2));
                if (_computedFormat.baselineShift == BaselineShift.SUPERSCRIPT){
                    _local12 = (-3 * _local11);
                    _local9 = (-(_arg2.superscriptOffset) * _local10);
                    _local13 = (_arg1.getBaselinePosition(TextBaseline.DESCENT) - _arg1.getBaselinePosition(TextBaseline.ROMAN));
                    _local8 = ((_local12 + _local9) + _local13);
                    if (_arg4){
                        if (_local8 > _local7.height){
                            _local7.y = (_local7.y - (_local8 - _local7.height));
                            _local7.height = _local8;
                        };
                    } else {
                        if (_local8 > _local7.width){
                            _local7.width = _local8;
                        };
                    };
                } else {
                    _local14 = -(_local11);
                    _local9 = (_arg2.subscriptOffset * _local10);
                    _local15 = (_arg1.getBaselinePosition(TextBaseline.ROMAN) - _arg1.getBaselinePosition(TextBaseline.ASCENT));
                    _local8 = ((_local15 + _local9) + _local14);
                    if (_arg4){
                        if (_local8 > _local7.height){
                            _local7.height = _local8;
                        };
                    } else {
                        if (_local8 > _local7.width){
                            _local7.x = (_local7.x - (_local8 - _local7.width));
                            _local7.width = _local8;
                        };
                    };
                };
            };
            _local6.backgroundManager.addRect(_arg1, this, _local7, _computedFormat.backgroundColor, _computedFormat.backgroundAlpha);
        }
        tlf_internal function calculateStrikeThrough(_arg1:TextLine, _arg2:String, _arg3:FontMetrics):Number{
            var _local4:int;
            var _local5:Number = this.getEffectiveFontSize();
            if (_computedFormat.baselineShift == BaselineShift.SUPERSCRIPT){
                _local4 = -((_arg3.superscriptOffset * _local5));
            } else {
                if (_computedFormat.baselineShift == BaselineShift.SUBSCRIPT){
                    _local4 = -((_arg3.subscriptOffset * (_local5 / _arg3.subscriptScale)));
                } else {
                    _local4 = TextLayoutFormat.baselineShiftProperty.computeActualPropertyValue(_computedFormat.baselineShift, _local5);
                };
            };
            var _local6:String = resolveDomBaseline(this.computedFormat, getParagraph());
            var _local7:String = this.computedFormat.alignmentBaseline;
            var _local8:Number = _arg1.getBaselinePosition(_local6);
            if (((!((_local7 == TextBaseline.USE_DOMINANT_BASELINE))) && (!((_local7 == _local6))))){
                _local8 = _arg1.getBaselinePosition(_local7);
            };
            var _local9:Number = _arg3.strikethroughOffset;
            if (_local6 == TextBaseline.IDEOGRAPHIC_CENTER){
                _local9 = 0;
            } else {
                if ((((_local6 == TextBaseline.IDEOGRAPHIC_TOP)) || ((_local6 == TextBaseline.ASCENT)))){
                    _local9 = (_local9 * -2);
                    _local9 = (_local9 - (2 * _arg3.strikethroughThickness));
                } else {
                    if ((((_local6 == TextBaseline.IDEOGRAPHIC_BOTTOM)) || ((_local6 == TextBaseline.DESCENT)))){
                        _local9 = (_local9 * 2);
                        _local9 = (_local9 + (2 * _arg3.strikethroughThickness));
                    } else {
                        _local9 = (_local9 - _arg3.strikethroughThickness);
                    };
                };
            };
            _local9 = (_local9 + (_local8 - _local4));
            return (_local9);
        }
        tlf_internal function calculateUnderlineOffset(_arg1:Number, _arg2:String, _arg3:FontMetrics, _arg4:TextLine):Number{
            var _local7:ParagraphElement;
            var _local5:Number = (_arg3.underlineOffset + _arg3.underlineThickness);
            var _local6:Number = _arg3.strikethroughOffset;
            if (_arg2 != BlockProgression.RL){
                _local5 = (_local5 + ((_arg1 - _local6) + (_arg3.underlineThickness / 2)));
            } else {
                _local7 = this.getParagraph();
                if (_local7.computedFormat.locale.toLowerCase().indexOf("zh") == 0){
                    _local5 = -(_local5);
                    _local5 = (_local5 - ((_arg1 - _local6) + (_arg3.underlineThickness * 2)));
                } else {
                    _local5 = (_local5 - (((-(_local5) + _arg1) + _local6) + (_arg3.underlineThickness / 2)));
                };
            };
            return (_local5);
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {

    public class ParagraphFormattedElement extends FlowGroupElement {

        override public function shallowCopy(_arg1:int=0, _arg2:int=-1):FlowElement{
            return ((super.shallowCopy(_arg1, _arg2) as ParagraphFormattedElement));
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flash.utils.*;
    import flash.text.engine.*;
    import flash.events.*;
    import __AS3__.vec.*;
    import flashx.textLayout.events.*;
    import flashx.textLayout.*;

    public class SubParagraphGroupElementBase extends FlowGroupElement {

        tlf_internal static const kMaxSPGEPrecedence:uint = 1000;
        tlf_internal static const kMinSPGEPrecedence:uint = 0;

        private var _groupElement:GroupElement;
        tlf_internal var _eventMirror:FlowElementEventDispatcher = null;

        override tlf_internal function createContentElement():void{
            var _local2:FlowElement;
            if (this._groupElement){
                return;
            };
            computedFormat;
            this._groupElement = new GroupElement(null);
            var _local1:int;
            while (_local1 < numChildren) {
                _local2 = getChildAt(_local1);
                _local2.createContentElement();
                _local1++;
            };
            if (parent){
                parent.insertBlockElement(this, this._groupElement);
            };
        }
        override tlf_internal function releaseContentElement():void{
            var _local2:FlowElement;
            if (this._groupElement == null){
                return;
            };
            var _local1:int;
            while (_local1 < numChildren) {
                _local2 = getChildAt(_local1);
                _local2.releaseContentElement();
                _local1++;
            };
            this._groupElement = null;
            _computedFormat = null;
        }
        tlf_internal function get precedence():uint{
            return (kMaxSPGEPrecedence);
        }
        tlf_internal function get groupElement():GroupElement{
            return (this._groupElement);
        }
        override tlf_internal function getEventMirror():IEventDispatcher{
            if (!this._eventMirror){
                this._eventMirror = new FlowElementEventDispatcher(this);
            };
            return (this._eventMirror);
        }
        override tlf_internal function hasActiveEventMirror():Boolean{
            return (((this._eventMirror) && (!((this._eventMirror._listenerCount == 0)))));
        }
        override tlf_internal function appendElementsForDelayedUpdate(_arg1:TextFlow, _arg2:String):void{
            if (_arg2 == ModelChange.ELEMENT_ADDED){
                if (this.hasActiveEventMirror()){
                    _arg1.incInteractiveObjectCount();
                };
            } else {
                if (_arg2 == ModelChange.ELEMENT_REMOVAL){
                    if (this.hasActiveEventMirror()){
                        _arg1.decInteractiveObjectCount();
                    };
                };
            };
            super.appendElementsForDelayedUpdate(_arg1, _arg2);
        }
        override tlf_internal function createContentAsGroup():GroupElement{
            return (this.groupElement);
        }
        override tlf_internal function removeBlockElement(_arg1:FlowElement, _arg2:ContentElement):void{
            var _local3:int = this.getChildIndex(_arg1);
            this.groupElement.replaceElements(_local3, (_local3 + 1), null);
        }
        override tlf_internal function insertBlockElement(_arg1:FlowElement, _arg2:ContentElement):void{
            var _local3:int;
            var _local4:Vector.<ContentElement>;
            var _local5:ParagraphElement;
            if (this.groupElement){
                _local3 = this.getChildIndex(_arg1);
                _local4 = new Vector.<ContentElement>();
                _local4.push(_arg2);
                this.groupElement.replaceElements(_local3, _local3, _local4);
            } else {
                _arg1.releaseContentElement();
                _local5 = getParagraph();
                if (_local5){
                    _local5.createTextBlock();
                };
            };
        }
        override tlf_internal function hasBlockElement():Boolean{
            return (!((this.groupElement == null)));
        }
        override tlf_internal function setParentAndRelativeStart(_arg1:FlowGroupElement, _arg2:int):void{
            if (_arg1 == parent){
                return;
            };
            if (((((parent) && (parent.hasBlockElement()))) && (this.groupElement))){
                parent.removeBlockElement(this, this.groupElement);
            };
            if (((((_arg1) && (!(_arg1.hasBlockElement())))) && (this.groupElement))){
                _arg1.createContentElement();
            };
            super.setParentAndRelativeStart(_arg1, _arg2);
            if (((parent) && (parent.hasBlockElement()))){
                if (!this.groupElement){
                    this.createContentElement();
                } else {
                    parent.insertBlockElement(this, this.groupElement);
                };
            };
        }
        override public function replaceChildren(_arg1:int, _arg2:int, ... _args):void{
            var _local4:Array = [_arg1, _arg2];
            super.replaceChildren.apply(this, _local4.concat(_args));
            var _local5:ParagraphElement = this.getParagraph();
            if (_local5){
                _local5.ensureTerminatorAfterReplace();
            };
        }
        override tlf_internal function normalizeRange(_arg1:uint, _arg2:uint):void{
            var _local4:FlowElement;
            var _local5:int;
            var _local6:int;
            var _local7:FlowElement;
            var _local8:SpanElement;
            var _local3:int = findChildIndexAtPosition(_arg1);
            if (((!((_local3 == -1))) && ((_local3 < numChildren)))){
                _local4 = getChildAt(_local3);
                _arg1 = (_arg1 - _local4.parentRelativeStart);
                while (true) {
                    _local5 = (_local4.parentRelativeStart + _local4.textLength);
                    _local4.normalizeRange(_arg1, (_arg2 - _local4.parentRelativeStart));
                    _local6 = (_local4.parentRelativeStart + _local4.textLength);
                    _arg2 = (_arg2 + (_local6 - _local5));
                    if ((((_local4.textLength == 0)) && (!(_local4.bindableElement)))){
                        this.replaceChildren(_local3, (_local3 + 1));
                    } else {
                        if (_local4.mergeToPreviousIfPossible()){
                            _local7 = this.getChildAt((_local3 - 1));
                            _local7.normalizeRange(0, _local7.textLength);
                        } else {
                            _local3++;
                        };
                    };
                    if (_local3 == numChildren){
                        break;
                    };
                    _local4 = getChildAt(_local3);
                    if (_local4.parentRelativeStart > _arg2){
                        break;
                    };
                    _arg1 = 0;
                };
            };
            if ((((numChildren == 0)) && (!((parent == null))))){
                _local8 = new SpanElement();
                this.replaceChildren(0, 0, _local8);
                _local8.normalizeRange(0, _local8.textLength);
            };
        }
        tlf_internal function get allowNesting():Boolean{
            return (false);
        }
        private function checkForNesting(_arg1:SubParagraphGroupElementBase):Boolean{
            var _local2:int;
            var _local3:Class;
            if (_arg1){
                if (!_arg1.allowNesting){
                    _local3 = (getDefinitionByName(getQualifiedClassName(_arg1)) as Class);
                    if ((((this is _local3)) || (this.getParentByType(_local3)))){
                        return (false);
                    };
                };
                _local2 = (_arg1.numChildren - 1);
                while (_local2 >= 0) {
                    if (!this.checkForNesting((_arg1.getChildAt(_local2) as SubParagraphGroupElementBase))){
                        return (false);
                    };
                    _local2--;
                };
            };
            return (true);
        }
        override tlf_internal function canOwnFlowElement(_arg1:FlowElement):Boolean{
            if ((_arg1 is FlowLeafElement)){
                return (true);
            };
            if ((((_arg1 is SubParagraphGroupElementBase)) && (this.checkForNesting((_arg1 as SubParagraphGroupElementBase))))){
                return (true);
            };
            return (false);
        }
        tlf_internal function acceptTextBefore():Boolean{
            return (true);
        }
        tlf_internal function acceptTextAfter():Boolean{
            return (true);
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {

    public final class InlineGraphicElementStatus {

        public static const LOAD_PENDING:String = "loadPending";
        public static const LOADING:String = "loading";
        public static const SIZE_PENDING:String = "sizePending";
        public static const READY:String = "ready";
        public static const ERROR:String = "error";

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flash.utils.*;
    import flash.text.engine.*;
    import __AS3__.vec.*;
    import flashx.textLayout.property.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.compose.*;
    import flashx.textLayout.utils.*;
    import flashx.textLayout.*;

    public final class ParagraphElement extends ParagraphFormattedElement {

        private static const defaultTabWidth:int = 48;
        private static const defaultTabCount:int = 20;

        private static var _defaultTabStops:Vector.<TabStop>;

        private var _textBlock:TextBlock;
        private var _terminatorSpan:SpanElement;

        public function ParagraphElement(){
            this._terminatorSpan = null;
        }
        private static function initializeDefaultTabStops():void{
            _defaultTabStops = new Vector.<TabStop>(defaultTabCount, true);
            var _local1:int;
            while (_local1 < defaultTabCount) {
                _defaultTabStops[_local1] = new TabStop(TextAlign.START, (defaultTabWidth * _local1));
                _local1++;
            };
        }
        tlf_internal static function getLeadingBasis(_arg1:String):String{
            switch (_arg1){
                case LeadingModel.ASCENT_DESCENT_UP:
                case LeadingModel.APPROXIMATE_TEXT_FIELD:
                case LeadingModel.BOX:
                case LeadingModel.ROMAN_UP:
                default:
                    return (TextBaseline.ROMAN);
                case LeadingModel.IDEOGRAPHIC_TOP_UP:
                case LeadingModel.IDEOGRAPHIC_TOP_DOWN:
                    return (TextBaseline.IDEOGRAPHIC_TOP);
                case LeadingModel.IDEOGRAPHIC_CENTER_UP:
                case LeadingModel.IDEOGRAPHIC_CENTER_DOWN:
                    return (TextBaseline.IDEOGRAPHIC_CENTER);
            };
        }
        tlf_internal static function useUpLeadingDirection(_arg1:String):Boolean{
            switch (_arg1){
                case LeadingModel.ASCENT_DESCENT_UP:
                case LeadingModel.APPROXIMATE_TEXT_FIELD:
                case LeadingModel.BOX:
                case LeadingModel.ROMAN_UP:
                case LeadingModel.IDEOGRAPHIC_TOP_UP:
                case LeadingModel.IDEOGRAPHIC_CENTER_UP:
                default:
                    return (true);
                case LeadingModel.IDEOGRAPHIC_TOP_DOWN:
                case LeadingModel.IDEOGRAPHIC_CENTER_DOWN:
                    return (false);
            };
        }

        tlf_internal function createTextBlock():void{
            var _local2:FlowElement;
            this.computedFormat;
            this._textBlock = new TextBlock();
            var _local1:int;
            while (_local1 < numChildren) {
                _local2 = getChildAt(_local1);
                _local2.createContentElement();
                _local1++;
            };
            this.updateTextBlock();
        }
        tlf_internal function releaseTextBlock():void{
            var _local2:TextLine;
            var _local3:TextFlowLine;
            var _local4:FlowElement;
            if (!this._textBlock){
                return;
            };
            if (this._textBlock.firstLine){
                _local2 = this._textBlock.firstLine;
                while (_local2 != null) {
                    if (_local2.numChildren != 0){
                        _local3 = (_local2.userData as TextFlowLine);
                        if (_local3.adornCount != _local2.numChildren){
                            return;
                        };
                    };
                    _local2 = _local2.nextLine;
                };
                this._textBlock.releaseLines(this._textBlock.firstLine, this._textBlock.lastLine);
            };
            this._textBlock.content = null;
            var _local1:int;
            while (_local1 < numChildren) {
                _local4 = getChildAt(_local1);
                _local4.releaseContentElement();
                _local1++;
            };
            this._textBlock = null;
            if (_computedFormat){
                _computedFormat = null;
            };
        }
        tlf_internal function getTextBlock():TextBlock{
            if (!this._textBlock){
                this.createTextBlock();
            };
            return (this._textBlock);
        }
        tlf_internal function peekTextBlock():TextBlock{
            return (this._textBlock);
        }
        tlf_internal function releaseLineCreationData():void{
            if (this._textBlock){
                var _local1 = this._textBlock;
                _local1["releaseLineCreationData"]();
            };
        }
        override tlf_internal function createContentAsGroup():GroupElement{
            var _local2:ContentElement;
            var _local3:Vector.<ContentElement>;
            var _local4:TextFlow;
            var _local1:GroupElement = (this._textBlock.content as GroupElement);
            if (!_local1){
                _local2 = this._textBlock.content;
                _local1 = new GroupElement();
                this._textBlock.content = _local1;
                if (_local2){
                    _local3 = new Vector.<ContentElement>();
                    _local3.push(_local2);
                    _local1.replaceElements(0, 0, _local3);
                };
                if (((this._textBlock.firstLine) && (textLength))){
                    _local4 = getTextFlow();
                    if (_local4){
                        _local4.damage(getAbsoluteStart(), textLength, TextLineValidity.INVALID, false);
                    };
                };
            };
            return (_local1);
        }
        override tlf_internal function removeBlockElement(_arg1:FlowElement, _arg2:ContentElement):void{
            var _local3:int;
            var _local4:GroupElement;
            var _local5:ContentElement;
            if (numChildren == 1){
                if ((_arg2 is GroupElement)){
                    GroupElement(this._textBlock.content).replaceElements(0, 1, null);
                };
                this._textBlock.content = null;
            } else {
                _local3 = this.getChildIndex(_arg1);
                _local4 = GroupElement(this._textBlock.content);
                _local4.replaceElements(_local3, (_local3 + 1), null);
                if (numChildren == 2){
                    _local5 = _local4.getElementAt(0);
                    if (!(_local5 is GroupElement)){
                        _local4.replaceElements(0, 1, null);
                        this._textBlock.content = _local5;
                    };
                };
            };
        }
        override tlf_internal function hasBlockElement():Boolean{
            return (!((this._textBlock == null)));
        }
        override tlf_internal function createContentElement():void{
            this.createTextBlock();
        }
        override tlf_internal function insertBlockElement(_arg1:FlowElement, _arg2:ContentElement):void{
            var _local3:Vector.<ContentElement>;
            var _local4:GroupElement;
            var _local5:int;
            if (this._textBlock == null){
                _arg1.releaseContentElement();
                this.createTextBlock();
                return;
            };
            if (numChildren == 1){
                if ((_arg2 is GroupElement)){
                    _local3 = new Vector.<ContentElement>();
                    _local3.push(_arg2);
                    _local4 = new GroupElement(_local3);
                    this._textBlock.content = _local4;
                } else {
                    this._textBlock.content = _arg2;
                };
            } else {
                _local4 = this.createContentAsGroup();
                _local5 = this.getChildIndex(_arg1);
                _local3 = new Vector.<ContentElement>();
                _local3.push(_arg2);
                _local4.replaceElements(_local5, _local5, _local3);
            };
        }
        override protected function get abstract():Boolean{
            return (false);
        }
        override tlf_internal function get defaultTypeName():String{
            return ("p");
        }
        override public function replaceChildren(_arg1:int, _arg2:int, ... _args):void{
            var _local4:Array;
            if (_args.length == 1){
                _local4 = [_arg1, _arg2, _args[0]];
            } else {
                _local4 = [_arg1, _arg2];
                if (_args.length != 0){
                    _local4 = _local4.concat.apply(_local4, _args);
                };
            };
            super.replaceChildren.apply(this, _local4);
            this.ensureTerminatorAfterReplace();
        }
        tlf_internal function ensureTerminatorAfterReplace():void{
            var _local2:SpanElement;
            var _local1:FlowLeafElement = getLastLeaf();
            if (this._terminatorSpan != _local1){
                if (this._terminatorSpan){
                    this._terminatorSpan.removeParaTerminator();
                    this._terminatorSpan = null;
                };
                if (_local1){
                    if ((_local1 is SpanElement)){
                        (_local1 as SpanElement).addParaTerminator();
                        this._terminatorSpan = (_local1 as SpanElement);
                    } else {
                        _local2 = new SpanElement();
                        super.replaceChildren(numChildren, numChildren, _local2);
                        _local2.format = _local1.format;
                        _local2.addParaTerminator();
                        this._terminatorSpan = _local2;
                    };
                };
            };
        }
        tlf_internal function updateTerminatorSpan(_arg1:SpanElement, _arg2:SpanElement):void{
            if (this._terminatorSpan == _arg1){
                this._terminatorSpan = _arg2;
            };
        }
        override public function set mxmlChildren(_arg1:Array):void{
            var _local2:Object;
            var _local3:SpanElement;
            this.replaceChildren(0, numChildren);
            for each (_local2 in _arg1) {
                if ((_local2 is FlowElement)){
                    if ((((_local2 is SpanElement)) || ((_local2 is SubParagraphGroupElementBase)))){
                        _local2.bindableElement = true;
                    };
                    super.replaceChildren(numChildren, numChildren, (_local2 as FlowElement));
                } else {
                    if ((_local2 is String)){
                        _local3 = new SpanElement();
                        _local3.text = String(_local2);
                        _local3.bindableElement = true;
                        super.replaceChildren(numChildren, numChildren, _local3);
                    } else {
                        if (_local2 != null){
                            throw (new TypeError(GlobalSettings.resourceStringFunction("badMXMLChildrenArgument", [getQualifiedClassName(_local2)])));
                        };
                    };
                };
            };
            this.ensureTerminatorAfterReplace();
        }
        override public function getText(_arg1:int=0, _arg2:int=-1, _arg3:String="\n"):String{
            var _local4:String;
            if ((((((_arg1 == 0)) && ((((_arg2 == -1)) || ((_arg2 >= (textLength - 1))))))) && (this._textBlock))){
                if (this._textBlock.content){
                    _local4 = this._textBlock.content.rawText;
                    return (_local4.substring(0, (_local4.length - 1)));
                };
                return ("");
            };
            return (super.getText(_arg1, _arg2, _arg3));
        }
        public function getNextParagraph():ParagraphElement{
            var _local1:FlowLeafElement = getLastLeaf().getNextLeaf();
            return (((_local1) ? _local1.getParagraph() : null));
        }
        public function getPreviousParagraph():ParagraphElement{
            var _local1:FlowLeafElement = getFirstLeaf().getPreviousLeaf();
            return (((_local1) ? _local1.getParagraph() : null));
        }
        public function findPreviousAtomBoundary(_arg1:int):int{
            return (this.getTextBlock().findPreviousAtomBoundary(_arg1));
        }
        public function findNextAtomBoundary(_arg1:int):int{
            return (this.getTextBlock().findNextAtomBoundary(_arg1));
        }
        override public function getCharAtPosition(_arg1:int):String{
            return (this.getTextBlock().content.rawText.charAt(_arg1));
        }
        public function findPreviousWordBoundary(_arg1:int):int{
            if (_arg1 == 0){
                return (0);
            };
            var _local2:int = getCharCodeAtPosition((_arg1 - 1));
            if (CharacterUtil.isWhitespace(_local2)){
                while (((CharacterUtil.isWhitespace(_local2)) && (((_arg1 - 1) > 0)))) {
                    _arg1--;
                    _local2 = getCharCodeAtPosition((_arg1 - 1));
                };
                return (_arg1);
            };
            return (this.getTextBlock().findPreviousWordBoundary(_arg1));
        }
        public function findNextWordBoundary(_arg1:int):int{
            if (_arg1 == textLength){
                return (textLength);
            };
            var _local2:int = getCharCodeAtPosition(_arg1);
            if (CharacterUtil.isWhitespace(_local2)){
                while (((CharacterUtil.isWhitespace(_local2)) && ((_arg1 < (textLength - 1))))) {
                    _arg1++;
                    _local2 = getCharCodeAtPosition(_arg1);
                };
                return (_arg1);
            };
            return (this.getTextBlock().findNextWordBoundary(_arg1));
        }
        private function updateTextBlock():void{
            var _local3:String;
            var _local6:SpaceJustifier;
            var _local7:Number;
            var _local8:Number;
            var _local9:Number;
            var _local10:EastAsianJustifier;
            var _local11:Vector.<TabStop>;
            var _local12:TabStopFormat;
            var _local13:String;
            var _local14:String;
            var _local15:TabStop;
            var _local16:String;
            var _local1:ContainerFormattedElement = getAncestorWithContainer();
            if (!_local1){
                return;
            };
            var _local2:ITextLayoutFormat = ((_local1) ? _local1.computedFormat : TextLayoutFormat.defaultFormat);
            if (this.computedFormat.textAlign == TextAlign.JUSTIFY){
                _local3 = ((_computedFormat.textAlignLast)==TextAlign.JUSTIFY) ? LineJustification.ALL_INCLUDING_LAST : LineJustification.ALL_BUT_LAST;
                if (_local2.lineBreak == LineBreak.EXPLICIT){
                    _local3 = LineJustification.UNJUSTIFIED;
                };
            } else {
                _local3 = LineJustification.UNJUSTIFIED;
            };
            var _local4:String = this.getEffectiveJustificationStyle();
            var _local5:String = this.getEffectiveJustificationRule();
            if (_local5 == JustificationRule.SPACE){
                _local6 = new SpaceJustifier(_computedFormat.locale, _local3, false);
                _local6.letterSpacing = (((_computedFormat.textJustify == TextJustify.DISTRIBUTE)) ? true : false);
                if (Configuration.playerEnablesArgoFeatures){
                    _local7 = (Property.toNumberIfPercent(_computedFormat.wordSpacing.minimumSpacing) / 100);
                    _local8 = (Property.toNumberIfPercent(_computedFormat.wordSpacing.maximumSpacing) / 100);
                    _local9 = (Property.toNumberIfPercent(_computedFormat.wordSpacing.optimumSpacing) / 100);
                    _local6["minimumSpacing"] = Math.min(_local7, _local6["minimumSpacing"]);
                    _local6["maximumSpacing"] = Math.max(_local8, _local6["maximumSpacing"]);
                    _local6["optimumSpacing"] = _local9;
                    _local6["minimumSpacing"] = _local7;
                    _local6["maximumSpacing"] = _local8;
                };
                this._textBlock.textJustifier = _local6;
                this._textBlock.baselineZero = getLeadingBasis(this.getEffectiveLeadingModel());
            } else {
                _local10 = new EastAsianJustifier(_computedFormat.locale, _local3, _local4);
                this._textBlock.textJustifier = _local10;
                this._textBlock.baselineZero = getLeadingBasis(this.getEffectiveLeadingModel());
            };
            this._textBlock.bidiLevel = (((_computedFormat.direction == Direction.LTR)) ? 0 : 1);
            this._textBlock.lineRotation = (((_local2.blockProgression == BlockProgression.RL)) ? TextRotation.ROTATE_90 : TextRotation.ROTATE_0);
            if (((_computedFormat.tabStops) && (!((_computedFormat.tabStops.length == 0))))){
                _local11 = new Vector.<TabStop>();
                for each (_local12 in _computedFormat.tabStops) {
                    _local13 = (((_local12.decimalAlignmentToken == null)) ? "" : _local12.decimalAlignmentToken);
                    _local14 = (((_local12.alignment == null)) ? TabAlignment.START : _local12.alignment);
                    _local15 = new TabStop(_local14, Number(_local12.position), _local13);
                    if (_local12.decimalAlignmentToken != null){
                        _local16 = ("x" + _local15.decimalAlignmentToken);
                    };
                    _local11.push(_local15);
                };
                this._textBlock.tabStops = _local11;
            } else {
                if (((GlobalSettings.enableDefaultTabStops) && (!(Configuration.playerEnablesArgoFeatures)))){
                    if (_defaultTabStops == null){
                        initializeDefaultTabStops();
                    };
                    this._textBlock.tabStops = _defaultTabStops;
                } else {
                    this._textBlock.tabStops = null;
                };
            };
        }
        override public function get computedFormat():ITextLayoutFormat{
            if (!_computedFormat){
                super.computedFormat;
                if (this._textBlock){
                    this.updateTextBlock();
                };
            };
            return (_computedFormat);
        }
        override tlf_internal function canOwnFlowElement(_arg1:FlowElement):Boolean{
            return ((((_arg1 is FlowLeafElement)) || ((_arg1 is SubParagraphGroupElementBase))));
        }
        override tlf_internal function normalizeRange(_arg1:uint, _arg2:uint):void{
            var _local4:FlowElement;
            var _local5:int;
            var _local6:int;
            var _local7:FlowElement;
            var _local8:FlowElement;
            var _local9:SpanElement;
            var _local3:int = findChildIndexAtPosition(_arg1);
            if (((!((_local3 == -1))) && ((_local3 < numChildren)))){
                _local4 = getChildAt(_local3);
                _arg1 = (_arg1 - _local4.parentRelativeStart);
                while (true) {
                    _local5 = (_local4.parentRelativeStart + _local4.textLength);
                    _local4.normalizeRange(_arg1, (_arg2 - _local4.parentRelativeStart));
                    _local6 = (_local4.parentRelativeStart + _local4.textLength);
                    _arg2 = (_arg2 + (_local6 - _local5));
                    if ((((_local4.textLength == 0)) && (!(_local4.bindableElement)))){
                        this.replaceChildren(_local3, (_local3 + 1));
                    } else {
                        if (_local4.mergeToPreviousIfPossible()){
                            _local7 = this.getChildAt((_local3 - 1));
                            _local7.normalizeRange(0, _local7.textLength);
                        } else {
                            _local3++;
                        };
                    };
                    if (_local3 == numChildren){
                        if (_local3 != 0){
                            _local8 = this.getChildAt((_local3 - 1));
                            if ((((((_local8 is SubParagraphGroupElementBase)) && ((_local8.textLength == 1)))) && (!(_local8.bindableElement)))){
                                this.replaceChildren((_local3 - 1), _local3);
                            };
                        };
                        break;
                    };
                    _local4 = getChildAt(_local3);
                    if (_local4.parentRelativeStart > _arg2){
                        break;
                    };
                    _arg1 = 0;
                };
            };
            if ((((numChildren == 0)) || ((textLength == 0)))){
                _local9 = new SpanElement();
                this.replaceChildren(0, 0, _local9);
                _local9.normalizeRange(0, _local9.textLength);
            };
        }
        tlf_internal function getEffectiveLeadingModel():String{
            return ((((this.computedFormat.leadingModel == LeadingModel.AUTO)) ? LocaleUtil.leadingModel(this.computedFormat.locale) : this.computedFormat.leadingModel));
        }
        tlf_internal function getEffectiveDominantBaseline():String{
            return ((((this.computedFormat.dominantBaseline == FormatValue.AUTO)) ? LocaleUtil.dominantBaseline(this.computedFormat.locale) : this.computedFormat.dominantBaseline));
        }
        tlf_internal function getEffectiveJustificationRule():String{
            return ((((this.computedFormat.justificationRule == FormatValue.AUTO)) ? LocaleUtil.justificationRule(this.computedFormat.locale) : this.computedFormat.justificationRule));
        }
        tlf_internal function getEffectiveJustificationStyle():String{
            return ((((this.computedFormat.justificationStyle == FormatValue.AUTO)) ? LocaleUtil.justificationStyle(this.computedFormat.locale) : this.computedFormat.justificationStyle));
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flashx.textLayout.*;

    public final class SubParagraphGroupElement extends SubParagraphGroupElementBase {

        override protected function get abstract():Boolean{
            return (false);
        }
        override tlf_internal function get defaultTypeName():String{
            return ("g");
        }
        override tlf_internal function get precedence():uint{
            return (kMinSPGEPrecedence);
        }
        override tlf_internal function get allowNesting():Boolean{
            return (true);
        }
        override tlf_internal function mergeToPreviousIfPossible():Boolean{
            var _local1:int;
            var _local2:SubParagraphGroupElement;
            if (((((parent) && (!(bindableElement)))) && (!(hasActiveEventMirror())))){
                _local1 = parent.getChildIndex(this);
                if (_local1 != 0){
                    _local2 = (parent.getChildAt((_local1 - 1)) as SubParagraphGroupElement);
                    if ((((_local2 == null)) || (_local2.hasActiveEventMirror()))){
                        return (false);
                    };
                    if (equalStylesForMerge(_local2)){
                        parent.removeChildAt(_local1);
                        if (numChildren > 0){
                            _local2.replaceChildren(_local2.numChildren, _local2.numChildren, this.mxmlChildren);
                        };
                        return (true);
                    };
                };
            };
            return (false);
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {

    public final class OverflowPolicy {

        public static const FIT_ANY:String = "fitAny";
        public static const FIT_DESCENDERS:String = "fitDescenders";

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flash.utils.*;
    import flash.events.*;
    import flashx.textLayout.property.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.compose.*;
    import flashx.textLayout.events.*;
    import flashx.textLayout.*;

    public class FlowElement implements ITextLayoutFormat {

        private static const idString:String = "id";
        private static const typeNameString:String = "typeName";
        private static const impliedElementString:String = "impliedElement";

        tlf_internal static var _scratchTextLayoutFormat:TextLayoutFormat = new TextLayoutFormat();

        private var _parent:FlowGroupElement;
        private var _format:FlowValueHolder;
        protected var _computedFormat:TextLayoutFormat;
        private var _parentRelativeStart:int = 0;
        private var _textLength:int = 0;

        public function FlowElement(){
            if (this.abstract){
                throw (new Error(GlobalSettings.resourceStringFunction("invalidFlowElementConstruct")));
            };
        }
        tlf_internal static function createTextLayoutFormatPrototype(_arg1:ITextLayoutFormat, _arg2:TextLayoutFormat):TextLayoutFormat{
            var _local5:Object;
            var _local7:String;
            var _local8:*;
            var _local9:Property;
            var _local11:TextLayoutFormat;
            var _local12:Object;
            var _local13:TextLayoutFormat;
            var _local14:Object;
            var _local3:Boolean;
            var _local4:Boolean;
            if (_arg2){
                _local5 = _arg2.getStyles();
                if (_local5.hasNonInheritedStyles !== undefined){
                    if (_local5.hasNonInheritedStyles === true){
                        _local12 = Property.createObjectWithPrototype(_local5);
                        TextLayoutFormat.resetModifiedNoninheritedStyles(_local12);
                        _local5.hasNonInheritedStyles = _local12;
                        _local5 = _local12;
                    } else {
                        _local5 = _local5.hasNonInheritedStyles;
                    };
                    _local3 = false;
                };
            } else {
                _arg2 = (TextLayoutFormat.defaultFormat as TextLayoutFormat);
                _local5 = _arg2.getStyles();
            };
            var _local6:Object = Property.createObjectWithPrototype(_local5);
            var _local10:Boolean;
            if (_arg1 != null){
                _local13 = (_arg1 as TextLayoutFormat);
                if (_local13){
                    _local14 = _local13.getStyles();
                    for (_local7 in _local14) {
                        _local8 = _local14[_local7];
                        if (_local8 == FormatValue.INHERIT){
                            if (_arg2){
                                _local9 = TextLayoutFormat.description[_local7];
                                if (((_local9) && (!(_local9.inherited)))){
                                    _local8 = _arg2[_local7];
                                    if (_local6[_local7] != _local8){
                                        _local6[_local7] = _local8;
                                        _local10 = true;
                                        _local4 = true;
                                    };
                                };
                            };
                        } else {
                            if (_local6[_local7] != _local8){
                                _local9 = TextLayoutFormat.description[_local7];
                                if (((_local9) && (!(_local9.inherited)))){
                                    _local10 = true;
                                };
                                _local6[_local7] = _local8;
                                _local4 = true;
                            };
                        };
                    };
                } else {
                    for each (_local9 in TextLayoutFormat.description) {
                        _local7 = _local9.name;
                        _local8 = _arg1[_local7];
                        if (_local8 !== undefined){
                            if (_local8 == FormatValue.INHERIT){
                                if (_arg2){
                                    if (!_local9.inherited){
                                        _local8 = _arg2[_local7];
                                        if (_local6[_local7] != _local8){
                                            _local6[_local7] = _local8;
                                            _local10 = true;
                                            _local4 = true;
                                        };
                                    };
                                };
                            } else {
                                if (_local6[_local7] != _local8){
                                    if (!_local9.inherited){
                                        _local10 = true;
                                    };
                                    _local6[_local7] = _local8;
                                    _local4 = true;
                                };
                            };
                        };
                    };
                };
            };
            if (!_local4){
                if (_local3){
                    return (_arg2);
                };
                _local11 = new TextLayoutFormat();
                _local11.setStyles(_local6, true);
                return (_local11);
            };
            if (_local10){
                _local6.hasNonInheritedStyles = true;
                _local6.setPropertyIsEnumerable("hasNonInheritedStyles", false);
            } else {
                if (_local6.hasNonInheritedStyles !== undefined){
                    _local6.hasNonInheritedStyles = undefined;
                    _local6.setPropertyIsEnumerable("hasNonInheritedStyles", false);
                };
            };
            _local11 = new TextLayoutFormat();
            _local11.setStyles(_local6, false);
            return (_local11);
        }

        public function initialized(_arg1:Object, _arg2:String):void{
            this.id = _arg2;
        }
        protected function get abstract():Boolean{
            return (true);
        }
        public function get userStyles():Object{
            return (((this._format) ? this._format.userStyles : null));
        }
        public function set userStyles(_arg1:Object):void{
            var _local2:String;
            for (_local2 in this.userStyles) {
                this.setStyle(_local2, undefined);
            };
            for (_local2 in _arg1) {
                if (!TextLayoutFormat.description.hasOwnProperty(_local2)){
                    this.setStyle(_local2, _arg1[_local2]);
                };
            };
        }
        public function get coreStyles():Object{
            return (((this._format) ? this._format.coreStyles : null));
        }
        public function get styles():Object{
            return (((this._format) ? this._format.styles : null));
        }
        tlf_internal function setStylesInternal(_arg1:Object):void{
            if (_arg1){
                this.writableTextLayoutFormat().setStyles(Property.shallowCopy(_arg1), false);
            } else {
                if (this._format){
                    this._format.clearStyles();
                };
            };
            this.formatChanged();
        }
        public function equalUserStyles(_arg1:FlowElement):Boolean{
            return (Property.equalStyles(this.userStyles, _arg1.userStyles, null));
        }
        tlf_internal function equalStylesForMerge(_arg1:FlowElement):Boolean{
            return ((((((this.id == _arg1.id)) && ((this.typeName == _arg1.typeName)))) && (TextLayoutFormat.isEqual(_arg1.format, this.format))));
        }
        public function shallowCopy(_arg1:int=0, _arg2:int=-1):FlowElement{
            var _local3:FlowElement = new ((getDefinitionByName(getQualifiedClassName(this)) as Class))();
            if (this._format != null){
                _local3._format = new FlowValueHolder(this._format);
            };
            return (_local3);
        }
        public function deepCopy(_arg1:int=0, _arg2:int=-1):FlowElement{
            if (_arg2 == -1){
                _arg2 = this._textLength;
            };
            return (this.shallowCopy(_arg1, _arg2));
        }
        public function getText(_arg1:int=0, _arg2:int=-1, _arg3:String="\n"):String{
            return ("");
        }
        public function splitAtPosition(_arg1:int):FlowElement{
            if ((((_arg1 < 0)) || ((_arg1 > this._textLength)))){
                throw (RangeError(GlobalSettings.resourceStringFunction("invalidSplitAtPosition")));
            };
            return (this);
        }
        tlf_internal function get bindableElement():Boolean{
            return ((this.getPrivateStyle("bindable") == true));
        }
        tlf_internal function set bindableElement(_arg1:Boolean):void{
            this.setPrivateStyle("bindable", _arg1);
        }
        tlf_internal function mergeToPreviousIfPossible():Boolean{
            return (false);
        }
        tlf_internal function createContentElement():void{
        }
        tlf_internal function releaseContentElement():void{
        }
        public function get parent():FlowGroupElement{
            return (this._parent);
        }
        tlf_internal function setParentAndRelativeStart(_arg1:FlowGroupElement, _arg2:int):void{
            this._parent = _arg1;
            this._parentRelativeStart = _arg2;
            this.attributesChanged(false);
        }
        tlf_internal function setParentAndRelativeStartOnly(_arg1:FlowGroupElement, _arg2:int):void{
            this._parent = _arg1;
            this._parentRelativeStart = _arg2;
        }
        public function get textLength():int{
            return (this._textLength);
        }
        tlf_internal function setTextLength(_arg1:int):void{
            this._textLength = _arg1;
        }
        public function get parentRelativeStart():int{
            return (this._parentRelativeStart);
        }
        tlf_internal function setParentRelativeStart(_arg1:int):void{
            this._parentRelativeStart = _arg1;
        }
        public function get parentRelativeEnd():int{
            return ((this._parentRelativeStart + this._textLength));
        }
        tlf_internal function getAncestorWithContainer():ContainerFormattedElement{
            var _local2:ContainerFormattedElement;
            var _local1:FlowElement = this;
            while (_local1) {
                _local2 = (_local1 as ContainerFormattedElement);
                if (_local2){
                    if (((!(_local2._parent)) || (_local2.flowComposer))){
                        return (_local2);
                    };
                };
                _local1 = _local1._parent;
            };
            return (null);
        }
        tlf_internal function getPrivateStyle(_arg1:String){
            return (((this._format) ? this._format.getPrivateData(_arg1) : undefined));
        }
        tlf_internal function setPrivateStyle(_arg1:String, _arg2):void{
            if (this.getPrivateStyle(_arg1) != _arg2){
                this.writableTextLayoutFormat().setPrivateData(_arg1, _arg2);
                this.modelChanged(ModelChange.STYLE_SELECTOR_CHANGED, this, 0, this._textLength);
            };
        }
        public function get id():String{
            return (this.getPrivateStyle(idString));
        }
        public function set id(_arg1:String):void{
            return (this.setPrivateStyle(idString, _arg1));
        }
        public function get typeName():String{
            var _local1:String = this.getPrivateStyle(typeNameString);
            return (((_local1) ? _local1 : this.defaultTypeName));
        }
        public function set typeName(_arg1:String):void{
            if (_arg1 != this.typeName){
                this.setPrivateStyle(typeNameString, (((_arg1 == this.defaultTypeName)) ? undefined : _arg1));
            };
        }
        tlf_internal function get defaultTypeName():String{
            return (null);
        }
        tlf_internal function get impliedElement():Boolean{
            return (!((this.getPrivateStyle(impliedElementString) === undefined)));
        }
        tlf_internal function set impliedElement(_arg1):void{
            this.setPrivateStyle(impliedElementString, _arg1);
        }
        public function get color(){
            return (((this._format) ? this._format.color : undefined));
        }
        public function set color(_arg1):void{
            this.writableTextLayoutFormat().color = _arg1;
            this.formatChanged();
        }
        public function get backgroundColor(){
            return (((this._format) ? this._format.backgroundColor : undefined));
        }
        public function set backgroundColor(_arg1):void{
            this.writableTextLayoutFormat().backgroundColor = _arg1;
            this.formatChanged();
        }
        public function get lineThrough(){
            return (((this._format) ? this._format.lineThrough : undefined));
        }
        public function set lineThrough(_arg1):void{
            this.writableTextLayoutFormat().lineThrough = _arg1;
            this.formatChanged();
        }
        public function get textAlpha(){
            return (((this._format) ? this._format.textAlpha : undefined));
        }
        public function set textAlpha(_arg1):void{
            this.writableTextLayoutFormat().textAlpha = _arg1;
            this.formatChanged();
        }
        public function get backgroundAlpha(){
            return (((this._format) ? this._format.backgroundAlpha : undefined));
        }
        public function set backgroundAlpha(_arg1):void{
            this.writableTextLayoutFormat().backgroundAlpha = _arg1;
            this.formatChanged();
        }
        public function get fontSize(){
            return (((this._format) ? this._format.fontSize : undefined));
        }
        public function set fontSize(_arg1):void{
            this.writableTextLayoutFormat().fontSize = _arg1;
            this.formatChanged();
        }
        public function get baselineShift(){
            return (((this._format) ? this._format.baselineShift : undefined));
        }
        public function set baselineShift(_arg1):void{
            this.writableTextLayoutFormat().baselineShift = _arg1;
            this.formatChanged();
        }
        public function get trackingLeft(){
            return (((this._format) ? this._format.trackingLeft : undefined));
        }
        public function set trackingLeft(_arg1):void{
            this.writableTextLayoutFormat().trackingLeft = _arg1;
            this.formatChanged();
        }
        public function get trackingRight(){
            return (((this._format) ? this._format.trackingRight : undefined));
        }
        public function set trackingRight(_arg1):void{
            this.writableTextLayoutFormat().trackingRight = _arg1;
            this.formatChanged();
        }
        public function get lineHeight(){
            return (((this._format) ? this._format.lineHeight : undefined));
        }
        public function set lineHeight(_arg1):void{
            this.writableTextLayoutFormat().lineHeight = _arg1;
            this.formatChanged();
        }
        public function get breakOpportunity(){
            return (((this._format) ? this._format.breakOpportunity : undefined));
        }
        public function set breakOpportunity(_arg1):void{
            this.writableTextLayoutFormat().breakOpportunity = _arg1;
            this.formatChanged();
        }
        public function get digitCase(){
            return (((this._format) ? this._format.digitCase : undefined));
        }
        public function set digitCase(_arg1):void{
            this.writableTextLayoutFormat().digitCase = _arg1;
            this.formatChanged();
        }
        public function get digitWidth(){
            return (((this._format) ? this._format.digitWidth : undefined));
        }
        public function set digitWidth(_arg1):void{
            this.writableTextLayoutFormat().digitWidth = _arg1;
            this.formatChanged();
        }
        public function get dominantBaseline(){
            return (((this._format) ? this._format.dominantBaseline : undefined));
        }
        public function set dominantBaseline(_arg1):void{
            this.writableTextLayoutFormat().dominantBaseline = _arg1;
            this.formatChanged();
        }
        public function get kerning(){
            return (((this._format) ? this._format.kerning : undefined));
        }
        public function set kerning(_arg1):void{
            this.writableTextLayoutFormat().kerning = _arg1;
            this.formatChanged();
        }
        public function get ligatureLevel(){
            return (((this._format) ? this._format.ligatureLevel : undefined));
        }
        public function set ligatureLevel(_arg1):void{
            this.writableTextLayoutFormat().ligatureLevel = _arg1;
            this.formatChanged();
        }
        public function get alignmentBaseline(){
            return (((this._format) ? this._format.alignmentBaseline : undefined));
        }
        public function set alignmentBaseline(_arg1):void{
            this.writableTextLayoutFormat().alignmentBaseline = _arg1;
            this.formatChanged();
        }
        public function get locale(){
            return (((this._format) ? this._format.locale : undefined));
        }
        public function set locale(_arg1):void{
            this.writableTextLayoutFormat().locale = _arg1;
            this.formatChanged();
        }
        public function get typographicCase(){
            return (((this._format) ? this._format.typographicCase : undefined));
        }
        public function set typographicCase(_arg1):void{
            this.writableTextLayoutFormat().typographicCase = _arg1;
            this.formatChanged();
        }
        public function get fontFamily(){
            return (((this._format) ? this._format.fontFamily : undefined));
        }
        public function set fontFamily(_arg1):void{
            this.writableTextLayoutFormat().fontFamily = _arg1;
            this.formatChanged();
        }
        public function get textDecoration(){
            return (((this._format) ? this._format.textDecoration : undefined));
        }
        public function set textDecoration(_arg1):void{
            this.writableTextLayoutFormat().textDecoration = _arg1;
            this.formatChanged();
        }
        public function get fontWeight(){
            return (((this._format) ? this._format.fontWeight : undefined));
        }
        public function set fontWeight(_arg1):void{
            this.writableTextLayoutFormat().fontWeight = _arg1;
            this.formatChanged();
        }
        public function get fontStyle(){
            return (((this._format) ? this._format.fontStyle : undefined));
        }
        public function set fontStyle(_arg1):void{
            this.writableTextLayoutFormat().fontStyle = _arg1;
            this.formatChanged();
        }
        public function get whiteSpaceCollapse(){
            return (((this._format) ? this._format.whiteSpaceCollapse : undefined));
        }
        public function set whiteSpaceCollapse(_arg1):void{
            this.writableTextLayoutFormat().whiteSpaceCollapse = _arg1;
            this.formatChanged();
        }
        public function get renderingMode(){
            return (((this._format) ? this._format.renderingMode : undefined));
        }
        public function set renderingMode(_arg1):void{
            this.writableTextLayoutFormat().renderingMode = _arg1;
            this.formatChanged();
        }
        public function get cffHinting(){
            return (((this._format) ? this._format.cffHinting : undefined));
        }
        public function set cffHinting(_arg1):void{
            this.writableTextLayoutFormat().cffHinting = _arg1;
            this.formatChanged();
        }
        public function get fontLookup(){
            return (((this._format) ? this._format.fontLookup : undefined));
        }
        public function set fontLookup(_arg1):void{
            this.writableTextLayoutFormat().fontLookup = _arg1;
            this.formatChanged();
        }
        public function get textRotation(){
            return (((this._format) ? this._format.textRotation : undefined));
        }
        public function set textRotation(_arg1):void{
            this.writableTextLayoutFormat().textRotation = _arg1;
            this.formatChanged();
        }
        public function get textIndent(){
            return (((this._format) ? this._format.textIndent : undefined));
        }
        public function set textIndent(_arg1):void{
            this.writableTextLayoutFormat().textIndent = _arg1;
            this.formatChanged();
        }
        public function get paragraphStartIndent(){
            return (((this._format) ? this._format.paragraphStartIndent : undefined));
        }
        public function set paragraphStartIndent(_arg1):void{
            this.writableTextLayoutFormat().paragraphStartIndent = _arg1;
            this.formatChanged();
        }
        public function get paragraphEndIndent(){
            return (((this._format) ? this._format.paragraphEndIndent : undefined));
        }
        public function set paragraphEndIndent(_arg1):void{
            this.writableTextLayoutFormat().paragraphEndIndent = _arg1;
            this.formatChanged();
        }
        public function get paragraphSpaceBefore(){
            return (((this._format) ? this._format.paragraphSpaceBefore : undefined));
        }
        public function set paragraphSpaceBefore(_arg1):void{
            this.writableTextLayoutFormat().paragraphSpaceBefore = _arg1;
            this.formatChanged();
        }
        public function get paragraphSpaceAfter(){
            return (((this._format) ? this._format.paragraphSpaceAfter : undefined));
        }
        public function set paragraphSpaceAfter(_arg1):void{
            this.writableTextLayoutFormat().paragraphSpaceAfter = _arg1;
            this.formatChanged();
        }
        public function get textAlign(){
            return (((this._format) ? this._format.textAlign : undefined));
        }
        public function set textAlign(_arg1):void{
            this.writableTextLayoutFormat().textAlign = _arg1;
            this.formatChanged();
        }
        public function get textAlignLast(){
            return (((this._format) ? this._format.textAlignLast : undefined));
        }
        public function set textAlignLast(_arg1):void{
            this.writableTextLayoutFormat().textAlignLast = _arg1;
            this.formatChanged();
        }
        public function get textJustify(){
            return (((this._format) ? this._format.textJustify : undefined));
        }
        public function set textJustify(_arg1):void{
            this.writableTextLayoutFormat().textJustify = _arg1;
            this.formatChanged();
        }
        public function get justificationRule(){
            return (((this._format) ? this._format.justificationRule : undefined));
        }
        public function set justificationRule(_arg1):void{
            this.writableTextLayoutFormat().justificationRule = _arg1;
            this.formatChanged();
        }
        public function get justificationStyle(){
            return (((this._format) ? this._format.justificationStyle : undefined));
        }
        public function set justificationStyle(_arg1):void{
            this.writableTextLayoutFormat().justificationStyle = _arg1;
            this.formatChanged();
        }
        public function get direction(){
            return (((this._format) ? this._format.direction : undefined));
        }
        public function set direction(_arg1):void{
            this.writableTextLayoutFormat().direction = _arg1;
            this.formatChanged();
        }
        public function get wordSpacing(){
            return (((this._format) ? this._format.wordSpacing : undefined));
        }
        public function set wordSpacing(_arg1):void{
            this.writableTextLayoutFormat().wordSpacing = _arg1;
            this.formatChanged();
        }
        public function get tabStops(){
            return (((this._format) ? this._format.tabStops : undefined));
        }
        public function set tabStops(_arg1):void{
            this.writableTextLayoutFormat().tabStops = _arg1;
            this.formatChanged();
        }
        public function get leadingModel(){
            return (((this._format) ? this._format.leadingModel : undefined));
        }
        public function set leadingModel(_arg1):void{
            this.writableTextLayoutFormat().leadingModel = _arg1;
            this.formatChanged();
        }
        public function get columnGap(){
            return (((this._format) ? this._format.columnGap : undefined));
        }
        public function set columnGap(_arg1):void{
            this.writableTextLayoutFormat().columnGap = _arg1;
            this.formatChanged();
        }
        public function get paddingLeft(){
            return (((this._format) ? this._format.paddingLeft : undefined));
        }
        public function set paddingLeft(_arg1):void{
            this.writableTextLayoutFormat().paddingLeft = _arg1;
            this.formatChanged();
        }
        public function get paddingTop(){
            return (((this._format) ? this._format.paddingTop : undefined));
        }
        public function set paddingTop(_arg1):void{
            this.writableTextLayoutFormat().paddingTop = _arg1;
            this.formatChanged();
        }
        public function get paddingRight(){
            return (((this._format) ? this._format.paddingRight : undefined));
        }
        public function set paddingRight(_arg1):void{
            this.writableTextLayoutFormat().paddingRight = _arg1;
            this.formatChanged();
        }
        public function get paddingBottom(){
            return (((this._format) ? this._format.paddingBottom : undefined));
        }
        public function set paddingBottom(_arg1):void{
            this.writableTextLayoutFormat().paddingBottom = _arg1;
            this.formatChanged();
        }
        public function get columnCount(){
            return (((this._format) ? this._format.columnCount : undefined));
        }
        public function set columnCount(_arg1):void{
            this.writableTextLayoutFormat().columnCount = _arg1;
            this.formatChanged();
        }
        public function get columnWidth(){
            return (((this._format) ? this._format.columnWidth : undefined));
        }
        public function set columnWidth(_arg1):void{
            this.writableTextLayoutFormat().columnWidth = _arg1;
            this.formatChanged();
        }
        public function get firstBaselineOffset(){
            return (((this._format) ? this._format.firstBaselineOffset : undefined));
        }
        public function set firstBaselineOffset(_arg1):void{
            this.writableTextLayoutFormat().firstBaselineOffset = _arg1;
            this.formatChanged();
        }
        public function get verticalAlign(){
            return (((this._format) ? this._format.verticalAlign : undefined));
        }
        public function set verticalAlign(_arg1):void{
            this.writableTextLayoutFormat().verticalAlign = _arg1;
            this.formatChanged();
        }
        public function get blockProgression(){
            return (((this._format) ? this._format.blockProgression : undefined));
        }
        public function set blockProgression(_arg1):void{
            this.writableTextLayoutFormat().blockProgression = _arg1;
            this.formatChanged();
        }
        public function get lineBreak(){
            return (((this._format) ? this._format.lineBreak : undefined));
        }
        public function set lineBreak(_arg1):void{
            this.writableTextLayoutFormat().lineBreak = _arg1;
            this.formatChanged();
        }
        public function get listStyleType(){
            return (((this._format) ? this._format.listStyleType : undefined));
        }
        public function set listStyleType(_arg1):void{
            this.writableTextLayoutFormat().listStyleType = _arg1;
            this.formatChanged();
        }
        public function get listStylePosition(){
            return (((this._format) ? this._format.listStylePosition : undefined));
        }
        public function set listStylePosition(_arg1):void{
            this.writableTextLayoutFormat().listStylePosition = _arg1;
            this.formatChanged();
        }
        public function get listAutoPadding(){
            return (((this._format) ? this._format.listAutoPadding : undefined));
        }
        public function set listAutoPadding(_arg1):void{
            this.writableTextLayoutFormat().listAutoPadding = _arg1;
            this.formatChanged();
        }
        public function get clearFloats(){
            return (((this._format) ? this._format.clearFloats : undefined));
        }
        public function set clearFloats(_arg1):void{
            this.writableTextLayoutFormat().clearFloats = _arg1;
            this.formatChanged();
        }
        public function get styleName(){
            return (((this._format) ? this._format.styleName : undefined));
        }
        public function set styleName(_arg1):void{
            this.writableTextLayoutFormat().styleName = _arg1;
            this.styleSelectorChanged();
        }
        public function get linkNormalFormat(){
            return (((this._format) ? this._format.linkNormalFormat : undefined));
        }
        public function set linkNormalFormat(_arg1):void{
            this.writableTextLayoutFormat().linkNormalFormat = _arg1;
            this.formatChanged();
        }
        public function get linkActiveFormat(){
            return (((this._format) ? this._format.linkActiveFormat : undefined));
        }
        public function set linkActiveFormat(_arg1):void{
            this.writableTextLayoutFormat().linkActiveFormat = _arg1;
            this.formatChanged();
        }
        public function get linkHoverFormat(){
            return (((this._format) ? this._format.linkHoverFormat : undefined));
        }
        public function set linkHoverFormat(_arg1):void{
            this.writableTextLayoutFormat().linkHoverFormat = _arg1;
            this.formatChanged();
        }
        public function get listMarkerFormat(){
            return (((this._format) ? this._format.listMarkerFormat : undefined));
        }
        public function set listMarkerFormat(_arg1):void{
            this.writableTextLayoutFormat().listMarkerFormat = _arg1;
            this.formatChanged();
        }
        public function get format():ITextLayoutFormat{
            return (this._format);
        }
        public function set format(_arg1:ITextLayoutFormat):void{
            if (_arg1 == this._format){
                return;
            };
            var _local2:String = this.styleName;
            if (_arg1 == null){
                this._format.clearStyles();
            } else {
                this.writableTextLayoutFormat().copy(_arg1);
            };
            this.formatChanged();
            if (_local2 != this.styleName){
                this.styleSelectorChanged();
            };
        }
        tlf_internal function writableTextLayoutFormat():FlowValueHolder{
            if (this._format == null){
                this._format = new FlowValueHolder();
            };
            return (this._format);
        }
        tlf_internal function formatChanged(_arg1:Boolean=true):void{
            if (_arg1){
                this.modelChanged(ModelChange.TEXTLAYOUT_FORMAT_CHANGED, this, 0, this._textLength);
            };
            this._computedFormat = null;
        }
        tlf_internal function styleSelectorChanged():void{
            this.modelChanged(ModelChange.STYLE_SELECTOR_CHANGED, this, 0, this._textLength);
            this._computedFormat = null;
        }
        tlf_internal function get formatForCascade():ITextLayoutFormat{
            var _local2:TextLayoutFormat;
            var _local3:ITextLayoutFormat;
            var _local4:TextLayoutFormat;
            var _local1:TextFlow = this.getTextFlow();
            if (_local1){
                _local2 = _local1.getTextLayoutFormatStyle(this);
                if (_local2){
                    _local3 = this.format;
                    if (_local3 == null){
                        return (_local2);
                    };
                    _local4 = new TextLayoutFormat();
                    _local4.apply(_local2);
                    _local4.apply(_local3);
                    return (_local4);
                };
            };
            return (this._format);
        }
        public function get computedFormat():ITextLayoutFormat{
            if (this._computedFormat == null){
                this._computedFormat = this.doComputeTextLayoutFormat();
            };
            return (this._computedFormat);
        }
        tlf_internal function doComputeTextLayoutFormat():TextLayoutFormat{
            var _local1:TextLayoutFormat = ((this._parent) ? TextLayoutFormat(this._parent.computedFormat) : null);
            return (FlowElement.createTextLayoutFormatPrototype(this.formatForCascade, _local1));
        }
        tlf_internal function attributesChanged(_arg1:Boolean=true):void{
            this.formatChanged(_arg1);
        }
        public function getStyle(_arg1:String){
            if (TextLayoutFormat.description.hasOwnProperty(_arg1)){
                return (this.computedFormat.getStyle(_arg1));
            };
            var _local2:TextFlow = this.getTextFlow();
            if (((!(_local2)) || (!(_local2.formatResolver)))){
                return (this.computedFormat.getStyle(_arg1));
            };
            return (this.getUserStyleWorker(_arg1));
        }
        tlf_internal function getUserStyleWorker(_arg1:String){
            var _local3:*;
            if (this._format != null){
                _local3 = this._format.getStyle(_arg1);
                if (_local3 !== undefined){
                    return (_local3);
                };
            };
            var _local2:TextFlow = this.getTextFlow();
            if (((_local2) && (_local2.formatResolver))){
                _local3 = _local2.formatResolver.resolveUserFormat(this, _arg1);
                if (_local3 !== undefined){
                    return (_local3);
                };
            };
            return (((this._parent) ? this._parent.getUserStyleWorker(_arg1) : undefined));
        }
        public function setStyle(_arg1:String, _arg2):void{
            if (TextLayoutFormat.description[_arg1]){
                this[_arg1] = _arg2;
            } else {
                this.writableTextLayoutFormat().setStyle(_arg1, _arg2);
                this.formatChanged();
            };
        }
        public function clearStyle(_arg1:String):void{
            this.setStyle(_arg1, undefined);
        }
        tlf_internal function modelChanged(_arg1:String, _arg2:FlowElement, _arg3:int, _arg4:int, _arg5:Boolean=true, _arg6:Boolean=true):void{
            var _local7:TextFlow = this.getTextFlow();
            if (_local7){
                _local7.processModelChanged(_arg1, _arg2, (this.getAbsoluteStart() + _arg3), _arg4, _arg5, _arg6);
            };
        }
        tlf_internal function appendElementsForDelayedUpdate(_arg1:TextFlow, _arg2:String):void{
        }
        tlf_internal function applyDelayedElementUpdate(_arg1:TextFlow, _arg2:Boolean, _arg3:Boolean):void{
        }
        tlf_internal function getEffectivePaddingLeft():Number{
            return ((((this.computedFormat.paddingLeft == FormatValue.AUTO)) ? 0 : this.computedFormat.paddingLeft));
        }
        tlf_internal function getEffectivePaddingRight():Number{
            return ((((this.computedFormat.paddingRight == FormatValue.AUTO)) ? 0 : this.computedFormat.paddingRight));
        }
        tlf_internal function getEffectivePaddingTop():Number{
            return ((((this.computedFormat.paddingTop == FormatValue.AUTO)) ? 0 : this.computedFormat.paddingTop));
        }
        tlf_internal function getEffectivePaddingBottom():Number{
            return ((((this.computedFormat.paddingBottom == FormatValue.AUTO)) ? 0 : this.computedFormat.paddingBottom));
        }
        public function set tracking(_arg1:Object):void{
            this.trackingRight = _arg1;
        }
        tlf_internal function applyWhiteSpaceCollapse(_arg1:String):void{
            if (this.whiteSpaceCollapse !== undefined){
                this.whiteSpaceCollapse = undefined;
            };
            this.setPrivateStyle(impliedElementString, undefined);
        }
        public function getAbsoluteStart():int{
            var _local1:int = this._parentRelativeStart;
            var _local2:FlowElement = this._parent;
            while (_local2) {
                _local1 = (_local1 + _local2._parentRelativeStart);
                _local2 = _local2._parent;
            };
            return (_local1);
        }
        public function getElementRelativeStart(_arg1:FlowElement):int{
            var _local2:int = this._parentRelativeStart;
            var _local3:FlowElement = this._parent;
            while (((_local3) && (!((_local3 == _arg1))))) {
                _local2 = (_local2 + _local3._parentRelativeStart);
                _local3 = _local3._parent;
            };
            return (_local2);
        }
        public function getTextFlow():TextFlow{
            var _local1:FlowElement = this;
            while (_local1._parent != null) {
                _local1 = _local1._parent;
            };
            return ((_local1 as TextFlow));
        }
        public function getParagraph():ParagraphElement{
            var _local1:ParagraphElement;
            var _local2:FlowElement = this;
            while (_local2) {
                _local1 = (_local2 as ParagraphElement);
                if (_local1){
                    break;
                };
                _local2 = _local2._parent;
            };
            return (_local1);
        }
        public function getParentByType(_arg1:Class):FlowElement{
            var _local2:FlowElement = this._parent;
            while (_local2) {
                if ((_local2 is _arg1)){
                    return (_local2);
                };
                _local2 = _local2._parent;
            };
            return (null);
        }
        public function getPreviousSibling():FlowElement{
            if (!this._parent){
                return (null);
            };
            var _local1:int = this._parent.getChildIndex(this);
            return ((((_local1 == 0)) ? null : this._parent.getChildAt((_local1 - 1))));
        }
        public function getNextSibling():FlowElement{
            if (!this._parent){
                return (null);
            };
            var _local1:int = this._parent.getChildIndex(this);
            return ((((_local1 == (this._parent.numChildren - 1))) ? null : this._parent.getChildAt((_local1 + 1))));
        }
        public function getCharAtPosition(_arg1:int):String{
            return (null);
        }
        public function getCharCodeAtPosition(_arg1:int):int{
            var _local2:String = this.getCharAtPosition(_arg1);
            return (((((_local2) && ((_local2.length > 0)))) ? _local2.charCodeAt(0) : 0));
        }
        tlf_internal function applyFunctionToElements(_arg1:Function):Boolean{
            return (_arg1(this));
        }
        tlf_internal function getEventMirror():IEventDispatcher{
            return (null);
        }
        tlf_internal function hasActiveEventMirror():Boolean{
            return (false);
        }
        private function updateRange(_arg1:int):void{
            this.setParentRelativeStart((this._parentRelativeStart + _arg1));
        }
        tlf_internal function updateLengths(_arg1:int, _arg2:int, _arg3:Boolean):void{
            var _local5:int;
            var _local6:int;
            var _local7:FlowElement;
            this.setTextLength((this._textLength + _arg2));
            var _local4:FlowGroupElement = this._parent;
            if (_local4){
                _local5 = (_local4.getChildIndex(this) + 1);
                _local6 = _local4.numChildren;
                while (_local5 < _local6) {
                    var _temp1 = _local5;
                    _local5 = (_local5 + 1);
                    _local7 = _local4.getChildAt(_temp1);
                    _local7.updateRange(_arg2);
                };
                _local4.updateLengths(_arg1, _arg2, _arg3);
            };
        }
        tlf_internal function getEnclosingController(_arg1:int):ContainerController{
            var _local2:TextFlow = this.getTextFlow();
            if ((((_local2 == null)) || ((_local2.flowComposer == null)))){
                return (null);
            };
            var _local3:FlowElement = this;
            while (((_local3) && (((!((_local3 is ContainerFormattedElement))) || ((ContainerFormattedElement(_local3).flowComposer == null)))))) {
                _local3 = _local3._parent;
            };
            var _local4:IFlowComposer = ContainerFormattedElement(_local3).flowComposer;
            if (!_local4){
                return (null);
            };
            var _local5:int = ContainerFormattedElement(_local3).flowComposer.findControllerIndexAtPosition((this.getAbsoluteStart() + _arg1), false);
            return (((_local5)!=-1) ? _local4.getControllerAt(_local5) : null);
        }
        tlf_internal function deleteContainerText(_arg1:int, _arg2:int):void{
            var _local3:int;
            var _local4:int;
            var _local5:int;
            var _local6:ContainerController;
            var _local7:int;
            var _local8:int;
            var _local9:IFlowComposer;
            var _local10:int;
            var _local11:ContainerController;
            if (this.getTextFlow()){
                _local3 = (this.getAbsoluteStart() + _arg1);
                _local4 = (_local3 - _arg2);
                while (_arg2 > 0) {
                    _local6 = this.getEnclosingController((_arg1 - 1));
                    if (!_local6){
                        _local6 = this.getEnclosingController((_arg1 - _arg2));
                        if (_local6){
                            _local9 = _local6.flowComposer;
                            _local10 = _local9.getControllerIndex(_local6);
                            _local11 = _local6;
                            while (((((_local10 + 1) < _local9.numControllers)) && (((_local6.absoluteStart + _local6.textLength) < _arg1)))) {
                                _local6 = _local9.getControllerAt((_local10 + 1));
                                if (_local6.textLength){
                                    _local11 = _local6;
                                    break;
                                };
                                _local10++;
                            };
                        };
                        if (((!(_local6)) || (!(_local6.textLength)))){
                            _local6 = _local11;
                        };
                        if (!_local6){
                            break;
                        };
                    };
                    _local7 = _local6.absoluteStart;
                    if (_local4 < _local7){
                        _local5 = ((_local3 - _local7) + 1);
                    } else {
                        if (_local4 < (_local7 + _local6.textLength)){
                            _local5 = _arg2;
                        };
                    };
                    _local8 = (((_local6.textLength < _local5)) ? _local6.textLength : _local5);
                    if (_local8 <= 0){
                        break;
                    };
                    ContainerController(_local6).setTextLengthOnly((_local6.textLength - _local8));
                    _arg2 = (_arg2 - _local8);
                    _local3 = (_local3 - _local8);
                    _arg1 = (_arg1 - _local8);
                };
            };
        }
        tlf_internal function normalizeRange(_arg1:uint, _arg2:uint):void{
        }
        tlf_internal function quickCloneTextLayoutFormat(_arg1:FlowElement):void{
            this._format = ((_arg1._format) ? new FlowValueHolder(_arg1._format) : null);
            this._computedFormat = null;
        }
        tlf_internal function updateForMustUseComposer(_arg1:TextFlow):Boolean{
            return (false);
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flash.display.*;
    import flash.utils.*;
    import flash.text.engine.*;
    import flash.geom.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.compose.*;
    import flashx.textLayout.*;

    public class BackgroundManager {

        protected var _lineDict:Dictionary;

        public function BackgroundManager(){
            this._lineDict = new Dictionary(true);
        }
        public function addRect(_arg1:TextLine, _arg2:FlowLeafElement, _arg3:Rectangle, _arg4:uint, _arg5:Number):void{
            var _local10:Object;
            var _local6:Array = this._lineDict[_arg1];
            if (_local6 == null){
                _local6 = (this._lineDict[_arg1] = new Array());
            };
            var _local7:Object = new Object();
            _local7.rect = _arg3;
            _local7.fle = _arg2;
            _local7.color = _arg4;
            _local7.alpha = _arg5;
            var _local8:int = _arg2.getAbsoluteStart();
            var _local9:int;
            while (_local9 < _local6.length) {
                _local10 = _local6[_local9];
                if (((_local10.hasOwnProperty("fle")) && ((_local10.fle.getAbsoluteStart() == _local8)))){
                    _local6[_local9] = _local7;
                    return;
                };
                _local9++;
            };
            _local6.push(_local7);
        }
        public function addNumberLine(_arg1:TextLine, _arg2:TextLine):void{
            var _local3:Array = this._lineDict[_arg1];
            if (_local3 == null){
                _local3 = (this._lineDict[_arg1] = new Array());
            };
            _local3.push({numberLine:_arg2});
        }
        public function finalizeLine(_arg1:TextFlowLine):void{
        }
        tlf_internal function getEntry(_arg1:TextLine){
            return (((this._lineDict) ? this._lineDict[_arg1] : undefined));
        }
        public function drawAllRects(_arg1:TextFlow, _arg2:Shape, _arg3:Number, _arg4:Number):void{
            var _local5:Object;
            var _local6:Array;
            var _local7:Rectangle;
            var _local8:Rectangle;
            var _local9:Object;
            var _local10:int;
            var _local11:TextLine;
            var _local12:BackgroundManager;
            var _local13:Array;
            var _local14:int;
            var _local15:Object;
            for (_local5 in this._lineDict) {
                _local6 = this._lineDict[_local5];
                if (_local6.length){
                    _local7 = _local6[0].columnRect;
                    _local10 = 0;
                    while (_local10 < _local6.length) {
                        _local9 = _local6[_local10];
                        if (_local9.hasOwnProperty("numberLine")){
                            _local11 = _local9.numberLine;
                            _local12 = TextFlowLine.getNumberLineBackground(_local11);
                            _local13 = _local12._lineDict[_local11];
                            _local14 = 0;
                            while (_local14 < _local13.length) {
                                _local15 = _local13[_local14];
                                _local8 = _local15.rect;
                                _local15.rect.x = (_local8.x + (_local5.x + _local11.x));
                                _local8.y = (_local8.y + (_local5.y + _local11.y));
                                TextFlowLine.constrainRectToColumn(_arg1, _local8, _local7, 0, 0, _arg3, _arg4);
                                _arg2.graphics.beginFill(_local15.color, _local15.alpha);
                                _arg2.graphics.drawRect(_local8.x, _local8.y, _local8.width, _local8.height);
                                _arg2.graphics.endFill();
                                _local14++;
                            };
                        } else {
                            _local8 = _local9.rect;
                            _local9.rect.x = (_local8.x + _local5.x);
                            _local8.y = (_local8.y + _local5.y);
                            TextFlowLine.constrainRectToColumn(_arg1, _local8, _local7, 0, 0, _arg3, _arg4);
                            _arg2.graphics.beginFill(_local9.color, _local9.alpha);
                            _arg2.graphics.drawRect(_local8.x, _local8.y, _local8.width, _local8.height);
                            _arg2.graphics.endFill();
                        };
                        _local10++;
                    };
                };
            };
        }
        public function removeLineFromCache(_arg1:TextLine):void{
            delete this._lineDict[_arg1];
        }
        public function onUpdateComplete(_arg1:ContainerController):void{
            var _local3:Shape;
            var _local4:int;
            var _local5:TextLine;
            var _local6:Array;
            var _local7:Rectangle;
            var _local8:TextFlowLine;
            var _local9:int;
            var _local10:Object;
            var _local11:TextLine;
            var _local12:BackgroundManager;
            var _local13:Array;
            var _local14:int;
            var _local15:Object;
            var _local2:Sprite = _arg1.container;
            if (((_local2) && (_local2.numChildren))){
                _local3 = _arg1.getBackgroundShape();
                _local3.graphics.clear();
                _local4 = 0;
                while (_local4 < _arg1.textLines.length) {
                    _local5 = _arg1.textLines[_local4];
                    _local6 = this._lineDict[_local5];
                    if (_local6){
                        _local8 = (_local5.userData as TextFlowLine);
                        _local9 = 0;
                        while (_local9 < _local6.length) {
                            _local10 = _local6[_local9];
                            if (_local10.hasOwnProperty("numberLine")){
                                _local11 = _local10.numberLine;
                                _local12 = TextFlowLine.getNumberLineBackground(_local11);
                                _local13 = _local12._lineDict[_local11];
                                _local14 = 0;
                                while (_local14 < _local13.length) {
                                    _local15 = _local13[_local14];
                                    _local7 = _local15.rect.clone();
                                    _local15.rect.clone().x = (_local7.x + _local11.x);
                                    _local7.y = (_local7.y + _local11.y);
                                    _local8.convertLineRectToContainer(_local7, true);
                                    _local3.graphics.beginFill(_local15.color, _local15.alpha);
                                    _local3.graphics.drawRect(_local7.x, _local7.y, _local7.width, _local7.height);
                                    _local3.graphics.endFill();
                                    _local14++;
                                };
                            } else {
                                _local7 = _local10.rect.clone();
                                _local8.convertLineRectToContainer(_local7, true);
                                _local3.graphics.beginFill(_local10.color, _local10.alpha);
                                _local3.graphics.drawRect(_local7.x, _local7.y, _local7.width, _local7.height);
                                _local3.graphics.endFill();
                            };
                            _local9++;
                        };
                    };
                    _local4++;
                };
            };
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.edit.*;

    public interface IConfiguration {

        function clone():Configuration;
        function get manageTabKey():Boolean;
        function get manageEnterKey():Boolean;
        function get overflowPolicy():String;
        function get enableAccessibility():Boolean;
        function get defaultLinkNormalFormat():ITextLayoutFormat;
        function get defaultLinkHoverFormat():ITextLayoutFormat;
        function get defaultLinkActiveFormat():ITextLayoutFormat;
        function get defaultListMarkerFormat():IListMarkerFormat;
        function get textFlowInitialFormat():ITextLayoutFormat;
        function get focusedSelectionFormat():SelectionFormat;
        function get unfocusedSelectionFormat():SelectionFormat;
        function get inactiveSelectionFormat():SelectionFormat;
        function get scrollDragDelay():Number;
        function get scrollDragPixels():Number;
        function get scrollPagePercentage():Number;
        function get scrollMouseWheelMultiplier():Number;
        function get flowComposerClass():Class;
        function get releaseLineCreationData():Boolean;
        function get inlineGraphicResolverFunction():Function;

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.*;

    public class SpecialCharacterElement extends SpanElement {

        public function SpecialCharacterElement(){
            whiteSpaceCollapse = WhiteSpaceCollapse.PRESERVE;
        }
        override tlf_internal function mergeToPreviousIfPossible():Boolean{
            var _local1:int;
            var _local2:SpanElement;
            var _local3:SpanElement;
            var _local4:int;
            if (parent){
                _local1 = parent.getChildIndex(this);
                if (_local1 != 0){
                    _local3 = (parent.getChildAt((_local1 - 1)) as SpanElement);
                    if (((((!((_local3 == null))) && ((_local3 is SpanElement)))) && (TextLayoutFormat.isEqual(_local3.format, format)))){
                        _local4 = _local3.textLength;
                        _local3.replaceText(_local4, _local4, this.text);
                        parent.replaceChildren(_local1, (_local1 + 1));
                        return (true);
                    };
                };
                _local2 = new SpanElement();
                _local2.text = this.text;
                _local2.format = format;
                parent.replaceChildren(_local1, (_local1 + 1), _local2);
                _local2.normalizeRange(0, _local2.textLength);
                return (false);
            };
            return (false);
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.*;

    public final class ListItemElement extends ContainerFormattedElement {

        tlf_internal var _listNumberHint:int = 2147483647;

        override protected function get abstract():Boolean{
            return (false);
        }
        override tlf_internal function get defaultTypeName():String{
            return ("li");
        }
        tlf_internal function computedListMarkerFormat():IListMarkerFormat{
            var _local2:TextFlow;
            var _local1:IListMarkerFormat = (this.getUserStyleWorker(ListElement.LIST_MARKER_FORMAT_NAME) as IListMarkerFormat);
            if (_local1 == null){
                _local2 = this.getTextFlow();
                if (_local2){
                    _local1 = _local2.configuration.defaultListMarkerFormat;
                };
            };
            return (_local1);
        }
        tlf_internal function normalizeNeedsInitialParagraph():Boolean{
            var _local1:FlowGroupElement = this;
            while (_local1) {
                _local1 = (_local1.getChildAt(0) as FlowGroupElement);
                if ((_local1 is ParagraphElement)){
                    return (false);
                };
                if (!(_local1 is DivElement)){
                    return (true);
                };
            };
            return (true);
        }
        override tlf_internal function normalizeRange(_arg1:uint, _arg2:uint):void{
            var _local3:ParagraphElement;
            super.normalizeRange(_arg1, _arg2);
            this._listNumberHint = int.MAX_VALUE;
            if (this.normalizeNeedsInitialParagraph()){
                _local3 = new ParagraphElement();
                _local3.replaceChildren(0, 0, new SpanElement());
                replaceChildren(0, 0, _local3);
                _local3.normalizeRange(0, _local3.textLength);
            };
        }
        tlf_internal function getListItemNumber(_arg1:IListMarkerFormat=null):int{
            var _local2:Object;
            var _local3:Object;
            var _local4:int;
            var _local5:ListItemElement;
            if (this._listNumberHint == int.MAX_VALUE){
                if (_arg1 == null){
                    _arg1 = this.computedListMarkerFormat();
                };
                _local2 = _arg1.counterReset;
                if (((_local2) && (_local2.hasOwnProperty("ordered")))){
                    this._listNumberHint = _local2.ordered;
                } else {
                    _local4 = parent.getChildIndex(this);
                    this._listNumberHint = 0;
                    while (_local4 > 0) {
                        _local4--;
                        _local5 = (parent.getChildAt(_local4) as ListItemElement);
                        if (_local5){
                            this._listNumberHint = _local5.getListItemNumber();
                            break;
                        };
                    };
                };
                _local3 = _arg1.counterIncrement;
                this._listNumberHint = (this._listNumberHint + ((((_local3) && (_local3.hasOwnProperty("ordered")))) ? _local3.ordered : 1));
            };
            return (this._listNumberHint);
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flashx.textLayout.formats.*;

    public interface IFormatResolver {

        function invalidateAll(_arg1:TextFlow):void;
        function invalidate(_arg1:Object):void;
        function resolveFormat(_arg1:Object):ITextLayoutFormat;
        function resolveUserFormat(_arg1:Object, _arg2:String);
        function getResolverForNewFlow(_arg1:TextFlow, _arg2:TextFlow):IFormatResolver;

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.elements {
    import flashx.textLayout.*;

    public final class DivElement extends ContainerFormattedElement {

        override protected function get abstract():Boolean{
            return (false);
        }
        override tlf_internal function get defaultTypeName():String{
            return ("div");
        }

    }
}//package flashx.textLayout.elements 
﻿package flashx.textLayout.property {
    import __AS3__.vec.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.*;

    public class Property {

        tlf_internal static const sharedStringHandler:StringPropertyHandler = new StringPropertyHandler();
        tlf_internal static const sharedInheritEnumHandler:EnumPropertyHandler = new EnumPropertyHandler([FormatValue.INHERIT]);
        tlf_internal static const sharedUndefinedHandler:UndefinedPropertyHandler = new UndefinedPropertyHandler();
        tlf_internal static const sharedUintHandler:UintPropertyHandler = new UintPropertyHandler();
        tlf_internal static const sharedBooleanHandler:BooleanPropertyHandler = new BooleanPropertyHandler();
        tlf_internal static const sharedTextLayoutFormatHandler:FormatPropertyHandler = new FormatPropertyHandler();
        tlf_internal static const sharedListMarkerFormatHandler:FormatPropertyHandler = new FormatPropertyHandler();
        private static const undefinedValue = undefined;
        public static const NO_LIMITS:String = "noLimits";
        public static const LOWER_LIMIT:String = "lowerLimit";
        public static const UPPER_LIMIT:String = "upperLimit";
        public static const ALL_LIMITS:String = "allLimits";
        tlf_internal static const nullStyleObject:Object = new Object();

        public static var errorHandler:Function = defaultErrorHandler;
        private static var prototypeFactory:Function = function ():void{
        };

        private var _name:String;
        private var _default;
        private var _inherited:Boolean;
        private var _categories:Vector.<String>;
        private var _hasCustomExporterHandler:Boolean;
        private var _numberPropertyHandler:NumberPropertyHandler;
        protected var _handlers:Vector.<PropertyHandler>;

        public function Property(_arg1:String, _arg2, _arg3:Boolean, _arg4:Vector.<String>){
            this._name = _arg1;
            this._default = _arg2;
            this._inherited = _arg3;
            this._categories = _arg4;
            this._hasCustomExporterHandler = false;
        }
        public static function defaultErrorHandler(_arg1:Property, _arg2:Object):void{
            throw (new RangeError(createErrorString(_arg1, _arg2)));
        }
        public static function createErrorString(_arg1:Property, _arg2:Object):String{
            return (GlobalSettings.resourceStringFunction("badPropertyValue", [_arg1.name, _arg2.toString()]));
        }
        public static function NewBooleanProperty(_arg1:String, _arg2:Boolean, _arg3:Boolean, _arg4:Vector.<String>):Property{
            var _local5:Property = new Property(_arg1, _arg2, _arg3, _arg4);
            _local5.addHandlers(sharedUndefinedHandler, sharedBooleanHandler, sharedInheritEnumHandler);
            return (_local5);
        }
        public static function NewStringProperty(_arg1:String, _arg2:String, _arg3:Boolean, _arg4:Vector.<String>):Property{
            var _local5:Property = new Property(_arg1, _arg2, _arg3, _arg4);
            _local5.addHandlers(sharedUndefinedHandler, sharedStringHandler);
            return (_local5);
        }
        public static function NewUintProperty(_arg1:String, _arg2:uint, _arg3:Boolean, _arg4:Vector.<String>):Property{
            var _local5:Property = new Property(_arg1, _arg2, _arg3, _arg4);
            _local5.addHandlers(sharedUndefinedHandler, sharedUintHandler, sharedInheritEnumHandler);
            return (_local5);
        }
        public static function NewEnumStringProperty(_arg1:String, _arg2:String, _arg3:Boolean, _arg4:Vector.<String>, ... _args):Property{
            var _local6:Property = new Property(_arg1, _arg2, _arg3, _arg4);
            _local6.addHandlers(sharedUndefinedHandler, new EnumPropertyHandler(_args), sharedInheritEnumHandler);
            return (_local6);
        }
        public static function NewIntOrEnumProperty(_arg1:String, _arg2:Object, _arg3:Boolean, _arg4:Vector.<String>, _arg5:int, _arg6:int, ... _args):Property{
            var _local8:Property = new Property(_arg1, _arg2, _arg3, _arg4);
            _local8.addHandlers(sharedUndefinedHandler, new EnumPropertyHandler(_args), new IntPropertyHandler(_arg5, _arg6), sharedInheritEnumHandler);
            return (_local8);
        }
        public static function NewUintOrEnumProperty(_arg1:String, _arg2:Object, _arg3:Boolean, _arg4:Vector.<String>, ... _args):Property{
            var _local6:Property = new Property(_arg1, _arg2, _arg3, _arg4);
            _local6.addHandlers(sharedUndefinedHandler, new EnumPropertyHandler(_args), sharedUintHandler, sharedInheritEnumHandler);
            return (_local6);
        }
        public static function NewNumberProperty(_arg1:String, _arg2:Number, _arg3:Boolean, _arg4:Vector.<String>, _arg5:Number, _arg6:Number):Property{
            var _local7:Property = new Property(_arg1, _arg2, _arg3, _arg4);
            _local7.addHandlers(sharedUndefinedHandler, new NumberPropertyHandler(_arg5, _arg6), sharedInheritEnumHandler);
            return (_local7);
        }
        public static function NewNumberOrPercentOrEnumProperty(_arg1:String, _arg2:Object, _arg3:Boolean, _arg4:Vector.<String>, _arg5:Number, _arg6:Number, _arg7:String, _arg8:String, ... _args):Property{
            var _local10:Property = new Property(_arg1, _arg2, _arg3, _arg4);
            _local10.addHandlers(sharedUndefinedHandler, new EnumPropertyHandler(_args), new PercentPropertyHandler(_arg7, _arg8), new NumberPropertyHandler(_arg5, _arg6), sharedInheritEnumHandler);
            return (_local10);
        }
        public static function NewNumberOrPercentProperty(_arg1:String, _arg2:Object, _arg3:Boolean, _arg4:Vector.<String>, _arg5:Number, _arg6:Number, _arg7:String, _arg8:String):Property{
            var _local9:Property = new Property(_arg1, _arg2, _arg3, _arg4);
            _local9.addHandlers(sharedUndefinedHandler, new PercentPropertyHandler(_arg7, _arg8), new NumberPropertyHandler(_arg5, _arg6), sharedInheritEnumHandler);
            return (_local9);
        }
        public static function NewNumberOrEnumProperty(_arg1:String, _arg2:Object, _arg3:Boolean, _arg4:Vector.<String>, _arg5:Number, _arg6:Number, ... _args):Property{
            var _local8:Property = new Property(_arg1, _arg2, _arg3, _arg4);
            _local8.addHandlers(sharedUndefinedHandler, new EnumPropertyHandler(_args), new NumberPropertyHandler(_arg5, _arg6), sharedInheritEnumHandler);
            return (_local8);
        }
        public static function NewTabStopsProperty(_arg1:String, _arg2:Array, _arg3:Boolean, _arg4:Vector.<String>):Property{
            return (new TabStopsProperty(_arg1, _arg2, _arg3, _arg4));
        }
        public static function NewSpacingLimitProperty(_arg1:String, _arg2:Object, _arg3:Boolean, _arg4:Vector.<String>, _arg5:String, _arg6:String):Property{
            var _local7:Property = new Property(_arg1, _arg2, _arg3, _arg4);
            _local7.addHandlers(sharedUndefinedHandler, new SpacingLimitPropertyHandler(_arg5, _arg6), sharedInheritEnumHandler);
            return (_local7);
        }
        public static function NewTextLayoutFormatProperty(_arg1:String, _arg2:Object, _arg3:Boolean, _arg4:Vector.<String>):Property{
            var _local5:Property = new Property(_arg1, undefinedValue, _arg3, _arg4);
            _local5.addHandlers(sharedUndefinedHandler, sharedTextLayoutFormatHandler, sharedInheritEnumHandler);
            return (_local5);
        }
        public static function NewListMarkerFormatProperty(_arg1:String, _arg2:Object, _arg3:Boolean, _arg4:Vector.<String>):Property{
            var _local5:Property = new Property(_arg1, undefinedValue, _arg3, _arg4);
            _local5.addHandlers(sharedUndefinedHandler, sharedListMarkerFormatHandler, sharedInheritEnumHandler);
            return (_local5);
        }
        public static function defaultConcatHelper(_arg1, _arg2){
            return ((((((_arg1 === undefined)) || ((_arg1 == FormatValue.INHERIT)))) ? _arg2 : _arg1));
        }
        public static function defaultsAllHelper(_arg1:Object, _arg2:Object):void{
            var _local3:Property;
            for each (_local3 in _arg1) {
                _arg2[_local3.name] = _local3.defaultValue;
            };
        }
        public static function equalAllHelper(_arg1:Object, _arg2:Object, _arg3:Object):Boolean{
            var _local4:Property;
            var _local5:String;
            if (_arg2 == _arg3){
                return (true);
            };
            if ((((_arg2 == null)) || ((_arg3 == null)))){
                return (false);
            };
            for each (_local4 in _arg1) {
                _local5 = _local4.name;
                if (!_local4.equalHelper(_arg2[_local5], _arg3[_local5])){
                    return (false);
                };
            };
            return (true);
        }
        public static function extractInCategory(_arg1:Class, _arg2:Object, _arg3:Object, _arg4:String, _arg5:Boolean=true):Object{
            var _local7:Property;
            var _local6:Object;
            for each (_local7 in _arg2) {
                if (_arg3[_local7.name] == null){
                } else {
                    if (_arg5){
                        if (_local7.category != _arg4){
                            continue;
                        };
                    } else {
                        if (_local7.categories.indexOf(_arg4) == -1){
                            continue;
                        };
                    };
                    if (_local6 == null){
                        _local6 = new (_arg1)();
                    };
                    _local6[_local7.name] = _arg3[_local7.name];
                };
            };
            return (_local6);
        }
        public static function shallowCopy(_arg1:Object):Object{
            var _local3:Object;
            var _local2:Object = new Object();
            for (_local3 in _arg1) {
                _local2[_local3] = _arg1[_local3];
            };
            return (_local2);
        }
        public static function shallowCopyInFilter(_arg1:Object, _arg2:Object):Object{
            var _local4:Object;
            var _local3:Object = new Object();
            for (_local4 in _arg1) {
                if (_arg2.hasOwnProperty(_local4)){
                    _local3[_local4] = _arg1[_local4];
                };
            };
            return (_local3);
        }
        public static function shallowCopyNotInFilter(_arg1:Object, _arg2:Object):Object{
            var _local4:Object;
            var _local3:Object = new Object();
            for (_local4 in _arg1) {
                if (!_arg2.hasOwnProperty(_local4)){
                    _local3[_local4] = _arg1[_local4];
                };
            };
            return (_local3);
        }
        private static function compareStylesLoop(_arg1:Object, _arg2:Object, _arg3:Object):Boolean{
            var _local4:String;
            var _local5:Object;
            var _local6:Object;
            var _local7:ArrayProperty;
            for (_local4 in _arg1) {
                _local5 = _arg1[_local4];
                _local6 = _arg2[_local4];
                if (_local5 != _local6){
                    if (((((((!((_local5 is Array))) || (!((_local6 is Array))))) || (!((_local5.length == _local6.length))))) || (!(_arg3)))){
                        return (false);
                    };
                    _local7 = _arg3[_local4];
                    if (((!(_local7)) || (!(equalAllHelper(_local7.memberType.description, _local5, _local6))))){
                        return (false);
                    };
                };
            };
            return (true);
        }
        public static function equalStyles(_arg1:Object, _arg2:Object, _arg3:Object):Boolean{
            if (_arg1 == null){
                _arg1 = nullStyleObject;
            };
            if (_arg2 == null){
                _arg2 = nullStyleObject;
            };
            return (((compareStylesLoop(_arg1, _arg2, _arg3)) && (compareStylesLoop(_arg2, _arg1, _arg3))));
        }
        public static function toNumberIfPercent(_arg1:Object):Number{
            if (!(_arg1 is String)){
                return (NaN);
            };
            var _local2:String = String(_arg1);
            var _local3:int = _local2.length;
            return (((((!((_local3 == 0))) && ((_local2.charAt((_local3 - 1)) == "%")))) ? parseFloat(_local2) : NaN));
        }
        public static function createObjectWithPrototype(_arg1:Object):Object{
            prototypeFactory.prototype = _arg1;
            return (new prototypeFactory());
        }

        public function get name():String{
            return (this._name);
        }
        public function get defaultValue(){
            return (this._default);
        }
        public function get inherited():Object{
            return (this._inherited);
        }
        public function get category():String{
            return (this._categories[0]);
        }
        public function get categories():Vector.<String>{
            return (this._categories);
        }
        public function addHandlers(... _args):void{
            var _local3:PropertyHandler;
            this._handlers = new Vector.<PropertyHandler>(_args.length, true);
            var _local2:int;
            while (_local2 < _args.length) {
                _local3 = _args[_local2];
                this._handlers[_local2] = _local3;
                if (_local3.customXMLStringHandler){
                    this._hasCustomExporterHandler = true;
                };
                if ((_local3 is NumberPropertyHandler)){
                    this._numberPropertyHandler = (_local3 as NumberPropertyHandler);
                };
                _local2++;
            };
        }
        public function findHandler(_arg1:Class):PropertyHandler{
            var _local2:PropertyHandler;
            for each (_local2 in this._handlers) {
                if ((_local2 is _arg1)){
                    return (_local2);
                };
            };
            return (null);
        }
        public function setHelper(_arg1, _arg2){
            var _local3:PropertyHandler;
            var _local4:*;
            for each (_local3 in this._handlers) {
                _local4 = _local3.owningHandlerCheck(_arg2);
                if (_local4 !== undefined){
                    return (_local3.setHelper(_local4));
                };
            };
            Property.errorHandler(this, _arg2);
            return (_arg1);
        }
        public function concatInheritOnlyHelper(_arg1, _arg2){
            return (((((((this._inherited) && ((_arg1 === undefined)))) || ((_arg1 == FormatValue.INHERIT)))) ? _arg2 : _arg1));
        }
        public function concatHelper(_arg1, _arg2){
            if (this._inherited){
                return ((((((_arg1 === undefined)) || ((_arg1 == FormatValue.INHERIT)))) ? _arg2 : _arg1));
            };
            if (_arg1 === undefined){
                return (this.defaultValue);
            };
            return ((((_arg1 == FormatValue.INHERIT)) ? _arg2 : _arg1));
        }
        public function equalHelper(_arg1, _arg2):Boolean{
            return ((_arg1 == _arg2));
        }
        public function toXMLString(_arg1:Object):String{
            var _local2:PropertyHandler;
            if (this._hasCustomExporterHandler){
                for each (_local2 in this._handlers) {
                    if (((_local2.customXMLStringHandler) && (!((_local2.owningHandlerCheck(_arg1) === undefined))))){
                        return (_local2.toXMLString(_arg1));
                    };
                };
            };
            return (_arg1.toString());
        }
        public function get maxPercentValue():Number{
            var _local1:PercentPropertyHandler = (this.findHandler(PercentPropertyHandler) as PercentPropertyHandler);
            return (((_local1) ? _local1.maxValue : NaN));
        }
        public function get minPercentValue():Number{
            var _local1:PercentPropertyHandler = (this.findHandler(PercentPropertyHandler) as PercentPropertyHandler);
            return (((_local1) ? _local1.minValue : NaN));
        }
        public function get minValue():Number{
            var _local1:NumberPropertyHandler = (this.findHandler(NumberPropertyHandler) as NumberPropertyHandler);
            if (_local1){
                return (_local1.minValue);
            };
            var _local2:IntPropertyHandler = (this.findHandler(IntPropertyHandler) as IntPropertyHandler);
            return (((_local2) ? _local2.minValue : NaN));
        }
        public function get maxValue():Number{
            var _local1:NumberPropertyHandler = (this.findHandler(NumberPropertyHandler) as NumberPropertyHandler);
            if (_local1){
                return (_local1.maxValue);
            };
            var _local2:IntPropertyHandler = (this.findHandler(IntPropertyHandler) as IntPropertyHandler);
            return (((_local2) ? _local2.maxValue : NaN));
        }
        public function computeActualPropertyValue(_arg1:Object, _arg2:Number):Number{
            var _local3:Number = toNumberIfPercent(_arg1);
            if (isNaN(_local3)){
                return (Number(_arg1));
            };
            var _local4:Number = (_arg2 * (_local3 / 100));
            return (((this._numberPropertyHandler) ? this._numberPropertyHandler.clampToRange(_local4) : _local4));
        }

    }
}//package flashx.textLayout.property 
﻿package flashx.textLayout.property {

    public class PropertyHandler {

        public static function createRange(_arg1:Array):Object{
            var _local2:Object = new Object();
            var _local3:int;
            while (_local3 < _arg1.length) {
                _local2[_arg1[_local3]] = null;
                _local3++;
            };
            return (_local2);
        }

        public function get customXMLStringHandler():Boolean{
            return (false);
        }
        public function toXMLString(_arg1:Object):String{
            return (null);
        }
        public function owningHandlerCheck(_arg1){
            return (undefined);
        }
        public function setHelper(_arg1){
            return (_arg1);
        }

    }
}//package flashx.textLayout.property 
﻿package flashx.textLayout.property {
    import flashx.textLayout.elements.*;
    import flashx.textLayout.*;

    public class CounterContentHandler extends PropertyHandler {

        private static const _counterContentPattern1:RegExp = /^\s*counter\s*\(\s*ordered\s*\)\s*$/;
        private static const _counterContentPattern2:RegExp = /^\s*counter\s*\(\s*ordered\s*,\s*\S+\s*\)\s*$/;
        private static const _countersContentPattern1:RegExp = /^\s*counters\s*\(\s*ordered\s*\)\s*$/;
        private static const _countersContentPattern2:RegExp = /^\s*counters\s*\(\s*ordered\s*,\s*".*"\s*\)\s*$/;
        private static const _countersContentPattern3:RegExp = /^\s*counters\s*\(\s*ordered\s*,\s*".*"\s*,\s*\S+\s*\)\s*$/;
        private static const _counterBeginPattern:RegExp = /^\s*counter\s*\(\s*ordered\s*,\s*/g;
        private static const _trailingStuff:RegExp = /\s*\)\s*/g;
        private static const _countersTillSuffixPattern:RegExp = /^\s*counters\s*\(\s*ordered\s*,\s*"/g;
        private static const _afterSuffixPattern2:RegExp = /^"\s*\)\s*$/;
        private static const _afterSuffixPattern3:RegExp = /^"\s*,\s*\S+\s*\)\s*$/;
        private static const _countersTillListStyleTypePattern:RegExp = /^\s*counters\s*\(\s*ordered\s*,\s*".*"\s*,\s*/g;

        tlf_internal static function extractListStyleTypeFromCounter(_arg1:String):String{
            _counterBeginPattern.lastIndex = 0;
            _counterBeginPattern.test(_arg1);
            _arg1 = _arg1.substr(_counterBeginPattern.lastIndex);
            _trailingStuff.lastIndex = 0;
            _trailingStuff.test(_arg1);
            _arg1 = _arg1.substr(0, (_trailingStuff.lastIndex - 1));
            return (_arg1);
        }
        tlf_internal static function extractSuffixFromCounters2(_arg1:String):String{
            _countersTillSuffixPattern.lastIndex = 0;
            _countersTillSuffixPattern.test(_arg1);
            _arg1 = _arg1.substr(_countersTillSuffixPattern.lastIndex);
            var _local2 = "";
            while (!(_afterSuffixPattern2.test(_arg1))) {
                _local2 = (_local2 + _arg1.substr(0, 1));
                _arg1 = _arg1.substr(1);
            };
            return (_local2);
        }
        tlf_internal static function extractSuffixFromCounters3(_arg1:String):String{
            _countersTillSuffixPattern.lastIndex = 0;
            _countersTillSuffixPattern.test(_arg1);
            _arg1 = _arg1.substr(_countersTillSuffixPattern.lastIndex);
            var _local2 = "";
            while (!(_afterSuffixPattern3.test(_arg1))) {
                _local2 = (_local2 + _arg1.substr(0, 1));
                _arg1 = _arg1.substr(1);
            };
            return (_local2);
        }
        tlf_internal static function extractListStyleTypeFromCounters(_arg1:String):String{
            _countersTillListStyleTypePattern.lastIndex = 0;
            _countersTillListStyleTypePattern.test(_arg1);
            _arg1 = _arg1.substr(_countersTillListStyleTypePattern.lastIndex);
            _trailingStuff.lastIndex = 0;
            _trailingStuff.test(_arg1);
            _arg1 = _arg1.substr(0, (_trailingStuff.lastIndex - 1));
            return (_arg1);
        }

        override public function get customXMLStringHandler():Boolean{
            return (true);
        }
        override public function toXMLString(_arg1:Object):String{
            var _local2:String;
            if (_arg1.hasOwnProperty("counter")){
                return ((((_arg1.ordered == null)) ? "counter(ordered)" : (("counter(ordered," + _arg1.ordered) + ")")));
            };
            if (_arg1.hasOwnProperty("counters")){
                _local2 = "counters(ordered";
                if (_arg1.suffix != null){
                    _local2 = (_local2 + ((",\"" + _arg1.suffix) + "\""));
                    if (_arg1.ordered){
                        _local2 = (_local2 + ("," + _arg1.ordered));
                    };
                };
                _local2 = (_local2 + ")");
                return (_local2);
            };
            return (_arg1.toString());
        }
        override public function owningHandlerCheck(_arg1){
            var _local2:String;
            if (!(_arg1 is String)){
                return (((((_arg1.hasOwnProperty("counter")) || (_arg1.hasOwnProperty("counters")))) ? _arg1 : undefined));
            };
            if (_counterContentPattern1.test(_arg1)){
                return (_arg1);
            };
            if (_counterContentPattern2.test(_arg1)){
                _local2 = extractListStyleTypeFromCounter(_arg1);
                return (((ListElement.listSuffixes[_local2])!==undefined) ? _arg1 : undefined);
            };
            if (_countersContentPattern1.test(_arg1)){
                return (_arg1);
            };
            if (_countersContentPattern2.test(_arg1)){
                return (_arg1);
            };
            if (_countersContentPattern3.test(_arg1)){
                _local2 = extractListStyleTypeFromCounters(_arg1);
                return (((ListElement.listSuffixes[_local2])!==undefined) ? _arg1 : undefined);
            };
            return (undefined);
        }
        override public function setHelper(_arg1){
            var _local3:String;
            var _local4:String;
            var _local2:String = (_arg1 as String);
            if (_local2 == null){
                return (_arg1);
            };
            if (_counterContentPattern1.test(_arg1)){
                return ({counter:"ordered"});
            };
            if (_counterContentPattern2.test(_arg1)){
                _local3 = extractListStyleTypeFromCounter(_arg1);
                return ({
                    counter:"ordered",
                    ordered:_local3
                });
            };
            if (_countersContentPattern1.test(_arg1)){
                return ({counters:"ordered"});
            };
            if (_countersContentPattern2.test(_arg1)){
                _local4 = extractSuffixFromCounters2(_arg1);
                return ({
                    counters:"ordered",
                    suffix:_local4
                });
            };
            if (_countersContentPattern3.test(_arg1)){
                _local3 = extractListStyleTypeFromCounters(_arg1);
                _local4 = extractSuffixFromCounters3(_arg1);
                return ({
                    counters:"ordered",
                    suffix:_local4,
                    ordered:_local3
                });
            };
            return (undefined);
        }

    }
}//package flashx.textLayout.property 
﻿package flashx.textLayout.property {

    public class StringPropertyHandler extends PropertyHandler {

        override public function owningHandlerCheck(_arg1){
            return ((((_arg1 is String)) ? _arg1 : undefined));
        }

    }
}//package flashx.textLayout.property 
﻿package flashx.textLayout.property {

    public class UintPropertyHandler extends PropertyHandler {

        override public function get customXMLStringHandler():Boolean{
            return (true);
        }
        override public function toXMLString(_arg1:Object):String{
            var _local2:String = _arg1.toString(16);
            if (_local2.length < 6){
                _local2 = ("000000".substr(0, (6 - _local2.length)) + _local2);
            };
            _local2 = ("#" + _local2);
            return (_local2);
        }
        override public function owningHandlerCheck(_arg1){
            var _local2:Number;
            var _local3:String;
            if ((_arg1 is uint)){
                return (_arg1);
            };
            if ((_arg1 is String)){
                _local3 = String(_arg1);
                if (_local3.substr(0, 1) == "#"){
                    _local3 = ("0x" + _local3.substr(1, (_local3.length - 1)));
                };
                _local2 = ((_local3.toLowerCase().substr(0, 2))=="0x") ? parseInt(_local3) : NaN;
            } else {
                if ((((_arg1 is Number)) || ((_arg1 is int)))){
                    _local2 = Number(_arg1);
                } else {
                    return (undefined);
                };
            };
            if (isNaN(_local2)){
                return (undefined);
            };
            if ((((_local2 < 0)) || ((_local2 > 0xFFFFFFFF)))){
                return (undefined);
            };
            return (_local2);
        }

    }
}//package flashx.textLayout.property 
﻿package flashx.textLayout.property {

    public class BooleanPropertyHandler extends PropertyHandler {

        override public function owningHandlerCheck(_arg1){
            if ((_arg1 is Boolean)){
                return (_arg1);
            };
            if ((((_arg1 == "true")) || ((_arg1 == "false")))){
                return ((_arg1 == "true"));
            };
            return (undefined);
        }

    }
}//package flashx.textLayout.property 
﻿package flashx.textLayout.property {

    public class IntPropertyHandler extends PropertyHandler {

        private var _minValue:int;
        private var _maxValue:int;
        private var _limits:String;

        public function IntPropertyHandler(_arg1:int, _arg2:int, _arg3:String="allLimits"){
            this._minValue = _arg1;
            this._maxValue = _arg2;
            this._limits = _arg3;
        }
        public function get minValue():int{
            return (this._minValue);
        }
        public function get maxValue():int{
            return (this._maxValue);
        }
        public function checkLowerLimit():Boolean{
            return ((((this._limits == Property.ALL_LIMITS)) || ((this._limits == Property.LOWER_LIMIT))));
        }
        public function checkUpperLimit():Boolean{
            return ((((this._limits == Property.ALL_LIMITS)) || ((this._limits == Property.UPPER_LIMIT))));
        }
        override public function owningHandlerCheck(_arg1){
            var _local2:Number = (((_arg1 is String)) ? parseInt(_arg1) : int(_arg1));
            if (isNaN(_local2)){
                return (undefined);
            };
            var _local3:int = int(_local2);
            if (((this.checkLowerLimit()) && ((_local3 < this._minValue)))){
                return (undefined);
            };
            if (((this.checkUpperLimit()) && ((_local3 > this._maxValue)))){
                return (undefined);
            };
            return (_local3);
        }

    }
}//package flashx.textLayout.property 
﻿package flashx.textLayout.property {

    public class CounterPropHandler extends PropertyHandler {

        private static const _orderedPattern:RegExp = /^\s*ordered(\s+-?\d+){0,1}\s*$/;
        private static const _orderedBeginPattern:RegExp = /^\s*ordered\s*/g;

        private var _defaultNumber:int;

        public function CounterPropHandler(_arg1:int){
            this._defaultNumber = _arg1;
        }
        public function get defaultNumber():int{
            return (this._defaultNumber);
        }
        override public function get customXMLStringHandler():Boolean{
            return (true);
        }
        override public function toXMLString(_arg1:Object):String{
            return ((((_arg1["ordered"] == 1)) ? "ordered" : ("ordered " + _arg1["ordered"])));
        }
        override public function owningHandlerCheck(_arg1){
            return ((((((((_arg1 is String)) && (_orderedPattern.test(_arg1)))) || (_arg1.hasOwnProperty("ordered")))) ? _arg1 : undefined));
        }
        override public function setHelper(_arg1){
            var _local2:String = (_arg1 as String);
            if (_local2 == null){
                return (_arg1);
            };
            _orderedBeginPattern.lastIndex = 0;
            _orderedBeginPattern.test(_local2);
            var _local3:int = ((_orderedBeginPattern.lastIndex)!=_local2.length) ? parseInt(_local2.substr(_orderedBeginPattern.lastIndex)) : this._defaultNumber;
            return ({ordered:_local3});
        }

    }
}//package flashx.textLayout.property 
﻿package flashx.textLayout.property {

    public class PercentPropertyHandler extends PropertyHandler {

        private var _minValue:Number;
        private var _maxValue:Number;
        private var _limits:String;

        public function PercentPropertyHandler(_arg1:String, _arg2:String, _arg3:String="allLimits"){
            this._minValue = Property.toNumberIfPercent(_arg1);
            this._maxValue = Property.toNumberIfPercent(_arg2);
            this._limits = _arg3;
        }
        public function get minValue():Number{
            return (this._minValue);
        }
        public function get maxValue():Number{
            return (this._maxValue);
        }
        public function checkLowerLimit():Boolean{
            return ((((this._limits == Property.ALL_LIMITS)) || ((this._limits == Property.LOWER_LIMIT))));
        }
        public function checkUpperLimit():Boolean{
            return ((((this._limits == Property.ALL_LIMITS)) || ((this._limits == Property.UPPER_LIMIT))));
        }
        override public function owningHandlerCheck(_arg1){
            var _local2:Number = Property.toNumberIfPercent(_arg1);
            if (isNaN(_local2)){
                return (undefined);
            };
            if (((this.checkLowerLimit()) && ((_local2 < this._minValue)))){
                return (undefined);
            };
            if (((this.checkUpperLimit()) && ((_local2 > this._maxValue)))){
                return (undefined);
            };
            return (_arg1);
        }

    }
}//package flashx.textLayout.property 
﻿package flashx.textLayout.property {
    import flash.text.engine.*;
    import __AS3__.vec.*;
    import flashx.textLayout.formats.*;

    public class TabStopsProperty extends ArrayProperty {

        private static const _tabStopRegex:RegExp = /([sScCeEdD]?)([^| ]+)(|[^ ]*)?( |$)/g;
        private static const _escapeBackslashRegex:RegExp = /\\\\/g;
        private static const _escapeSpaceRegex:RegExp = /\\ /g;
        private static const _backslashRegex:RegExp = /\\/g;
        private static const _spaceRegex:RegExp = / /g;
        private static const _backslashPlaceholderRegex:RegExp = //g;
        private static const _spacePlaceholderRegex:RegExp = //g;
        private static const _backslashPlaceHolder:String = String.fromCharCode(0xE000);
        private static const _spacePlaceHolder:String = String.fromCharCode(57345);

        public function TabStopsProperty(_arg1:String, _arg2:Array, _arg3:Boolean, _arg4:Vector.<String>){
            super(_arg1, _arg2, _arg3, _arg4, TabStopFormat);
        }
        private static function compareTabStopFormats(_arg1:TabStopFormat, _arg2:TabStopFormat):Number{
            return ((((_arg1.position == _arg2.position)) ? 0 : (((_arg1.position < _arg2.position)) ? -1 : 1)));
        }

        override public function setHelper(_arg1, _arg2){
            var _local4:String;
            var _local5:Object;
            var _local6:TabStopFormat;
            var _local7:Number;
            if ((((_arg2 == null)) || ((_arg2 == FormatValue.INHERIT)))){
                return (_arg2);
            };
            var _local3:Array = (_arg2 as Array);
            if (_local3){
                if (!checkArrayTypes(_local3)){
                    Property.errorHandler(this, _arg2);
                    return (_arg1);
                };
            } else {
                _local4 = (_arg2 as String);
                if (!_local4){
                    Property.errorHandler(this, _arg2);
                    return (_arg1);
                };
                _local3 = new Array();
                _local4 = _local4.replace(_escapeBackslashRegex, _backslashPlaceHolder);
                _local4 = _local4.replace(_escapeSpaceRegex, _spacePlaceHolder);
                _tabStopRegex.lastIndex = 0;
                do  {
                    _local5 = _tabStopRegex.exec(_local4);
                    if (!_local5){
                        break;
                    };
                    _local6 = new TabStopFormat();
                    switch (_local5[1].toLowerCase()){
                        case "s":
                        case "":
                            _local6.alignment = TabAlignment.START;
                            break;
                        case "c":
                            _local6.alignment = TabAlignment.CENTER;
                            break;
                        case "e":
                            _local6.alignment = TabAlignment.END;
                            break;
                        case "d":
                            _local6.alignment = TabAlignment.DECIMAL;
                            break;
                    };
                    _local7 = Number(_local5[2]);
                    if (isNaN(_local7)){
                        Property.errorHandler(this, _arg2);
                        return (_arg1);
                    };
                    _local6.position = _local7;
                    if (_local6.alignment == TabAlignment.DECIMAL){
                        if (_local5[3] == ""){
                            _local6.decimalAlignmentToken = ".";
                        } else {
                            _local6.decimalAlignmentToken = _local5[3].slice(1).replace(_backslashPlaceholderRegex, "\\");
                            _local6.decimalAlignmentToken = _local6.decimalAlignmentToken.replace(_spacePlaceholderRegex, " ");
                        };
                    } else {
                        if (_local5[3] != ""){
                            Property.errorHandler(this, _arg2);
                            return (_arg1);
                        };
                    };
                    _local3.push(_local6);
                } while (true);
            };
            return (_local3.sort(compareTabStopFormats));
        }
        override public function toXMLString(_arg1:Object):String{
            var _local4:TabStopFormat;
            var _local5:String;
            var _local2 = "";
            var _local3:Array = (_arg1 as Array);
            for each (_local4 in _local3) {
                if (_local2.length){
                    _local2 = (_local2 + " ");
                };
                switch (_local4.alignment){
                    case TabAlignment.START:
                        _local2 = (_local2 + "s");
                        break;
                    case TabAlignment.CENTER:
                        _local2 = (_local2 + "c");
                        break;
                    case TabAlignment.END:
                        _local2 = (_local2 + "e");
                        break;
                    case TabAlignment.DECIMAL:
                        _local2 = (_local2 + "d");
                        break;
                };
                _local2 = (_local2 + _local4.position.toString());
                if (_local4.alignment == TabAlignment.DECIMAL){
                    _local5 = _local4.decimalAlignmentToken.replace(_backslashRegex, "\\\\");
                    _local5 = _local5.replace(_spaceRegex, "\\ ");
                    _local2 = (_local2 + ("|" + _local5));
                };
            };
            return (_local2);
        }

    }
}//package flashx.textLayout.property 
﻿package flashx.textLayout.property {

    public class UndefinedPropertyHandler extends PropertyHandler {

        override public function owningHandlerCheck(_arg1){
            return ((((((_arg1 === null)) || ((_arg1 === undefined)))) ? true : undefined));
        }
        override public function setHelper(_arg1){
            return (undefined);
        }

    }
}//package flashx.textLayout.property 
﻿package flashx.textLayout.property {

    public class EnumPropertyHandler extends PropertyHandler {

        private var _range:Object;

        public function EnumPropertyHandler(_arg1:Array){
            this._range = PropertyHandler.createRange(_arg1);
        }
        public function get range():Object{
            return (Property.shallowCopy(this._range));
        }
        override public function owningHandlerCheck(_arg1){
            return (((this._range.hasOwnProperty(_arg1)) ? _arg1 : undefined));
        }

    }
}//package flashx.textLayout.property 
﻿package flashx.textLayout.property {

    public class NumberPropertyHandler extends PropertyHandler {

        private var _minValue:Number;
        private var _maxValue:Number;
        private var _limits:String;

        public function NumberPropertyHandler(_arg1:Number, _arg2:Number, _arg3:String="allLimits"){
            this._minValue = _arg1;
            this._maxValue = _arg2;
            this._limits = _arg3;
        }
        public function get minValue():Number{
            return (this._minValue);
        }
        public function get maxValue():Number{
            return (this._maxValue);
        }
        public function checkLowerLimit():Boolean{
            return ((((this._limits == Property.ALL_LIMITS)) || ((this._limits == Property.LOWER_LIMIT))));
        }
        public function checkUpperLimit():Boolean{
            return ((((this._limits == Property.ALL_LIMITS)) || ((this._limits == Property.UPPER_LIMIT))));
        }
        override public function owningHandlerCheck(_arg1){
            var _local2:Number = (((_arg1 is String)) ? parseFloat(_arg1) : Number(_arg1));
            if (isNaN(_local2)){
                return (undefined);
            };
            if (((this.checkLowerLimit()) && ((_local2 < this._minValue)))){
                return (undefined);
            };
            if (((this.checkUpperLimit()) && ((_local2 > this._maxValue)))){
                return (undefined);
            };
            return (_local2);
        }
        public function clampToRange(_arg1:Number):Number{
            if (((this.checkLowerLimit()) && ((_arg1 < this._minValue)))){
                return (this._minValue);
            };
            if (((this.checkUpperLimit()) && ((_arg1 > this._maxValue)))){
                return (this._maxValue);
            };
            return (_arg1);
        }

    }
}//package flashx.textLayout.property 
﻿package flashx.textLayout.property {

    public class SpacingLimitPropertyHandler extends PropertyHandler {

        private static const _spacingLimitPattern:RegExp = /\d+%/g;
        private static const _spacingLimitArrayPattern:RegExp = /^\s*(\d+%)(\s*,\s*)(\d+%)?(\s*,\s*)(\d+%)?\s*$/;

        private var _minPercentValue:String;
        private var _maxPercentValue:String;

        public function SpacingLimitPropertyHandler(_arg1:String, _arg2:String){
            this._minPercentValue = _arg1;
            this._maxPercentValue = _arg2;
        }
        override public function get customXMLStringHandler():Boolean{
            return (true);
        }
        override public function toXMLString(_arg1:Object):String{
            if (((((_arg1.hasOwnProperty("optimumSpacing")) && (_arg1.hasOwnProperty("minimumSpacing")))) && (_arg1.hasOwnProperty("maximumSpacing")))){
                return (((((_arg1.optimumSpacing.toString() + ",") + _arg1.minimumSpacing.toString()) + ",") + _arg1.maximumSpacing.toString()));
            };
            return (_arg1.toString());
        }
        override public function owningHandlerCheck(_arg1){
            if ((_arg1 is String)){
                if (_spacingLimitArrayPattern.test(_arg1)){
                    return (_arg1);
                };
            } else {
                if (((((_arg1.hasOwnProperty("optimumSpacing")) && (_arg1.hasOwnProperty("minimumSpacing")))) && (_arg1.hasOwnProperty("maximumSpacing")))){
                    return (_arg1);
                };
            };
            return (undefined);
        }
        private function checkValue(_arg1):Boolean{
            var _local2:Number = Property.toNumberIfPercent(this._minPercentValue);
            var _local3:Number = Property.toNumberIfPercent(this._maxPercentValue);
            var _local4:Number = Property.toNumberIfPercent(_arg1.optimumSpacing);
            if ((((_local4 < _local2)) || ((_local4 > _local3)))){
                return (false);
            };
            var _local5:Number = Property.toNumberIfPercent(_arg1.minimumSpacing);
            if ((((_local5 < _local2)) || ((_local5 > _local3)))){
                return (false);
            };
            var _local6:Number = Property.toNumberIfPercent(_arg1.maximumSpacing);
            if ((((_local6 < _local2)) || ((_local6 > _local3)))){
                return (false);
            };
            if ((((_local4 < _local5)) || ((_local4 > _local6)))){
                return (false);
            };
            if (_local5 > _local6){
                return (false);
            };
            return (true);
        }
        override public function setHelper(_arg1){
            var _local3:Object;
            var _local4:Array;
            var _local2:String = (_arg1 as String);
            if (_local2 == null){
                return (_arg1);
            };
            if (_spacingLimitArrayPattern.test(_arg1)){
                _local3 = new Object();
                _local4 = _local2.match(_spacingLimitPattern);
                if (_local4.length == 1){
                    _local3.optimumSpacing = _local4[0];
                    _local3.minimumSpacing = _local3.optimumSpacing;
                    _local3.maximumSpacing = _local3.optimumSpacing;
                } else {
                    if (_local4.length == 3){
                        _local3.optimumSpacing = _local4[0];
                        _local3.minimumSpacing = _local4[1];
                        _local3.maximumSpacing = _local4[2];
                    } else {
                        return (undefined);
                    };
                };
                if (this.checkValue(_local3)){
                    return (_local3);
                };
            };
            return (undefined);
        }

    }
}//package flashx.textLayout.property 
﻿package flashx.textLayout.property {

    public class FormatPropertyHandler extends PropertyHandler {

        private var _converter:Function;

        public function get converter():Function{
            return (this._converter);
        }
        public function set converter(_arg1:Function):void{
            this._converter = _arg1;
        }
        override public function owningHandlerCheck(_arg1){
            return ((((_arg1 is String)) ? undefined : _arg1));
        }
        override public function setHelper(_arg1){
            return (this._converter(_arg1));
        }

    }
}//package flashx.textLayout.property 
﻿package flashx.textLayout.property {
    import __AS3__.vec.*;
    import flashx.textLayout.formats.*;

    public class ArrayProperty extends Property {

        private var _memberType:Class;

        public function ArrayProperty(_arg1:String, _arg2:Array, _arg3:Boolean, _arg4:Vector.<String>, _arg5:Class){
            super(_arg1, _arg2, _arg3, _arg4);
            this._memberType = _arg5;
        }
        public function get memberType():Class{
            return (this._memberType);
        }
        protected function checkArrayTypes(_arg1:Object):Boolean{
            var _local2:Object;
            if (_arg1 == null){
                return (true);
            };
            if (!(_arg1 is Array)){
                return (false);
            };
            if (this._memberType == null){
                return (true);
            };
            for each (_local2 in (_arg1 as Array)) {
                if (!(_local2 is this._memberType)){
                    return (false);
                };
            };
            return (true);
        }
        override public function get defaultValue(){
            return ((((super.defaultValue == null)) ? null : (super.defaultValue as Array).slice()));
        }
        override public function setHelper(_arg1, _arg2){
            if (_arg2 === null){
                _arg2 = undefined;
            };
            if ((((_arg2 == undefined)) || ((_arg2 == FormatValue.INHERIT)))){
                return (_arg2);
            };
            if ((_arg2 is String)){
                _arg2 = this.valueFromString(String(_arg2));
            };
            if (!this.checkArrayTypes(_arg2)){
                Property.errorHandler(this, _arg2);
                return (_arg1);
            };
            return ((_arg2 as Array).slice());
        }
        override public function concatInheritOnlyHelper(_arg1, _arg2){
            return (((((((inherited) && ((_arg1 === undefined)))) || ((_arg1 == FormatValue.INHERIT)))) ? (((_arg2 is Array)) ? (_arg2 as Array).slice() : _arg2) : _arg1));
        }
        override public function concatHelper(_arg1, _arg2){
            if (inherited){
                return ((((((_arg1 === undefined)) || ((_arg1 == FormatValue.INHERIT)))) ? (((_arg2 is Array)) ? (_arg2 as Array).slice() : _arg2) : _arg1));
            };
            if (_arg1 === undefined){
                return (this.defaultValue);
            };
            return ((((_arg1 == FormatValue.INHERIT)) ? (((_arg2 is Array)) ? (_arg2 as Array).slice() : _arg2) : _arg1));
        }
        override public function equalHelper(_arg1, _arg2):Boolean{
            var _local3:Array;
            var _local4:Array;
            var _local5:Object;
            var _local6:int;
            if (this._memberType != null){
                _local3 = (_arg1 as Array);
                _local4 = (_arg2 as Array);
                if (((_local3) && (_local4))){
                    if (_local3.length == _local4.length){
                        _local5 = this._memberType.description;
                        _local6 = 0;
                        while (_local6 < _local3.length) {
                            if (!Property.equalAllHelper(_local5, _arg1[_local6], _arg2[_local6])){
                                return (false);
                            };
                            _local6++;
                        };
                        return (true);
                    };
                };
            };
            return ((_arg1 == _arg2));
        }
        override public function toXMLString(_arg1:Object):String{
            var _local5:Object;
            var _local6:Boolean;
            var _local7:Property;
            if (_arg1 == FormatValue.INHERIT){
                return (String(_arg1));
            };
            var _local2:Object = this._memberType.description;
            var _local3 = "";
            var _local4:Boolean;
            for each (_local5 in _arg1) {
                if (_local4){
                    _local3 = (_local3 + "; ");
                };
                _local6 = false;
                for each (_local7 in _local2) {
                    _arg1 = _local5[_local7.name];
                    if (_arg1 != null){
                        if (_local6){
                            _local3 = (_local3 + ", ");
                        };
                        _local3 = (_local3 + ((_local7.name + ":") + _local7.toXMLString(_arg1)));
                        _local6 = true;
                    };
                };
                _local4 = true;
            };
            return (_local3);
        }
        private function valueFromString(_arg1:String){
            var _local5:String;
            var _local6:Object;
            var _local7:Array;
            var _local8:String;
            var _local9:Array;
            var _local10:String;
            var _local11:String;
            var _local12:Property;
            if ((((_arg1 == null)) || ((_arg1 == "")))){
                return (null);
            };
            if (_arg1 == FormatValue.INHERIT){
                return (_arg1);
            };
            var _local2:Array = new Array();
            var _local3:Object = this._memberType.description;
            var _local4:Array = _arg1.split("; ");
            for each (_local5 in _local4) {
                _local6 = new this._memberType();
                _local7 = _local5.split(", ");
                for each (_local8 in _local7) {
                    _local9 = _local8.split(":");
                    _local10 = _local9[0];
                    _local11 = _local9[1];
                    for each (_local12 in _local3) {
                        if (_local12.name == _local10){
                            _local6[_local10] = _local12.setHelper(_local11, _local6[_local10]);
                            break;
                        };
                    };
                };
                _local2.push(_local6);
            };
            return (_local2);
        }

    }
}//package flashx.textLayout.property 
﻿package flashx.textLayout.edit {
    import flashx.textLayout.elements.*;
    import flashx.textLayout.conversion.*;
    import flashx.textLayout.*;

    public class TextScrap {

        tlf_internal static const MERGE_TO_NEXT_ON_PASTE:String = "mergeToNextOnPaste";

        private var _textFlow:TextFlow;
        private var _plainText:int;

        public function TextScrap(_arg1:TextFlow=null){
            this._textFlow = _arg1;
            this._textFlow.flowComposer = null;
            this._plainText = -1;
        }
        public static function createTextScrap(_arg1:TextRange):TextScrap{
            var _local7:FlowElement;
            var _local8:FlowElement;
            var _local9:FlowElement;
            var _local2:int = _arg1.absoluteStart;
            var _local3:int = _arg1.absoluteEnd;
            var _local4:TextFlow = _arg1.textFlow;
            if (((!(_local4)) || ((_local2 >= _local3)))){
                return (null);
            };
            var _local5:TextFlow = (_local4.deepCopy(_local2, _local3) as TextFlow);
            _local5.normalize();
            var _local6:TextScrap = new TextScrap(_local5);
            if (_local5.textLength > 0){
                _local7 = _local5.getLastLeaf();
                _local8 = _local4.findLeaf((_local3 - 1));
                _local9 = _local5.getLastLeaf();
                if ((((_local9 is SpanElement)) && (!((_local8 is SpanElement))))){
                    _local9 = _local5.findLeaf((_local5.textLength - 2));
                };
                while (((_local9) && (_local8))) {
                    if (_local3 < (_local8.getAbsoluteStart() + _local8.textLength)){
                        _local9.setStyle(MERGE_TO_NEXT_ON_PASTE, "true");
                    };
                    _local9 = _local9.parent;
                    _local8 = _local8.parent;
                };
                return (_local6);
            };
            return (null);
        }

        public function get textFlow():TextFlow{
            return (this._textFlow);
        }
        public function clone():TextScrap{
            return (new TextScrap((this.textFlow.deepCopy() as TextFlow)));
        }
        tlf_internal function setPlainText(_arg1:Boolean):void{
            this._plainText = ((_arg1) ? 0 : 1);
        }
        tlf_internal function isPlainText():Boolean{
            var isPlainElement:* = null;
            var i:* = 0;
            isPlainElement = function (_arg1:FlowElement):Boolean{
                var _local3:String;
                if (((!((_arg1 is ParagraphElement))) && (!((_arg1 is SpanElement))))){
                    foundAttributes = true;
                    return (true);
                };
                var _local2:Object = _arg1.styles;
                if (_local2){
                    for (_local3 in _local2) {
                        if (_local3 != ConverterBase.MERGE_TO_NEXT_ON_PASTE){
                            foundAttributes = true;
                            return (true);
                        };
                    };
                };
                return (false);
            };
            var foundAttributes:* = false;
            if (this._plainText == -1){
                i = (this._textFlow.numChildren - 1);
                while (i >= 0) {
                    this._textFlow.getChildAt(i).applyFunctionToElements(isPlainElement);
                    i = (i - 1);
                };
                this._plainText = ((foundAttributes) ? 1 : 0);
            };
            return ((this._plainText == 0));
        }

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;

    public class ParaEdit {

        public static function insertText(_arg1:TextFlow, _arg2:int, _arg3:String, _arg4:Boolean):SpanElement{
            var _local6:int;
            var _local14:int;
            var _local15:SpanElement;
            var _local16:int;
            var _local17:FlowLeafElement;
            var _local18:int;
            if (_arg3.length == 0){
                return (null);
            };
            var _local5:FlowElement = _arg1.findLeaf(_arg2);
            var _local7:ParagraphElement = _local5.getParagraph();
            var _local8:int = _local7.getAbsoluteStart();
            var _local9:int = (_arg2 - _local8);
            if (_local8 == _arg2){
                _local6 = 0;
            } else {
                if (_local9 == _local5.getElementRelativeStart(_local7)){
                    _local5 = FlowLeafElement(_local5).getPreviousLeaf(_local7);
                };
                _local6 = (_local5.parent.getChildIndex(_local5) + 1);
            };
            var _local10:FlowGroupElement = _local5.parent;
            var _local11:SubParagraphGroupElementBase = (_local5.getParentByType(SubParagraphGroupElementBase) as SubParagraphGroupElementBase);
            while (_local11 != null) {
                _local14 = (_local9 - _local11.getElementRelativeStart(_local7));
                if ((((((_local14 == 0)) && (!(_local11.acceptTextBefore())))) || (((!(_local11.acceptTextAfter())) && ((((_local14 == _local11.textLength)) || ((((_local14 == (_local11.textLength - 1))) && ((_local5 == _local7.getLastLeaf())))))))))){
                    _arg4 = true;
                    _local5 = _local10;
                    _local10 = _local10.parent;
                    _local11 = (_local11.getParentByType(SubParagraphGroupElementBase) as SubParagraphGroupElementBase);
                    _local6 = (_local10.getChildIndex(_local5) + 1);
                } else {
                    break;
                };
            };
            var _local12:SpanElement = (_local5 as SpanElement);
            if (((!(_local12)) || (_arg4))){
                _local15 = new SpanElement();
                if (_local6 > 0){
                    _local18 = (_local9 - _local5.getElementRelativeStart(_local7));
                    if (_arg4){
                        if (_local18 == 0){
                            _local6--;
                        } else {
                            if (_local18 != _local5.textLength){
                                _local5.splitAtPosition(_local18);
                            };
                        };
                    };
                };
                _local10.replaceChildren(_local6, _local6, _local15);
                _local17 = _local15.getPreviousLeaf(_local7);
                if (_local17 == null){
                    _local15.format = _local15.getNextLeaf(_local7).format;
                } else {
                    _local15.format = _local17.format;
                };
                _local12 = _local15;
            };
            var _local13:int = (_local9 - _local12.getElementRelativeStart(_local7));
            _local12.replaceText(_local13, _local13, _arg3);
            return (_local12);
        }
        private static function deleteTextInternal(_arg1:ParagraphElement, _arg2:int, _arg3:int):void{
            var _local4:FlowElement;
            var _local5:SpanElement;
            var _local6:int;
            var _local8:int;
            var _local9:int;
            var _local7:int;
            while (_arg3 > 0) {
                _local4 = _arg1.findLeaf(_arg2);
                _local5 = (_local4 as SpanElement);
                _local8 = _local5.getElementRelativeStart(_arg1);
                _local7 = (_arg2 - _local8);
                if (_arg2 > (_local8 + _local5.textLength)){
                    _local6 = _local5.textLength;
                } else {
                    _local6 = ((_local8 + _local5.textLength) - _arg2);
                };
                if (_arg3 < _local6){
                    _local6 = _arg3;
                };
                _local5.replaceText(_local7, (_local7 + _local6), "");
                if (_local5.textLength == 0){
                    _local9 = _local5.parent.getChildIndex(_local5);
                    _local5.parent.replaceChildren(_local9, (_local9 + 1), null);
                };
                _arg3 = (_arg3 - _local6);
            };
        }
        public static function deleteText(_arg1:ParagraphElement, _arg2:int, _arg3:int):void{
            var _local4:int = (_arg1.textLength - 1);
            if ((((_arg2 < 0)) || ((_arg2 > _local4)))){
                return;
            };
            if (_arg3 <= 0){
                return;
            };
            var _local5:int = ((_arg2 + _arg3) - 1);
            if (_local5 > _local4){
                _local5 = _local4;
                _arg3 = ((_local5 - _arg2) + 1);
            };
            deleteTextInternal(_arg1, _arg2, _arg3);
        }
        public static function createImage(_arg1:FlowGroupElement, _arg2:int, _arg3:Object, _arg4:Object, _arg5:Object, _arg6:Object, _arg7:ITextLayoutFormat):InlineGraphicElement{
            var _local16:String;
            var _local17:int;
            var _local18:TextLayoutFormat;
            var _local8:FlowElement = _arg1.findLeaf(_arg2);
            var _local9:int;
            if (_local8 != null){
                _local9 = (_arg2 - _local8.getElementRelativeStart(_arg1));
            };
            if (((((!((_local8 == null))) && ((_local9 > 0)))) && ((_local9 < _local8.textLength)))){
                (_local8 as SpanElement).splitAtPosition(_local9);
            };
            var _local10:InlineGraphicElement = new InlineGraphicElement();
            _local10.height = _arg5;
            _local10.width = _arg4;
            _local10.float = ((_arg6) ? _arg6.toString() : undefined);
            var _local11:Object = _arg3;
            var _local12 = "@Embed";
            if ((((((_local11 is String)) && ((_local11.length > _local12.length)))) && ((_local11.substr(0, _local12.length) == _local12)))){
                _local16 = "source=";
                _local17 = _local11.indexOf(_local16, _local12.length);
                if (_local17 > 0){
                    _local17 = (_local17 + _local16.length);
                    _local17 = _local11.indexOf("'", _local17);
                    _local11 = _local11.substring((_local17 + 1), _local11.indexOf("'", (_local17 + 1)));
                };
            };
            _local10.source = _local11;
            while (((_local8) && (!((_local8.parent == _arg1))))) {
                _local8 = _local8.parent;
            };
            var _local13:int = ((_local8)!=null) ? _arg1.getChildIndex(_local8) : _arg1.numChildren;
            if (((_local8) && ((_local9 > 0)))){
                _local13++;
            };
            _arg1.replaceChildren(_local13, _local13, _local10);
            var _local14:ParagraphElement = _local10.getParagraph();
            var _local15:FlowLeafElement = _local10.getPreviousLeaf(_local14);
            if (!_local15){
                _local15 = _local10.getNextLeaf(_local14);
            };
            if (((_local15.format) || (_arg7))){
                _local18 = new TextLayoutFormat(_local15.format);
                if (_arg7){
                    _local18.apply(_arg7);
                };
                _local10.format = _local18;
            };
            return (_local10);
        }
        private static function splitForChange(_arg1:SpanElement, _arg2:int, _arg3:int):SpanElement{
            var _local5:SpanElement;
            var _local4:int = _arg1.getAbsoluteStart();
            if ((((_arg2 == _local4)) && ((_arg3 == _arg1.textLength)))){
                return (_arg1);
            };
            var _local6:int = _arg1.textLength;
            var _local7:int = (_arg2 - _local4);
            if (_local7 > 0){
                _local5 = (_arg1.splitAtPosition(_local7) as SpanElement);
                if ((_local7 + _arg3) < _local6){
                    _local5.splitAtPosition(_arg3);
                };
            } else {
                _arg1.splitAtPosition(_arg3);
                _local5 = _arg1;
            };
            return (_local5);
        }
        private static function undefineDefinedFormats(_arg1:TextLayoutFormat, _arg2:ITextLayoutFormat):void{
            var _local3:TextLayoutFormat;
            var _local4:String;
            if (_arg2){
                if ((_arg2 is TextLayoutFormat)){
                    _local3 = (_arg2 as TextLayoutFormat);
                } else {
                    _local3 = new TextLayoutFormat(_arg2);
                };
                for (_local4 in _local3.styles) {
                    _arg1.setStyle(_local4, undefined);
                };
            };
        }
        private static function applyCharacterFormat(_arg1:FlowLeafElement, _arg2:int, _arg3:int, _arg4:ITextLayoutFormat, _arg5:ITextLayoutFormat):int{
            var _local6:TextLayoutFormat = new TextLayoutFormat(_arg1.format);
            if (_arg4){
                _local6.apply(_arg4);
            };
            undefineDefinedFormats(_local6, _arg5);
            return (setCharacterFormat(_arg1, _local6, _arg2, _arg3));
        }
        private static function setCharacterFormat(_arg1:FlowLeafElement, _arg2:ITextLayoutFormat, _arg3:int, _arg4:int):int{
            var _local6:ParagraphElement;
            var _local7:int;
            var _local8:int;
            var _local9:FlowLeafElement;
            var _local5:int = _arg1.getAbsoluteStart();
            if (((!((_arg2 is ITextLayoutFormat))) || (!(TextLayoutFormat.isEqual(ITextLayoutFormat(_arg2), _arg1.format))))){
                _local6 = _arg1.getParagraph();
                _local7 = _local6.getAbsoluteStart();
                _local8 = (_arg3 - _local5);
                if ((_local8 + _arg4) > _arg1.textLength){
                    _arg4 = (_arg1.textLength - _local8);
                };
                if (((((((_local8 + _arg4) == (_arg1.textLength - 1))) && ((_arg1 is SpanElement)))) && (SpanElement(_arg1).hasParagraphTerminator))){
                    _arg4++;
                };
                if ((_arg1 is SpanElement)){
                    _local9 = splitForChange(SpanElement(_arg1), _arg3, _arg4);
                } else {
                    _local9 = _arg1;
                };
                if ((_arg2 is ITextLayoutFormat)){
                    _local9.format = ITextLayoutFormat(_arg2);
                } else {
                    _local9.setStylesInternal(_arg2);
                };
                return ((_arg3 + _arg4));
            };
            _arg4 = _arg1.textLength;
            return ((_local5 + _arg4));
        }
        public static function applyTextStyleChange(_arg1:TextFlow, _arg2:int, _arg3:int, _arg4:ITextLayoutFormat, _arg5:ITextLayoutFormat):void{
            var _local7:FlowLeafElement;
            var _local6:int = _arg2;
            while (_local6 < _arg3) {
                _local7 = _arg1.findLeaf(_local6);
                _local6 = applyCharacterFormat(_local7, _local6, (_arg3 - _local6), _arg4, _arg5);
            };
        }
        public static function setTextStyleChange(_arg1:TextFlow, _arg2:int, _arg3:int, _arg4:ITextLayoutFormat):void{
            var _local6:FlowElement;
            var _local5:int = _arg2;
            while (_local5 < _arg3) {
                _local6 = _arg1.findLeaf(_local5);
                _local5 = setCharacterFormat(FlowLeafElement(_local6), _arg4, _local5, (_arg3 - _local5));
            };
        }
        public static function splitElement(_arg1:FlowGroupElement, _arg2:int):FlowGroupElement{
            var _local4:FlowGroupElement;
            var _local5:FlowGroupElement;
            var _local6:ParagraphElement;
            var _local3:FlowGroupElement = (_arg1.splitAtPosition(_arg2) as FlowGroupElement);
            if (!(_local3 is SubParagraphGroupElementBase)){
                _local4 = _local3;
                while (((!((_local4 is ParagraphElement))) && (_local4.numChildren))) {
                    _local4 = (_local4.getChildAt(0) as FlowGroupElement);
                };
                _local5 = _arg1;
                while (((!((_local5 is ParagraphElement))) && (_local5.numChildren))) {
                    _local5 = (_local5.getChildAt((_local5.numChildren - 1)) as FlowGroupElement);
                };
                if (!(_local5 is ParagraphElement)){
                    _local6 = (_local4.shallowCopy() as ParagraphElement);
                    _local5.addChild(_local6);
                    _local5 = _local6;
                } else {
                    if (!(_local4 is ParagraphElement)){
                        _local6 = (_local5.shallowCopy() as ParagraphElement);
                        _local4.addChild(_local6);
                        _local4 = _local6;
                    };
                };
                if (_local5.textLength <= 1){
                    _local5.normalizeRange(0, _local5.textLength);
                    _local5.getLastLeaf().quickCloneTextLayoutFormat(_local4.getFirstLeaf());
                } else {
                    if (_local4.textLength <= 1){
                        _local4.normalizeRange(0, _local4.textLength);
                        _local4.getFirstLeaf().quickCloneTextLayoutFormat(_local5.getLastLeaf());
                    };
                };
            };
            return (_local3);
        }
        public static function mergeParagraphWithNext(_arg1:ParagraphElement):Boolean{
            var _local4:FlowElement;
            var _local2:int = _arg1.parent.getChildIndex(_arg1);
            if (_local2 == (_arg1.parent.numChildren - 1)){
                return (false);
            };
            var _local3:ParagraphElement = (_arg1.parent.getChildAt((_local2 + 1)) as ParagraphElement);
            if (_local3 == null){
                return (false);
            };
            _arg1.parent.replaceChildren((_local2 + 1), (_local2 + 2), null);
            if (_local3.textLength <= 1){
                return (true);
            };
            while (_local3.numChildren) {
                _local4 = _local3.getChildAt(0);
                _local3.replaceChildren(0, 1, null);
                _arg1.replaceChildren(_arg1.numChildren, _arg1.numChildren, _local4);
                if ((((_arg1.numChildren > 1)) && ((_arg1.getChildAt((_arg1.numChildren - 2)).textLength == 0)))){
                    _arg1.replaceChildren((_arg1.numChildren - 2), (_arg1.numChildren - 1), null);
                };
            };
            return (true);
        }
        public static function cacheParagraphStyleInformation(_arg1:TextFlow, _arg2:int, _arg3:int, _arg4:Array):void{
            var _local5:ParagraphElement;
            var _local6:Object;
            while ((((_arg2 <= _arg3)) && ((_arg2 >= 0)))) {
                _local5 = _arg1.findLeaf(_arg2).getParagraph();
                _local6 = new Object();
                _local6.begIdx = _local5.getAbsoluteStart();
                _local6.endIdx = ((_local6.begIdx + _local5.textLength) - 1);
                _local6.attributes = new TextLayoutFormat(_local5.format);
                _arg4.push(_local6);
                _arg2 = (_local6.begIdx + _local5.textLength);
            };
        }
        public static function setParagraphStyleChange(_arg1:TextFlow, _arg2:int, _arg3:int, _arg4:ITextLayoutFormat):void{
            var _local6:ParagraphElement;
            var _local5:int = _arg2;
            while (_local5 <= _arg3) {
                _local6 = _arg1.findLeaf(_local5).getParagraph();
                _local6.format = ((_arg4) ? new TextLayoutFormat(_arg4) : null);
                _local5 = (_local6.getAbsoluteStart() + _local6.textLength);
            };
        }
        public static function applyParagraphStyleChange(_arg1:TextFlow, _arg2:int, _arg3:int, _arg4:ITextLayoutFormat, _arg5:ITextLayoutFormat):void{
            var _local7:FlowLeafElement;
            var _local8:ParagraphElement;
            var _local9:TextLayoutFormat;
            var _local6:int = _arg2;
            while (_local6 <= _arg3) {
                _local7 = _arg1.findLeaf(_local6);
                if (!_local7){
                    break;
                };
                _local8 = _local7.getParagraph();
                _local9 = new TextLayoutFormat(_local8.format);
                if (_arg4){
                    _local9.apply(_arg4);
                };
                undefineDefinedFormats(_local9, _arg5);
                _local8.format = _local9;
                _local6 = (_local8.getAbsoluteStart() + _local8.textLength);
            };
        }
        public static function cacheStyleInformation(_arg1:TextFlow, _arg2:int, _arg3:int, _arg4:Array):void{
            var _local8:Object;
            var _local9:int;
            var _local5:FlowElement = _arg1.findLeaf(_arg2);
            var _local6:int = ((_local5.getAbsoluteStart() + _local5.textLength) - _arg2);
            var _local7:int = (_arg3 - _arg2);
            while (true) {
                _local8 = new Object();
                _local8.begIdx = _arg2;
                _local9 = Math.min(_local7, _local6);
                _local8.endIdx = (_arg2 + _local9);
                _local8.style = new TextLayoutFormat(_local5.format);
                _arg4.push(_local8);
                _local7 = (_local7 - Math.min(_local7, _local6));
                if (_local7 == 0){
                    break;
                };
                _arg2 = _local8.endIdx;
                _local5 = _arg1.findLeaf(_arg2);
                _local6 = _local5.textLength;
            };
        }
        public static function cacheContainerStyleInformation(_arg1:TextFlow, _arg2:int, _arg3:int, _arg4:Array):void{
            var _local5:int;
            var _local6:ContainerController;
            var _local7:Object;
            if (_arg1.flowComposer){
                _local5 = _arg1.flowComposer.findControllerIndexAtPosition(_arg2, false);
                if (_local5 == -1){
                    return;
                };
                _arg3 = _arg1.flowComposer.findControllerIndexAtPosition(_arg3, true);
                if (_arg3 == -1){
                    _arg3 = (_arg1.flowComposer.numControllers - 1);
                };
                while (_local5 <= _arg3) {
                    _local6 = _arg1.flowComposer.getControllerAt(_local5);
                    _local7 = new Object();
                    _local7.container = _local6;
                    _local7.attributes = new TextLayoutFormat(_local6.format);
                    _arg4.push(_local7);
                    _local5++;
                };
            };
        }
        public static function applyContainerStyleChange(_arg1:TextFlow, _arg2:int, _arg3:int, _arg4:ITextLayoutFormat, _arg5:ITextLayoutFormat):void{
            var _local6:int;
            var _local7:int;
            var _local8:ContainerController;
            var _local9:TextLayoutFormat;
            if (_arg1.flowComposer){
                _local6 = _arg1.flowComposer.findControllerIndexAtPosition(_arg2, false);
                if (_local6 == -1){
                    return;
                };
                _arg3 = _arg1.flowComposer.findControllerIndexAtPosition(_arg3, true);
                if (_arg3 == -1){
                    _arg3 = (_arg1.flowComposer.numControllers - 1);
                };
                _local7 = _arg1.flowComposer.findControllerIndexAtPosition(_arg2, false);
                while (_local6 <= _arg3) {
                    _local8 = _arg1.flowComposer.getControllerAt(_local6);
                    _local9 = new TextLayoutFormat(_local8.format);
                    if (_arg4){
                        _local9.apply(_arg4);
                    };
                    undefineDefinedFormats(_local9, _arg5);
                    _local8.format = _local9;
                    _local6++;
                };
            };
        }
        public static function setContainerStyleChange(_arg1:Object):void{
            _arg1.container.format = (_arg1.attributes as ITextLayoutFormat);
        }

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {

    public final class EditingMode {

        public static const READ_ONLY:String = "readOnly";
        public static const READ_WRITE:String = "readWrite";
        public static const READ_SELECT:String = "readSelect";

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.*;

    public class PointFormat extends TextLayoutFormat implements ITextLayoutFormat {

        private var _id;
        private var _linkElement:LinkElement;
        private var _tcyElement:TCYElement;

        public function PointFormat(_arg1:ITextLayoutFormat=null){
            super(_arg1);
        }
        public static function isEqual(_arg1:ITextLayoutFormat, _arg2:ITextLayoutFormat):Boolean{
            var _local3:PointFormat;
            var _local4:PointFormat;
            if (!TextLayoutFormat.isEqual(_arg1, _arg2)){
                return (false);
            };
            if ((_arg1 is PointFormat) != (_arg2 is PointFormat)){
                return (false);
            };
            if ((_arg1 is PointFormat)){
                _local3 = (_arg1 as PointFormat);
                _local4 = (_arg2 as PointFormat);
                return ((((((_local3.id == _local4.id)) && (isEqualLink(_local3.linkElement, _local4.linkElement)))) && (((_local3.tcyElement == null) == (_local4.tcyElement == null)))));
            };
            return (true);
        }
        private static function isEqualLink(_arg1:LinkElement, _arg2:LinkElement):Boolean{
            if ((_arg1 == null) != (_arg2 == null)){
                return (false);
            };
            if (_arg1 == null){
                return (true);
            };
            return ((((_arg1.href == _arg2.href)) && ((_arg1.target == _arg2.target))));
        }
        tlf_internal static function clone(_arg1:PointFormat):PointFormat{
            var _local2:PointFormat = new PointFormat(_arg1);
            _local2.id = _arg1.id;
            _local2.linkElement = (((((_arg1.linkElement === undefined)) || (!(_arg1.linkElement)))) ? _arg1.linkElement : (_arg1.linkElement.shallowCopy() as LinkElement));
            _local2.tcyElement = (((((_arg1.tcyElement === undefined)) || (!(_arg1.tcyElement)))) ? _arg1.tcyElement : (_arg1.tcyElement.shallowCopy() as TCYElement));
            return (_local2);
        }
        tlf_internal static function createFromFlowElement(_arg1:FlowElement):PointFormat{
            if (!_arg1){
                return (new (PointFormat)());
            };
            var _local2:PointFormat = new PointFormat(_arg1.format);
            var _local3:LinkElement = (_arg1.getParentByType(LinkElement) as LinkElement);
            if (_local3){
                _local2.linkElement = (_local3.shallowCopy() as LinkElement);
            };
            var _local4:TCYElement = (_arg1.getParentByType(TCYElement) as TCYElement);
            if (_local4){
                _local2.tcyElement = (_local4.shallowCopy() as TCYElement);
            };
            return (_local2);
        }

        public function get linkElement(){
            return (this._linkElement);
        }
        public function set linkElement(_arg1:LinkElement):void{
            this._linkElement = _arg1;
        }
        public function get tcyElement(){
            return (this._tcyElement);
        }
        public function set tcyElement(_arg1:TCYElement):void{
            this._tcyElement = _arg1;
        }
        public function get id(){
            return (this._id);
        }
        public function set id(_arg1):void{
            this._id = _arg1;
        }

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;

    public interface ISelectionManager extends IInteractionEventHandler {

        function get textFlow():TextFlow;
        function set textFlow(_arg1:TextFlow):void;
        function get absoluteStart():int;
        function get absoluteEnd():int;
        function selectRange(_arg1:int, _arg2:int):void;
        function selectAll():void;
        function get anchorPosition():int;
        function get activePosition():int;
        function hasSelection():Boolean;
        function isRangeSelection():Boolean;
        function getSelectionState():SelectionState;
        function setSelectionState(_arg1:SelectionState):void;
        function refreshSelection():void;
        function setFocus():void;
        function get focused():Boolean;
        function get windowActive():Boolean;
        function get currentSelectionFormat():SelectionFormat;
        function getCommonCharacterFormat(_arg1:TextRange=null):TextLayoutFormat;
        function getCommonParagraphFormat(_arg1:TextRange=null):TextLayoutFormat;
        function getCommonContainerFormat(_arg1:TextRange=null):TextLayoutFormat;
        function get editingMode():String;
        function get focusedSelectionFormat():SelectionFormat;
        function set focusedSelectionFormat(_arg1:SelectionFormat):void;
        function get unfocusedSelectionFormat():SelectionFormat;
        function set unfocusedSelectionFormat(_arg1:SelectionFormat):void;
        function get inactiveSelectionFormat():SelectionFormat;
        function set inactiveSelectionFormat(_arg1:SelectionFormat):void;
        function flushPendingOperations():void;
        function notifyInsertOrDelete(_arg1:int, _arg2:int):void;

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {
    import flash.text.engine.*;
    import flash.geom.*;
    import __AS3__.vec.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.compose.*;
    import flashx.undo.*;
    import flash.text.ime.*;
    import flashx.textLayout.operations.*;
    import flash.system.*;
    import flashx.textLayout.utils.*;

    class IMEClient implements IIMEClient {

        private var _editManager:EditManager;
        private var _undoManager:UndoManager;
        private var _imeAnchorPosition:int;
        private var _imeLength:int;
        private var _controller:ContainerController;
        private var _closing:Boolean;

        public function IMEClient(_arg1:EditManager){
            var _local2:IFlowComposer;
            var _local3:int;
            super();
            this._editManager = _arg1;
            this._imeAnchorPosition = this._editManager.absoluteStart;
            if (this._editManager.textFlow){
                _local2 = this._editManager.textFlow.flowComposer;
                if (_local2){
                    _local3 = _local2.findControllerIndexAtPosition(this._imeAnchorPosition);
                    this._controller = _local2.getControllerAt(_local3);
                    if (this._controller){
                        this._controller.setFocus();
                    };
                };
            };
            this._closing = false;
            if (this._editManager.undoManager == null){
                this._undoManager = new UndoManager();
                this._editManager.setUndoManager(this._undoManager);
            };
        }
        public function selectionChanged():void{
            if ((((this._editManager.absoluteStart > (this._imeAnchorPosition + this._imeLength))) || ((this._editManager.absoluteEnd < this._imeAnchorPosition)))){
                this.compositionAbandoned();
            };
        }
        private function doIMEClauseOperation(_arg1:SelectionState, _arg2:int):void{
            var _local3:FlowLeafElement = this._editManager.textFlow.findLeaf(_arg1.absoluteStart);
            var _local4:int = _local3.getAbsoluteStart();
            var _local5:TextLayoutFormat = new TextLayoutFormat();
            _local5.setStyle(IMEStatus.IME_CLAUSE, _arg2.toString());
            this._editManager.doOperation(new ApplyFormatToElementOperation(_arg1, _local3, _local5, (_arg1.absoluteStart - _local4), (_arg1.absoluteEnd - _local4)));
        }
        private function doIMEStatusOperation(_arg1:SelectionState, _arg2:CompositionAttributeRange):void{
            var _local3:String;
            if (_arg2 == null){
                _local3 = IMEStatus.DEAD_KEY_INPUT_STATE;
            } else {
                if (!_arg2.converted){
                    if (!_arg2.selected){
                        _local3 = IMEStatus.NOT_SELECTED_RAW;
                    } else {
                        _local3 = IMEStatus.SELECTED_RAW;
                    };
                } else {
                    if (!_arg2.selected){
                        _local3 = IMEStatus.NOT_SELECTED_CONVERTED;
                    } else {
                        _local3 = IMEStatus.SELECTED_CONVERTED;
                    };
                };
            };
            var _local4:FlowLeafElement = this._editManager.textFlow.findLeaf(_arg1.absoluteStart);
            var _local5:int = _local4.getAbsoluteStart();
            var _local6:TextLayoutFormat = new TextLayoutFormat();
            _local6.setStyle(IMEStatus.IME_STATUS, _local3);
            this._editManager.doOperation(new ApplyFormatToElementOperation(_arg1, _local4, _local6, (_arg1.absoluteStart - _local5), (_arg1.absoluteEnd - _local5)));
        }
        private function deleteIMEText(_arg1:TextFlow):void{
            var _local3:TextLayoutFormat;
            var _local4:int;
            var _local2:FlowLeafElement = _arg1.getFirstLeaf();
            while (_local2) {
                if (((!((_local2.getStyle(IMEStatus.IME_STATUS) === undefined))) || (!((_local2.getStyle(IMEStatus.IME_CLAUSE) === undefined))))){
                    _local3 = new TextLayoutFormat(_local2.format);
                    _local3.setStyle(IMEStatus.IME_STATUS, undefined);
                    _local3.setStyle(IMEStatus.IME_CLAUSE, undefined);
                    _local2.format = _local3;
                    _local4 = _local2.getAbsoluteStart();
                    ModelEdit.deleteText(_arg1, _local4, (_local4 + _local2.textLength), false);
                    _local2 = _arg1.findLeaf(_local4);
                } else {
                    _local2 = _local2.getNextLeaf();
                };
            };
        }
        private function rollBackIMEChanges():void{
            var _local1:FlowOperation = (this._editManager.undoManager.peekUndo() as FlowOperation);
            if ((((((((this._imeLength > 0)) && (_local1))) && ((_local1.endGeneration == this._editManager.textFlow.generation)))) && (_local1.canUndo()))){
                if (this._editManager.undoManager){
                    this._editManager.undoManager.undo();
                };
                this._editManager.undoManager.popRedo();
            } else {
                this._editManager.undoManager.popUndo();
                this.deleteIMEText(this._editManager.textFlow);
            };
            this._imeLength = 0;
        }
        public function updateComposition(_arg1:String, _arg2:Vector.<CompositionAttributeRange>, _arg3:int, _arg4:int):void{
            var _local5:ITextLayoutFormat;
            var _local6:SelectionState;
            var _local7:InsertTextOperation;
            var _local8:int;
            var _local9:int;
            var _local10:int;
            var _local11:int;
            var _local12:CompositionAttributeRange;
            var _local13:SelectionState;
            if (this._imeLength > 0){
                this.rollBackIMEChanges();
            };
            if (_arg1.length > 0){
                _local5 = this._editManager.getSelectionState().pointFormat;
                _local6 = new SelectionState(this._editManager.textFlow, this._imeAnchorPosition, (this._imeAnchorPosition + this._imeLength), _local5);
                this._editManager.beginIMEOperation();
                if (this._editManager.absoluteStart != this._editManager.absoluteEnd){
                    this._editManager.deleteText();
                };
                _local7 = new InsertTextOperation(_local6, _arg1);
                this._imeLength = _arg1.length;
                this._editManager.doOperation(_local7);
                if (((_arg2) && ((_arg2.length > 0)))){
                    _local10 = _arg2.length;
                    _local11 = 0;
                    while (_local11 < _local10) {
                        _local12 = _arg2[_local11];
                        _local13 = new SelectionState(this._editManager.textFlow, (this._imeAnchorPosition + _local12.relativeStart), (this._imeAnchorPosition + _local12.relativeEnd));
                        this.doIMEClauseOperation(_local13, _local11);
                        this.doIMEStatusOperation(_local13, _local12);
                        _local11++;
                    };
                } else {
                    _local13 = new SelectionState(this._editManager.textFlow, this._imeAnchorPosition, (this._imeAnchorPosition + this._imeLength), _local5);
                    this.doIMEClauseOperation(_local13, 0);
                    this.doIMEStatusOperation(_local13, null);
                };
                _local8 = (this._imeAnchorPosition + _arg3);
                _local9 = (this._imeAnchorPosition + _arg4);
                if (((!((this._editManager.absoluteStart == _local8))) || (!((this._editManager.absoluteEnd == _local9))))){
                    this._editManager.selectRange((this._imeAnchorPosition + _arg3), (this._imeAnchorPosition + _arg4));
                };
                this._editManager.endIMEOperation();
            };
        }
        public function confirmComposition(_arg1:String=null, _arg2:Boolean=false):void{
            this.endIMESession();
        }
        public function compositionAbandoned():void{
            var _local1:Function = IME["compositionAbandoned"];
            if (IME["compositionAbandoned"] !== undefined){
                _local1();
            };
        }
        private function endIMESession():void{
            if (((!(this._editManager)) || (this._closing))){
                return;
            };
            this._closing = true;
            if (this._imeLength > 0){
                this.rollBackIMEChanges();
            };
            if (this._undoManager){
                this._editManager.setUndoManager(null);
            };
            this._editManager.endIMESession();
            this._editManager = null;
        }
        public function getTextBounds(_arg1:int, _arg2:int):Rectangle{
            var _local3:Array;
            var _local4:Rectangle;
            var _local5:TextLine;
            var _local6:Point;
            var _local7:Point;
            var _local8:Point;
            var _local9:Point;
            var _local10:IFlowComposer;
            var _local11:int;
            var _local12:TextFlowLine;
            var _local13:TextFlowLine;
            var _local14:TextFlowLine;
            if ((((((((_arg1 >= 0)) && ((_arg1 < this._editManager.textFlow.textLength)))) && ((_arg2 >= 0)))) && ((_arg2 < this._editManager.textFlow.textLength)))){
                if (_arg1 != _arg2){
                    _local3 = GeometryUtil.getHighlightBounds(new TextRange(this._editManager.textFlow, _arg1, _arg2));
                    if (_local3.length > 0){
                        _local4 = _local3[0].rect;
                        _local5 = _local3[0].textLine;
                        _local6 = _local5.localToGlobal(_local4.topLeft);
                        _local7 = _local5.localToGlobal(_local4.bottomRight);
                        if (_local5.parent){
                            _local8 = _local5.parent.globalToLocal(_local6);
                            _local9 = _local5.parent.globalToLocal(_local7);
                            return (new Rectangle(_local8.x, _local8.y, (_local9.x - _local8.x), (_local9.y - _local8.y)));
                        };
                    };
                } else {
                    _local10 = this._editManager.textFlow.flowComposer;
                    _local11 = _local10.findLineIndexAtPosition(_arg1);
                    if (_local11 == _local10.numLines){
                        _local11--;
                    };
                    if (_local10.getLineAt(_local11).controller == this._controller){
                        _local12 = _local10.getLineAt(_local11);
                        _local13 = ((_local11)!=0) ? _local10.getLineAt((_local11 - 1)) : null;
                        _local14 = ((_local11)!=(_local10.numLines - 1)) ? _local10.getLineAt((_local11 + 1)) : null;
                        return (_local12.computePointSelectionRectangle(_arg1, this._controller.container, _local13, _local14, true));
                    };
                };
            };
            return (new Rectangle(0, 0, 0, 0));
        }
        public function get compositionStartIndex():int{
            return (this._imeAnchorPosition);
        }
        public function get compositionEndIndex():int{
            return ((this._imeAnchorPosition + this._imeLength));
        }
        public function get verticalTextLayout():Boolean{
            return ((this._editManager.textFlow.computedFormat.blockProgression == BlockProgression.RL));
        }
        public function get selectionActiveIndex():int{
            return (this._editManager.activePosition);
        }
        public function get selectionAnchorIndex():int{
            return (this._editManager.anchorPosition);
        }
        public function selectRange(_arg1:int, _arg2:int):void{
            this._editManager.selectRange(_arg1, _arg2);
        }
        public function setFocus():void{
            if (((((((this._controller) && (this._controller.container))) && (this._controller.container.stage))) && (!((this._controller.container.stage.focus == this._controller.container))))){
                this._controller.setFocus();
            };
        }
        public function getTextInRange(_arg1:int, _arg2:int):String{
            var _local4:int;
            var _local3:TextFlow = this._editManager.textFlow;
            if ((((((((_arg1 < -1)) || ((_arg2 < -1)))) || ((_arg1 > (_local3.textLength - 1))))) || ((_arg2 > (_local3.textLength - 1))))){
                return (null);
            };
            if (_arg2 < _arg1){
                _local4 = _arg2;
                _arg2 = _arg1;
                _arg1 = _local4;
            };
            if (_arg1 == -1){
                _arg1 = 0;
            };
            return (_local3.getText(_arg1, _arg2));
        }

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {

    public class SelectionFormat {

        private var _rangeColor:uint;
        private var _rangeAlpha:Number;
        private var _rangeBlendMode:String;
        private var _pointColor:uint;
        private var _pointAlpha:Number;
        private var _pointBlendMode:String;
        private var _pointBlinkRate:Number;

        public function SelectionFormat(_arg1:uint=0xFFFFFF, _arg2:Number=1, _arg3:String="difference", _arg4:uint=0xFFFFFF, _arg5:Number=1, _arg6:String="difference", _arg7:Number=500){
            this._rangeColor = _arg1;
            this._rangeAlpha = _arg2;
            this._rangeBlendMode = _arg3;
            this._pointColor = _arg4;
            this._pointAlpha = _arg5;
            this._pointBlendMode = _arg6;
            this._pointBlinkRate = _arg7;
        }
        public function get rangeColor():uint{
            return (this._rangeColor);
        }
        public function get rangeAlpha():Number{
            return (this._rangeAlpha);
        }
        public function get rangeBlendMode():String{
            return (this._rangeBlendMode);
        }
        public function get pointColor():uint{
            return (this._pointColor);
        }
        public function get pointAlpha():Number{
            return (this._pointAlpha);
        }
        public function get pointBlinkRate():Number{
            return (this._pointBlinkRate);
        }
        public function get pointBlendMode():String{
            return (this._pointBlendMode);
        }
        public function equals(_arg1:SelectionFormat):Boolean{
            if ((((((((((((((this._rangeBlendMode == _arg1.rangeBlendMode)) && ((this._rangeAlpha == _arg1.rangeAlpha)))) && ((this._rangeColor == _arg1.rangeColor)))) && ((this._pointColor == _arg1.pointColor)))) && ((this._pointAlpha == _arg1.pointAlpha)))) && ((this._pointBlendMode == _arg1.pointBlendMode)))) && ((this._pointBlinkRate == _arg1.pointBlinkRate)))){
                return (true);
            };
            return (false);
        }

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {
    import flash.display.*;
    import flash.utils.*;
    import flash.events.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.compose.*;
    import flashx.undo.*;
    import flashx.textLayout.operations.*;
    import flash.ui.*;
    import flashx.textLayout.events.*;
    import flash.system.*;
    import flashx.textLayout.utils.*;
    import flashx.textLayout.*;
    import flash.errors.*;

    public class EditManager extends SelectionManager implements IEditManager {

        public static var overwriteMode:Boolean = false;

        private var pendingInsert:InsertTextOperation;
        private var enterFrameListener:DisplayObjectContainer;
        private var _delayUpdates:Boolean = false;
        private var _allowDelayedOperations:Boolean = true;
        private var redrawListener:DisplayObjectContainer;
        private var _undoManager:IUndoManager;
        private var _imeSession:IMEClient;
        private var _imeOperationInProgress:Boolean;
        tlf_internal var captureLevel:int = 0;
        private var captureOperations:Array;
        private var parentStack:Array;

        public function EditManager(_arg1:IUndoManager=null){
            this.captureOperations = [];
            super();
            this._undoManager = _arg1;
        }
        public function get undoManager():IUndoManager{
            return (this._undoManager);
        }
        tlf_internal function setUndoManager(_arg1:IUndoManager):void{
            this._undoManager = _arg1;
        }
        override public function editHandler(_arg1:Event):void{
            if (_arg1.isDefaultPrevented()){
                return;
            };
            super.editHandler(_arg1);
            switch (_arg1.type){
                case Event.CUT:
                case Event.CLEAR:
                    if (activePosition != anchorPosition){
                        if (_arg1.type == Event.CUT){
                            TextClipboard.setContents(this.cutTextScrap());
                        } else {
                            this.deleteText(null);
                        };
                        _arg1.preventDefault();
                    };
                    break;
                case Event.PASTE:
                    this.pasteTextScrap(TextClipboard.getContents());
                    _arg1.preventDefault();
                    break;
            };
        }
        override public function keyDownHandler(_arg1:KeyboardEvent):void{
            var _local2:ListItemElement;
            var _local3:SelectionState;
            var _local4:String;
            var _local5:FlowLeafElement;
            var _local6:FlowGroupElement;
            var _local7:FlowGroupElement;
            var _local8:int;
            var _local9:int;
            var _local10:int;
            var _local11:FlowGroupElement;
            if (((!(hasSelection())) || (_arg1.isDefaultPrevented()))){
                return;
            };
            if (this.redrawListener){
                this.updateAllControllers();
            };
            super.keyDownHandler(_arg1);
            if (_arg1.ctrlKey){
                if (!_arg1.altKey){
                    if (((!((this._imeSession == null))) && ((((_arg1.charCode == 122)) || ((_arg1.charCode == 121)))))){
                        this._imeSession.compositionAbandoned();
                    };
                    switch (_arg1.charCode){
                        case 122:
                            if (((!(Configuration.versionIsAtLeast(10, 1))) && ((Capabilities.os.search("Mac OS") > -1)))){
                                ignoreNextTextEvent = true;
                            };
                            this.undo();
                            _arg1.preventDefault();
                            break;
                        case 121:
                            ignoreNextTextEvent = true;
                            this.redo();
                            _arg1.preventDefault();
                            break;
                        case Keyboard.BACKSPACE:
                            if (this._imeSession){
                                this._imeSession.compositionAbandoned();
                            };
                            this.deletePreviousWord();
                            _arg1.preventDefault();
                            break;
                    };
                    if (_arg1.keyCode == Keyboard.DELETE){
                        if (this._imeSession){
                            this._imeSession.compositionAbandoned();
                        };
                        this.deleteNextWord();
                        _arg1.preventDefault();
                    };
                    if (_arg1.shiftKey){
                        if (_arg1.charCode == 95){
                            if (this._imeSession){
                                this._imeSession.compositionAbandoned();
                            };
                            _local4 = String.fromCharCode(173);
                            if (overwriteMode){
                                this.overwriteText(_local4);
                            } else {
                                this.insertText(_local4);
                            };
                            _arg1.preventDefault();
                        };
                    };
                };
            } else {
                if (_arg1.altKey){
                    if (_arg1.charCode == Keyboard.BACKSPACE){
                        this.deletePreviousWord();
                        _arg1.preventDefault();
                    } else {
                        if (_arg1.keyCode == Keyboard.DELETE){
                            this.deleteNextWord();
                            _arg1.preventDefault();
                        };
                    };
                } else {
                    if (_arg1.keyCode == Keyboard.DELETE){
                        this.deleteNextCharacter();
                        _arg1.preventDefault();
                    } else {
                        if (_arg1.keyCode == Keyboard.INSERT){
                            overwriteMode = !(overwriteMode);
                            _arg1.preventDefault();
                        } else {
                            switch (_arg1.charCode){
                                case Keyboard.BACKSPACE:
                                    this.deletePreviousCharacter();
                                    _arg1.preventDefault();
                                    break;
                                case Keyboard.ENTER:
                                    if (textFlow.configuration.manageEnterKey){
                                        _local5 = textFlow.findLeaf(absoluteStart);
                                        _local2 = (_local5.getParentByType(ListItemElement) as ListItemElement);
                                        if (((_local2) && (!((_local5.getParentByType(ListElement) == _local2.getParentByType(ListElement)))))){
                                            _local2 = null;
                                        };
                                        if (((_local2) && (!(_arg1.shiftKey)))){
                                            if ((((_local2.textLength == 1)) && ((_local2.parent.getChildIndex(_local2) == (_local2.parent.numChildren - 1))))){
                                                _local3 = this.defaultOperationState();
                                                if (!_local3){
                                                    return;
                                                };
                                                this.doOperation(new MoveChildrenOperation(_local3, _local2.parent, _local2.parent.getChildIndex(_local2), 1, _local2.parent.parent, (_local2.parent.parent.getChildIndex(_local2.parent) + 1)));
                                            } else {
                                                this.splitElement(_local2);
                                                selectRange((absoluteStart + 1), (absoluteStart + 1));
                                                refreshSelection();
                                            };
                                        } else {
                                            this.splitParagraph();
                                        };
                                        _arg1.preventDefault();
                                        _arg1.stopImmediatePropagation();
                                    };
                                    break;
                                case Keyboard.TAB:
                                    if (textFlow.configuration.manageTabKey){
                                        _local2 = (textFlow.findLeaf(absoluteStart).getParentByType(ListItemElement) as ListItemElement);
                                        if (((_local2) && ((_local2.getAbsoluteStart() == absoluteStart)))){
                                            _local3 = this.defaultOperationState();
                                            if (!_local3){
                                                return;
                                            };
                                            if (_arg1.shiftKey){
                                                if ((((_local2.parent.parent is ListElement)) && ((_local2.parent.getChildIndex(_local2) == 0)))){
                                                    _local6 = _local2.parent;
                                                    _local7 = _local2.parent.parent;
                                                    _local8 = _local2.parent.numChildren;
                                                    _local9 = 0;
                                                    _local10 = _local2.parent.parent.getChildIndex(_local2.parent);
                                                    this.doOperation(new MoveChildrenOperation(_local3, _local6, _local9, _local8, _local7, _local10));
                                                };
                                            } else {
                                                _local11 = _local2;
                                                if (_local2.parent.getChildIndex(_local2) == 0){
                                                    _local11 = _local2.parent;
                                                };
                                                this.doOperation(new CreateListOperation(new SelectionState(textFlow, _local11.getAbsoluteStart(), (_local11.getAbsoluteStart() + _local11.textLength)), _local2.parent));
                                            };
                                        } else {
                                            if (overwriteMode){
                                                this.overwriteText(String.fromCharCode(_arg1.charCode));
                                            } else {
                                                this.insertText(String.fromCharCode(_arg1.charCode));
                                            };
                                        };
                                        _arg1.preventDefault();
                                    };
                                    break;
                            };
                        };
                    };
                };
            };
        }
        override public function keyUpHandler(_arg1:KeyboardEvent):void{
            if (((!(hasSelection())) || (_arg1.isDefaultPrevented()))){
                return;
            };
            super.keyUpHandler(_arg1);
            if (((((textFlow.configuration.manageEnterKey) && ((_arg1.charCode == Keyboard.ENTER)))) || (((textFlow.configuration.manageTabKey) && ((_arg1.charCode == Keyboard.TAB)))))){
                _arg1.stopImmediatePropagation();
            };
        }
        override public function keyFocusChangeHandler(_arg1:FocusEvent):void{
            if (textFlow.configuration.manageTabKey){
                _arg1.preventDefault();
            };
        }
        override public function mouseDownHandler(_arg1:MouseEvent):void{
            if (this.redrawListener){
                this.updateAllControllers();
            };
            super.mouseDownHandler(_arg1);
        }
        override public function textInputHandler(_arg1:TextEvent):void{
            var _local2:int;
            if (!ignoreNextTextEvent){
                _local2 = _arg1.text.charCodeAt(0);
                if (_local2 >= 32){
                    if (overwriteMode){
                        this.overwriteText(_arg1.text);
                    } else {
                        this.insertText(_arg1.text);
                    };
                };
            };
            ignoreNextTextEvent = false;
        }
        override public function focusOutHandler(_arg1:FocusEvent):void{
            super.focusOutHandler(_arg1);
            if (((this._imeSession) && (!((selectionFormatState == SelectionFormatState.FOCUSED))))){
                this._imeSession.compositionAbandoned();
            };
        }
        override public function deactivateHandler(_arg1:Event):void{
            super.deactivateHandler(_arg1);
            if (this._imeSession){
                this._imeSession.compositionAbandoned();
            };
        }
        override public function imeStartCompositionHandler(_arg1:IMEEvent):void{
            this.flushPendingOperations();
            if (!_arg1["imeClient"]){
                this._imeSession = new IMEClient(this);
                this._imeOperationInProgress = false;
                _arg1["imeClient"] = this._imeSession;
            };
        }
        override public function setFocus():void{
            var _local1:IFlowComposer = ((textFlow) ? textFlow.flowComposer : null);
            if (((((this._imeSession) && (_local1))) && ((_local1.numControllers > 1)))){
                this._imeSession.setFocus();
                setSelectionFormatState(SelectionFormatState.FOCUSED);
            } else {
                super.setFocus();
            };
        }
        tlf_internal function endIMESession():void{
            this._imeSession = null;
            var _local1:IFlowComposer = ((textFlow) ? textFlow.flowComposer : null);
            if (((_local1) && ((_local1.numControllers > 1)))){
                this.setFocus();
            };
        }
        tlf_internal function beginIMEOperation():void{
            this._imeOperationInProgress = true;
            this.beginCompositeOperation();
        }
        tlf_internal function endIMEOperation():void{
            this.endCompositeOperation();
            this._imeOperationInProgress = false;
        }
        override public function doOperation(_arg1:FlowOperation):void{
            var operation:* = _arg1;
            if (((this._imeSession) && (!(this._imeOperationInProgress)))){
                this._imeSession.compositionAbandoned();
            };
            this.flushPendingOperations();
            try {
                this.captureLevel++;
                operation = this.doInternal(operation);
            } catch(e:Error) {
                captureLevel--;
                throw (e);
            };
            this.captureLevel--;
            if (operation){
                this.finalizeDo(operation);
            };
        }
        private function finalizeDo(_arg1:FlowOperation):void{
            var _local2:CompositeOperation;
            var _local3:Object;
            var _local4:FlowOperation;
            var _local5:FlowOperation;
            var _local6:FlowOperationEvent;
            if (((this.parentStack) && ((this.parentStack.length > 0)))){
                _local3 = this.parentStack[(this.parentStack.length - 1)];
                if (_local3.captureLevel == this.captureLevel){
                    _local2 = (_local3.operation as CompositeOperation);
                };
            };
            if (_local2){
                _local2.addOperation(_arg1);
            } else {
                if (this.captureLevel == 0){
                    this.captureOperations.length = 0;
                    if (this._undoManager){
                        if (((this._undoManager.canUndo()) && (allowOperationMerge))){
                            _local4 = (this._undoManager.peekUndo() as FlowOperation);
                            if (_local4){
                                _local5 = _local4.merge(_arg1);
                                if (_local5){
                                    this._undoManager.popUndo();
                                    _arg1 = _local5;
                                };
                            };
                        };
                        if (_arg1.canUndo()){
                            this._undoManager.pushUndo(_arg1);
                        };
                        allowOperationMerge = true;
                        this._undoManager.clearRedo();
                    };
                    this.handleUpdate();
                    if (!this._imeSession){
                        _local6 = new FlowOperationEvent(FlowOperationEvent.FLOW_OPERATION_COMPLETE, false, false, _arg1, 0, null);
                        textFlow.dispatchEvent(_local6);
                    };
                };
            };
        }
        private function doInternal(_arg1:FlowOperation):FlowOperation{
            var opEvent:* = null;
            var beforeGeneration:* = 0;
            var index:* = 0;
            var op:* = _arg1;
            var captureStart:* = this.captureOperations.length;
            var success:* = false;
            if (!this._imeSession){
                opEvent = new FlowOperationEvent(FlowOperationEvent.FLOW_OPERATION_BEGIN, false, true, op, (this.captureLevel - 1), null);
                textFlow.dispatchEvent(opEvent);
                if (opEvent.isDefaultPrevented()){
                    return (null);
                };
                op = opEvent.operation;
                if ((((op is UndoOperation)) || ((op is RedoOperation)))){
                    throw (new IllegalOperationError(GlobalSettings.resourceStringFunction("illegalOperation", [getQualifiedClassName(op)])));
                };
            };
            var opError:* = null;
            try {
                beforeGeneration = textFlow.generation;
                op.setGenerations(beforeGeneration, 0);
                this.captureOperations.push(op);
                success = op.doOperation();
                if (success){
                    textFlow.normalize();
                    op.setGenerations(beforeGeneration, textFlow.generation);
                } else {
                    index = this.captureOperations.indexOf(op);
                    if (index >= 0){
                        this.captureOperations.splice(index, 1);
                    };
                };
            } catch(e:Error) {
                opError = e;
            };
            if (!this._imeSession){
                opEvent = new FlowOperationEvent(FlowOperationEvent.FLOW_OPERATION_END, false, true, op, (this.captureLevel - 1), opError);
                textFlow.dispatchEvent(opEvent);
                opError = ((opEvent.isDefaultPrevented()) ? null : opEvent.error);
            };
            if (opError){
                throw (opError);
            };
            if ((this.captureOperations.length - captureStart) > 1){
                op = new CompositeOperation(this.captureOperations.slice(captureStart));
                op.setGenerations(FlowOperation(CompositeOperation(op).operations[0]).beginGeneration, textFlow.generation);
                allowOperationMerge = false;
                this.captureOperations.length = captureStart;
            };
            return (((success) ? op : null));
        }
        override public function set textFlow(_arg1:TextFlow):void{
            this.flushPendingOperations();
            if (this.redrawListener){
                this.updateAllControllers();
            };
            super.textFlow = _arg1;
        }
        public function get delayUpdates():Boolean{
            return (this._delayUpdates);
        }
        public function set delayUpdates(_arg1:Boolean):void{
            this._delayUpdates = _arg1;
        }
        private function redrawHandler(_arg1:Event):void{
            this.updateAllControllers();
        }
        public function updateAllControllers():void{
            var _local1:int;
            this.flushPendingOperations();
            if (this.redrawListener){
                this.redrawListener.removeEventListener(Event.ENTER_FRAME, this.redrawHandler);
                this.redrawListener = null;
            };
            if (textFlow.flowComposer){
                textFlow.flowComposer.updateAllControllers();
                if (hasSelection()){
                    _local1 = textFlow.flowComposer.findControllerIndexAtPosition(activePosition);
                    if (_local1 >= 0){
                        textFlow.flowComposer.getControllerAt(_local1).scrollToRange(activePosition, anchorPosition);
                    };
                };
            };
            this.selectionChanged(true, false);
        }
        private function handleUpdate():void{
            var _local1:ContainerController;
            if (this._delayUpdates){
                if (!this.redrawListener){
                    _local1 = textFlow.flowComposer.getControllerAt(0);
                    if (_local1){
                        this.redrawListener = _local1.container;
                        if (this.redrawListener){
                            this.redrawListener.addEventListener(Event.ENTER_FRAME, this.redrawHandler, false, 1, true);
                        };
                    };
                };
            } else {
                this.updateAllControllers();
            };
        }
        public function get allowDelayedOperations():Boolean{
            return (this._allowDelayedOperations);
        }
        public function set allowDelayedOperations(_arg1:Boolean):void{
            if (!_arg1){
                this.flushPendingOperations();
            };
            this._allowDelayedOperations = _arg1;
        }
        override public function flushPendingOperations():void{
            var _local1:InsertTextOperation;
            super.flushPendingOperations();
            if (this.pendingInsert){
                _local1 = this.pendingInsert;
                this.pendingInsert = null;
                if (this.enterFrameListener){
                    this.enterFrameListener.removeEventListener(Event.ENTER_FRAME, enterFrameHandler);
                    this.enterFrameListener = null;
                };
                this.doOperation(_local1);
            };
        }
        public function undo():void{
            if (this._imeSession){
                this._imeSession.compositionAbandoned();
            };
            if (this.undoManager){
                this.undoManager.undo();
            };
        }
        public function performUndo(_arg1:IOperation):void{
            var undoPsuedoOp:* = null;
            var opEvent:* = null;
            var rslt:* = null;
            var theop:* = _arg1;
            var operation:* = (theop as FlowOperation);
            if (((!(operation)) || (!((operation.textFlow == textFlow))))){
                return;
            };
            if (!this._imeSession){
                undoPsuedoOp = new UndoOperation(operation);
                opEvent = new FlowOperationEvent(FlowOperationEvent.FLOW_OPERATION_BEGIN, false, true, undoPsuedoOp, 0, null);
                textFlow.dispatchEvent(opEvent);
                if (opEvent.isDefaultPrevented()){
                    this.undoManager.pushUndo(operation);
                    return;
                };
                undoPsuedoOp = (opEvent.operation as UndoOperation);
                if (!undoPsuedoOp){
                    throw (new IllegalOperationError(GlobalSettings.resourceStringFunction("illegalOperation", [getQualifiedClassName(opEvent.operation)])));
                };
                operation = undoPsuedoOp.operation;
            };
            if (operation.endGeneration != textFlow.generation){
                return;
            };
            var opError:* = null;
            try {
                rslt = operation.undo();
                setSelectionState(rslt);
                if (this._undoManager){
                    this._undoManager.pushRedo(operation);
                };
            } catch(e:Error) {
                opError = e;
            };
            if (!this._imeSession){
                opEvent = new FlowOperationEvent(FlowOperationEvent.FLOW_OPERATION_END, false, true, undoPsuedoOp, 0, opError);
                textFlow.dispatchEvent(opEvent);
                opError = ((opEvent.isDefaultPrevented()) ? null : opEvent.error);
            };
            if (opError){
                throw (opError);
            };
            this.handleUpdate();
            textFlow.setGeneration(operation.beginGeneration);
            if (!this._imeSession){
                opEvent = new FlowOperationEvent(FlowOperationEvent.FLOW_OPERATION_COMPLETE, false, false, undoPsuedoOp, 0, null);
                textFlow.dispatchEvent(opEvent);
            };
        }
        public function redo():void{
            if (this._imeSession){
                this._imeSession.compositionAbandoned();
            };
            if (this.undoManager){
                this.undoManager.redo();
            };
        }
        public function performRedo(_arg1:IOperation):void{
            var opEvent:* = null;
            var redoPsuedoOp:* = null;
            var rslt:* = null;
            var controllerIndex:* = 0;
            var theop:* = _arg1;
            var op:* = (theop as FlowOperation);
            if (((!(op)) || (!((op.textFlow == textFlow))))){
                return;
            };
            if (!this._imeSession){
                redoPsuedoOp = new RedoOperation(op);
                opEvent = new FlowOperationEvent(FlowOperationEvent.FLOW_OPERATION_BEGIN, false, true, redoPsuedoOp, 0, null);
                textFlow.dispatchEvent(opEvent);
                if (((opEvent.isDefaultPrevented()) && (this._undoManager))){
                    this._undoManager.pushRedo(op);
                    return;
                };
                redoPsuedoOp = (opEvent.operation as RedoOperation);
                if (!redoPsuedoOp){
                    throw (new IllegalOperationError(GlobalSettings.resourceStringFunction("illegalOperation", [getQualifiedClassName(opEvent.operation)])));
                };
                op = redoPsuedoOp.operation;
            };
            if (op.beginGeneration != textFlow.generation){
                return;
            };
            var opError:* = null;
            try {
                rslt = op.redo();
                setSelectionState(rslt);
                if (this._undoManager){
                    this._undoManager.pushUndo(op);
                };
            } catch(e:Error) {
                opError = e;
            };
            if (!this._imeSession){
                opEvent = new FlowOperationEvent(FlowOperationEvent.FLOW_OPERATION_END, false, true, redoPsuedoOp, 0, opError);
                textFlow.dispatchEvent(opEvent);
                opError = ((opEvent.isDefaultPrevented()) ? null : opEvent.error);
            };
            if (opError){
                throw (opError);
            };
            this.handleUpdate();
            textFlow.setGeneration(op.endGeneration);
            if (hasSelection()){
                controllerIndex = textFlow.flowComposer.findControllerIndexAtPosition(activePosition);
                if (controllerIndex >= 0){
                    textFlow.flowComposer.getControllerAt(controllerIndex).scrollToRange(activePosition, anchorPosition);
                };
            };
            if (!this._imeSession){
                opEvent = new FlowOperationEvent(FlowOperationEvent.FLOW_OPERATION_COMPLETE, false, false, redoPsuedoOp, 0, null);
                textFlow.dispatchEvent(opEvent);
            };
        }
        override public function get editingMode():String{
            return (EditingMode.READ_WRITE);
        }
        tlf_internal function defaultOperationState(_arg1:SelectionState=null):SelectionState{
            var markActive:* = null;
            var markAnchor:* = null;
            var operationState = _arg1;
            if (operationState){
                markActive = createMark();
                markAnchor = createMark();
                try {
                    markActive.position = operationState.activePosition;
                    markAnchor.position = operationState.anchorPosition;
                    this.flushPendingOperations();
                } finally {
                    removeMark(markActive);
                    removeMark(markAnchor);
                    operationState.activePosition = markActive.position;
                    operationState.anchorPosition = markAnchor.position;
                };
            } else {
                this.flushPendingOperations();
                if (hasSelection()){
                    operationState = getSelectionState();
                    operationState.selectionManagerOperationState = true;
                };
            };
            return (operationState);
        }
        public function splitParagraph(_arg1:SelectionState=null):ParagraphElement{
            _arg1 = this.defaultOperationState(_arg1);
            if (!_arg1){
                return (null);
            };
            var _local2:SplitElementOperation = new SplitParagraphOperation(_arg1);
            this.doOperation(_local2);
            return ((_local2.newElement as ParagraphElement));
        }
        public function splitElement(_arg1:FlowGroupElement, _arg2:SelectionState=null):FlowGroupElement{
            _arg2 = this.defaultOperationState(_arg2);
            if (!_arg2){
                return (null);
            };
            var _local3:SplitElementOperation = new SplitElementOperation(_arg2, _arg1);
            this.doOperation(_local3);
            return (_local3.newElement);
        }
        public function createDiv(_arg1:FlowGroupElement=null, _arg2:ITextLayoutFormat=null, _arg3:SelectionState=null):DivElement{
            _arg3 = this.defaultOperationState(_arg3);
            if (!_arg3){
                return (null);
            };
            var _local4:CreateDivOperation = new CreateDivOperation(_arg3, _arg1, _arg2);
            this.doOperation(_local4);
            return (_local4.newDivElement);
        }
        public function createList(_arg1:FlowGroupElement=null, _arg2:ITextLayoutFormat=null, _arg3:SelectionState=null):ListElement{
            _arg3 = this.defaultOperationState(_arg3);
            if (!_arg3){
                return (null);
            };
            var _local4:CreateListOperation = new CreateListOperation(_arg3, _arg1, _arg2);
            this.doOperation(_local4);
            return (_local4.newListElement);
        }
        public function moveChildren(_arg1:FlowGroupElement, _arg2:int, _arg3:int, _arg4:FlowGroupElement, _arg5:int, _arg6:SelectionState=null):void{
            _arg6 = this.defaultOperationState(_arg6);
            if (!_arg6){
                return;
            };
            var _local7:MoveChildrenOperation = new MoveChildrenOperation(_arg6, _arg1, _arg2, _arg3, _arg4, _arg5);
            this.doOperation(_local7);
        }
        public function createSubParagraphGroup(_arg1:FlowGroupElement=null, _arg2:ITextLayoutFormat=null, _arg3:SelectionState=null):SubParagraphGroupElement{
            _arg3 = this.defaultOperationState(_arg3);
            if (!_arg3){
                return (null);
            };
            var _local4:CreateSubParagraphGroupOperation = new CreateSubParagraphGroupOperation(_arg3, _arg1, _arg2);
            this.doOperation(_local4);
            return (_local4.newSubParagraphGroupElement);
        }
        public function deleteText(_arg1:SelectionState=null):void{
            _arg1 = this.defaultOperationState(_arg1);
            if (!_arg1){
                return;
            };
            this.doOperation(new DeleteTextOperation(_arg1, _arg1, false));
        }
        public function deleteNextCharacter(_arg1:SelectionState=null):void{
            var _local2:DeleteTextOperation;
            var _local3:int;
            _arg1 = this.defaultOperationState(_arg1);
            if (!_arg1){
                return;
            };
            if (_arg1.absoluteStart == _arg1.absoluteEnd){
                _local3 = NavigationUtil.nextAtomPosition(textFlow, absoluteStart);
                _local2 = new DeleteTextOperation(_arg1, new SelectionState(textFlow, absoluteStart, _local3, pointFormat), true);
            } else {
                _local2 = new DeleteTextOperation(_arg1, _arg1, false);
            };
            this.doOperation(_local2);
        }
        public function deleteNextWord(_arg1:SelectionState=null):void{
            _arg1 = this.defaultOperationState(_arg1);
            if (((!(_arg1)) || ((((_arg1.anchorPosition == _arg1.activePosition)) && ((_arg1.anchorPosition >= (textFlow.textLength - 1))))))){
                return;
            };
            var _local2:SelectionState = this.getNextWordForDelete(_arg1.absoluteStart);
            if (_local2.anchorPosition == _local2.activePosition){
                return;
            };
            setSelectionState(new SelectionState(textFlow, _arg1.absoluteStart, _arg1.absoluteStart, new TextLayoutFormat(textFlow.findLeaf(_arg1.absoluteStart).format)));
            this.doOperation(new DeleteTextOperation(_arg1, _local2, false));
        }
        private function getNextWordForDelete(_arg1:int):SelectionState{
            var _local6:int;
            var _local7:int;
            var _local8:int;
            var _local9:int;
            var _local2:FlowLeafElement = textFlow.findLeaf(_arg1);
            var _local3:ParagraphElement = _local2.getParagraph();
            var _local4:int = _local3.getAbsoluteStart();
            var _local5 = -1;
            if ((_arg1 - _local4) >= (_local3.textLength - 1)){
                _local5 = NavigationUtil.nextAtomPosition(textFlow, _arg1);
            } else {
                _local6 = (_arg1 - _local4);
                _local7 = _local3.getCharCodeAtPosition(_local6);
                _local8 = -1;
                if (_local6 > 0){
                    _local8 = _local3.getCharCodeAtPosition((_local6 - 1));
                };
                _local9 = _local3.getCharCodeAtPosition((_local6 + 1));
                if (((!(CharacterUtil.isWhitespace(_local7))) && ((((_local6 == 0)) || ((((_local6 > 0)) && (CharacterUtil.isWhitespace(_local8)))))))){
                    _local5 = NavigationUtil.nextWordPosition(textFlow, _arg1);
                } else {
                    if (((CharacterUtil.isWhitespace(_local7)) && ((((_local6 > 0)) && (!(CharacterUtil.isWhitespace(_local8))))))){
                        _local6 = _local3.findNextWordBoundary(_local6);
                    };
                    _local5 = (_local4 + _local3.findNextWordBoundary(_local6));
                };
            };
            return (new SelectionState(textFlow, _arg1, _local5, pointFormat));
        }
        public function deletePreviousCharacter(_arg1:SelectionState=null):void{
            var _local2:DeleteTextOperation;
            var _local3:FlowLeafElement;
            var _local4:ParagraphElement;
            var _local5:FlowGroupElement;
            var _local6:Boolean;
            var _local7:FlowGroupElement;
            var _local8:FlowGroupElement;
            var _local9:int;
            var _local10:int;
            var _local11:int;
            _arg1 = this.defaultOperationState(_arg1);
            if (!_arg1){
                return;
            };
            if (_arg1.absoluteStart == _arg1.absoluteEnd){
                _local3 = textFlow.findLeaf(_arg1.absoluteStart);
                _local4 = _local3.getParagraph();
                _local5 = _local4.parent;
                _local6 = false;
                if (!(_local5 is TextFlow)){
                    if ((((((_arg1.absoluteStart == _local4.getAbsoluteStart())) && ((_local5.getChildIndex(_local4) == 0)))) && (((!((_local5 is ListItemElement))) || ((_local5.parent.getChildIndex(_local5) == 0)))))){
                        _local6 = true;
                    };
                };
                if (_local6){
                    if ((_local5 is ListItemElement)){
                        if ((_local5.parent.parent is ListElement)){
                            _local7 = _local5.parent;
                            _local9 = 1;
                            _local8 = _local5.parent.parent;
                            _local10 = _local5.parent.parent.getChildIndex(_local5.parent);
                        } else {
                            _local7 = _local4.parent;
                            _local9 = _local4.parent.numChildren;
                            _local8 = _local5.parent.parent;
                            _local10 = _local5.parent.parent.getChildIndex(_local5.parent);
                        };
                    } else {
                        _local7 = _local4.parent;
                        _local9 = 1;
                        _local8 = _local5.parent;
                        _local10 = _local5.parent.getChildIndex(_local5);
                    };
                    this.doOperation(new MoveChildrenOperation(_arg1, _local7, 0, _local9, _local8, _local10));
                } else {
                    _local11 = NavigationUtil.previousAtomPosition(textFlow, _arg1.absoluteStart);
                    _local2 = new DeleteTextOperation(_arg1, new SelectionState(textFlow, _local11, _arg1.absoluteStart), true);
                    this.doOperation(_local2);
                };
            } else {
                _local2 = new DeleteTextOperation(_arg1);
                this.doOperation(_local2);
            };
        }
        public function deletePreviousWord(_arg1:SelectionState=null):void{
            _arg1 = this.defaultOperationState(_arg1);
            if (!_arg1){
                return;
            };
            var _local2:SelectionState = this.getPreviousWordForDelete(_arg1.absoluteStart);
            if (_local2.anchorPosition == _local2.activePosition){
                return;
            };
            setSelectionState(new SelectionState(textFlow, _arg1.absoluteStart, _arg1.absoluteStart, new TextLayoutFormat(textFlow.findLeaf(_arg1.absoluteStart).format)));
            this.doOperation(new DeleteTextOperation(_arg1, _local2, false));
        }
        private function getPreviousWordForDelete(_arg1:int):SelectionState{
            var _local9:int;
            var _local2:FlowLeafElement = textFlow.findLeaf(_arg1);
            var _local3:ParagraphElement = _local2.getParagraph();
            var _local4:int = _local3.getAbsoluteStart();
            if (_arg1 == _local4){
                _local9 = NavigationUtil.previousAtomPosition(textFlow, _arg1);
                return (new SelectionState(textFlow, _local9, _arg1));
            };
            var _local5:int = (_arg1 - _local4);
            var _local6:int = _local3.getCharCodeAtPosition(_local5);
            var _local7:int = _local3.getCharCodeAtPosition((_local5 - 1));
            var _local8:int = _arg1;
            if (((CharacterUtil.isWhitespace(_local6)) && (!((_local5 == (_local3.textLength - 1)))))){
                if (CharacterUtil.isWhitespace(_local7)){
                    _local5 = _local3.findPreviousWordBoundary(_local5);
                };
                if (_local5 > 0){
                    _local5 = _local3.findPreviousWordBoundary(_local5);
                    if (_local5 > 0){
                        _local7 = _local3.getCharCodeAtPosition((_local5 - 1));
                        if (CharacterUtil.isWhitespace(_local7)){
                            _local5 = _local3.findPreviousWordBoundary(_local5);
                        };
                    };
                };
            } else {
                if (CharacterUtil.isWhitespace(_local7)){
                    _local5 = _local3.findPreviousWordBoundary(_local5);
                    if (_local5 > 0){
                        _local5 = _local3.findPreviousWordBoundary(_local5);
                        if (_local5 > 0){
                            _local7 = _local3.getCharCodeAtPosition((_local5 - 1));
                            if (!CharacterUtil.isWhitespace(_local7)){
                                _local8--;
                            };
                        };
                    };
                } else {
                    _local5 = _local3.findPreviousWordBoundary(_local5);
                };
            };
            return (new SelectionState(textFlow, (_local4 + _local5), _local8));
        }
        public function insertText(_arg1:String, _arg2:SelectionState=null):void{
            var _local3:SelectionState;
            var _local4:ContainerController;
            if ((((_arg2 == null)) && (this.pendingInsert))){
                this.pendingInsert.text = (this.pendingInsert.text + _arg1);
            } else {
                _local3 = this.defaultOperationState(_arg2);
                if (!_local3){
                    return;
                };
                this.pendingInsert = new InsertTextOperation(_local3, _arg1);
                _local4 = textFlow.flowComposer.getControllerAt(0);
                if ((((((((((this.captureLevel == 0)) && ((_arg2 == null)))) && (_local4))) && (_local4.container))) && (this.allowDelayedOperations))){
                    this.enterFrameListener = _local4.container;
                    this.enterFrameListener.addEventListener(Event.ENTER_FRAME, enterFrameHandler, false, 1, true);
                } else {
                    this.flushPendingOperations();
                };
            };
        }
        public function overwriteText(_arg1:String, _arg2:SelectionState=null):void{
            _arg2 = this.defaultOperationState(_arg2);
            if (!_arg2){
                return;
            };
            var _local3:SelectionState = getSelectionState();
            NavigationUtil.nextCharacter(_local3, true);
            this.doOperation(new InsertTextOperation(_arg2, _arg1, _local3));
        }
        public function insertInlineGraphic(_arg1:Object, _arg2:Object, _arg3:Object, _arg4:Object=null, _arg5:SelectionState=null):InlineGraphicElement{
            _arg5 = this.defaultOperationState(_arg5);
            if (!_arg5){
                return (null);
            };
            var _local6:InsertInlineGraphicOperation = new InsertInlineGraphicOperation(_arg5, _arg1, _arg2, _arg3, _arg4);
            this.doOperation(_local6);
            return (_local6.newInlineGraphicElement);
        }
        public function modifyInlineGraphic(_arg1:Object, _arg2:Object, _arg3:Object, _arg4:Object=null, _arg5:SelectionState=null):void{
            _arg5 = this.defaultOperationState(_arg5);
            if (!_arg5){
                return;
            };
            this.doOperation(new ModifyInlineGraphicOperation(_arg5, _arg1, _arg2, _arg3, _arg4));
        }
        public function applyFormat(_arg1:ITextLayoutFormat, _arg2:ITextLayoutFormat, _arg3:ITextLayoutFormat, _arg4:SelectionState=null):void{
            _arg4 = this.defaultOperationState(_arg4);
            if (!_arg4){
                return;
            };
            this.doOperation(new ApplyFormatOperation(_arg4, _arg1, _arg2, _arg3));
        }
        public function clearFormat(_arg1:ITextLayoutFormat, _arg2:ITextLayoutFormat, _arg3:ITextLayoutFormat, _arg4:SelectionState=null):void{
            _arg4 = this.defaultOperationState(_arg4);
            if (!_arg4){
                return;
            };
            this.doOperation(new ClearFormatOperation(_arg4, _arg1, _arg2, _arg3));
        }
        public function applyLeafFormat(_arg1:ITextLayoutFormat, _arg2:SelectionState=null):void{
            this.applyFormat(_arg1, null, null, _arg2);
        }
        public function applyParagraphFormat(_arg1:ITextLayoutFormat, _arg2:SelectionState=null):void{
            this.applyFormat(null, _arg1, null, _arg2);
        }
        public function applyContainerFormat(_arg1:ITextLayoutFormat, _arg2:SelectionState=null):void{
            this.applyFormat(null, null, _arg1, _arg2);
        }
        public function applyFormatToElement(_arg1:FlowElement, _arg2:ITextLayoutFormat, _arg3:int=0, _arg4:int=-1, _arg5:SelectionState=null):void{
            _arg5 = this.defaultOperationState(_arg5);
            if (!_arg5){
                return;
            };
            this.doOperation(new ApplyFormatToElementOperation(_arg5, _arg1, _arg2, _arg3, _arg4));
        }
        public function clearFormatOnElement(_arg1:FlowElement, _arg2:ITextLayoutFormat, _arg3:SelectionState=null):void{
            _arg3 = this.defaultOperationState(_arg3);
            if (!_arg3){
                return;
            };
            this.doOperation(new ClearFormatOnElementOperation(_arg3, _arg1, _arg2));
        }
        public function cutTextScrap(_arg1:SelectionState=null):TextScrap{
            _arg1 = this.defaultOperationState(_arg1);
            if (!_arg1){
                return (null);
            };
            if (_arg1.anchorPosition == _arg1.activePosition){
                return (null);
            };
            var _local2:TextScrap = TextScrap.createTextScrap(_arg1);
            var _local3:int = textFlow.textLength;
            this.doOperation(new CutOperation(_arg1, _local2));
            if (_arg1.textFlow.textLength != _local3){
                return (_local2);
            };
            return (null);
        }
        public function pasteTextScrap(_arg1:TextScrap, _arg2:SelectionState=null):void{
            _arg2 = this.defaultOperationState(_arg2);
            if (!_arg2){
                return;
            };
            this.doOperation(new PasteOperation(_arg2, _arg1));
        }
        public function applyTCY(_arg1:Boolean, _arg2:SelectionState=null):TCYElement{
            _arg2 = this.defaultOperationState(_arg2);
            if (!_arg2){
                return (null);
            };
            var _local3:ApplyTCYOperation = new ApplyTCYOperation(_arg2, _arg1);
            this.doOperation(_local3);
            return (_local3.newTCYElement);
        }
        public function applyLink(_arg1:String, _arg2:String=null, _arg3:Boolean=false, _arg4:SelectionState=null):LinkElement{
            _arg4 = this.defaultOperationState(_arg4);
            if (!_arg4){
                return (null);
            };
            if (_arg4.absoluteStart == _arg4.absoluteEnd){
                return (null);
            };
            var _local5:ApplyLinkOperation = new ApplyLinkOperation(_arg4, _arg1, _arg2, _arg3);
            this.doOperation(_local5);
            return (_local5.newLinkElement);
        }
        public function changeElementID(_arg1:String, _arg2:FlowElement, _arg3:int=0, _arg4:int=-1, _arg5:SelectionState=null):void{
            _arg5 = this.defaultOperationState(_arg5);
            if (!_arg5){
                return;
            };
            if (_arg5.absoluteStart == _arg5.absoluteEnd){
                return;
            };
            this.doOperation(new ApplyElementIDOperation(_arg5, _arg2, _arg1, _arg3, _arg4));
        }
        public function changeStyleName(_arg1:String, _arg2:FlowElement, _arg3:int=0, _arg4:int=-1, _arg5:SelectionState=null):void{
            _arg5 = this.defaultOperationState(_arg5);
            if (!_arg5){
                return;
            };
            var _local6:TextLayoutFormat = new TextLayoutFormat();
            _local6.styleName = _arg1;
            this.doOperation(new ApplyFormatToElementOperation(_arg5, _arg2, _local6, _arg3, _arg4));
        }
        public function changeTypeName(_arg1:String, _arg2:FlowElement, _arg3:int=0, _arg4:int=-1, _arg5:SelectionState=null):void{
            _arg5 = this.defaultOperationState(_arg5);
            if (!_arg5){
                return;
            };
            this.doOperation(new ApplyElementTypeNameOperation(_arg5, _arg2, _arg1, _arg3, _arg4));
        }
        public function beginCompositeOperation():void{
            var _local3:FlowOperationEvent;
            this.flushPendingOperations();
            if (!this.parentStack){
                this.parentStack = [];
            };
            var _local1:CompositeOperation = new CompositeOperation();
            if (!this._imeSession){
                _local3 = new FlowOperationEvent(FlowOperationEvent.FLOW_OPERATION_BEGIN, false, false, _local1, this.captureLevel, null);
                textFlow.dispatchEvent(_local3);
            };
            _local1.setGenerations(textFlow.generation, 0);
            this.captureLevel++;
            var _local2:Object = new Object();
            _local2.operation = _local1;
            _local2.captureLevel = this.captureLevel;
            this.parentStack.push(_local2);
        }
        public function endCompositeOperation():void{
            var _local3:FlowOperationEvent;
            this.captureLevel--;
            var _local1:Object = this.parentStack.pop();
            var _local2:FlowOperation = _local1.operation;
            if (!this._imeSession){
                _local3 = new FlowOperationEvent(FlowOperationEvent.FLOW_OPERATION_END, false, false, _local2, this.captureLevel, null);
                textFlow.dispatchEvent(_local3);
            };
            _local2.setGenerations(_local2.beginGeneration, textFlow.generation);
            this.finalizeDo(_local2);
        }
        override tlf_internal function selectionChanged(_arg1:Boolean=true, _arg2:Boolean=true):void{
            if (this._imeSession){
                this._imeSession.selectionChanged();
            };
            super.selectionChanged(_arg1, _arg2);
        }

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {
    import flash.events.*;

    public interface IInteractionEventHandler {

        function editHandler(_arg1:Event):void;
        function keyDownHandler(_arg1:KeyboardEvent):void;
        function keyUpHandler(_arg1:KeyboardEvent):void;
        function keyFocusChangeHandler(_arg1:FocusEvent):void;
        function textInputHandler(_arg1:TextEvent):void;
        function imeStartCompositionHandler(_arg1:IMEEvent):void;
        function softKeyboardActivatingHandler(_arg1:Event):void;
        function mouseDownHandler(_arg1:MouseEvent):void;
        function mouseMoveHandler(_arg1:MouseEvent):void;
        function mouseUpHandler(_arg1:MouseEvent):void;
        function mouseDoubleClickHandler(_arg1:MouseEvent):void;
        function mouseOverHandler(_arg1:MouseEvent):void;
        function mouseOutHandler(_arg1:MouseEvent):void;
        function focusInHandler(_arg1:FocusEvent):void;
        function focusOutHandler(_arg1:FocusEvent):void;
        function activateHandler(_arg1:Event):void;
        function deactivateHandler(_arg1:Event):void;
        function focusChangeHandler(_arg1:FocusEvent):void;
        function menuSelectHandler(_arg1:ContextMenuEvent):void;
        function mouseWheelHandler(_arg1:MouseEvent):void;

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {
    import flashx.textLayout.property.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.compose.*;

    public class ElementRange {

        private var _absoluteStart:int;
        private var _absoluteEnd:int;
        private var _firstLeaf:FlowLeafElement;
        private var _lastLeaf:FlowLeafElement;
        private var _firstParagraph:ParagraphElement;
        private var _lastParagraph:ParagraphElement;
        private var _textFlow:TextFlow;

        public static function createElementRange(_arg1:TextFlow, _arg2:int, _arg3:int):ElementRange{
            var _local4:ElementRange = new (ElementRange)();
            if (_arg2 == _arg3){
                _local4.absoluteStart = (_local4.absoluteEnd = _arg2);
                _local4.firstLeaf = _arg1.findLeaf(_local4.absoluteStart);
                _local4.firstParagraph = _local4.firstLeaf.getParagraph();
                adjustForLeanLeft(_local4);
                _local4.lastLeaf = _local4.firstLeaf;
                _local4.lastParagraph = _local4.firstParagraph;
            } else {
                if (_arg2 < _arg3){
                    _local4.absoluteStart = _arg2;
                    _local4.absoluteEnd = _arg3;
                } else {
                    _local4.absoluteStart = _arg3;
                    _local4.absoluteEnd = _arg2;
                };
                _local4.firstLeaf = _arg1.findLeaf(_local4.absoluteStart);
                _local4.lastLeaf = _arg1.findLeaf(_local4.absoluteEnd);
                if ((((((_local4.lastLeaf == null)) && ((_local4.absoluteEnd == _arg1.textLength)))) || ((_local4.absoluteEnd == _local4.lastLeaf.getAbsoluteStart())))){
                    _local4.lastLeaf = _arg1.findLeaf((_local4.absoluteEnd - 1));
                };
                _local4.firstParagraph = _local4.firstLeaf.getParagraph();
                _local4.lastParagraph = _local4.lastLeaf.getParagraph();
                if (_local4.absoluteEnd == ((_local4.lastParagraph.getAbsoluteStart() + _local4.lastParagraph.textLength) - 1)){
                    _local4.absoluteEnd++;
                    _local4.lastLeaf = _local4.lastParagraph.getLastLeaf();
                };
            };
            _local4.textFlow = _arg1;
            return (_local4);
        }
        private static function adjustForLeanLeft(_arg1:ElementRange):void{
            var _local2:FlowLeafElement;
            if (_arg1.firstLeaf.getAbsoluteStart() == _arg1.absoluteStart){
                _local2 = _arg1.firstLeaf.getPreviousLeaf(_arg1.firstParagraph);
                if (((_local2) && ((_local2.getParagraph() == _arg1.firstLeaf.getParagraph())))){
                    if (((((!((_local2.parent is SubParagraphGroupElementBase))) || ((_local2.parent as SubParagraphGroupElementBase).acceptTextAfter()))) && (((!((_arg1.firstLeaf.parent is SubParagraphGroupElementBase))) || ((_local2.parent === _arg1.firstLeaf.parent)))))){
                        _arg1.firstLeaf = _local2;
                    };
                };
            };
        }

        public function get absoluteStart():int{
            return (this._absoluteStart);
        }
        public function set absoluteStart(_arg1:int):void{
            this._absoluteStart = _arg1;
        }
        public function get absoluteEnd():int{
            return (this._absoluteEnd);
        }
        public function set absoluteEnd(_arg1:int):void{
            this._absoluteEnd = _arg1;
        }
        public function get firstLeaf():FlowLeafElement{
            return (this._firstLeaf);
        }
        public function set firstLeaf(_arg1:FlowLeafElement):void{
            this._firstLeaf = _arg1;
        }
        public function get lastLeaf():FlowLeafElement{
            return (this._lastLeaf);
        }
        public function set lastLeaf(_arg1:FlowLeafElement):void{
            this._lastLeaf = _arg1;
        }
        public function get firstParagraph():ParagraphElement{
            return (this._firstParagraph);
        }
        public function set firstParagraph(_arg1:ParagraphElement):void{
            this._firstParagraph = _arg1;
        }
        public function get lastParagraph():ParagraphElement{
            return (this._lastParagraph);
        }
        public function set lastParagraph(_arg1:ParagraphElement):void{
            this._lastParagraph = _arg1;
        }
        public function get textFlow():TextFlow{
            return (this._textFlow);
        }
        public function set textFlow(_arg1:TextFlow):void{
            this._textFlow = _arg1;
        }
        public function get containerFormat():ITextLayoutFormat{
            var _local1:ContainerController;
            var _local3:int;
            var _local2:IFlowComposer = this._textFlow.flowComposer;
            if (_local2){
                _local3 = _local2.findControllerIndexAtPosition(this.absoluteStart);
                if (_local3 != -1){
                    _local1 = _local2.getControllerAt(_local3);
                };
            };
            return (((_local1) ? _local1.computedFormat : this._textFlow.computedFormat));
        }
        public function get paragraphFormat():ITextLayoutFormat{
            return (this.firstParagraph.computedFormat);
        }
        public function get characterFormat():ITextLayoutFormat{
            return (this.firstLeaf.computedFormat);
        }
        public function getCommonCharacterFormat():TextLayoutFormat{
            var _local1:FlowLeafElement = this.firstLeaf;
            var _local2:TextLayoutFormat = new TextLayoutFormat(_local1.computedFormat);
            while (true) {
                if (_local1 == this.lastLeaf){
                    break;
                };
                _local1 = _local1.getNextLeaf();
                _local2.removeClashing(_local1.computedFormat);
            };
            return ((Property.extractInCategory(TextLayoutFormat, TextLayoutFormat.description, _local2, Category.CHARACTER, false) as TextLayoutFormat));
        }
        public function getCommonParagraphFormat():TextLayoutFormat{
            var _local1:ParagraphElement = this.firstParagraph;
            var _local2:TextLayoutFormat = new TextLayoutFormat(_local1.computedFormat);
            while (true) {
                if (_local1 == this.lastParagraph){
                    break;
                };
                _local1 = this._textFlow.findAbsoluteParagraph((_local1.getAbsoluteStart() + _local1.textLength));
                _local2.removeClashing(_local1.computedFormat);
            };
            return ((Property.extractInCategory(TextLayoutFormat, TextLayoutFormat.description, _local2, Category.PARAGRAPH, false) as TextLayoutFormat));
        }
        public function getCommonContainerFormat():TextLayoutFormat{
            var _local1:IFlowComposer = this._textFlow.flowComposer;
            if (!_local1){
                return (null);
            };
            var _local2:int = _local1.findControllerIndexAtPosition(this.absoluteStart);
            if (_local2 == -1){
                return (null);
            };
            var _local3:ContainerController = _local1.getControllerAt(_local2);
            var _local4:TextLayoutFormat = new TextLayoutFormat(_local3.computedFormat);
            while ((_local3.absoluteStart + _local3.textLength) < this.absoluteEnd) {
                _local2++;
                if (_local2 == _local1.numControllers){
                    break;
                };
                _local3 = _local1.getControllerAt(_local2);
                _local4.removeClashing(_local3.computedFormat);
            };
            return ((Property.extractInCategory(TextLayoutFormat, TextLayoutFormat.description, _local4, Category.CONTAINER, false) as TextLayoutFormat));
        }

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {

    public interface IMemento {

        function undo();
        function redo();

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {
    import flashx.textLayout.elements.*;
    import flashx.textLayout.*;

    public class ElementMark {

        tlf_internal var _elemStart:int;
        tlf_internal var _indexChain:Array;

        public function ElementMark(_arg1:FlowElement, _arg2:int){
            this._elemStart = _arg2;
            this._indexChain = [];
            var _local3:FlowGroupElement = _arg1.parent;
            while (_local3 != null) {
                this._indexChain.splice(0, 0, _local3.getChildIndex(_arg1));
                _arg1 = _local3;
                _local3 = _local3.parent;
            };
        }
        public function get elemStart():int{
            return (this._elemStart);
        }
        public function findElement(_arg1:TextFlow):FlowElement{
            var _local3:int;
            var _local2:FlowElement = _arg1;
            for each (_local3 in this._indexChain) {
                _local2 = (_local2 as FlowGroupElement).getChildAt(_local3);
            };
            return (_local2);
        }

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.*;

    public class SelectionState extends TextRange {

        private var _pointFormat:ITextLayoutFormat;
        private var _selectionManagerOperationState:Boolean;

        public function SelectionState(_arg1:TextFlow, _arg2:int, _arg3:int, _arg4:ITextLayoutFormat=null){
            super(_arg1, _arg2, _arg3);
            if (_arg4){
                this._pointFormat = _arg4;
            };
        }
        override public function updateRange(_arg1:int, _arg2:int):Boolean{
            if (super.updateRange(_arg1, _arg2)){
                this._pointFormat = null;
                return (true);
            };
            return (false);
        }
        public function get pointFormat():ITextLayoutFormat{
            return (this._pointFormat);
        }
        public function set pointFormat(_arg1:ITextLayoutFormat):void{
            this._pointFormat = _arg1;
        }
        tlf_internal function get selectionManagerOperationState():Boolean{
            return (this._selectionManagerOperationState);
        }
        tlf_internal function set selectionManagerOperationState(_arg1:Boolean):void{
            this._selectionManagerOperationState = _arg1;
        }
        tlf_internal function clone():SelectionState{
            return (new SelectionState(textFlow, anchorPosition, activePosition, this.pointFormat));
        }

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {
    import flashx.textLayout.elements.*;

    public class MementoList implements IMemento {

        private var _mementoList:Array;

        public function MementoList(_arg1:TextFlow){
        }
        public function push(_arg1:IMemento):void{
            if (_arg1){
                this.mementoList.push(_arg1);
            };
        }
        private function get mementoList():Array{
            if (!this._mementoList){
                this._mementoList = [];
            };
            return (this._mementoList);
        }
        public function undo(){
            var _local2:IMemento;
            var _local1:Array = [];
            if (this._mementoList){
                this._mementoList.reverse();
                for each (_local2 in this._mementoList) {
                    _local1.push(_local2.undo());
                };
                this._mementoList.reverse();
            };
            return (_local1);
        }
        public function redo(){
            var _local2:IMemento;
            var _local1:Array = [];
            for each (_local2 in this._mementoList) {
                _local1.push(_local2.redo());
            };
            return (_local1);
        }

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {
    import flash.display.*;
    import flash.utils.*;
    import flash.text.engine.*;
    import flash.events.*;
    import flash.geom.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.compose.*;
    import flashx.textLayout.operations.*;
    import flash.ui.*;
    import flashx.textLayout.events.*;
    import flashx.textLayout.utils.*;
    import flashx.textLayout.*;
    import flash.errors.*;
    import flash.desktop.*;

    public class SelectionManager implements ISelectionManager {

        private var _focusedSelectionFormat:SelectionFormat;
        private var _unfocusedSelectionFormat:SelectionFormat;
        private var _inactiveSelectionFormat:SelectionFormat;
        private var _selFormatState:String = "unfocused";
        private var _isActive:Boolean;
        private var _textFlow:TextFlow;
        private var anchorMark:Mark;
        private var activeMark:Mark;
        private var _pointFormat:ITextLayoutFormat;
        protected var ignoreNextTextEvent:Boolean = false;
        protected var allowOperationMerge:Boolean = false;
        private var _mouseOverSelectionArea:Boolean = false;
        private var marks:Array;

        public function SelectionManager(){
            this.marks = [];
            super();
            this._textFlow = null;
            this.anchorMark = this.createMark();
            this.activeMark = this.createMark();
            this._pointFormat = null;
            this._isActive = false;
        }
        private static function computeSelectionIndexInContainer(_arg1:TextFlow, _arg2:ContainerController, _arg3:Number, _arg4:Number):int{
            var _local16:TextFlowLine;
            var _local17:TextLine;
            var _local25:Rectangle;
            var _local26:Number;
            var _local27:Number;
            var _local28:Boolean;
            var _local29:Number;
            var _local30:Boolean;
            var _local31:int;
            var _local32:String;
            var _local5 = -1;
            var _local6:int = _arg2.absoluteStart;
            var _local7:int = _arg2.textLength;
            var _local8:String = _arg1.computedFormat.blockProgression;
            var _local9 = (_local8 == BlockProgression.RL);
            var _local10 = (_arg1.computedFormat.direction == Direction.RTL);
            var _local11:Number = ((_local9) ? _arg3 : _arg4);
            var _local12:int = locateNearestColumn(_arg2, _arg3, _arg4, _arg1.computedFormat.blockProgression, _arg1.computedFormat.direction);
            var _local13:Rectangle;
            var _local14 = -1;
            var _local15 = -1;
            var _local18:int = (_arg1.flowComposer.numLines - 1);
            while (_local18 >= 0) {
                _local16 = _arg1.flowComposer.getLineAt(_local18);
                if (((!((_local16.controller == _arg2))) || (!((_local16.columnIndex == _local12))))){
                    if (_local15 != -1){
                        _local5 = (_local18 + 1);
                        break;
                    };
                } else {
                    if ((((_local16.absoluteStart < _local6)) || ((_local16.absoluteStart >= (_local6 + _local7))))){
                    } else {
                        _local17 = _local16.getTextLine();
                        if ((((_local17 == null)) || ((_local17.parent == null)))){
                        } else {
                            if (_local15 == -1){
                                _local15 = _local18;
                            };
                            _local25 = _local17.getBounds(DisplayObject(_arg2.container));
                            _local26 = ((_local9) ? _local25.left : _local25.bottom);
                            _local27 = -1;
                            if (_local13){
                                _local29 = ((_local9) ? _local13.right : _local13.top);
                                _local27 = ((_local26 + _local29) / 2);
                            };
                            _local28 = ((_local9) ? (_local26 > _local11) : (_local26 < _local11));
                            if (((_local28) || ((_local18 == 0)))){
                                _local30 = ((!((_local27 == -1))) && (((_local9) ? (_local11 < _local27) : (_local11 > _local27))));
                                _local5 = ((((_local30) && (!((_local18 == _local15))))) ? (_local18 + 1) : _local18);
                                break;
                            };
                            _local13 = _local25;
                            _local14 = _local18;
                        };
                    };
                };
                _local18--;
            };
            if (_local5 == -1){
                _local5 = _local14;
                if (_local5 == -1){
                    return (-1);
                };
            };
            var _local19:TextFlowLine = _arg1.flowComposer.getLineAt(_local5);
            var _local20:TextLine = _local19.getTextLine(true);
            _arg3 = (_arg3 - _local20.x);
            _arg4 = (_arg4 - _local20.y);
            var _local21:Boolean;
            var _local22 = -1;
            if (_local10){
                _local22 = (_local20.atomCount - 1);
            } else {
                if ((_local19.absoluteStart + _local19.textLength) >= (_local19.paragraph.getAbsoluteStart() + _local19.paragraph.textLength)){
                    if (_local20.atomCount > 1){
                        _local22 = (_local20.atomCount - 2);
                    };
                } else {
                    _local31 = ((_local19.absoluteStart + _local19.textLength) - 1);
                    _local32 = _local20.textBlock.content.rawText.charAt(_local31);
                    if (_local32 == " "){
                        if (_local20.atomCount > 1){
                            _local22 = (_local20.atomCount - 2);
                        };
                    } else {
                        _local21 = true;
                        if (_local20.atomCount > 0){
                            _local22 = (_local20.atomCount - 1);
                        };
                    };
                };
            };
            var _local23:Rectangle = ((_local22)>0) ? _local20.getAtomBounds(_local22) : new Rectangle(0, 0, 0, 0);
            if (!_local9){
                if (_arg3 < 0){
                    _arg3 = 0;
                } else {
                    if (_arg3 > (_local23.x + _local23.width)){
                        if (_local21){
                            return (((_local19.absoluteStart + _local19.textLength) - 1));
                        };
                        if ((_local23.x + _local23.width) > 0){
                            _arg3 = (_local23.x + _local23.width);
                        };
                    };
                };
            } else {
                if (_arg4 < 0){
                    _arg4 = 0;
                } else {
                    if (_arg4 > (_local23.y + _local23.height)){
                        if (_local21){
                            return (((_local19.absoluteStart + _local19.textLength) - 1));
                        };
                        if ((_local23.y + _local23.height) > 0){
                            _arg4 = (_local23.y + _local23.height);
                        };
                    };
                };
            };
            var _local24:int = computeSelectionIndexInLine(_arg1, _local20, _arg3, _arg4);
            return (((_local24)!=-1) ? _local24 : (_local6 + _local7));
        }
        private static function locateNearestColumn(_arg1:ContainerController, _arg2:Number, _arg3:Number, _arg4:String, _arg5:String):int{
            var _local8:Rectangle;
            var _local9:Rectangle;
            var _local6:int;
            var _local7:ColumnState = _arg1.columnState;
            while (_local6 < (_local7.columnCount - 1)) {
                _local8 = _local7.getColumnAt(_local6);
                _local9 = _local7.getColumnAt((_local6 + 1));
                if (_local8.contains(_arg2, _arg3)){
                    break;
                };
                if (_local9.contains(_arg2, _arg3)){
                    _local6++;
                    break;
                };
                if (_arg4 == BlockProgression.RL){
                    if ((((_arg3 < _local8.top)) || ((((_arg3 < _local9.top)) && ((Math.abs((_local8.bottom - _arg3)) <= Math.abs((_local9.top - _arg3)))))))){
                        break;
                    };
                    if (_arg3 > _local9.top){
                        _local6++;
                        break;
                    };
                } else {
                    if (_arg5 == Direction.LTR){
                        if ((((_arg2 < _local8.left)) || ((((_arg2 < _local9.left)) && ((Math.abs((_local8.right - _arg2)) <= Math.abs((_local9.left - _arg2)))))))){
                            break;
                        };
                        if (_arg2 < _local9.left){
                            _local6++;
                            break;
                        };
                    } else {
                        if ((((_arg2 > _local8.right)) || ((((_arg2 > _local9.right)) && ((Math.abs((_local8.left - _arg2)) <= Math.abs((_local9.right - _arg2)))))))){
                            break;
                        };
                        if (_arg2 > _local9.right){
                            _local6++;
                            break;
                        };
                    };
                };
                _local6++;
            };
            return (_local6);
        }
        private static function computeSelectionIndexInLine(_arg1:TextFlow, _arg2:TextLine, _arg3:Number, _arg4:Number):int{
            var _local12:int;
            if (!(_arg2.userData is TextFlowLine)){
                return (-1);
            };
            var _local5:TextFlowLine = TextFlowLine(_arg2.userData);
            if (_local5.validity == TextLineValidity.INVALID){
                return (-1);
            };
            _arg2 = _local5.getTextLine(true);
            var _local6 = (_arg1.computedFormat.blockProgression == BlockProgression.RL);
            var _local7:Number = ((_local6) ? _arg3 : _arg4);
            var _local8:Point = new Point();
            _local8.x = _arg3;
            _local8.y = _arg4;
            _local8 = _arg2.localToGlobal(_local8);
            var _local9:int = _arg2.getAtomIndexAtPoint(_local8.x, _local8.y);
            if (_local9 == -1){
                _local8.x = _arg3;
                _local8.y = _arg4;
                if ((((_local8.x < 0)) || (((_local6) && ((_local7 > _arg2.ascent)))))){
                    _local8.x = 0;
                };
                if ((((_local8.y < 0)) || (((!(_local6)) && ((_local7 > _arg2.descent)))))){
                    _local8.y = 0;
                };
                _local8 = _arg2.localToGlobal(_local8);
                _local9 = _arg2.getAtomIndexAtPoint(_local8.x, _local8.y);
            };
            if (_local9 == -1){
                _local8.x = _arg3;
                _local8.y = _arg4;
                _local8 = _arg2.localToGlobal(_local8);
                if (_arg2.parent){
                    _local8 = _arg2.parent.globalToLocal(_local8);
                };
                if (!_local6){
                    return (((_local8.x)<=_arg2.x) ? _local5.absoluteStart : ((_local5.absoluteStart + _local5.textLength) - 1));
                };
                return (((_local8.y)<=_arg2.y) ? _local5.absoluteStart : ((_local5.absoluteStart + _local5.textLength) - 1));
            };
            var _local10:Rectangle = _arg2.getAtomBounds(_local9);
            var _local11:Boolean;
            if (_local10){
                if (((_local6) && (!((_arg2.getAtomTextRotation(_local9) == TextRotation.ROTATE_0))))){
                    _local11 = (_arg4 > (_local10.y + (_local10.height / 2)));
                } else {
                    _local11 = (_arg3 > (_local10.x + (_local10.width / 2)));
                };
            };
            if ((_arg2.getAtomBidiLevel(_local9) % 2) != 0){
                _local12 = ((_local11) ? _arg2.getAtomTextBlockBeginIndex(_local9) : _arg2.getAtomTextBlockEndIndex(_local9));
            } else {
                _local12 = ((_local11) ? _arg2.getAtomTextBlockEndIndex(_local9) : _arg2.getAtomTextBlockBeginIndex(_local9));
            };
            return ((_local5.paragraph.getAbsoluteStart() + _local12));
        }
        private static function checkForDisplayed(_arg1:DisplayObject):Boolean{
            var container:* = _arg1;
            try {
                while (container) {
                    if (!container.visible){
                        return (false);
                    };
                    container = container.parent;
                    if ((container is Stage)){
                        return (true);
                    };
                };
            } catch(e:Error) {
                return (true);
            };
            return (false);
        }
        tlf_internal static function computeSelectionIndex(_arg1:TextFlow, _arg2:Object, _arg3:Object, _arg4:Number, _arg5:Number):int{
            var _local7:Point;
            var _local9:TextFlowLine;
            var _local10:ParagraphElement;
            var _local11:ContainerController;
            var _local12:int;
            var _local13:ContainerController;
            var _local14:ContainerController;
            var _local15:Number;
            var _local16:Number;
            var _local17:Number;
            var _local18:int;
            var _local19:ContainerController;
            var _local20:Rectangle;
            var _local21:Number;
            var _local22:Number;
            var _local23:Number;
            var _local24:Number;
            var _local25:Number;
            var _local26:Number;
            var _local27:Number;
            var _local6:int;
            var _local8:Boolean;
            if ((_arg2 is TextLine)){
                _local9 = (TextLine(_arg2).userData as TextFlowLine);
                if (_local9){
                    _local10 = _local9.paragraph;
                    if (_local10.getTextFlow() == _arg1){
                        _local8 = true;
                    };
                };
            };
            if (_local8){
                _local6 = computeSelectionIndexInLine(_arg1, TextLine(_arg2), _arg4, _arg5);
            } else {
                _local12 = 0;
                while (_local12 < _arg1.flowComposer.numControllers) {
                    _local13 = _arg1.flowComposer.getControllerAt(_local12);
                    if ((((_local13.container == _arg2)) || ((_local13.container == _arg3)))){
                        _local11 = _local13;
                        break;
                    };
                    _local12++;
                };
                if (_local11){
                    if (_arg2 != _local11.container){
                        _local7 = DisplayObject(_arg2).localToGlobal(new Point(_arg4, _arg5));
                        _local7 = DisplayObject(_local11.container).globalToLocal(_local7);
                        _arg4 = _local7.x;
                        _arg5 = _local7.y;
                    };
                    _local6 = computeSelectionIndexInContainer(_arg1, _local11, _arg4, _arg5);
                } else {
                    _local14 = null;
                    _local17 = Number.MAX_VALUE;
                    _local18 = 0;
                    while (_local18 < _arg1.flowComposer.numControllers) {
                        _local19 = _arg1.flowComposer.getControllerAt(_local18);
                        if (!checkForDisplayed((_local19.container as DisplayObject))){
                        } else {
                            _local20 = _local19.getContentBounds();
                            _local21 = ((isNaN(_local19.compositionWidth)) ? (_local19.getTotalPaddingLeft() + _local20.width) : _local19.compositionWidth);
                            _local22 = ((isNaN(_local19.compositionHeight)) ? (_local19.getTotalPaddingTop() + _local20.height) : _local19.compositionHeight);
                            _local7 = DisplayObject(_arg2).localToGlobal(new Point(_arg4, _arg5));
                            _local7 = DisplayObject(_local19.container).globalToLocal(_local7);
                            _local23 = 0;
                            _local24 = 0;
                            if (_local19.hasScrollRect){
                                _local23 = _local19.container.scrollRect.x;
                                _local7.x = (_local7.x - _local23);
                                _local24 = _local19.container.scrollRect.y;
                                _local7.y = (_local7.y - _local24);
                            };
                            if ((((((((_local7.x >= 0)) && ((_local7.x <= _local21)))) && ((_local7.y >= 0)))) && ((_local7.y <= _local22)))){
                                _local14 = _local19;
                                _local15 = (_local7.x + _local23);
                                _local16 = (_local7.y + _local24);
                                break;
                            };
                            _local25 = 0;
                            _local26 = 0;
                            if (_local7.x < 0){
                                _local25 = _local7.x;
                                if (_local7.y < 0){
                                    _local26 = _local7.y;
                                } else {
                                    if (_local7.y > _local22){
                                        _local26 = (_local7.y - _local22);
                                    };
                                };
                            } else {
                                if (_local7.x > _local21){
                                    _local25 = (_local7.x - _local21);
                                    if (_local7.y < 0){
                                        _local26 = _local7.y;
                                    } else {
                                        if (_local7.y > _local22){
                                            _local26 = (_local7.y - _local22);
                                        };
                                    };
                                } else {
                                    if (_local7.y < 0){
                                        _local26 = -(_local7.y);
                                    } else {
                                        _local26 = (_local7.y - _local22);
                                    };
                                };
                            };
                            _local27 = ((_local25 * _local25) + (_local26 * _local26));
                            if (_local27 <= _local17){
                                _local17 = _local27;
                                _local14 = _local19;
                                _local15 = (_local7.x + _local23);
                                _local16 = (_local7.y + _local24);
                            };
                        };
                        _local18++;
                    };
                    _local6 = ((_local14) ? computeSelectionIndexInContainer(_arg1, _local14, _local15, _local16) : -1);
                };
            };
            if (_local6 >= _arg1.textLength){
                _local6 = (_arg1.textLength - 1);
            };
            return (_local6);
        }

        protected function get pointFormat():ITextLayoutFormat{
            return (this._pointFormat);
        }
        public function getSelectionState():SelectionState{
            return (new SelectionState(this._textFlow, this.anchorMark.position, this.activeMark.position, this.pointFormat));
        }
        public function setSelectionState(_arg1:SelectionState):void{
            this.internalSetSelection(_arg1.textFlow, _arg1.anchorPosition, _arg1.activePosition, _arg1.pointFormat);
        }
        public function hasSelection():Boolean{
            return (!((this.anchorMark.position == -1)));
        }
        public function isRangeSelection():Boolean{
            return (((!((this.anchorMark.position == -1))) && (!((this.anchorMark.position == this.activeMark.position)))));
        }
        public function get textFlow():TextFlow{
            return (this._textFlow);
        }
        public function set textFlow(_arg1:TextFlow):void{
            if (this._textFlow != _arg1){
                if (this._textFlow){
                    this.flushPendingOperations();
                };
                this.clear();
                if (!_arg1){
                    this.setMouseCursor(MouseCursor.AUTO);
                };
                this._textFlow = _arg1;
                if (((this._textFlow) && (!((this._textFlow.interactionManager == this))))){
                    this._textFlow.interactionManager = this;
                };
            };
        }
        public function get editingMode():String{
            return (EditingMode.READ_SELECT);
        }
        public function get windowActive():Boolean{
            return (!((this._selFormatState == SelectionFormatState.INACTIVE)));
        }
        public function get focused():Boolean{
            return ((this._selFormatState == SelectionFormatState.FOCUSED));
        }
        public function get currentSelectionFormat():SelectionFormat{
            if (this._selFormatState == SelectionFormatState.UNFOCUSED){
                return (this.unfocusedSelectionFormat);
            };
            if (this._selFormatState == SelectionFormatState.INACTIVE){
                return (this.inactiveSelectionFormat);
            };
            return (this.focusedSelectionFormat);
        }
        public function set focusedSelectionFormat(_arg1:SelectionFormat):void{
            this._focusedSelectionFormat = _arg1;
            if (this._selFormatState == SelectionFormatState.FOCUSED){
                this.refreshSelection();
            };
        }
        public function get focusedSelectionFormat():SelectionFormat{
            return (((this._focusedSelectionFormat) ? this._focusedSelectionFormat : ((this._textFlow) ? this._textFlow.configuration.focusedSelectionFormat : null)));
        }
        public function set unfocusedSelectionFormat(_arg1:SelectionFormat):void{
            this._unfocusedSelectionFormat = _arg1;
            if (this._selFormatState == SelectionFormatState.UNFOCUSED){
                this.refreshSelection();
            };
        }
        public function get unfocusedSelectionFormat():SelectionFormat{
            return (((this._unfocusedSelectionFormat) ? this._unfocusedSelectionFormat : ((this._textFlow) ? this._textFlow.configuration.unfocusedSelectionFormat : null)));
        }
        public function set inactiveSelectionFormat(_arg1:SelectionFormat):void{
            this._inactiveSelectionFormat = _arg1;
            if (this._selFormatState == SelectionFormatState.INACTIVE){
                this.refreshSelection();
            };
        }
        public function get inactiveSelectionFormat():SelectionFormat{
            return (((this._inactiveSelectionFormat) ? this._inactiveSelectionFormat : ((this._textFlow) ? this._textFlow.configuration.inactiveSelectionFormat : null)));
        }
        tlf_internal function get selectionFormatState():String{
            return (this._selFormatState);
        }
        tlf_internal function setSelectionFormatState(_arg1:String):void{
            var _local2:SelectionFormat;
            var _local3:SelectionFormat;
            if (_arg1 != this._selFormatState){
                _local2 = this.currentSelectionFormat;
                this._selFormatState = _arg1;
                _local3 = this.currentSelectionFormat;
                if (!_local3.equals(_local2)){
                    this.refreshSelection();
                };
            };
        }
        tlf_internal function cloneSelectionFormatState(_arg1:ISelectionManager):void{
            var _local2:SelectionManager = (_arg1 as SelectionManager);
            if (_local2){
                this._isActive = _local2._isActive;
                this._mouseOverSelectionArea = _local2._mouseOverSelectionArea;
                this.setSelectionFormatState(_local2.selectionFormatState);
            };
        }
        private function selectionPoint(_arg1:Object, _arg2:InteractiveObject, _arg3:Number, _arg4:Number, _arg5:Boolean=false):SelectionState{
            if (!this._textFlow){
                return (null);
            };
            if (!this.hasSelection()){
                _arg5 = false;
            };
            var _local6:int = this.anchorMark.position;
            var _local7:int = this.activeMark.position;
            _local7 = computeSelectionIndex(this._textFlow, _arg2, _arg1, _arg3, _arg4);
            if (_local7 == -1){
                return (null);
            };
            _local7 = Math.min(_local7, (this._textFlow.textLength - 1));
            if (!_arg5){
                _local6 = _local7;
            };
            if (_local6 == _local7){
                _local6 = NavigationUtil.updateStartIfInReadOnlyElement(this._textFlow, _local6);
                _local7 = NavigationUtil.updateEndIfInReadOnlyElement(this._textFlow, _local7);
            } else {
                _local7 = NavigationUtil.updateEndIfInReadOnlyElement(this._textFlow, _local7);
            };
            return (new SelectionState(this.textFlow, _local6, _local7));
        }
        public function setFocus():void{
            if (!this._textFlow){
                return;
            };
            if (this._textFlow.flowComposer){
                this._textFlow.flowComposer.setFocus(this.activePosition, false);
            };
            this.setSelectionFormatState(SelectionFormatState.FOCUSED);
        }
        protected function setMouseCursor(_arg1:String):void{
            Mouse.cursor = _arg1;
        }
        public function get anchorPosition():int{
            return (this.anchorMark.position);
        }
        public function get activePosition():int{
            return (this.activeMark.position);
        }
        public function get absoluteStart():int{
            return (((this.anchorMark.position)<this.activeMark.position) ? this.anchorMark.position : this.activeMark.position);
        }
        public function get absoluteEnd():int{
            return (((this.anchorMark.position)>this.activeMark.position) ? this.anchorMark.position : this.activeMark.position);
        }
        public function selectAll():void{
            this.selectRange(0, int.MAX_VALUE);
        }
        public function selectRange(_arg1:int, _arg2:int):void{
            this.flushPendingOperations();
            if (((!((_arg1 == this.anchorMark.position))) || (!((_arg2 == this.activeMark.position))))){
                this.clearSelectionShapes();
                this.internalSetSelection(this._textFlow, _arg1, _arg2);
                this.selectionChanged();
                this.allowOperationMerge = false;
            };
        }
        private function internalSetSelection(_arg1:TextFlow, _arg2:int, _arg3:int, _arg4:ITextLayoutFormat=null):void{
            this._textFlow = _arg1;
            if ((((_arg2 < 0)) || ((_arg3 < 0)))){
                _arg2 = -1;
                _arg3 = -1;
            };
            var _local5:int = ((this._textFlow.textLength)>0) ? (this._textFlow.textLength - 1) : 0;
            if (((!((_arg2 == -1))) && (!((_arg3 == -1))))){
                if (_arg2 > _local5){
                    _arg2 = _local5;
                };
                if (_arg3 > _local5){
                    _arg3 = _local5;
                };
            };
            this._pointFormat = _arg4;
            this.anchorMark.position = _arg2;
            this.activeMark.position = _arg3;
        }
        private function clear():void{
            if (this.hasSelection()){
                this.flushPendingOperations();
                this.clearSelectionShapes();
                this.internalSetSelection(this._textFlow, -1, -1);
                this.selectionChanged();
                this.allowOperationMerge = false;
            };
        }
        private function addSelectionShapes():void{
            var _local1:int;
            if (this._textFlow.flowComposer){
                this.internalSetSelection(this._textFlow, this.anchorMark.position, this.activeMark.position, this._pointFormat);
                if (((this.currentSelectionFormat) && ((((((this.absoluteStart == this.absoluteEnd)) && (!((this.currentSelectionFormat.pointAlpha == 0))))) || (((!((this.absoluteStart == this.absoluteEnd))) && (!((this.currentSelectionFormat.rangeAlpha == 0))))))))){
                    _local1 = 0;
                    while (_local1 < this._textFlow.flowComposer.numControllers) {
                        var _temp1 = _local1;
                        _local1 = (_local1 + 1);
                        this._textFlow.flowComposer.getControllerAt(_temp1).addSelectionShapes(this.currentSelectionFormat, this.absoluteStart, this.absoluteEnd);
                    };
                };
            };
        }
        private function clearSelectionShapes():void{
            var _local2:int;
            var _local1:IFlowComposer = ((this._textFlow) ? this._textFlow.flowComposer : null);
            if (_local1){
                _local2 = 0;
                while (_local2 < _local1.numControllers) {
                    var _temp1 = _local2;
                    _local2 = (_local2 + 1);
                    _local1.getControllerAt(_temp1).clearSelectionShapes();
                };
            };
        }
        public function refreshSelection():void{
            if (this.hasSelection()){
                this.clearSelectionShapes();
                this.addSelectionShapes();
            };
        }
        tlf_internal function selectionChanged(_arg1:Boolean=true, _arg2:Boolean=true):void{
            if (_arg2){
                this._pointFormat = null;
            };
            if (((_arg1) && (this._textFlow))){
                this.textFlow.dispatchEvent(new SelectionEvent(SelectionEvent.SELECTION_CHANGE, false, false, ((this.hasSelection()) ? this.getSelectionState() : null)));
            };
        }
        tlf_internal function setNewSelectionPoint(_arg1:Object, _arg2:InteractiveObject, _arg3:Number, _arg4:Number, _arg5:Boolean=false):Boolean{
            var _local6:SelectionState = this.selectionPoint(_arg1, _arg2, _arg3, _arg4, _arg5);
            if (_local6 == null){
                return (false);
            };
            if (((!((_local6.anchorPosition == this.anchorMark.position))) || (!((_local6.activePosition == this.activeMark.position))))){
                this.selectRange(_local6.anchorPosition, _local6.activePosition);
                return (true);
            };
            return (false);
        }
        public function mouseDownHandler(_arg1:MouseEvent):void{
            this.handleMouseEventForSelection(_arg1, _arg1.shiftKey);
        }
        public function mouseMoveHandler(_arg1:MouseEvent):void{
            var _local2:String = this.textFlow.computedFormat.blockProgression;
            if (_local2 != BlockProgression.RL){
                this.setMouseCursor(MouseCursor.IBEAM);
            };
            if (_arg1.buttonDown){
                this.handleMouseEventForSelection(_arg1, true);
            };
        }
        tlf_internal function handleMouseEventForSelection(_arg1:MouseEvent, _arg2:Boolean):void{
            var _local3:Boolean = this.hasSelection();
            if (this.setNewSelectionPoint(_arg1.currentTarget, (_arg1.target as InteractiveObject), _arg1.localX, _arg1.localY, ((_local3) && (_arg2)))){
                if (_local3){
                    this.clearSelectionShapes();
                };
                if (this.hasSelection()){
                    this.addSelectionShapes();
                };
            };
            this.allowOperationMerge = false;
        }
        public function mouseUpHandler(_arg1:MouseEvent):void{
            if (!this._mouseOverSelectionArea){
                this.setMouseCursor(MouseCursor.AUTO);
            };
        }
        private function atBeginningWordPos(_arg1:ParagraphElement, _arg2:int):Boolean{
            if (_arg2 == 0){
                return (true);
            };
            var _local3:int = _arg1.findNextWordBoundary(_arg2);
            _local3 = _arg1.findPreviousWordBoundary(_local3);
            return ((_arg2 == _local3));
        }
        public function mouseDoubleClickHandler(_arg1:MouseEvent):void{
            var _local4:int;
            var _local5:int;
            var _local6:ParagraphElement;
            var _local7:int;
            if (!this.hasSelection()){
                return;
            };
            var _local2:ParagraphElement = this._textFlow.findAbsoluteParagraph(this.activeMark.position);
            var _local3:int = _local2.getAbsoluteStart();
            if (this.anchorMark.position <= this.activeMark.position){
                _local4 = (_local2.findNextWordBoundary((this.activeMark.position - _local3)) + _local3);
            } else {
                _local4 = (_local2.findPreviousWordBoundary((this.activeMark.position - _local3)) + _local3);
            };
            if (_local4 == (_local3 + _local2.textLength)){
                _local4--;
            };
            if (_arg1.shiftKey){
                _local5 = this.anchorMark.position;
            } else {
                _local6 = this._textFlow.findAbsoluteParagraph(this.anchorMark.position);
                _local7 = _local6.getAbsoluteStart();
                if (this.atBeginningWordPos(_local6, (this.anchorMark.position - _local7))){
                    _local5 = this.anchorMark.position;
                } else {
                    if (this.anchorMark.position <= this.activeMark.position){
                        _local5 = (_local6.findPreviousWordBoundary((this.anchorMark.position - _local7)) + _local7);
                    } else {
                        _local5 = (_local6.findNextWordBoundary((this.anchorMark.position - _local7)) + _local7);
                    };
                    if (_local5 == (_local7 + _local6.textLength)){
                        _local5--;
                    };
                };
            };
            if (((!((_local5 == this.anchorMark.position))) || (!((_local4 == this.activeMark.position))))){
                this.internalSetSelection(this._textFlow, _local5, _local4, null);
                this.selectionChanged();
                this.clearSelectionShapes();
                if (this.hasSelection()){
                    this.addSelectionShapes();
                };
            };
            this.allowOperationMerge = false;
        }
        public function mouseOverHandler(_arg1:MouseEvent):void{
            this._mouseOverSelectionArea = true;
            var _local2:String = this.textFlow.computedFormat.blockProgression;
            if (_local2 != BlockProgression.RL){
                this.setMouseCursor(MouseCursor.IBEAM);
            } else {
                this.setMouseCursor(MouseCursor.AUTO);
            };
        }
        public function mouseOutHandler(_arg1:MouseEvent):void{
            this._mouseOverSelectionArea = false;
            this.setMouseCursor(MouseCursor.AUTO);
        }
        public function focusInHandler(_arg1:FocusEvent):void{
            this._isActive = true;
            this.setSelectionFormatState(SelectionFormatState.FOCUSED);
        }
        public function focusOutHandler(_arg1:FocusEvent):void{
            if (this._isActive){
                this.setSelectionFormatState(SelectionFormatState.UNFOCUSED);
            };
        }
        public function activateHandler(_arg1:Event):void{
            if (!this._isActive){
                this._isActive = true;
                this.setSelectionFormatState(SelectionFormatState.UNFOCUSED);
            };
        }
        public function deactivateHandler(_arg1:Event):void{
            if (this._isActive){
                this._isActive = false;
                this.setSelectionFormatState(SelectionFormatState.INACTIVE);
            };
        }
        public function doOperation(_arg1:FlowOperation):void{
            var opError:* = null;
            var op:* = _arg1;
            var opEvent:* = new FlowOperationEvent(FlowOperationEvent.FLOW_OPERATION_BEGIN, false, true, op, 0, null);
            this.textFlow.dispatchEvent(opEvent);
            if (!opEvent.isDefaultPrevented()){
                op = opEvent.operation;
                if (!(op is CopyOperation)){
                    throw (new IllegalOperationError(GlobalSettings.resourceStringFunction("illegalOperation", [getQualifiedClassName(op)])));
                };
                opError = null;
                try {
                    op.doOperation();
                } catch(e:Error) {
                    opError = e;
                };
                opEvent = new FlowOperationEvent(FlowOperationEvent.FLOW_OPERATION_END, false, true, op, 0, opError);
                this.textFlow.dispatchEvent(opEvent);
                opError = ((opEvent.isDefaultPrevented()) ? null : opEvent.error);
                if (opError){
                    throw (opError);
                };
                this.textFlow.dispatchEvent(new FlowOperationEvent(FlowOperationEvent.FLOW_OPERATION_COMPLETE, false, false, op, 0, null));
            };
        }
        public function editHandler(_arg1:Event):void{
            switch (_arg1.type){
                case Event.COPY:
                    this.flushPendingOperations();
                    this.doOperation(new CopyOperation(this.getSelectionState()));
                    break;
                case Event.SELECT_ALL:
                    this.flushPendingOperations();
                    this.selectAll();
                    this.refreshSelection();
                    break;
            };
        }
        private function handleLeftArrow(_arg1:KeyboardEvent):SelectionState{
            var _local2:SelectionState = this.getSelectionState();
            if (this._textFlow.computedFormat.blockProgression != BlockProgression.RL){
                if (this._textFlow.computedFormat.direction == Direction.LTR){
                    if (((_arg1.ctrlKey) || (_arg1.altKey))){
                        NavigationUtil.previousWord(_local2, _arg1.shiftKey);
                    } else {
                        NavigationUtil.previousCharacter(_local2, _arg1.shiftKey);
                    };
                } else {
                    if (((_arg1.ctrlKey) || (_arg1.altKey))){
                        NavigationUtil.nextWord(_local2, _arg1.shiftKey);
                    } else {
                        NavigationUtil.nextCharacter(_local2, _arg1.shiftKey);
                    };
                };
            } else {
                if (_arg1.altKey){
                    NavigationUtil.endOfParagraph(_local2, _arg1.shiftKey);
                } else {
                    if (_arg1.ctrlKey){
                        NavigationUtil.endOfDocument(_local2, _arg1.shiftKey);
                    } else {
                        NavigationUtil.nextLine(_local2, _arg1.shiftKey);
                    };
                };
            };
            return (_local2);
        }
        private function handleUpArrow(_arg1:KeyboardEvent):SelectionState{
            var _local2:SelectionState = this.getSelectionState();
            if (this._textFlow.computedFormat.blockProgression != BlockProgression.RL){
                if (_arg1.altKey){
                    NavigationUtil.startOfParagraph(_local2, _arg1.shiftKey);
                } else {
                    if (_arg1.ctrlKey){
                        NavigationUtil.startOfDocument(_local2, _arg1.shiftKey);
                    } else {
                        NavigationUtil.previousLine(_local2, _arg1.shiftKey);
                    };
                };
            } else {
                if (this._textFlow.computedFormat.direction == Direction.LTR){
                    if (((_arg1.ctrlKey) || (_arg1.altKey))){
                        NavigationUtil.previousWord(_local2, _arg1.shiftKey);
                    } else {
                        NavigationUtil.previousCharacter(_local2, _arg1.shiftKey);
                    };
                } else {
                    if (((_arg1.ctrlKey) || (_arg1.altKey))){
                        NavigationUtil.nextWord(_local2, _arg1.shiftKey);
                    } else {
                        NavigationUtil.nextCharacter(_local2, _arg1.shiftKey);
                    };
                };
            };
            return (_local2);
        }
        private function handleRightArrow(_arg1:KeyboardEvent):SelectionState{
            var _local2:SelectionState = this.getSelectionState();
            if (this._textFlow.computedFormat.blockProgression != BlockProgression.RL){
                if (this._textFlow.computedFormat.direction == Direction.LTR){
                    if (((_arg1.ctrlKey) || (_arg1.altKey))){
                        NavigationUtil.nextWord(_local2, _arg1.shiftKey);
                    } else {
                        NavigationUtil.nextCharacter(_local2, _arg1.shiftKey);
                    };
                } else {
                    if (((_arg1.ctrlKey) || (_arg1.altKey))){
                        NavigationUtil.previousWord(_local2, _arg1.shiftKey);
                    } else {
                        NavigationUtil.previousCharacter(_local2, _arg1.shiftKey);
                    };
                };
            } else {
                if (_arg1.altKey){
                    NavigationUtil.startOfParagraph(_local2, _arg1.shiftKey);
                } else {
                    if (_arg1.ctrlKey){
                        NavigationUtil.startOfDocument(_local2, _arg1.shiftKey);
                    } else {
                        NavigationUtil.previousLine(_local2, _arg1.shiftKey);
                    };
                };
            };
            return (_local2);
        }
        private function handleDownArrow(_arg1:KeyboardEvent):SelectionState{
            var _local2:SelectionState = this.getSelectionState();
            if (this._textFlow.computedFormat.blockProgression != BlockProgression.RL){
                if (_arg1.altKey){
                    NavigationUtil.endOfParagraph(_local2, _arg1.shiftKey);
                } else {
                    if (_arg1.ctrlKey){
                        NavigationUtil.endOfDocument(_local2, _arg1.shiftKey);
                    } else {
                        NavigationUtil.nextLine(_local2, _arg1.shiftKey);
                    };
                };
            } else {
                if (this._textFlow.computedFormat.direction == Direction.LTR){
                    if (((_arg1.ctrlKey) || (_arg1.altKey))){
                        NavigationUtil.nextWord(_local2, _arg1.shiftKey);
                    } else {
                        NavigationUtil.nextCharacter(_local2, _arg1.shiftKey);
                    };
                } else {
                    if (((_arg1.ctrlKey) || (_arg1.altKey))){
                        NavigationUtil.previousWord(_local2, _arg1.shiftKey);
                    } else {
                        NavigationUtil.previousCharacter(_local2, _arg1.shiftKey);
                    };
                };
            };
            return (_local2);
        }
        private function handleHomeKey(_arg1:KeyboardEvent):SelectionState{
            var _local2:SelectionState = this.getSelectionState();
            if (((_arg1.ctrlKey) && (!(_arg1.altKey)))){
                NavigationUtil.startOfDocument(_local2, _arg1.shiftKey);
            } else {
                NavigationUtil.startOfLine(_local2, _arg1.shiftKey);
            };
            return (_local2);
        }
        private function handleEndKey(_arg1:KeyboardEvent):SelectionState{
            var _local2:SelectionState = this.getSelectionState();
            if (((_arg1.ctrlKey) && (!(_arg1.altKey)))){
                NavigationUtil.endOfDocument(_local2, _arg1.shiftKey);
            } else {
                NavigationUtil.endOfLine(_local2, _arg1.shiftKey);
            };
            return (_local2);
        }
        private function handlePageUpKey(_arg1:KeyboardEvent):SelectionState{
            var _local2:SelectionState = this.getSelectionState();
            NavigationUtil.previousPage(_local2, _arg1.shiftKey);
            return (_local2);
        }
        private function handlePageDownKey(_arg1:KeyboardEvent):SelectionState{
            var _local2:SelectionState = this.getSelectionState();
            NavigationUtil.nextPage(_local2, _arg1.shiftKey);
            return (_local2);
        }
        private function handleKeyEvent(_arg1:KeyboardEvent):void{
            var _local2:SelectionState;
            this.flushPendingOperations();
            switch (_arg1.keyCode){
                case Keyboard.LEFT:
                    _local2 = this.handleLeftArrow(_arg1);
                    break;
                case Keyboard.UP:
                    _local2 = this.handleUpArrow(_arg1);
                    break;
                case Keyboard.RIGHT:
                    _local2 = this.handleRightArrow(_arg1);
                    break;
                case Keyboard.DOWN:
                    _local2 = this.handleDownArrow(_arg1);
                    break;
                case Keyboard.HOME:
                    _local2 = this.handleHomeKey(_arg1);
                    break;
                case Keyboard.END:
                    _local2 = this.handleEndKey(_arg1);
                    break;
                case Keyboard.PAGE_DOWN:
                    _local2 = this.handlePageDownKey(_arg1);
                    break;
                case Keyboard.PAGE_UP:
                    _local2 = this.handlePageUpKey(_arg1);
                    break;
            };
            if (_local2 != null){
                _arg1.preventDefault();
                this.updateSelectionAndShapes(this._textFlow, _local2.anchorPosition, _local2.activePosition);
                if (((this._textFlow.flowComposer) && (!((this._textFlow.flowComposer.numControllers == 0))))){
                    this._textFlow.flowComposer.getControllerAt((this._textFlow.flowComposer.numControllers - 1)).scrollToRange(_local2.activePosition, _local2.activePosition);
                };
            };
            this.allowOperationMerge = false;
        }
        public function keyDownHandler(_arg1:KeyboardEvent):void{
            if (((!(this.hasSelection())) || (_arg1.isDefaultPrevented()))){
                return;
            };
            if (_arg1.charCode == 0){
                switch (_arg1.keyCode){
                    case Keyboard.LEFT:
                    case Keyboard.UP:
                    case Keyboard.RIGHT:
                    case Keyboard.DOWN:
                    case Keyboard.HOME:
                    case Keyboard.END:
                    case Keyboard.PAGE_DOWN:
                    case Keyboard.PAGE_UP:
                    case Keyboard.ESCAPE:
                        this.handleKeyEvent(_arg1);
                        break;
                };
            } else {
                if (_arg1.keyCode == Keyboard.ESCAPE){
                    this.handleKeyEvent(_arg1);
                };
            };
        }
        public function keyUpHandler(_arg1:KeyboardEvent):void{
        }
        public function keyFocusChangeHandler(_arg1:FocusEvent):void{
        }
        public function textInputHandler(_arg1:TextEvent):void{
            this.ignoreNextTextEvent = false;
        }
        public function imeStartCompositionHandler(_arg1:IMEEvent):void{
        }
        public function softKeyboardActivatingHandler(_arg1:Event):void{
        }
        protected function enterFrameHandler(_arg1:Event):void{
            this.flushPendingOperations();
        }
        public function focusChangeHandler(_arg1:FocusEvent):void{
        }
        public function menuSelectHandler(_arg1:ContextMenuEvent):void{
            var _local2:ContextMenu = (_arg1.target as ContextMenu);
            if (this.activePosition != this.anchorPosition){
                _local2.clipboardItems.copy = true;
                _local2.clipboardItems.cut = (this.editingMode == EditingMode.READ_WRITE);
                _local2.clipboardItems.clear = (this.editingMode == EditingMode.READ_WRITE);
            } else {
                _local2.clipboardItems.copy = false;
                _local2.clipboardItems.cut = false;
                _local2.clipboardItems.clear = false;
            };
            var _local3:Clipboard = Clipboard.generalClipboard;
            if (((((!((this.activePosition == -1))) && ((this.editingMode == EditingMode.READ_WRITE)))) && (((_local3.hasFormat(TextClipboard.TEXT_LAYOUT_MARKUP)) || (_local3.hasFormat(ClipboardFormats.TEXT_FORMAT)))))){
                _local2.clipboardItems.paste = true;
            } else {
                _local2.clipboardItems.paste = false;
            };
            _local2.clipboardItems.selectAll = true;
        }
        public function mouseWheelHandler(_arg1:MouseEvent):void{
        }
        public function flushPendingOperations():void{
        }
        public function getCommonCharacterFormat(_arg1:TextRange=null):TextLayoutFormat{
            if (((!(_arg1)) && (!(this.hasSelection())))){
                return (null);
            };
            var _local2:ElementRange = ElementRange.createElementRange(this._textFlow, ((_arg1) ? _arg1.absoluteStart : this.absoluteStart), ((_arg1) ? _arg1.absoluteEnd : this.absoluteEnd));
            var _local3:TextLayoutFormat = _local2.getCommonCharacterFormat();
            if ((((_local2.absoluteEnd == _local2.absoluteStart)) && (this.pointFormat))){
                _local3.apply(this.pointFormat);
            };
            return (_local3);
        }
        public function getCommonParagraphFormat(_arg1:TextRange=null):TextLayoutFormat{
            if (((!(_arg1)) && (!(this.hasSelection())))){
                return (null);
            };
            return (ElementRange.createElementRange(this._textFlow, ((_arg1) ? _arg1.absoluteStart : this.absoluteStart), ((_arg1) ? _arg1.absoluteEnd : this.absoluteEnd)).getCommonParagraphFormat());
        }
        public function getCommonContainerFormat(_arg1:TextRange=null):TextLayoutFormat{
            if (((!(_arg1)) && (!(this.hasSelection())))){
                return (null);
            };
            return (ElementRange.createElementRange(this._textFlow, ((_arg1) ? _arg1.absoluteStart : this.absoluteStart), ((_arg1) ? _arg1.absoluteEnd : this.absoluteEnd)).getCommonContainerFormat());
        }
        private function updateSelectionAndShapes(_arg1:TextFlow, _arg2:int, _arg3:int):void{
            this.internalSetSelection(_arg1, _arg2, _arg3);
            if (((this._textFlow.flowComposer) && (!((this._textFlow.flowComposer.numControllers == 0))))){
                this._textFlow.flowComposer.getControllerAt((this._textFlow.flowComposer.numControllers - 1)).scrollToRange(this.activeMark.position, this.anchorMark.position);
            };
            this.selectionChanged();
            this.clearSelectionShapes();
            this.addSelectionShapes();
        }
        tlf_internal function createMark():Mark{
            var _local1:Mark = new Mark(-1);
            this.marks.push(_local1);
            return (_local1);
        }
        tlf_internal function removeMark(_arg1:Mark):void{
            var _local2:int = this.marks.indexOf(_arg1);
            if (_local2 != -1){
                this.marks.splice(_local2, (_local2 + 1));
            };
        }
        public function notifyInsertOrDelete(_arg1:int, _arg2:int):void{
            var _local4:Mark;
            if (_arg2 == 0){
                return;
            };
            var _local3:int;
            while (_local3 < this.marks.length) {
                _local4 = this.marks[_local3];
                if (_local4.position >= _arg1){
                    if (_arg2 < 0){
                        _local4.position = (((_local4.position + _arg2))<_arg1) ? _arg1 : (_local4.position + _arg2);
                    } else {
                        _local4.position = (_local4.position + _arg2);
                    };
                };
                _local3++;
            };
        }

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {
    import flashx.textLayout.elements.*;
    import flashx.textLayout.conversion.*;
    import flash.system.*;
    import flashx.textLayout.*;
    import flash.desktop.*;

    public class TextClipboard {

        tlf_internal static const TEXT_LAYOUT_MARKUP:String = "TEXT_LAYOUT_MARKUP";

        public static function getContents():TextScrap{
            var systemClipboard:* = null;
            var getFromClipboard:* = null;
            getFromClipboard = function (_arg1:String):String{
                return (((systemClipboard.hasFormat(_arg1)) ? String(systemClipboard.getData(_arg1)) : null));
            };
            systemClipboard = Clipboard.generalClipboard;
            return (importScrap(getFromClipboard));
        }
        tlf_internal static function importScrap(_arg1:Function):TextScrap{
            var _local2:TextScrap;
            var _local3:String;
            var _local6:FormatDescriptor;
            var _local4:int = TextConverter.numFormats;
            var _local5:int;
            while ((((_local5 < _local4)) && (!(_local2)))) {
                _local6 = TextConverter.getFormatDescriptorAt(_local5);
                _local3 = _arg1(_local6.clipboardFormat);
                if (((_local3) && (!((_local3 == ""))))){
                    _local2 = importToScrap(_local3, _local6.format);
                };
                _local5++;
            };
            return (_local2);
        }
        public static function setContents(_arg1:TextScrap):void{
            var systemClipboard:* = null;
            var addToClipboard:* = null;
            var textScrap:* = _arg1;
            addToClipboard = function (_arg1:String, _arg2:String):void{
                systemClipboard.setData(_arg1, _arg2);
            };
            if (!textScrap){
                return;
            };
            systemClipboard = Clipboard.generalClipboard;
            systemClipboard.clear();
            exportScrap(textScrap, addToClipboard);
        }
        tlf_internal static function exportScrap(_arg1:TextScrap, _arg2:Function):void{
            var _local6:FormatDescriptor;
            var _local7:String;
            var _local3:Array = [];
            var _local4:int = TextConverter.numFormats;
            var _local5:int;
            while (_local5 < _local4) {
                _local6 = TextConverter.getFormatDescriptorAt(_local5);
                if (((_local6.clipboardFormat) && ((_local3.indexOf(_local6.clipboardFormat) < 0)))){
                    _local7 = exportForClipboard(_arg1, _local6.format);
                    if (_local7){
                        _arg2(_local6.clipboardFormat, _local7);
                        _local3.push(_local6.clipboardFormat);
                    };
                };
                _local5++;
            };
        }
        tlf_internal static function importToScrap(_arg1:String, _arg2:String):TextScrap{
            var _local3:TextScrap;
            var _local5:TextFlow;
            var _local4:ITextImporter = TextConverter.getImporter(_arg2);
            if (_local4){
                _local4.useClipboardAnnotations = true;
                _local5 = _local4.importToFlow(_arg1);
                if (_local5){
                    _local3 = new TextScrap(_local5);
                };
                if (_arg2 == TextConverter.PLAIN_TEXT_FORMAT){
                    _local3.setPlainText(true);
                } else {
                    if (_arg2 == TextConverter.TEXT_LAYOUT_FORMAT){
                        _local3.setPlainText(false);
                    };
                };
                if (((!(_local3)) && ((_arg2 == TextConverter.TEXT_LAYOUT_FORMAT)))){
                    _local3 = importOldTextLayoutFormatToScrap(_arg1);
                };
            };
            return (_local3);
        }
        tlf_internal static function importOldTextLayoutFormatToScrap(_arg1:String):TextScrap{
            var textScrap:* = null;
            var xmlTree:* = null;
            var beginArrayChild:* = null;
            var endArrayChild:* = null;
            var textLayoutMarkup:* = null;
            var textFlow:* = null;
            var element:* = null;
            var endMissingArray:* = null;
            var textOnClipboard:* = _arg1;
            var originalSettings:* = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                xmlTree = new XML(textOnClipboard);
                if (xmlTree.localName() == "TextScrap"){
                    beginArrayChild = xmlTree..BeginMissingElements[0];
                    endArrayChild = xmlTree..EndMissingElements[0];
                    textLayoutMarkup = xmlTree..TextFlow[0];
                    textFlow = TextConverter.importToFlow(textLayoutMarkup, TextConverter.TEXT_LAYOUT_FORMAT);
                    if (textFlow){
                        textScrap = new TextScrap(textFlow);
                        endMissingArray = getEndArray(endArrayChild, textFlow);
                        for each (element in endMissingArray) {
                            element.setStyle(ConverterBase.MERGE_TO_NEXT_ON_PASTE, "true");
                        };
                    };
                };
                if (Configuration.playerEnablesArgoFeatures){
                    var _local3 = System;
                    _local3["disposeXML"](xmlTree);
                };
            } finally {
                XML.setSettings(originalSettings);
            };
            return (textScrap);
        }
        tlf_internal static function exportForClipboard(_arg1:TextScrap, _arg2:String):String{
            var _local3:ITextExporter = TextConverter.getExporter(_arg2);
            if (_local3){
                _local3.useClipboardAnnotations = true;
                return ((_local3.export(_arg1.textFlow, ConversionType.STRING_TYPE) as String));
            };
            return (null);
        }
        private static function getBeginArray(_arg1:XML, _arg2:TextFlow):Array{
            var _local5:String;
            var _local6:int;
            var _local7:int;
            var _local8:int;
            var _local9:String;
            var _local10:int;
            var _local3:Array = new Array();
            var _local4:FlowElement = _arg2;
            if (_arg1 != null){
                _local5 = ((_arg1.@value)!=undefined) ? String(_arg1.@value) : "";
                _local3.push(_arg2);
                _local6 = _local5.indexOf(",");
                while (_local6 >= 0) {
                    _local7 = (_local6 + 1);
                    _local6 = _local5.indexOf(",", _local7);
                    if (_local6 >= 0){
                        _local8 = _local6;
                    } else {
                        _local8 = _local5.length;
                    };
                    _local9 = _local5.substring(_local7, _local8);
                    if (_local9.length > 0){
                        _local10 = parseInt(_local9);
                        if ((_local4 is FlowGroupElement)){
                            _local4 = (_local4 as FlowGroupElement).getChildAt(_local10);
                            _local3.push(_local4);
                        };
                    };
                };
            };
            return (_local3.reverse());
        }
        private static function getEndArray(_arg1:XML, _arg2:TextFlow):Array{
            var _local5:String;
            var _local6:int;
            var _local7:int;
            var _local8:int;
            var _local9:String;
            var _local10:int;
            var _local3:Array = new Array();
            var _local4:FlowElement = _arg2;
            if (_arg1 != null){
                _local5 = ((_arg1.@value)!=undefined) ? String(_arg1.@value) : "";
                _local3.push(_arg2);
                _local6 = _local5.indexOf(",");
                while (_local6 >= 0) {
                    _local7 = (_local6 + 1);
                    _local6 = _local5.indexOf(",", _local7);
                    if (_local6 >= 0){
                        _local8 = _local6;
                    } else {
                        _local8 = _local5.length;
                    };
                    _local9 = _local5.substring(_local7, _local8);
                    if (_local9.length > 0){
                        _local10 = parseInt(_local9);
                        if ((_local4 is FlowGroupElement)){
                            _local4 = (_local4 as FlowGroupElement).getChildAt(_local10);
                            _local3.push(_local4);
                        };
                    };
                };
            };
            return (_local3.reverse());
        }

    }
}//package flashx.textLayout.edit 

class TextClipboardSingletonEnforcer {

    public function TextClipboardSingletonEnforcer(){
    }
}
﻿package flashx.textLayout.edit {

    public class Mark {

        private var _position:int;

        public function Mark(_arg1:int=0){
            this._position = _arg1;
        }
        public function get position():int{
            return (this._position);
        }
        public function set position(_arg1:int):void{
            this._position = _arg1;
        }

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.undo.*;
    import flashx.textLayout.operations.*;

    public interface IEditManager extends ISelectionManager {

        function get undoManager():IUndoManager;
        function applyFormat(_arg1:ITextLayoutFormat, _arg2:ITextLayoutFormat, _arg3:ITextLayoutFormat, _arg4:SelectionState=null):void;
        function clearFormat(_arg1:ITextLayoutFormat, _arg2:ITextLayoutFormat, _arg3:ITextLayoutFormat, _arg4:SelectionState=null):void;
        function applyLeafFormat(_arg1:ITextLayoutFormat, _arg2:SelectionState=null):void;
        function applyTCY(_arg1:Boolean, _arg2:SelectionState=null):TCYElement;
        function applyLink(_arg1:String, _arg2:String=null, _arg3:Boolean=false, _arg4:SelectionState=null):LinkElement;
        function changeElementID(_arg1:String, _arg2:FlowElement, _arg3:int=0, _arg4:int=-1, _arg5:SelectionState=null):void;
        function changeStyleName(_arg1:String, _arg2:FlowElement, _arg3:int=0, _arg4:int=-1, _arg5:SelectionState=null):void;
        function changeTypeName(_arg1:String, _arg2:FlowElement, _arg3:int=0, _arg4:int=-1, _arg5:SelectionState=null):void;
        function deleteNextCharacter(_arg1:SelectionState=null):void;
        function deletePreviousCharacter(_arg1:SelectionState=null):void;
        function deleteNextWord(_arg1:SelectionState=null):void;
        function deletePreviousWord(_arg1:SelectionState=null):void;
        function deleteText(_arg1:SelectionState=null):void;
        function insertInlineGraphic(_arg1:Object, _arg2:Object, _arg3:Object, _arg4:Object=null, _arg5:SelectionState=null):InlineGraphicElement;
        function modifyInlineGraphic(_arg1:Object, _arg2:Object, _arg3:Object, _arg4:Object=null, _arg5:SelectionState=null):void;
        function insertText(_arg1:String, _arg2:SelectionState=null):void;
        function overwriteText(_arg1:String, _arg2:SelectionState=null):void;
        function applyParagraphFormat(_arg1:ITextLayoutFormat, _arg2:SelectionState=null):void;
        function applyContainerFormat(_arg1:ITextLayoutFormat, _arg2:SelectionState=null):void;
        function applyFormatToElement(_arg1:FlowElement, _arg2:ITextLayoutFormat, _arg3:int=0, _arg4:int=-1, _arg5:SelectionState=null):void;
        function clearFormatOnElement(_arg1:FlowElement, _arg2:ITextLayoutFormat, _arg3:SelectionState=null):void;
        function splitParagraph(_arg1:SelectionState=null):ParagraphElement;
        function splitElement(_arg1:FlowGroupElement, _arg2:SelectionState=null):FlowGroupElement;
        function createDiv(_arg1:FlowGroupElement=null, _arg2:ITextLayoutFormat=null, _arg3:SelectionState=null):DivElement;
        function createList(_arg1:FlowGroupElement=null, _arg2:ITextLayoutFormat=null, _arg3:SelectionState=null):ListElement;
        function moveChildren(_arg1:FlowGroupElement, _arg2:int, _arg3:int, _arg4:FlowGroupElement, _arg5:int, _arg6:SelectionState=null):void;
        function createSubParagraphGroup(_arg1:FlowGroupElement=null, _arg2:ITextLayoutFormat=null, _arg3:SelectionState=null):SubParagraphGroupElement;
        function cutTextScrap(_arg1:SelectionState=null):TextScrap;
        function pasteTextScrap(_arg1:TextScrap, _arg2:SelectionState=null):void;
        function beginCompositeOperation():void;
        function endCompositeOperation():void;
        function doOperation(_arg1:FlowOperation):void;
        function undo():void;
        function redo():void;
        function performUndo(_arg1:IOperation):void;
        function performRedo(_arg1:IOperation):void;
        function get delayUpdates():Boolean;
        function set delayUpdates(_arg1:Boolean):void;
        function get allowDelayedOperations():Boolean;
        function set allowDelayedOperations(_arg1:Boolean):void;
        function updateAllControllers():void;

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {
    import flashx.textLayout.elements.*;

    public class ModelEdit {

        public static function splitElement(_arg1:TextFlow, _arg2:FlowGroupElement, _arg3:int):IMemento{
            return (SplitMemento.perform(_arg1, _arg2, _arg3, true));
        }
        public static function joinElement(_arg1:TextFlow, _arg2:FlowGroupElement, _arg3:FlowGroupElement):IMemento{
            return (JoinMemento.perform(_arg1, _arg2, _arg3, true));
        }
        public static function addElement(_arg1:TextFlow, _arg2:FlowElement, _arg3:FlowGroupElement, _arg4:int):IMemento{
            return (AddElementMemento.perform(_arg1, _arg2, _arg3, _arg4, true));
        }
        public static function moveElement(_arg1:TextFlow, _arg2:FlowElement, _arg3:FlowGroupElement, _arg4:int):IMemento{
            return (MoveElementMemento.perform(_arg1, _arg2, _arg3, _arg4, true));
        }
        public static function removeElements(_arg1:TextFlow, _arg2:FlowGroupElement, _arg3:int, _arg4:int):IMemento{
            return (RemoveElementsMemento.perform(_arg1, _arg2, _arg3, _arg4, true));
        }
        public static function deleteText(_arg1:TextFlow, _arg2:int, _arg3:int, _arg4:Boolean):IMemento{
            var _local5:MementoList;
            var _local6:ParagraphElement;
            var _local7:ParagraphElement;
            var _local8:FlowElement;
            var _local9:FlowLeafElement;
            var _local10:ParagraphElement;
            var _local11:SpanElement;
            var _local12:DeleteTextMemento;
            if (_arg3 == (_arg1.textLength - 1)){
                _local8 = _arg1.getChildAt((_arg1.numChildren - 1));
                if (_arg2 <= _local8.getAbsoluteStart()){
                    _arg3 = _arg1.textLength;
                };
            };
            if (_arg3 >= _arg1.textLength){
                _local9 = _arg1.getLastLeaf();
                _local10 = _local9.getParagraph();
                _local7 = new ParagraphElement();
                _local11 = new SpanElement();
                _local7.replaceChildren(0, 0, _local11);
                _local7.format = _local10.format;
                _local11.format = _local9.format;
                _arg3 = _arg1.textLength;
            };
            if (_arg4){
                _local5 = new MementoList(_arg1);
                if (_local7){
                    _local5.push(addElement(_arg1, _local7, _arg1, _arg1.numChildren));
                };
                _local12 = new DeleteTextMemento(_arg1, _arg2, _arg3);
                _local5.push(_local12);
                _local6 = TextFlowEdit.deleteRange(_arg1, _arg2, _arg3);
                _local5.push(TextFlowEdit.joinNextParagraph(_local6, false));
                checkNormalize(_arg1, _local12.commonRoot, _local5);
            } else {
                if (_local7){
                    _arg1.replaceChildren(_arg1.numChildren, _arg1.numChildren, _local7);
                };
                _local6 = TextFlowEdit.deleteRange(_arg1, _arg2, _arg3);
                TextFlowEdit.joinNextParagraph(_local6, false);
            };
            if (_arg1.interactionManager){
                _arg1.interactionManager.notifyInsertOrDelete(_arg2, -((_arg3 - _arg2)));
            };
            return (_local5);
        }
        private static function checkNormalize(_arg1:TextFlow, _arg2:FlowGroupElement, _arg3:MementoList):void{
            var _local5:ParagraphElement;
            var _local6:FlowGroupElement;
            if ((((_arg2 is ListItemElement)) && ((_arg2 as ListItemElement).normalizeNeedsInitialParagraph()))){
                _local5 = new ParagraphElement();
                _local5.replaceChildren(0, 0, new SpanElement());
                _arg3.push(ModelEdit.addElement(_arg1, _local5, _arg2, 0));
            };
            var _local4:int;
            while (_local4 < _arg2.numChildren) {
                _local6 = (_arg2.getChildAt(_local4) as FlowGroupElement);
                if (_local6){
                    checkNormalize(_arg1, _local6, _arg3);
                };
                _local4++;
            };
        }
        public static function saveCurrentState(_arg1:TextFlow, _arg2:int, _arg3:int):IMemento{
            return (new TextRangeMemento(_arg1, _arg2, _arg3));
        }

    }
}//package flashx.textLayout.edit 

import flashx.textLayout.elements.*;

class BaseMemento {

    protected var _textFlow:TextFlow;

    public function BaseMemento(_arg1:TextFlow){
        this._textFlow = _arg1;
    }
}
class DeleteTextMemento extends BaseMemento implements IMemento {

    private var _commonRootMark:ElementMark;
    private var _startChildIndex:int;
    private var _endChildIndex:int;
    private var _originalChildren:Array;
    private var _absoluteStart:int;
    protected var scrapChildren:Array;
    protected var replaceCount:int;

    public function DeleteTextMemento(_arg1:TextFlow, _arg2:int, _arg3:int){
        var _local6:int;
        var _local7:FlowElement;
        var _local8:int;
        var _local9:FlowElement;
        var _local10:int;
        var _local11:FlowGroupElement;
        super(_arg1);
        var _local4:FlowLeafElement = _arg1.findLeaf(_arg2);
        var _local5:FlowGroupElement = _local4.getParagraph().parent;
        while (((_local5) && (((((_local5.getAbsoluteStart() + _local5.textLength) < _arg3)) || ((((_local5.getAbsoluteStart() == _arg2)) && (((_local5.getAbsoluteStart() + _local5.textLength) == _arg3)))))))) {
            _local5 = _local5.parent;
        };
        if (_local5){
            _local6 = _local5.getAbsoluteStart();
            this._startChildIndex = _local5.findChildIndexAtPosition((_arg2 - _local6));
            this._endChildIndex = _local5.findChildIndexAtPosition(((_arg3 - _local6) - 1));
            if (this._endChildIndex < 0){
                this._endChildIndex = (_local5.numChildren - 1);
            };
            _local7 = _local5.getChildAt(this._startChildIndex);
            _local8 = _local7.getAbsoluteStart();
            _local9 = _local5.getChildAt(this._endChildIndex);
            _local10 = (_local9.getAbsoluteStart() + _local9.textLength);
            this.replaceCount = 0;
            if (this._startChildIndex == this._endChildIndex){
                if ((((_local8 < _arg2)) || ((_local10 > _arg3)))){
                    this.replaceCount = 1;
                };
            } else {
                if (_local8 < _arg2){
                    this.replaceCount++;
                };
                if (_local10 > _arg3){
                    this.replaceCount++;
                };
            };
            _local11 = (_local5.deepCopy((_local8 - _local6), (_local10 - _local6)) as FlowGroupElement);
            this.scrapChildren = _local11.mxmlChildren;
        };
        this._commonRootMark = new ElementMark(_local5, 0);
        this._absoluteStart = _arg2;
    }
    public function undo(){
        var _local4:FlowElement;
        var _local1:FlowGroupElement = this.commonRoot;
        this._originalChildren = [];
        var _local2:int = this._startChildIndex;
        while (_local2 < (this._startChildIndex + this.replaceCount)) {
            this._originalChildren.push(_local1.getChildAt(_local2));
            _local2++;
        };
        var _local3:Array = [];
        for each (_local4 in this.scrapChildren) {
            _local3.push(_local4.deepCopy());
        };
        _local1.replaceChildren(this._startChildIndex, (this._startChildIndex + this.replaceCount), _local3);
    }
    public function redo(){
        this.commonRoot.replaceChildren(this._startChildIndex, (this._startChildIndex + this.scrapChildren.length), this._originalChildren);
    }
    public function get commonRoot():FlowGroupElement{
        return ((this._commonRootMark.findElement(_textFlow) as FlowGroupElement));
    }

}
class TextRangeMemento extends DeleteTextMemento implements IMemento {

    public function TextRangeMemento(_arg1:TextFlow, _arg2:int, _arg3:int){
        super(_arg1, _arg2, _arg3);
        replaceCount = scrapChildren.length;
    }
}
class InternalSplitFGEMemento extends BaseMemento implements IMemento {

    private var _target:ElementMark;
    private var _undoTarget:ElementMark;
    private var _newSibling:FlowGroupElement;
    private var _skipUndo:Boolean;

    public function InternalSplitFGEMemento(_arg1:TextFlow, _arg2:ElementMark, _arg3:ElementMark, _arg4:FlowGroupElement){
        super(_arg1);
        this._target = _arg2;
        this._undoTarget = _arg3;
        this._newSibling = _arg4;
        this._skipUndo = (_arg4 is SubParagraphGroupElementBase);
    }
    public static function perform(_arg1:TextFlow, _arg2:FlowElement, _arg3:int, _arg4:Boolean){
        var _local7:ElementMark;
        var _local5:ElementMark = new ElementMark(_arg2, _arg3);
        var _local6:FlowGroupElement = performInternal(_arg1, _local5);
        if (_arg4){
            _local7 = new ElementMark(_local6, 0);
            return (new InternalSplitFGEMemento(_arg1, _local5, _local7, _local6));
        };
        return (_local6);
    }
    public static function performInternal(_arg1:TextFlow, _arg2:ElementMark){
        var _local6:FlowGroupElement;
        var _local3:FlowGroupElement = (_arg2.findElement(_arg1) as FlowGroupElement);
        var _local4:int = (((_arg2.elemStart == _local3.textLength)) ? (_local3.numChildren - 1) : _local3.findChildIndexAtPosition(_arg2.elemStart));
        var _local5:FlowElement = _local3.getChildAt(_local4);
        if (_local5.parentRelativeStart == _arg2.elemStart){
            _local6 = _local3.splitAtIndex(_local4);
        } else {
            _local6 = (_local3.splitAtPosition(_arg2.elemStart) as FlowGroupElement);
        };
        if ((_local3 is ParagraphElement)){
            if (_local3.textLength <= 1){
                _local3.normalizeRange(0, _local3.textLength);
                _local3.getLastLeaf().quickCloneTextLayoutFormat(_local6.getFirstLeaf());
            } else {
                if (_local6.textLength <= 1){
                    _local6.normalizeRange(0, _local6.textLength);
                    _local6.getFirstLeaf().quickCloneTextLayoutFormat(_local3.getLastLeaf());
                };
            };
        };
        return (_local6);
    }

    public function get newSibling():FlowGroupElement{
        return (this._newSibling);
    }
    public function undo(){
        if (this._skipUndo){
            return;
        };
        var _local1:FlowGroupElement = (this._undoTarget.findElement(_textFlow) as FlowGroupElement);
        var _local2:FlowGroupElement = (_local1.getPreviousSibling() as FlowGroupElement);
        _local1.parent.removeChild(_local1);
        var _local3:FlowLeafElement = _local2.getLastLeaf();
        _local2.replaceChildren(_local2.numChildren, _local2.numChildren, _local1.mxmlChildren);
        if ((((_local2 is ParagraphElement)) && ((_local3.textLength == 0)))){
            _local2.removeChild(_local3);
        };
    }
    public function redo(){
        return (performInternal(_textFlow, this._target));
    }

}
class SplitMemento extends BaseMemento implements IMemento {

    private var _mementoList:Array;
    private var _target:ElementMark;

    public function SplitMemento(_arg1:TextFlow, _arg2:ElementMark, _arg3:Array){
        super(_arg1);
        this._target = _arg2;
        this._mementoList = _arg3;
    }
    public static function perform(_arg1:TextFlow, _arg2:FlowGroupElement, _arg3:int, _arg4:Boolean){
        var _local5:ElementMark = new ElementMark(_arg2, _arg3);
        var _local6:Array = [];
        var _local7:FlowGroupElement = performInternal(_arg1, _local5, ((_arg4) ? _local6 : null));
        if (_arg4){
            return (new SplitMemento(_arg1, _local5, _local6));
        };
        return (_local7);
    }
    private static function testValidLeadingParagraph(_arg1:FlowGroupElement):Boolean{
        if ((_arg1 is ListItemElement)){
            return (!((_arg1 as ListItemElement).normalizeNeedsInitialParagraph()));
        };
        while (((_arg1) && (!((_arg1 is ParagraphElement))))) {
            _arg1 = (_arg1.getChildAt(0) as FlowGroupElement);
        };
        return ((_arg1 is ParagraphElement));
    }
    public static function performInternal(_arg1:TextFlow, _arg2:ElementMark, _arg3:Array):FlowGroupElement{
        var _local6:FlowGroupElement;
        var _local8:IMemento;
        var _local9:int;
        var _local10:InternalSplitFGEMemento;
        var _local4:FlowGroupElement = (_arg2.findElement(_arg1) as FlowGroupElement);
        var _local5:FlowGroupElement = (((_arg2.elemStart == _local4.textLength)) ? _local4.getLastLeaf() : _local4.findLeaf(_arg2.elemStart)).parent;
        var _local7:int = _arg2.elemStart;
        while (true) {
            _local9 = (_local7 - (_local5.getAbsoluteStart() - _local4.getAbsoluteStart()));
            _local10 = InternalSplitFGEMemento.perform(_arg1, _local5, _local9, true);
            if (_arg3){
                _arg3.push(_local10);
            };
            _local6 = _local10.newSibling;
            if ((((_local5 is ParagraphElement)) && (!((_arg2.elemStart == _local4.textLength))))){
                _local7++;
            } else {
                if ((_local5 is ContainerFormattedElement)){
                    if (!testValidLeadingParagraph(_local5)){
                        _local8 = ModelEdit.addElement(_arg1, new ParagraphElement(), _local5, 0);
                        if (_arg3){
                            _arg3.push(_local8);
                        };
                        _local7++;
                    };
                    if (!testValidLeadingParagraph(_local6)){
                        _local8 = ModelEdit.addElement(_arg1, new ParagraphElement(), _local6, 0);
                        if (_arg3){
                            _arg3.push(_local8);
                        };
                    };
                };
            };
            if (_local5 == _local4){
                break;
            };
            _local5 = _local5.parent;
        };
        return (_local6);
    }

    public function undo(){
        var _local1:IMemento;
        this._mementoList.reverse();
        for each (_local1 in this._mementoList) {
            _local1.undo();
        };
        this._mementoList.reverse();
    }
    public function redo(){
        return (performInternal(_textFlow, this._target, null));
    }

}
class JoinMemento extends BaseMemento implements IMemento {

    private var _element1:ElementMark;
    private var _element2:ElementMark;
    private var _joinPosition:int;
    private var _removeParentChain:IMemento;

    public function JoinMemento(_arg1:TextFlow, _arg2:ElementMark, _arg3:ElementMark, _arg4:int, _arg5:IMemento){
        super(_arg1);
        this._element1 = _arg2;
        this._element2 = _arg3;
        this._joinPosition = _arg4;
        this._removeParentChain = _arg5;
    }
    public static function perform(_arg1:TextFlow, _arg2:FlowGroupElement, _arg3:FlowGroupElement, _arg4:Boolean){
        var _local5:int = (_arg2.textLength - 1);
        var _local6:ElementMark = new ElementMark(_arg2, 0);
        var _local7:ElementMark = new ElementMark(_arg3, 0);
        performInternal(_arg1, _local6, _local7);
        var _local8:IMemento = TextFlowEdit.removeEmptyParentChain(_arg3);
        if (_arg4){
            return (new JoinMemento(_arg1, _local6, _local7, _local5, _local8));
        };
        return (null);
    }
    public static function performInternal(_arg1:TextFlow, _arg2:ElementMark, _arg3:ElementMark):void{
        var _local4:FlowGroupElement = (_arg2.findElement(_arg1) as FlowGroupElement);
        var _local5:FlowGroupElement = (_arg3.findElement(_arg1) as FlowGroupElement);
        moveChildren(_local5, _local4);
    }
    private static function moveChildren(_arg1:FlowGroupElement, _arg2:FlowGroupElement):void{
        var _local3:Array = _arg1.mxmlChildren;
        _arg1.replaceChildren(0, _arg1.numChildren);
        _arg2.replaceChildren(_arg2.numChildren, _arg2.numChildren, _local3);
    }

    public function undo(){
        this._removeParentChain.undo();
        var _local1:FlowGroupElement = (this._element1.findElement(_textFlow) as FlowGroupElement);
        var _local2:FlowGroupElement = (this._element2.findElement(_textFlow) as FlowGroupElement);
        var _local3:FlowGroupElement = (_local1.splitAtPosition(this._joinPosition) as FlowGroupElement);
        moveChildren(_local3, _local2);
        _local3.parent.removeChild(_local3);
    }
    public function redo(){
        performInternal(_textFlow, this._element1, this._element2);
        this._removeParentChain.redo();
    }

}
class AddElementMemento extends BaseMemento implements IMemento {

    private var _target:ElementMark;
    private var _targetIndex:int;
    private var _elemToAdd:FlowElement;

    public function AddElementMemento(_arg1:TextFlow, _arg2:FlowElement, _arg3:ElementMark, _arg4:int){
        super(_arg1);
        this._target = _arg3;
        this._targetIndex = _arg4;
        this._elemToAdd = _arg2;
    }
    public static function perform(_arg1:TextFlow, _arg2:FlowElement, _arg3:FlowGroupElement, _arg4:int, _arg5:Boolean){
        var _local6:FlowElement = _arg2;
        if (_arg5){
            _arg2 = _local6.deepCopy();
        };
        var _local7:ElementMark = new ElementMark(_arg3, 0);
        var _local8:FlowGroupElement = (_local7.findElement(_arg1) as FlowGroupElement);
        _local8.addChildAt(_arg4, _local6);
        if (_arg5){
            return (new AddElementMemento(_arg1, _arg2, _local7, _arg4));
        };
        return (null);
    }

    public function undo(){
        var _local1:FlowGroupElement = (this._target.findElement(_textFlow) as FlowGroupElement);
        _local1.removeChildAt(this._targetIndex);
    }
    public function redo(){
        var _local1:FlowGroupElement = (this._target.findElement(_textFlow) as FlowGroupElement);
        return (perform(_textFlow, this._elemToAdd, _local1, this._targetIndex, false));
    }

}
class MoveElementMemento extends BaseMemento implements IMemento {

    private var _target:ElementMark;
    private var _targetIndex:int;
    private var _elemBeforeMove:ElementMark;
    private var _elemAfterMove:ElementMark;
    private var _source:ElementMark;
    private var _sourceIndex:int;

    public function MoveElementMemento(_arg1:TextFlow, _arg2:ElementMark, _arg3:ElementMark, _arg4:ElementMark, _arg5:int, _arg6:ElementMark, _arg7:int){
        super(_arg1);
        this._elemBeforeMove = _arg2;
        this._elemAfterMove = _arg3;
        this._target = _arg4;
        this._targetIndex = _arg5;
        this._source = _arg6;
        this._sourceIndex = _arg7;
    }
    public static function perform(_arg1:TextFlow, _arg2:FlowElement, _arg3:FlowGroupElement, _arg4:int, _arg5:Boolean){
        var _local6:ElementMark = new ElementMark(_arg3, 0);
        var _local7:ElementMark = new ElementMark(_arg2, 0);
        var _local8:FlowGroupElement = _arg2.parent;
        var _local9:int = _local8.getChildIndex(_arg2);
        var _local10:ElementMark = new ElementMark(_local8, 0);
        _arg3.addChildAt(_arg4, _arg2);
        if (_arg5){
            return (new MoveElementMemento(_arg1, _local7, new ElementMark(_arg2, 0), _local6, _arg4, _local10, _local9));
        };
        return (_arg2);
    }

    public function undo(){
        var _local1:FlowElement = this._elemAfterMove.findElement(_textFlow);
        _local1.parent.removeChildAt(_local1.parent.getChildIndex(_local1));
        var _local2:FlowGroupElement = (this._source.findElement(_textFlow) as FlowGroupElement);
        _local2.addChildAt(this._sourceIndex, _local1);
    }
    public function redo(){
        var _local1:FlowGroupElement = (this._target.findElement(_textFlow) as FlowGroupElement);
        var _local2:FlowElement = (this._elemBeforeMove.findElement(_textFlow) as FlowElement);
        return (perform(_textFlow, _local2, _local1, this._targetIndex, false));
    }

}
class RemoveElementsMemento extends BaseMemento implements IMemento {

    private var _elements:Array;
    private var _elemParent:ElementMark;
    private var _startIndex:int;
    private var _numElements:int;

    public function RemoveElementsMemento(_arg1:TextFlow, _arg2:ElementMark, _arg3:int, _arg4:int, _arg5:Array){
        super(_arg1);
        this._elemParent = _arg2;
        this._startIndex = _arg3;
        this._numElements = _arg4;
        this._elements = _arg5;
    }
    public static function perform(_arg1:TextFlow, _arg2:FlowGroupElement, _arg3:int, _arg4:int, _arg5:Boolean){
        var _local6:ElementMark = new ElementMark(_arg2, 0);
        var _local7:Array = _arg2.mxmlChildren.slice(_arg3, (_arg3 + _arg4));
        _arg2.replaceChildren(_arg3, (_arg3 + _arg4));
        if (_arg5){
            return (new RemoveElementsMemento(_arg1, _local6, _arg3, _arg4, _local7));
        };
        return (_local7);
    }

    public function undo(){
        var _local1:FlowGroupElement = (this._elemParent.findElement(_textFlow) as FlowGroupElement);
        _local1.replaceChildren(this._startIndex, this._startIndex, this._elements);
        this._elements = null;
        return (_local1.mxmlChildren.slice(this._startIndex, (this._startIndex + this._numElements)));
    }
    public function redo(){
        var _local1:FlowGroupElement = (this._elemParent.findElement(_textFlow) as FlowGroupElement);
        this._elements = perform(_textFlow, _local1, this._startIndex, this._numElements, false);
    }

}
﻿package flashx.textLayout.edit {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.conversion.*;
    import flashx.textLayout.*;

    public class TextFlowEdit {

        tlf_internal static function deleteRange(_arg1:TextFlow, _arg2:int, _arg3:int):ParagraphElement{
            var _local4:ParagraphElement;
            var _local5:FlowLeafElement;
            var _local6:FlowLeafElement;
            var _local7:ParagraphElement;
            var _local8:ParagraphElement;
            var _local9:int;
            var _local10:int;
            var _local11:Boolean;
            var _local12:FlowLeafElement;
            var _local13:FlowLeafElement;
            if (_arg3 > _arg2){
                _local5 = _arg1.findLeaf(_arg2);
                _local6 = _arg1.findLeaf((_arg3 - 1));
                _local7 = _local5.getParagraph();
                _local8 = _local6.getParagraph();
                _local9 = _local7.getAbsoluteStart();
                _local10 = (_local8.getAbsoluteStart() + _local8.textLength);
                _local11 = false;
                if (_local7 == _local8){
                    _local11 = (((_arg3 == _local10)) && (!((_arg2 == _local9))));
                } else {
                    _local11 = !((_arg2 == _local9));
                };
                if (_local11){
                    _local12 = _arg1.findLeaf(_arg3);
                    if (_local12){
                        _local4 = _local12.getParagraph();
                        if ((((((_local4.textLength == 1)) && ((_local4.parent is ListItemElement)))) && ((_local4.parent.numChildren > 1)))){
                            _local4 = null;
                        };
                    };
                };
            };
            deleteRangeInternal(_arg1, _arg2, (_arg3 - _arg2));
            if (_local4){
                _local13 = _local4.getFirstLeaf().getPreviousLeaf();
                _local4 = ((_local13) ? _local13.getParagraph() : null);
            };
            return (_local4);
        }
        private static function deleteRangeInternal(_arg1:FlowGroupElement, _arg2:int, _arg3:int):void{
            var _local7:FlowElement;
            var _local8:int;
            var _local9:int;
            var _local10:int;
            var _local11:SpanElement;
            var _local4 = -1;
            var _local5:int;
            var _local6:int = _arg1.findChildIndexAtPosition(_arg2);
            while ((((_arg3 > 0)) && ((_local6 < _arg1.numChildren)))) {
                _local7 = _arg1.getChildAt(_local6);
                if ((((_arg2 <= _local7.parentRelativeStart)) && ((_arg3 >= _local7.textLength)))){
                    if (_local4 < 0){
                        _local4 = _local6;
                    };
                    _local5++;
                    _arg3 = (_arg3 - _local7.textLength);
                } else {
                    if (_local4 >= 0){
                        _arg1.replaceChildren(_local4, (_local4 + _local5));
                        _local6 = (_local6 - _local5);
                        _local4 = -1;
                        _local5 = 0;
                    };
                    _local8 = _local7.parentRelativeStart;
                    _local9 = Math.max((_arg2 - _local8), 0);
                    _local10 = Math.min((_local7.textLength - _local9), _arg3);
                    if ((_local7 is SpanElement)){
                        _local11 = (_local7 as SpanElement);
                        _local11.replaceText(_local9, (_local9 + _local10), "");
                        _arg3 = (_arg3 - _local10);
                    } else {
                        deleteRangeInternal((_local7 as FlowGroupElement), _local9, _local10);
                        _arg3 = (_arg3 - _local10);
                    };
                };
                _local6++;
            };
            if (_local4 >= 0){
                _arg1.replaceChildren(_local4, (_local4 + _local5));
            };
        }
        private static function findLowestPossibleParent(_arg1:FlowGroupElement, _arg2:FlowElement):FlowGroupElement{
            while (((_arg1) && (!(_arg1.canOwnFlowElement(_arg2))))) {
                _arg1 = _arg1.parent;
            };
            return (_arg1);
        }
        private static function removePasteAttributes(_arg1:FlowElement):void{
            var _local2:FlowGroupElement;
            if (!_arg1){
                return;
            };
            if ((((_arg1 is FlowGroupElement)) && (_arg1.format))){
                _local2 = FlowGroupElement(_arg1);
                if (_arg1.format.getStyle(ConverterBase.MERGE_TO_NEXT_ON_PASTE) !== undefined){
                    removePasteAttributes(_local2.getChildAt((_local2.numChildren - 1)));
                };
            };
            _arg1.setStyle(ConverterBase.MERGE_TO_NEXT_ON_PASTE, undefined);
        }
        private static function applyFormatToElement(_arg1:FlowGroupElement, _arg2:int, _arg3:Object):void{
            var _local4:FlowElement;
            var _local5:ITextLayoutFormat;
            var _local6:FlowElement;
            var _local7:TextLayoutFormat;
            var _local8:FlowElement;
            if (_arg2 > 0){
                _local4 = _arg1.getChildAt((_arg2 - 1));
            } else {
                _local4 = _arg1.getChildAt(0);
            };
            if (_local4){
                if ((_local4 is FlowGroupElement)){
                    _local6 = FlowGroupElement(_local4).getLastLeaf();
                    while (_local6 != _local4.parent) {
                        if (_local6.format){
                            if (!_local7){
                                _local7 = new TextLayoutFormat(_local6.format);
                            } else {
                                _local7.concatInheritOnly(_local6.format);
                            };
                        };
                        _local6 = _local6.parent;
                    };
                    _local5 = _local7;
                } else {
                    _local5 = _local4.format;
                };
                if ((_arg3 is Array)){
                    for each (_local8 in _arg3) {
                        if ((_local8 is FlowLeafElement)){
                            _local8.format = _local5;
                        } else {
                            _local8.format = _local4.format;
                        };
                    };
                } else {
                    if ((_arg3 is FlowLeafElement)){
                        _arg3.format = _local5;
                    } else {
                        _arg3.format = _local4.format;
                    };
                };
            };
        }
        public static function insertTextScrap(_arg1:TextFlow, _arg2:int, _arg3:TextScrap, _arg4:Boolean):int{
            var _local11:FlowElement;
            var _local12:ParagraphElement;
            var _local13:FlowGroupElement;
            var _local14:int;
            var _local15:ParagraphElement;
            var _local16:int;
            var _local17:FlowGroupElement;
            var _local18:Array;
            var _local19:int;
            var _local20:FlowElement;
            var _local21:int;
            if (!_arg3){
                return (_arg2);
            };
            var _local5:TextFlow = (_arg3.textFlow.deepCopy() as TextFlow);
            var _local6:FlowLeafElement = _local5.getFirstLeaf();
            var _local7:FlowLeafElement = _arg1.findLeaf(_arg2);
            var _local8:int = _arg2;
            var _local9:Boolean;
            var _local10:Boolean;
            while (_local6) {
                removePasteAttributes(_local6);
                _local11 = _local6;
                _local12 = _local7.getParagraph();
                if (((_local9) && ((((_local12.textLength > 1)) || (_arg4))))){
                    _local15 = _local6.getParagraph();
                    if (((!(_local15.format)) || ((_local15.format.getStyle(ConverterBase.MERGE_TO_NEXT_ON_PASTE) === undefined)))){
                        _local10 = true;
                    };
                    _local11 = _local15.getChildAt(0);
                } else {
                    if (((_arg4) && (_local9))){
                        _local13 = findLowestPossibleParent(_local7.parent, _local11);
                        _local16 = _local13.findChildIndexAtPosition((_local8 - _local13.getAbsoluteStart()));
                        applyFormatToElement(_local13, _local16, _local11);
                    };
                    while (((((((_local11) && (_local11.parent))) && (((!(_local11.parent.format)) || ((_local11.parent.format.getStyle(ConverterBase.MERGE_TO_NEXT_ON_PASTE) === undefined)))))) && (!((_local11.parent is TextFlow))))) {
                        _local11 = _local11.parent;
                    };
                };
                _local13 = findLowestPossibleParent(_local7.parent, _local11);
                while (!(_local13)) {
                    _local11 = _local11.parent;
                    _local13 = findLowestPossibleParent(_local7.parent, _local11);
                };
                removePasteAttributes(_local11);
                _local14 = _local13.getAbsoluteStart();
                if (((_local9) && (_local10))){
                    ModelEdit.splitElement(_arg1, _local13, (_local8 - _local14));
                    _local17 = _local11.parent;
                    _local18 = _local17.mxmlChildren;
                    _local17.replaceChildren(0, _local17.numChildren);
                    if (_local17.parent){
                        _local17.parent.removeChild(_local17);
                    };
                    if (_arg4){
                        applyFormatToElement(_local13, _local13.numChildren, _local18);
                    };
                    _local13.replaceChildren(_local13.numChildren, _local13.numChildren, _local18);
                    _local11 = _local13.getChildAt((_local13.numChildren - 1));
                    _local9 = false;
                } else {
                    _local19 = _local13.findChildIndexAtPosition((_local8 - _local13.getAbsoluteStart()));
                    _local20 = _local13.getChildAt(_local19);
                    _local21 = _local20.getAbsoluteStart();
                    if (_local8 == (_local21 + _local20.textLength)){
                        _local19++;
                    } else {
                        if (_local8 > _local21){
                            if ((_local20 is FlowLeafElement)){
                                _local20.splitAtPosition((_local8 - _local21));
                            } else {
                                ModelEdit.splitElement(_arg1, (_local20 as FlowGroupElement), (_local8 - _local21));
                            };
                            _local19++;
                        };
                    };
                    if (_arg4){
                        applyFormatToElement(_local13, _local19, _local11);
                    };
                    _local13.replaceChildren(_local19, _local19, _local11);
                };
                _local7 = (((_local11 is FlowLeafElement)) ? FlowLeafElement(_local11).getNextLeaf() : FlowGroupElement(_local11).getLastLeaf().getNextLeaf());
                _local8 = ((_local7) ? _local7.getAbsoluteStart() : (_arg1.textLength - 1));
                _local6 = _local5.getFirstLeaf();
            };
            return (_local8);
        }
        public static function makeTCY(_arg1:TextFlow, _arg2:int, _arg3:int):Boolean{
            var _local6:int;
            var _local7:int;
            var _local8:TCYElement;
            var _local4:Boolean;
            var _local5:ParagraphElement = _arg1.findAbsoluteParagraph(_arg2);
            if (!_local5){
                return (false);
            };
            while (_local5) {
                _local6 = (_local5.getAbsoluteStart() + _local5.textLength);
                _local7 = Math.min(_local6, _arg3);
                if (((canInsertSPBlock(_arg1, _arg2, _local7, TCYElement)) && ((_local5.textLength > 1)))){
                    _local8 = new TCYElement();
                    _local4 = ((_local4) && (insertNewSPBlock(_arg1, _arg2, _local7, _local8, TCYElement)));
                } else {
                    _local4 = false;
                };
                if (_local6 < _arg3){
                    _local5 = _arg1.findAbsoluteParagraph(_local7);
                    _arg2 = _local7;
                } else {
                    _local5 = null;
                };
            };
            return (_local4);
        }
        public static function makeLink(_arg1:TextFlow, _arg2:int, _arg3:int, _arg4:String, _arg5:String):Boolean{
            var _local8:int;
            var _local9:int;
            var _local10:int;
            var _local11:LinkElement;
            var _local6:Boolean;
            var _local7:ParagraphElement = _arg1.findAbsoluteParagraph(_arg2);
            if (!_local7){
                return (false);
            };
            while (_local7) {
                _local8 = (_local7.getAbsoluteStart() + _local7.textLength);
                _local9 = Math.min(_local8, _arg3);
                _local10 = ((_local9)==_local8) ? (_local9 - 1) : _local9;
                if (_local10 > _arg2){
                    if (!canInsertSPBlock(_arg1, _arg2, _local10, LinkElement)){
                        return (false);
                    };
                    _local11 = new LinkElement();
                    _local11.href = _arg4;
                    _local11.target = _arg5;
                    _local6 = ((_local6) && (insertNewSPBlock(_arg1, _arg2, _local10, _local11, LinkElement)));
                };
                if (_local8 < _arg3){
                    _local7 = _arg1.findAbsoluteParagraph(_local9);
                    _arg2 = _local9;
                } else {
                    _local7 = null;
                };
            };
            return (_local6);
        }
        public static function removeTCY(_arg1:TextFlow, _arg2:int, _arg3:int):Boolean{
            if (_arg3 <= _arg2){
                return (false);
            };
            return (findAndRemoveFlowGroupElement(_arg1, _arg2, _arg3, TCYElement));
        }
        public static function removeLink(_arg1:TextFlow, _arg2:int, _arg3:int):Boolean{
            if (_arg3 <= _arg2){
                return (false);
            };
            return (findAndRemoveFlowGroupElement(_arg1, _arg2, _arg3, LinkElement));
        }
        tlf_internal static function insertNewSPBlock(_arg1:TextFlow, _arg2:int, _arg3:int, _arg4:SubParagraphGroupElementBase, _arg5:Class):Boolean{
            var _local6:int = _arg2;
            var _local7:FlowGroupElement = _arg1.findAbsoluteFlowGroupElement(_local6);
            var _local8:int;
            var _local9:ParagraphElement = _local7.getParagraph();
            if (_arg3 == ((_local9.getAbsoluteStart() + _local9.textLength) - 1)){
                _arg3++;
            };
            var _local10:int = _local7.parent.getAbsoluteStart();
            var _local11:int = _local7.getAbsoluteStart();
            if (((((_local7.parent) && ((_local7.parent is _arg5)))) && (!((((_local10 == _local11)) && (((_local10 + _local7.parent.textLength) == (_local11 + _local7.textLength)))))))){
                return (false);
            };
            if (((((!((_local7 is ParagraphElement))) && ((_local6 == _local11)))) && (((_local6 + _local7.textLength) <= _arg3)))){
                _local8 = _local7.parent.getChildIndex(_local7);
                _local7 = _local7.parent;
            };
            if (_local6 >= _local11){
                if (!(_local7 is _arg5)){
                    _local8 = findAndSplitElement(_local7, _local8, _local6, true);
                } else {
                    _local8 = findAndSplitElement(_local7.parent, _local7.parent.getChildIndex(_local7), _local6, false);
                    _local7 = _local7.parent;
                };
            };
            if ((_local7 is _arg5)){
                _local11 = _local7.getAbsoluteStart();
                _local8 = _local7.parent.getChildIndex(_local7);
                if (_local6 > _local11){
                    _local8 = (_local8 + 1);
                };
                while (_arg3 >= (_local11 + _local7.textLength)) {
                    _local7 = _local7.parent;
                };
                _local7.replaceChildren(_local8, _local8, _arg4);
            } else {
                _local7.replaceChildren(_local8, _local8, _arg4);
            };
            subsumeElementsToSPBlock(_local7, (_local8 + 1), _local6, _arg3, _arg4, _arg5);
            return (true);
        }
        tlf_internal static function splitElement(_arg1:FlowElement, _arg2:int, _arg3:Boolean):void{
            var _local4:SubParagraphGroupElementBase;
            var _local5:SpanElement;
            if ((_arg1 is SpanElement)){
                SpanElement(_arg1).splitAtPosition(_arg2);
            } else {
                if ((((_arg1 is SubParagraphGroupElementBase)) && (_arg3))){
                    _local4 = SubParagraphGroupElementBase(_arg1);
                    _local5 = (_local4.findLeaf(_arg2) as SpanElement);
                    if (_local5){
                        _local5.splitAtPosition((_arg2 - _local5.getElementRelativeStart(_local4)));
                    };
                } else {
                    if ((_arg1 is FlowGroupElement)){
                        FlowGroupElement(_arg1).splitAtPosition(_arg2);
                    };
                };
            };
        }
        tlf_internal static function findAndSplitElement(_arg1:FlowGroupElement, _arg2:int, _arg3:int, _arg4:Boolean):int{
            var _local5:FlowElement;
            var _local6:int = (_arg3 - _arg1.getAbsoluteStart());
            while (_arg2 < _arg1.numChildren) {
                _local5 = _arg1.getChildAt(_arg2);
                if (_local6 == _local5.parentRelativeStart){
                    return (_arg2);
                };
                if ((((_local6 > _local5.parentRelativeStart)) && ((_local6 < _local5.parentRelativeEnd)))){
                    splitElement(_local5, (_local6 - _local5.parentRelativeStart), _arg4);
                };
                _arg2++;
            };
            return (_arg2);
        }
        tlf_internal static function subsumeElementsToSPBlock(_arg1:FlowGroupElement, _arg2:int, _arg3:int, _arg4:int, _arg5:SubParagraphGroupElementBase, _arg6:Class):int{
            var _local8:SubParagraphGroupElementBase;
            var _local9:FlowElement;
            var _local10:SubParagraphGroupElementBase;
            var _local11:int;
            var _local12:FlowElement;
            var _local7:FlowElement;
            if (_arg2 >= _arg1.numChildren){
                return (_arg3);
            };
            while (_arg3 < _arg4) {
                _local7 = _arg1.getChildAt(_arg2);
                if ((_arg3 + _local7.textLength) > _arg4){
                    splitElement(_local7, (_arg4 - _local7.getAbsoluteStart()), !((_local7 is _arg6)));
                };
                _arg3 = (_arg3 + _local7.textLength);
                _arg1.replaceChildren(_arg2, (_arg2 + 1));
                if ((_local7 is _arg6)){
                    _local8 = (_local7 as SubParagraphGroupElementBase);
                    while (_local8.numChildren > 0) {
                        _local9 = _local8.getChildAt(0);
                        _local8.replaceChildren(0, 1);
                        _arg5.replaceChildren(_arg5.numChildren, _arg5.numChildren, _local9);
                    };
                } else {
                    if ((_local7 is SubParagraphGroupElementBase)){
                        flushSPBlock((_local7 as SubParagraphGroupElementBase), _arg6);
                    };
                    _arg5.replaceChildren(_arg5.numChildren, _arg5.numChildren, _local7);
                    if ((((_arg5.numChildren == 1)) && ((_local7 is SubParagraphGroupElementBase)))){
                        _local10 = (_local7 as SubParagraphGroupElementBase);
                        if ((((_local10.textLength == _arg5.textLength)) && ((_arg3 >= _arg4)))){
                            if (_local10.precedence > _arg5.precedence){
                                _arg5.replaceChildren(0, 1);
                                while (_local10.numChildren > 0) {
                                    _local12 = _local10.getChildAt(0);
                                    _local10.replaceChildren(0, 1);
                                    _arg5.replaceChildren(_arg5.numChildren, _arg5.numChildren, _local12);
                                };
                                _local11 = _arg5.parent.getChildIndex(_arg5);
                                _arg5.parent.replaceChildren(_local11, (_local11 + 1), _local10);
                                _local10.replaceChildren(0, 0, _arg5);
                            };
                        };
                    };
                };
            };
            return (_arg3);
        }
        tlf_internal static function findAndRemoveFlowGroupElement(_arg1:TextFlow, _arg2:int, _arg3:int, _arg4:Class):Boolean{
            var _local6:FlowElement;
            var _local7:FlowGroupElement;
            var _local8:FlowGroupElement;
            var _local9:int;
            var _local10:int;
            var _local11:FlowGroupElement;
            var _local12:FlowGroupElement;
            var _local13:int;
            var _local14:FlowElement;
            var _local15:SubParagraphGroupElementBase;
            var _local5:int = _arg2;
            while (_local5 < _arg3) {
                _local7 = _arg1.findAbsoluteFlowGroupElement(_local5);
                while (((((((_local7.parent) && ((_local7.parent.getAbsoluteStart() == _local7.getAbsoluteStart())))) && (!((_local7.parent is ParagraphElement))))) && (!((_local7 is ParagraphElement))))) {
                    _local7 = _local7.parent;
                };
                if ((_local7 is _arg4)){
                    _local7 = _local7.parent;
                };
                _local8 = _local7.parent;
                while (((!((_local8 == null))) && (!((_local8 is _arg4))))) {
                    if ((_local8.parent is _arg4)){
                        return (false);
                    };
                    _local8 = _local8.parent;
                };
                _local9 = _local7.getAbsoluteStart();
                if ((((_local8 is _arg4)) && ((((_local9 >= _local5)) && (((_local9 + _local7.textLength) <= _arg3)))))){
                    _local7 = _local8.parent;
                };
                _local10 = _local7.findChildIndexAtPosition((_local5 - _local9));
                _local6 = _local7.getChildAt(_local10);
                if ((_local6 is _arg4)){
                    _local11 = (_local6 as FlowGroupElement);
                    _local12 = _local11.parent;
                    _local13 = _local12.getChildIndex(_local11);
                    if (_local5 > _local11.getAbsoluteStart()){
                        splitElement(_local11, (_local5 - _local11.getAbsoluteStart()), false);
                        _local5 = (_local11.getAbsoluteStart() + _local11.textLength);
                        continue;
                    };
                    if ((_local11.getAbsoluteStart() + _local11.textLength) > _arg3){
                        splitElement(_local11, (_arg3 - _local11.getAbsoluteStart()), false);
                    };
                    _local5 = (_local11.getAbsoluteStart() + _local11.textLength);
                    while (_local11.numChildren > 0) {
                        _local14 = _local11.getChildAt(0);
                        _local11.replaceChildren(0, 1);
                        _local12.replaceChildren(_local13, _local13, _local14);
                        _local13++;
                    };
                    _local12.replaceChildren(_local13, (_local13 + 1));
                } else {
                    if ((_local6 is SubParagraphGroupElementBase)){
                        _local15 = SubParagraphGroupElementBase(_local6);
                        if (_local15.numChildren == 1){
                            _local5 = (_local15.getAbsoluteStart() + _local15.textLength);
                        } else {
                            _local6 = _local15.getChildAt(_local15.findChildIndexAtPosition((_local5 - _local15.getAbsoluteStart())));
                            _local5 = (_local6.getAbsoluteStart() + _local6.textLength);
                        };
                    } else {
                        _local5 = (_local6.getAbsoluteStart() + _local6.textLength);
                    };
                };
            };
            return (true);
        }
        tlf_internal static function canInsertSPBlock(_arg1:TextFlow, _arg2:int, _arg3:int, _arg4:Class):Boolean{
            var _local7:int;
            var _local8:int;
            if (_arg3 <= _arg2){
                return (false);
            };
            var _local5:FlowGroupElement = _arg1.findAbsoluteFlowGroupElement(_arg2);
            if (_local5.getParentByType(_arg4)){
                _local5 = (_local5.getParentByType(_arg4) as FlowGroupElement);
            };
            var _local6:FlowGroupElement = _arg1.findAbsoluteFlowGroupElement((_arg3 - 1));
            if (_local6.getParentByType(_arg4)){
                _local6 = (_local6.getParentByType(_arg4) as FlowGroupElement);
            };
            if (_local5 == _local6){
                return (true);
            };
            if (_local5.getParagraph() != _local6.getParagraph()){
                return (false);
            };
            if ((((_local5 is _arg4)) && ((_local6 is _arg4)))){
                return (true);
            };
            if ((((_local5 is SubParagraphGroupElementBase)) && (!((_local5 is _arg4))))){
                _local7 = _local5.getAbsoluteStart();
                if ((((_arg2 > _local7)) && ((_arg3 > (_local7 + _local5.textLength))))){
                    return (false);
                };
            } else {
                if ((((((_local5.parent is SubParagraphGroupElementBase)) || ((_local6.parent is SubParagraphGroupElementBase)))) && (!((_local5.parent == _local6.parent))))){
                    return (false);
                };
            };
            if ((((((_local6 is SubParagraphGroupElementBase)) && (!((_local6 is _arg4))))) && ((_arg3 > _local6.getAbsoluteStart())))){
                _local8 = _local6.getAbsoluteStart();
                if ((((_arg2 < _local8)) && ((_arg3 < (_local8 + _local6.textLength))))){
                    return (false);
                };
            };
            return (true);
        }
        tlf_internal static function flushSPBlock(_arg1:SubParagraphGroupElementBase, _arg2:Class):void{
            var _local4:FlowElement;
            var _local5:FlowGroupElement;
            var _local6:FlowElement;
            var _local3:int;
            while (_local3 < _arg1.numChildren) {
                _local4 = _arg1.getChildAt(_local3);
                if ((_local4 is _arg2)){
                    _local5 = (_local4 as FlowGroupElement);
                    while (_local5.numChildren > 0) {
                        _local6 = _local5.getChildAt(0);
                        _local5.replaceChildren(0, 1);
                        _arg1.replaceChildren(_local3, _local3, _local6);
                    };
                    _local3++;
                    _arg1.replaceChildren(_local3, (_local3 + 1));
                } else {
                    if ((_local4 is SubParagraphGroupElementBase)){
                        flushSPBlock((_local4 as SubParagraphGroupElementBase), _arg2);
                        _local3++;
                    } else {
                        _local3++;
                    };
                };
            };
        }
        tlf_internal static function findNextParagraph(_arg1:ParagraphElement):ParagraphElement{
            var _local2:FlowLeafElement;
            if (_arg1){
                _local2 = _arg1.getLastLeaf();
                _local2 = _local2.getNextLeaf();
                if (_local2){
                    return (_local2.getParagraph());
                };
            };
            return (null);
        }
        tlf_internal static function removeEmptyParentChain(_arg1:FlowGroupElement):IMemento{
            var _local3:FlowGroupElement;
            var _local4:int;
            var _local2:MementoList = new MementoList(_arg1.getTextFlow());
            while (((_arg1) && ((_arg1.numChildren == 0)))) {
                _local3 = _arg1.parent;
                if (_local3){
                    _local4 = _local3.getChildIndex(_arg1);
                    _local2.push(ModelEdit.removeElements(_local3.getTextFlow(), _local3, _local4, 1));
                };
                _arg1 = _local3;
            };
            return (_local2);
        }
        public static function joinNextParagraph(_arg1:ParagraphElement, _arg2:Boolean):IMemento{
            var _local3:ParagraphElement = findNextParagraph(_arg1);
            if (((_local3) && (((!(_arg2)) || ((_arg1.parent == _local3.parent)))))){
                return (joinToElement(_arg1, _local3));
            };
            return (null);
        }
        public static function joinToNextParagraph(_arg1:ParagraphElement, _arg2:Boolean):MementoList{
            var _local3:ParagraphElement = findNextParagraph(_arg1);
            if (((_local3) && (((!(_arg2)) || ((_arg1.parent == _local3.parent)))))){
                return (joinToNextElement(_arg1, _local3));
            };
            return (null);
        }
        public static function joinToElement(_arg1:FlowGroupElement, _arg2:FlowGroupElement):IMemento{
            var _local3:MementoList;
            if (((_arg1) && (_arg2))){
                return (ModelEdit.joinElement(_arg2.getTextFlow(), _arg1, _arg2));
            };
            return (_local3);
        }
        public static function joinToNextElement(_arg1:FlowGroupElement, _arg2:FlowGroupElement):MementoList{
            var _local3:MementoList;
            var _local4:Array;
            var _local5:int;
            if (((_arg1) && (_arg2))){
                _local3 = new MementoList(_arg1.getTextFlow());
                _local4 = _arg1.mxmlChildren;
                _local3.push(ModelEdit.removeElements(_arg1.getTextFlow(), _arg1, 0, _arg1.numChildren));
                _local5 = (_local4.length - 1);
                while (_local5 >= 0) {
                    _local3.push(ModelEdit.addElement(_arg2.getTextFlow(), _local4[_local5], _arg2, 0));
                    _local5--;
                };
                _local3.push(removeEmptyParentChain(_arg1));
                return (_local3);
            };
            return (_local3);
        }

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.edit {

    public final class SelectionFormatState {

        public static const FOCUSED:String = "focused";
        public static const UNFOCUSED:String = "unfocused";
        public static const INACTIVE:String = "inactive";

    }
}//package flashx.textLayout.edit 
﻿package flashx.textLayout.compose {

    public interface IVerticalJustificationLine {

        function get x():Number;
        function set x(_arg1:Number):void;
        function get y():Number;
        function set y(_arg1:Number):void;
        function get ascent():Number;
        function get descent():Number;
        function get height():Number;

    }
}//package flashx.textLayout.compose 
﻿package flashx.textLayout.compose {
    import flash.display.*;
    import flash.geom.*;

    public class FloatCompositionData {

        public var graphic:DisplayObject;
        public var columnIndex:int;
        public var floatType:String;
        public var x:Number;
        public var y:Number;
        public var alpha:Number;
        public var matrix:Matrix;
        public var absolutePosition:int;
        public var depth:Number;
        public var knockOutWidth:Number;
        public var parent:DisplayObjectContainer;

        public function FloatCompositionData(_arg1:int, _arg2:DisplayObject, _arg3:String, _arg4:Number, _arg5:Number, _arg6:Number, _arg7:Matrix, _arg8:Number, _arg9:Number, _arg10:int, _arg11:DisplayObjectContainer){
            this.absolutePosition = _arg1;
            this.graphic = _arg2;
            this.floatType = _arg3;
            this.x = _arg4;
            this.y = _arg5;
            this.alpha = _arg6;
            this.matrix = _arg7;
            this.depth = _arg8;
            this.knockOutWidth = _arg9;
            this.columnIndex = _arg10;
            this.parent = _arg11;
        }
    }
}//package flashx.textLayout.compose 
﻿package flashx.textLayout.compose {
    import flashx.textLayout.container.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;

    public interface IFlowComposer {

        function get rootElement():ContainerFormattedElement;
        function setRootElement(_arg1:ContainerFormattedElement):void;
        function get damageAbsoluteStart():int;
        function updateAllControllers():Boolean;
        function updateToController(_arg1:int=2147483647):Boolean;
        function setFocus(_arg1:int, _arg2:Boolean=false):void;
        function compose():Boolean;
        function composeToPosition(_arg1:int=2147483647):Boolean;
        function composeToController(_arg1:int=2147483647):Boolean;
        function get numControllers():int;
        function addController(_arg1:ContainerController):void;
        function addControllerAt(_arg1:ContainerController, _arg2:int):void;
        function removeController(_arg1:ContainerController):void;
        function removeControllerAt(_arg1:int):void;
        function removeAllControllers():void;
        function getControllerAt(_arg1:int):ContainerController;
        function getControllerIndex(_arg1:ContainerController):int;
        function findControllerIndexAtPosition(_arg1:int, _arg2:Boolean=false):int;
        function findLineIndexAtPosition(_arg1:int, _arg2:Boolean=false):int;
        function findLineAtPosition(_arg1:int, _arg2:Boolean=false):TextFlowLine;
        function getLineAt(_arg1:int):TextFlowLine;
        function get numLines():int;
        function isDamaged(_arg1:int):Boolean;
        function get composing():Boolean;
        function get swfContext():ISWFContext;
        function set swfContext(_arg1:ISWFContext):void;
        function interactionManagerChanged(_arg1:ISelectionManager):void;
        function updateLengths(_arg1:int, _arg2:int):void;
        function damage(_arg1:int, _arg2:int, _arg3:String):void;

    }
}//package flashx.textLayout.compose 
﻿package flashx.textLayout.compose {
    import flash.text.engine.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.utils.*;
    import flashx.textLayout.*;

    public class ComposeState extends BaseCompose {

        private static var _sharedComposeState:ComposeState;

        protected var _curLineIndex:int;
        protected var vjBeginLineIndex:int;
        protected var vjDisableThisParcel:Boolean;
        protected var _useExistingLine:Boolean;

        tlf_internal static function getComposeState():ComposeState{
            var _local1:ComposeState = _sharedComposeState;
            if (_local1){
                _sharedComposeState = null;
                return (_local1);
            };
            return (new (ComposeState)());
        }
        tlf_internal static function releaseComposeState(_arg1:ComposeState):void{
            _arg1.releaseAnyReferences();
            _sharedComposeState = _arg1;
        }

        override protected function createParcelList():ParcelList{
            return (ParcelList.getParcelList());
        }
        override protected function releaseParcelList(_arg1:ParcelList):void{
            ParcelList.releaseParcelList(_arg1);
        }
        override public function composeTextFlow(_arg1:TextFlow, _arg2:int, _arg3:int):int{
            this._curLineIndex = -1;
            _curLine = null;
            this.vjBeginLineIndex = 0;
            this.vjDisableThisParcel = false;
            return (super.composeTextFlow(_arg1, _arg2, _arg3));
        }
        override protected function initializeForComposer(_arg1:IFlowComposer, _arg2:int, _arg3:int, _arg4:int):void{
            var _local5:int;
            _startComposePosition = _arg1.damageAbsoluteStart;
            if (_arg3 == -1){
                _local5 = _arg1.findControllerIndexAtPosition(_startComposePosition);
                if (_local5 == -1){
                    _local5 = (_arg1.numControllers - 1);
                    while (((!((_local5 == 0))) && ((_arg1.getControllerAt(_local5).textLength == 0)))) {
                        _local5--;
                    };
                };
            };
            _startController = _arg1.getControllerAt(_local5);
            if (_startController.computedFormat.verticalAlign != VerticalAlign.TOP){
                _startComposePosition = _startController.absoluteStart;
            };
            super.initializeForComposer(_arg1, _arg2, _local5, _arg4);
        }
        override protected function composeInternal(_arg1:FlowGroupElement, _arg2:int):void{
            var _local3:int;
            super.composeInternal(_arg1, _arg2);
            if (_curElement){
                _local3 = this._curLineIndex;
                while (_local3 < _flowComposer.numLines) {
                    var _temp1 = _local3;
                    _local3 = (_local3 + 1);
                    _flowComposer.getLineAt(_temp1).setController(null, -1);
                };
            };
        }
        override protected function doVerticalAlignment(_arg1:Boolean, _arg2:Parcel):void{
            var _local3:ContainerController;
            var _local4:String;
            var _local5:int;
            var _local6:FloatCompositionData;
            var _local7:int;
            var _local8:int;
            var _local9:int;
            var _local10:Array;
            if (((((((_arg1) && (_curParcel))) && (!((this.vjBeginLineIndex == this._curLineIndex))))) && (!(this.vjDisableThisParcel)))){
                _local3 = _curParcel.controller;
                _local4 = _local3.computedFormat.verticalAlign;
                if (_local4 == VerticalAlign.JUSTIFY){
                    _local5 = (_local3.numFloats - 1);
                    while ((((_local5 >= 0)) && (_arg1))) {
                        _local6 = _local3.getFloatAt(_local5);
                        if (_local6.floatType != Float.NONE){
                            _arg1 = false;
                        };
                        _local5--;
                    };
                };
                if (((_arg1) && (!((_local4 == VerticalAlign.TOP))))){
                    _local7 = _flowComposer.findLineIndexAtPosition((_curElementStart + _curElementOffset));
                    if (this.vjBeginLineIndex < _local7){
                        _local8 = 0;
                        _local9 = 0;
                        _local10 = (_flowComposer as StandardFlowComposer).lines;
                        if (_local3.numFloats > 0){
                            _local8 = _local3.findFloatIndexAtOrAfter(_local10[this.vjBeginLineIndex].absoluteStart);
                            _local9 = _local3.findFloatIndexAfter((_curElementStart + _curElementOffset));
                        };
                        this.applyVerticalAlignmentToColumn(_local3, _local4, _local10, this.vjBeginLineIndex, (_local7 - this.vjBeginLineIndex), _local8, _local9);
                    };
                };
            };
            this.vjDisableThisParcel = false;
            this.vjBeginLineIndex = this._curLineIndex;
        }
        override protected function applyVerticalAlignmentToColumn(_arg1:ContainerController, _arg2:String, _arg3:Array, _arg4:int, _arg5:int, _arg6:int, _arg7:int):void{
            var _local8:TextLine;
            var _local9:TextFlowLine;
            super.applyVerticalAlignmentToColumn(_arg1, _arg2, _arg3, _arg4, _arg5, _arg6, _arg7);
            for each (_local8 in _arg1.composedLines) {
                _local9 = (_local8.userData as TextFlowLine);
                _local9.createShape(_blockProgression, _local8);
            };
        }
        override protected function finalParcelAdjustment(_arg1:ContainerController):void{
            var _local6:Number;
            var _local7:ParagraphElement;
            var _local8:ITextLayoutFormat;
            var _local9:String;
            var _local10:int;
            var _local11:TextFlowLine;
            var _local12:TextLine;
            var _local13:Number;
            var _local2:Number = TextLine.MAX_LINE_WIDTH;
            var _local3:Number = TextLine.MAX_LINE_WIDTH;
            var _local4:Number = -(TextLine.MAX_LINE_WIDTH);
            var _local5 = (_blockProgression == BlockProgression.RL);
            if (!isNaN(_parcelLogicalTop)){
                if (_local5){
                    _local4 = _parcelLogicalTop;
                } else {
                    _local3 = _parcelLogicalTop;
                };
            };
            if (!_measuring){
                if (_local5){
                    _local3 = _accumulatedMinimumStart;
                } else {
                    _local2 = _accumulatedMinimumStart;
                };
            } else {
                _local10 = _flowComposer.findLineIndexAtPosition(_curParcelStart);
                while (_local10 < this._curLineIndex) {
                    _local11 = _flowComposer.getLineAt(_local10);
                    if (_local11.paragraph != _local7){
                        _local7 = _local11.paragraph;
                        _local8 = _local7.computedFormat;
                        _local9 = _local8.direction;
                        if (_local9 != Direction.LTR){
                            _local6 = _local8.paragraphEndIndent;
                        };
                    };
                    if (_local9 == Direction.LTR){
                        _local6 = Math.max(_local11.lineOffset, 0);
                    };
                    _local6 = ((_local5) ? (_local11.y - _local6) : (_local11.x - _local6));
                    _local12 = TextFlowLine.findNumberLine(_local11.getTextLine(true));
                    if (_local12){
                        _local13 = ((_local5) ? (_local12.y + _local11.y) : (_local12.x + _local11.x));
                        _local6 = Math.min(_local6, _local13);
                    };
                    if (_local5){
                        _local3 = Math.min(_local6, _local3);
                    } else {
                        _local2 = Math.min(_local6, _local2);
                    };
                    _local10++;
                };
            };
            if (((!((_local2 == TextLine.MAX_LINE_WIDTH))) && ((Math.abs((_local2 - _parcelLeft)) >= 1)))){
                _parcelLeft = _local2;
            };
            if (((!((_local4 == -(TextLine.MAX_LINE_WIDTH)))) && ((Math.abs((_local4 - _parcelRight)) >= 1)))){
                _parcelRight = _local4;
            };
            if (((!((_local3 == TextLine.MAX_LINE_WIDTH))) && ((Math.abs((_local3 - _parcelTop)) >= 1)))){
                _parcelTop = _local3;
            };
        }
        override protected function endLine(_arg1:TextLine):void{
            super.endLine(_arg1);
            if (!this._useExistingLine){
                (_flowComposer as StandardFlowComposer).addLine(_curLine, this._curLineIndex);
            };
            commitLastLineState(_curLine);
            this._curLineIndex++;
        }
        override protected function composeParagraphElement(_arg1:ParagraphElement, _arg2:int):Boolean{
            if (this._curLineIndex < 0){
                this._curLineIndex = _flowComposer.findLineIndexAtPosition((_curElementStart + _curElementOffset));
            };
            return (super.composeParagraphElement(_arg1, _arg2));
        }
        override protected function composeNextLine():TextLine{
            var _local4:TextLine;
            var _local5:TextLine;
            var _local6:TextLine;
            var _local7:Boolean;
            var _local8:Number;
            var _local1:int = ((_curElementStart + _curElementOffset) - _curParaStart);
            var _local2:TextFlowLine = (((this._curLineIndex < _flowComposer.numLines)) ? (_flowComposer as StandardFlowComposer).lines[this._curLineIndex] : null);
            var _local3:Boolean = ((_local2) && (((!(_local2.isDamaged())) || ((_local2.validity == FlowDamageType.GEOMETRY)))));
            if (((_listItemElement) && ((_listItemElement.getAbsoluteStart() == (_curElementStart + _curElementOffset))))){
                if (((_local3) && (!(((_local6 = _local2.peekTextLine()) == null))))){
                    _local4 = TextFlowLine.findNumberLine(_local6);
                } else {
                    _local7 = (_curParaElement.computedFormat.direction == Direction.RTL);
                    _local4 = TextFlowLine.createNumberLine(_listItemElement, _curParaElement, _flowComposer.swfContext, ((_local7) ? _parcelList.rightMargin : _parcelList.leftMargin));
                };
                pushInsideListItemMargins(_local4);
            };
            _parcelList.getLineSlug(_lineSlug, 0, 1, _textIndent, (_curParaFormat.direction == Direction.LTR));
            if (((_local3) && (!((Twips.to(_lineSlug.width) == _local2.outerTargetWidthTW))))){
                _local3 = false;
            };
            _curLine = ((_local3) ? _local2 : null);
            while (true) {
                while (!(_curLine)) {
                    _local3 = false;
                    _local5 = this.createTextLine(_lineSlug.width, !(_lineSlug.wrapsKnockOut));
                    if (_local5){
                        break;
                    };
                    _local8 = _curParcel.findNextTransition(_lineSlug.depth);
                    if (_local8 < Number.MAX_VALUE){
                        _parcelList.addTotalDepth((_local8 - _lineSlug.depth));
                        if (!_parcelList.getLineSlug(_lineSlug, 0, 1, _textIndent, (_curParaFormat.direction == Direction.LTR))){
                            return (null);
                        };
                    } else {
                        advanceToNextParcel();
                        if (!_parcelList.atEnd()){
                            if (_parcelList.getLineSlug(_lineSlug, 0, 1, _textIndent, (_curParaFormat.direction == Direction.LTR))){
                                continue;
                            };
                        };
                        popInsideListItemMargins(_local4);
                        return (null);
                    };
                };
                if (!_local5){
                    _local5 = _curLine.getTextLine(true);
                };
                if (fitLineToParcel(_local5, !(_local3), _local4)){
                    break;
                };
                _curLine = null;
                if (_parcelList.atEnd()){
                    popInsideListItemMargins(_local4);
                    return (null);
                };
            };
            if (_curLine.validity == FlowDamageType.GEOMETRY){
                _curLine.clearDamage();
            };
            this._useExistingLine = _local3;
            popInsideListItemMargins(_local4);
            return (_local5);
        }
        override protected function createTextLine(_arg1:Number, _arg2:Boolean):TextLine{
            _curLine = new TextFlowLine(null, null);
            var _local3:TextLine = super.createTextLine(_arg1, _arg2);
            if (_local3){
                _local3.doubleClickEnabled = true;
            } else {
                _curLine = null;
            };
            return (_local3);
        }

    }
}//package flashx.textLayout.compose 
﻿package flashx.textLayout.compose {

    public interface ISWFContext {

        function callInContext(_arg1:Function, _arg2:Object, _arg3:Array, _arg4:Boolean=true);

    }
}//package flashx.textLayout.compose 
﻿package flashx.textLayout.compose {
    import flash.text.engine.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.*;

    public class SimpleCompose extends BaseCompose {

        protected var workingLine:TextFlowLine;
        public var _lines:Array;
        private var _vjLines:Array;
        private var vjBeginLineIndex:int = 0;
        private var vjDisableThisParcel:Boolean = false;
        private var vjType:String;
        private var _totalLength:Number;
        private var _resetLineHandler:Function;

        public function SimpleCompose(){
            this.workingLine = new TextFlowLine(null, null);
            super();
            this._lines = new Array();
            this._vjLines = new Array();
        }
        override protected function createParcelList():ParcelList{
            return (ParcelList.getParcelList());
        }
        override protected function releaseParcelList(_arg1:ParcelList):void{
            ParcelList.releaseParcelList(_arg1);
        }
        override protected function initializeForComposer(_arg1:IFlowComposer, _arg2:int, _arg3:int, _arg4:int):void{
            _startController = _arg1.getControllerAt(0);
            _startComposePosition = 0;
            super.initializeForComposer(_arg1, _arg2, 0, _arg4);
            this._vjLines.splice(0);
            this.vjBeginLineIndex = 0;
            this.vjDisableThisParcel = false;
            this.vjType = _startController.computedFormat.verticalAlign;
        }
        override public function composeTextFlow(_arg1:TextFlow, _arg2:int, _arg3:int):int{
            _flowComposer = (_arg1.flowComposer as StandardFlowComposer);
            _curLine = this.workingLine;
            this._lines.splice(0);
            this._totalLength = 0;
            return (super.composeTextFlow(_arg1, _arg2, _arg3));
        }
        override protected function doVerticalAlignment(_arg1:Boolean, _arg2:Parcel):void{
            var _local4:ContainerController;
            var _local5:int;
            var _local6:int;
            var _local3:Parcel = parcelList.currentParcel;
            if (((((((_arg1) && (!((this.vjType == VerticalAlign.TOP))))) && (!((this.vjBeginLineIndex == this._lines.length))))) && (!(this.vjDisableThisParcel)))){
                _local4 = _curParcel.controller;
                _local5 = 0;
                _local6 = 0;
                if (_local4.numFloats > 0){
                    _local5 = _local4.findFloatIndexAtOrAfter(_curParcelStart);
                    _local6 = _local4.findFloatIndexAfter((_curElementStart + _curElementOffset));
                };
                applyVerticalAlignmentToColumn(_local3.controller, this.vjType, this._vjLines, 0, this._vjLines.length, _local5, _local6);
            };
            this._vjLines.splice(0);
            this.vjBeginLineIndex = this._lines.length;
            this.vjDisableThisParcel = false;
            if (_arg2){
                this.vjType = _arg2.controller.computedFormat.verticalAlign;
            };
        }
        override protected function isLineVisible(_arg1:TextLine):Boolean{
            return (!((_arg1 == null)));
        }
        override protected function endLine(_arg1:TextLine):void{
            super.endLine(_arg1);
            _curLine.createShape(_blockProgression, _arg1);
            if (this.textFlow.backgroundManager){
                this.textFlow.backgroundManager.finalizeLine(_curLine);
            };
            _arg1.userData = this._totalLength;
            this._totalLength = (this._totalLength + _arg1.rawTextLength);
            this._lines.push(_arg1);
            if (this.vjType != VerticalAlign.TOP){
                this._vjLines.push(new VJHelper(_arg1, _curLine.height));
            };
            commitLastLineState(_curLine);
        }
        public function get textFlow():TextFlow{
            return (_textFlow);
        }
        public function get resetLineHandler():Function{
            return (this._resetLineHandler);
        }
        public function set resetLineHandler(_arg1:Function):void{
            this._resetLineHandler = _arg1;
        }
        override protected function resetLine(_arg1:TextLine):void{
            super.resetLine(_arg1);
            if (this._resetLineHandler != null){
                this._resetLineHandler(_arg1);
            };
        }
        override protected function composeNextLine():TextLine{
            var _local1:TextLine;
            var _local2:TextLine;
            var _local3:Boolean;
            var _local4:Number;
            if (((_listItemElement) && ((_listItemElement.getAbsoluteStart() == (_curElementStart + _curElementOffset))))){
                _local3 = (_curParaElement.computedFormat.direction == Direction.RTL);
                _local1 = TextFlowLine.createNumberLine(_listItemElement, _curParaElement, _flowComposer.swfContext, ((_local3) ? _parcelList.rightMargin : _parcelList.leftMargin));
                pushInsideListItemMargins(_local1);
            };
            if (!_parcelList.getLineSlug(_lineSlug, 0, 0, _textIndent, (_curParaFormat.direction == Direction.LTR))){
                return (null);
            };
            while (true) {
                while (true) {
                    _local2 = createTextLine(_lineSlug.width, !(_lineSlug.wrapsKnockOut));
                    if (_local2){
                        break;
                    };
                    _local4 = _curParcel.findNextTransition(_lineSlug.depth);
                    if (_local4 < Number.MAX_VALUE){
                        _parcelList.addTotalDepth((_local4 - _lineSlug.depth));
                        _parcelList.getLineSlug(_lineSlug, 0, 1, _textIndent, (_curParaFormat.direction == Direction.LTR));
                    } else {
                        advanceToNextParcel();
                        if (!_parcelList.atEnd()){
                            if (_parcelList.getLineSlug(_lineSlug, 0, 1, _textIndent, (_curParaFormat.direction == Direction.LTR))){
                                continue;
                            };
                        };
                        popInsideListItemMargins(_local1);
                        return (null);
                    };
                };
                if (fitLineToParcel(_local2, true, _local1)){
                    break;
                };
                if (this.resetLineHandler != null){
                    this.resetLineHandler(_local2);
                };
                if (_parcelList.atEnd()){
                    popInsideListItemMargins(_local1);
                    return (null);
                };
            };
            popInsideListItemMargins(_local1);
            return (_local2);
        }
        tlf_internal function swapLines(_arg1:Array):Array{
            var _local2:Array = this._lines;
            this._lines = _arg1;
            return (_local2);
        }
        override protected function finalParcelAdjustment(_arg1:ContainerController):void{
            var _local6:TextLine;
            var _local7:int;
            var _local8:Number;
            var _local9:Number;
            var _local10:Number;
            var _local11:ParagraphElement;
            var _local12:ITextLayoutFormat;
            var _local13:Number;
            var _local14:Number;
            var _local15:ParagraphElement;
            var _local16:FlowLeafElement;
            var _local17:ParagraphElement;
            var _local18:Number;
            var _local19:TextLine;
            var _local20:FlowGroupElement;
            var _local21:int;
            var _local22:Number;
            var _local2:Number = TextLine.MAX_LINE_WIDTH;
            var _local3:Number = TextLine.MAX_LINE_WIDTH;
            var _local4:Number = -(TextLine.MAX_LINE_WIDTH);
            var _local5 = (_blockProgression == BlockProgression.RL);
            if (!isNaN(_parcelLogicalTop)){
                if (_local5){
                    _local4 = _parcelLogicalTop;
                } else {
                    _local3 = _parcelLogicalTop;
                };
            };
            if (!_measuring){
                if (_local5){
                    _local3 = _accumulatedMinimumStart;
                } else {
                    _local2 = _accumulatedMinimumStart;
                };
            } else {
                _local7 = 0;
                _local13 = 0;
                _local14 = 0;
                _local15 = null;
                for each (_local6 in this._lines) {
                    _local16 = _arg1.textFlow.findLeaf(_local7);
                    _local17 = _local16.getParagraph();
                    if (_local17 != _local15){
                        _local13 = 0;
                        _local14 = 0;
                        _local20 = _local17;
                        while (((_local20) && (_local20.parent))) {
                            if (_local5){
                                _local13 = (_local13 + _local20.getEffectivePaddingRight());
                                _local14 = (_local14 + _local20.getEffectivePaddingTop());
                            } else {
                                _local13 = (_local13 + _local20.getEffectivePaddingTop());
                                _local14 = (_local14 + _local20.getEffectivePaddingLeft());
                            };
                            _local20 = _local20.parent;
                        };
                        _local15 = _local17;
                    };
                    _local18 = 0;
                    if (_local6.numChildren > 0){
                        _local21 = _local16.getAbsoluteStart();
                        _local18 = TextFlowLine.getTextLineTypographicAscent(_local6, _local16, _local21, (_local7 + _local6.rawTextLength));
                    };
                    if (_local11 != _local17){
                        _local12 = _local17.computedFormat;
                        if (_local12.direction == Direction.LTR){
                            _local8 = Math.max(_local12.textIndent, 0);
                            _local9 = _local12.paragraphStartIndent;
                        } else {
                            _local8 = 0;
                            _local9 = _local12.paragraphEndIndent;
                        };
                    };
                    _local9 = (_local9 + _local14);
                    _local10 = (((_local6.textBlockBeginIndex == 0)) ? (_local9 + _local8) : _local9);
                    _local10 = ((_local5) ? (_local6.y - _local10) : (_local6.x - _local10));
                    _local19 = TextFlowLine.findNumberLine(_local6);
                    if (_local19){
                        _local22 = ((_local5) ? (_local19.y + _local6.y) : (_local19.x + _local6.x));
                        _local10 = Math.min(_local10, _local22);
                    };
                    if (_local5){
                        _local3 = Math.min(_local10, _local3);
                        _local4 = Math.max(((_local6.x + Math.max(_local18, _local6.ascent)) + _local13), _local4);
                    } else {
                        _local2 = Math.min(_local10, _local2);
                        if (_local18 < _local6.ascent){
                            _local18 = _local6.ascent;
                        };
                        _local3 = Math.min((_local6.y - (_local18 + _local13)), _local3);
                    };
                    _local7 = (_local7 + _local6.rawTextLength);
                };
            };
            if (((!((_local2 == TextLine.MAX_LINE_WIDTH))) && ((Math.abs((_local2 - _parcelLeft)) >= 1)))){
                _parcelLeft = _local2;
            };
            if (((!((_local4 == -(TextLine.MAX_LINE_WIDTH)))) && ((Math.abs((_local4 - _parcelRight)) >= 1)))){
                _parcelRight = _local4;
            };
            if (((!((_local3 == TextLine.MAX_LINE_WIDTH))) && ((Math.abs((_local3 - _parcelTop)) >= 1)))){
                _parcelTop = _local3;
            };
        }
        override tlf_internal function releaseAnyReferences():void{
            super.releaseAnyReferences();
            this.workingLine.initialize(null, 0, 0, 0, 0, null);
            this.resetLineHandler = null;
        }

    }
}//package flashx.textLayout.compose 

import flash.text.engine.*;

class VJHelper implements IVerticalJustificationLine {

    private var _line:TextLine;
    private var _height:Number;

    public function VJHelper(_arg1:TextLine, _arg2:Number){
        this._line = _arg1;
        this._height = _arg2;
    }
    public function get x():Number{
        return (this._line.x);
    }
    public function set x(_arg1:Number):void{
        this._line.x = _arg1;
    }
    public function get y():Number{
        return (this._line.y);
    }
    public function set y(_arg1:Number):void{
        this._line.y = _arg1;
    }
    public function get ascent():Number{
        return (this._line.ascent);
    }
    public function get descent():Number{
        return (this._line.descent);
    }
    public function get height():Number{
        return (this._height);
    }

}
﻿package flashx.textLayout.compose {
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;

    public final class VerticalJustifier {

        public static function applyVerticalAlignmentToColumn(_arg1:ContainerController, _arg2:String, _arg3:Array, _arg4:int, _arg5:int, _arg6:int, _arg7:int):Number{
            var _local8:IVerticalAdjustmentHelper;
            var _local9:int;
            var _local10:Number;
            var _local11:IVerticalJustificationLine;
            var _local12:Number;
            var _local13:int;
            var _local14:FloatCompositionData;
            if (_arg1.rootElement.computedFormat.blockProgression == BlockProgression.RL){
                _local8 = new RL_VJHelper(_arg1);
            } else {
                _local8 = new TB_VJHelper(_arg1);
            };
            switch (_arg2){
                case VerticalAlign.MIDDLE:
                case VerticalAlign.BOTTOM:
                    _local11 = _arg3[((_arg4 + _arg5) - 1)];
                    _local12 = _local8.getBottom(_local11, _arg1, _arg6, _arg7);
                    _local10 = ((_arg2)==VerticalAlign.MIDDLE) ? _local8.computeMiddleAdjustment(_local12) : _local8.computeBottomAdjustment(_local12);
                    _local9 = _arg4;
                    while (_local9 < (_arg4 + _arg5)) {
                        _local8.applyAdjustment(_arg3[_local9]);
                        _local9++;
                    };
                    _local13 = _arg6;
                    while (_local13 < _arg7) {
                        _local14 = _arg1.getFloatAt(_local13);
                        if (_local14.floatType != Float.NONE){
                            _local8.applyAdjustmentToFloat(_local14);
                        };
                        _local13++;
                    };
                    break;
                case VerticalAlign.JUSTIFY:
                    _local10 = _local8.computeJustifyAdjustment(_arg3, _arg4, _arg5);
                    _local8.applyJustifyAdjustment(_arg3, _arg4, _arg5);
                    break;
            };
            return (_local10);
        }

    }
}//package flashx.textLayout.compose 

import flashx.textLayout.container.*;
import flashx.textLayout.formats.*;
import flashx.textLayout.elements.*;

interface IVerticalAdjustmentHelper {

    "VerticalJustifier.as$93:IVerticalAdjustmentHelper"?? function getBottom(_arg1:IVerticalJustificationLine, _arg2:ContainerController, _arg3:int, _arg4:int):Number;
    "VerticalJustifier.as$93:IVerticalAdjustmentHelper"?? function computeMiddleAdjustment(_arg1:Number):Number;
    "VerticalJustifier.as$93:IVerticalAdjustmentHelper"?? function applyAdjustment(_arg1:IVerticalJustificationLine):void;
    "VerticalJustifier.as$93:IVerticalAdjustmentHelper"?? function applyAdjustmentToFloat(_arg1:FloatCompositionData):void;
    "VerticalJustifier.as$93:IVerticalAdjustmentHelper"?? function computeBottomAdjustment(_arg1:Number):Number;
    "VerticalJustifier.as$93:IVerticalAdjustmentHelper"?? function computeJustifyAdjustment(_arg1:Array, _arg2:int, _arg3:int):Number;
    "VerticalJustifier.as$93:IVerticalAdjustmentHelper"?? function applyJustifyAdjustment(_arg1:Array, _arg2:int, _arg3:int):void;

}
class TB_VJHelper implements IVerticalAdjustmentHelper {

    private var _textFrame:ContainerController;
    private var adj:Number;

    public function TB_VJHelper(_arg1:ContainerController):void{
        this._textFrame = _arg1;
    }
    public function getBottom(_arg1:IVerticalJustificationLine, _arg2:ContainerController, _arg3:int, _arg4:int):Number{
        var _local7:FloatCompositionData;
        var _local8:InlineGraphicElement;
        var _local5:Number = (this.getBaseline(_arg1) + _arg1.descent);
        var _local6:int = _arg3;
        while (_local6 < _arg4) {
            _local7 = _arg2.getFloatAt(_local6);
            if (_local7.floatType != Float.NONE){
                _local8 = (_arg2.rootElement.findLeaf(_local7.absolutePosition) as InlineGraphicElement);
                _local5 = Math.max(_local5, (_local7.y + _local8.elementHeightWithMarginsAndPadding()));
            };
            _local6++;
        };
        return (_local5);
    }
    public function getBottomOfLine(_arg1:IVerticalJustificationLine):Number{
        return ((this.getBaseline(_arg1) + _arg1.descent));
    }
    private function getBaseline(_arg1:IVerticalJustificationLine):Number{
        if ((_arg1 is TextFlowLine)){
            return ((_arg1.y + _arg1.ascent));
        };
        return (_arg1.y);
    }
    private function setBaseline(_arg1:IVerticalJustificationLine, _arg2:Number):void{
        if ((_arg1 is TextFlowLine)){
            _arg1.y = (_arg2 - _arg1.ascent);
        } else {
            _arg1.y = _arg2;
        };
    }
    public function computeMiddleAdjustment(_arg1:Number):Number{
        var _local2:Number = (this._textFrame.compositionHeight - Number(this._textFrame.getTotalPaddingBottom()));
        this.adj = ((_local2 - _arg1) / 2);
        if (this.adj < 0){
            this.adj = 0;
        };
        return (this.adj);
    }
    public function computeBottomAdjustment(_arg1:Number):Number{
        var _local2:Number = (this._textFrame.compositionHeight - Number(this._textFrame.getTotalPaddingBottom()));
        this.adj = (_local2 - _arg1);
        if (this.adj < 0){
            this.adj = 0;
        };
        return (this.adj);
    }
    public function applyAdjustment(_arg1:IVerticalJustificationLine):void{
        _arg1.y = (_arg1.y + this.adj);
    }
    public function applyAdjustmentToFloat(_arg1:FloatCompositionData):void{
        _arg1.y = (_arg1.y + this.adj);
    }
    public function computeJustifyAdjustment(_arg1:Array, _arg2:int, _arg3:int):Number{
        this.adj = 0;
        if (_arg3 == 1){
            return (0);
        };
        var _local4:IVerticalJustificationLine = _arg1[_arg2];
        var _local5:Number = this.getBaseline(_local4);
        var _local6:IVerticalJustificationLine = _arg1[((_arg2 + _arg3) - 1)];
        var _local7:Number = (this._textFrame.compositionHeight - Number(this._textFrame.getTotalPaddingBottom()));
        var _local8:Number = (_local7 - this.getBottomOfLine(_local6));
        if (_local8 < 0){
            return (0);
        };
        var _local9:Number = this.getBaseline(_local6);
        this.adj = (_local8 / (_local9 - _local5));
        return (this.adj);
    }
    public function applyJustifyAdjustment(_arg1:Array, _arg2:int, _arg3:int):void{
        var _local7:IVerticalJustificationLine;
        var _local8:Number;
        var _local9:Number;
        if ((((_arg3 == 1)) || ((this.adj == 0)))){
            return;
        };
        var _local4:IVerticalJustificationLine = _arg1[_arg2];
        var _local5:Number = this.getBaseline(_local4);
        var _local6:Number = _local5;
        var _local10 = 1;
        while (_local10 < _arg3) {
            _local7 = _arg1[(_local10 + _arg2)];
            _local9 = this.getBaseline(_local7);
            _local8 = (_local5 + ((_local9 - _local6) * (1 + this.adj)));
            this.setBaseline(_local7, _local8);
            _local6 = _local9;
            _local5 = _local8;
            _local10++;
        };
    }

}
class RL_VJHelper implements IVerticalAdjustmentHelper {

    private var _textFrame:ContainerController;
    private var adj:Number = 0;

    public function RL_VJHelper(_arg1:ContainerController):void{
        this._textFrame = _arg1;
    }
    public function getBottom(_arg1:IVerticalJustificationLine, _arg2:ContainerController, _arg3:int, _arg4:int):Number{
        var _local8:FloatCompositionData;
        var _local5:Number = (this._textFrame.compositionWidth - Number(this._textFrame.getTotalPaddingLeft()));
        var _local6:Number = ((_local5 + _arg1.x) - _arg1.descent);
        var _local7:int = _arg3;
        while (_local7 < _arg4) {
            _local8 = _arg2.getFloatAt(_local7);
            if (_local8.floatType != Float.NONE){
                _local6 = Math.min(_local6, (_local8.x + _local5));
            };
            _local7++;
        };
        return (_local6);
    }
    public function computeMiddleAdjustment(_arg1:Number):Number{
        this.adj = (_arg1 / 2);
        if (this.adj < 0){
            this.adj = 0;
        };
        return (-(this.adj));
    }
    public function computeBottomAdjustment(_arg1:Number):Number{
        this.adj = _arg1;
        if (this.adj < 0){
            this.adj = 0;
        };
        return (-(this.adj));
    }
    public function applyAdjustment(_arg1:IVerticalJustificationLine):void{
        _arg1.x = (_arg1.x - this.adj);
    }
    public function applyAdjustmentToFloat(_arg1:FloatCompositionData):void{
        _arg1.x = (_arg1.x - this.adj);
    }
    public function computeJustifyAdjustment(_arg1:Array, _arg2:int, _arg3:int):Number{
        this.adj = 0;
        if (_arg3 == 1){
            return (0);
        };
        var _local4:IVerticalJustificationLine = _arg1[_arg2];
        var _local5:Number = _local4.x;
        var _local6:IVerticalJustificationLine = _arg1[((_arg2 + _arg3) - 1)];
        var _local7:Number = (Number(this._textFrame.getTotalPaddingLeft()) - this._textFrame.compositionWidth);
        var _local8:Number = ((_local6.x - _local6.descent) - _local7);
        if (_local8 < 0){
            return (0);
        };
        var _local9:Number = _local6.x;
        this.adj = (_local8 / (_local5 - _local9));
        return (-(this.adj));
    }
    public function applyJustifyAdjustment(_arg1:Array, _arg2:int, _arg3:int):void{
        var _local7:IVerticalJustificationLine;
        var _local8:Number;
        var _local9:Number;
        if ((((_arg3 == 1)) || ((this.adj == 0)))){
            return;
        };
        var _local4:IVerticalJustificationLine = _arg1[_arg2];
        var _local5:Number = _local4.x;
        var _local6:Number = _local5;
        var _local10 = 1;
        while (_local10 < _arg3) {
            _local7 = _arg1[(_local10 + _arg2)];
            _local9 = _local7.x;
            _local8 = (_local5 - ((_local6 - _local9) * (1 + this.adj)));
            _local7.x = _local8;
            _local6 = _local9;
            _local5 = _local8;
            _local10++;
        };
    }

}
﻿package flashx.textLayout.compose {
    import flash.text.engine.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.*;

    public class Parcel {

        public var x:Number;
        public var y:Number;
        public var width:Number;
        public var height:Number;
        public var logicalWidth:Number;
        private var _controller:ContainerController;
        private var _columnIndex:int;
        private var _fitAny:Boolean;
        private var _composeToPosition:Boolean;
        private var _left:Edge;
        private var _right:Edge;
        private var _maxWidth:Number;
        private var _verticalText:Boolean;

        public function Parcel(_arg1:Boolean, _arg2:Number, _arg3:Number, _arg4:Number, _arg5:Number, _arg6:ContainerController, _arg7:int){
            this.initialize(_arg1, _arg2, _arg3, _arg4, _arg5, _arg6, _arg7);
        }
        public function initialize(_arg1:Boolean, _arg2:Number, _arg3:Number, _arg4:Number, _arg5:Number, _arg6:ContainerController, _arg7:int):Parcel{
            var _local8:Number;
            var _local9:Number;
            this.x = _arg2;
            this.y = _arg3;
            this.width = _arg4;
            this.height = _arg5;
            this.logicalWidth = ((_arg1) ? _arg5 : _arg4);
            this._verticalText = _arg1;
            this._controller = _arg6;
            this._columnIndex = _arg7;
            this._fitAny = false;
            this._composeToPosition = false;
            if (_arg1){
                _local8 = _arg3;
                this._maxWidth = _arg5;
            } else {
                _local8 = _arg2;
                this._maxWidth = _arg4;
            };
            if (this._maxWidth <= 0){
                throw (new Error("Malformed column"));
            };
            this._left = new Edge(_local8);
            this._right = new Edge((_local8 + this._maxWidth));
            return (this);
        }
        tlf_internal function releaseAnyReferences():void{
            this._controller = null;
        }
        public function get bottom():Number{
            return ((this.y + this.height));
        }
        public function get right():Number{
            return ((this.x + this.width));
        }
        public function get controller():ContainerController{
            return (this._controller);
        }
        public function get columnIndex():int{
            return (this._columnIndex);
        }
        public function get fitAny():Boolean{
            return (this._fitAny);
        }
        public function set fitAny(_arg1:Boolean):void{
            this._fitAny = _arg1;
        }
        public function get composeToPosition():Boolean{
            return (this._composeToPosition);
        }
        public function set composeToPosition(_arg1:Boolean):void{
            this._composeToPosition = _arg1;
        }
        private function getLogicalHeight():Number{
            if (this._verticalText){
                return (((this._controller.measureWidth) ? TextLine.MAX_LINE_WIDTH : this.width));
            };
            return (((this._controller.measureHeight) ? TextLine.MAX_LINE_WIDTH : this.height));
        }
        public function applyClear(_arg1:String, _arg2:Number, _arg3:String):Number{
            var _local4:Number;
            var _local5:Number;
            var _local6:Number = _arg2;
            if (_arg1 == ClearFloats.START){
                _arg1 = ((_arg3)==Direction.LTR) ? ClearFloats.LEFT : ClearFloats.RIGHT;
            } else {
                if (_arg1 == ClearFloats.END){
                    _arg1 = ((_arg3)==Direction.RTL) ? ClearFloats.LEFT : ClearFloats.RIGHT;
                };
            };
            while (_local6 < Number.MAX_VALUE) {
                _local4 = this._left.getMaxForSpan(_local6, (_local6 + 1));
                if ((((_local4 > 0)) && ((((_arg1 == ClearFloats.BOTH)) || ((_arg1 == ClearFloats.LEFT)))))){
                    _local6 = this._left.findNextTransition(_local6);
                } else {
                    _local5 = this._right.getMaxForSpan(_local6, (_local6 + 1));
                    if ((((_local5 > 0)) && ((((_arg1 == ClearFloats.BOTH)) || ((_arg1 == ClearFloats.RIGHT)))))){
                        _local6 = this._right.findNextTransition(_local6);
                    } else {
                        return ((_local6 - _arg2));
                    };
                };
            };
            return (((this._verticalText) ? this.width : this.height));
        }
        public function fitsInHeight(_arg1:Number, _arg2:Number):Boolean{
            return (((this.composeToPosition) || (((_arg1 + _arg2) <= this.getLogicalHeight()))));
        }
        public function getLineSlug(_arg1:Slug, _arg2:Number, _arg3:Number, _arg4:Number, _arg5:Number, _arg6:Number, _arg7:Number, _arg8:Number, _arg9:Boolean, _arg10:Boolean):Boolean{
            if (!this.fitsInHeight(_arg2, _arg5)){
                return (false);
            };
            _arg1.height = _arg3;
            while (_arg2 < Number.MAX_VALUE) {
                _arg1.depth = _arg2;
                _arg1.leftMargin = this._left.getMaxForSpan(_arg1.depth, (_arg1.depth + _arg3));
                _arg1.wrapsKnockOut = !((_arg1.leftMargin == 0));
                if (_arg6 > 0){
                    _arg1.leftMargin = Math.max(_arg6, _arg1.leftMargin);
                } else {
                    _arg1.leftMargin = (_arg1.leftMargin + _arg6);
                };
                _arg1.rightMargin = this._right.getMaxForSpan(_arg1.depth, (_arg1.depth + _arg3));
                _arg1.wrapsKnockOut = ((_arg1.wrapsKnockOut) || (!((_arg1.rightMargin == 0))));
                if (_arg7 > 0){
                    _arg1.rightMargin = Math.max(_arg7, _arg1.rightMargin);
                } else {
                    _arg1.rightMargin = (_arg1.rightMargin + _arg7);
                };
                if (_arg8){
                    if (_arg9){
                        _arg1.leftMargin = (_arg1.leftMargin + _arg8);
                    } else {
                        _arg1.rightMargin = (_arg1.rightMargin + _arg8);
                    };
                };
                if (((((_arg10) || (((this._verticalText) && (this._controller.measureHeight))))) || (((!(this._verticalText)) && (this._controller.measureWidth))))){
                    _arg1.width = TextLine.MAX_LINE_WIDTH;
                } else {
                    _arg1.width = (this.logicalWidth - (_arg1.leftMargin + _arg1.rightMargin));
                };
                if (((!(_arg4)) || ((_arg1.width >= _arg4)))){
                    break;
                };
                _arg2 = this.findNextTransition(_arg2);
            };
            return ((_arg2 < Number.MAX_VALUE));
        }
        public function knockOut(_arg1:Number, _arg2:Number, _arg3:Number, _arg4:Boolean):void{
            var _local5:Edge = ((_arg4) ? this._left : this._right);
            _local5.addSpan(_arg1, _arg2, _arg3);
        }
        public function removeKnockOut(_arg1:Number, _arg2:Number, _arg3:Number, _arg4:Boolean):void{
            var _local5:Edge = ((_arg4) ? this._left : this._right);
            _local5.removeSpan(_arg1, _arg2, _arg3);
        }
        public function isRectangular():Boolean{
            return ((((this._left.numSpans <= 0)) && ((this._right.numSpans <= 0))));
        }
        public function findNextTransition(_arg1:Number):Number{
            return (Math.min(this._left.findNextTransition(_arg1), this._right.findNextTransition(_arg1)));
        }

    }
}//package flashx.textLayout.compose 

import __AS3__.vec.*;

class Span {

    public var x:Number;
    public var ymin:Number;
    public var ymax:Number;

    public function Span(_arg1:Number, _arg2:Number, _arg3:Number){
        this.x = _arg1;
        this.ymin = _arg2;
        this.ymax = _arg3;
    }
    public function overlapsInY(_arg1:Number, _arg2:Number):Boolean{
        return (!((((_arg2 < this.ymin)) || ((_arg1 >= this.ymax)))));
    }
    public function equals(_arg1:Number, _arg2:Number, _arg3:Number):Boolean{
        return ((((((_arg1 == this.x)) && ((_arg2 == this.ymin)))) && ((_arg3 == this.ymax))));
    }

}
class Edge {

    private var _xbase:Number;
    private var _spanList:Vector.<Span>;

    public function Edge(_arg1:Number){
        this._xbase = _arg1;
        this._spanList = new Vector.<Span>();
    }
    public function get base():Number{
        return (this._xbase);
    }
    public function addSpan(_arg1:Number, _arg2:Number, _arg3:Number):void{
        this._spanList.push(new Span(_arg1, _arg2, _arg3));
    }
    public function removeSpan(_arg1:Number, _arg2:Number, _arg3:Number):void{
        var _local4:int;
        while (_local4 < this._spanList.length) {
            if (this._spanList[_local4].equals(_arg1, _arg2, _arg3)){
                this._spanList.splice(_local4, 1);
                return;
            };
            _local4++;
        };
    }
    public function get numSpans():int{
        return (this._spanList.length);
    }
    public function getMaxForSpan(_arg1:Number, _arg2:Number):Number{
        var _local4:Span;
        var _local3:Number = 0;
        for each (_local4 in this._spanList) {
            if ((((_local4.x > _local3)) && (_local4.overlapsInY(_arg1, _arg2)))){
                _local3 = _local4.x;
            };
        };
        return (_local3);
    }
    public function findNextTransition(_arg1:Number):Number{
        var _local3:Span;
        var _local2:Number = Number.MAX_VALUE;
        for each (_local3 in this._spanList) {
            if ((((_local3.ymin > _arg1)) && ((_local3.ymin < _local2)))){
                _local2 = _local3.ymin;
            };
            if ((((_local3.ymax > _arg1)) && ((_local3.ymax < _local2)))){
                _local2 = _local3.ymax;
            };
        };
        return (_local2);
    }

}
﻿package flashx.textLayout.compose {

    public final class TextFlowLineLocation {

        public static const FIRST:uint = 1;
        public static const MIDDLE:uint = 2;
        public static const LAST:uint = 4;
        public static const ONLY:uint = 5;

    }
}//package flashx.textLayout.compose 
﻿package flashx.textLayout.compose {
    import flash.utils.*;
    import flash.text.engine.*;
    import flashx.textLayout.*;

    public class TextLineRecycler {

        private static const _textLineRecyclerCanBeEnabled:Boolean = new TextBlock().hasOwnProperty("recreateTextLine");

        private static var _textLineRecyclerEnabled:Boolean = _textLineRecyclerCanBeEnabled;
        private static var reusableLineCache:Dictionary = new Dictionary(true);

        public static function get textLineRecyclerEnabled():Boolean{
            return (_textLineRecyclerEnabled);
        }
        public static function set textLineRecyclerEnabled(_arg1:Boolean):void{
            _textLineRecyclerEnabled = ((_arg1) ? _textLineRecyclerCanBeEnabled : false);
        }
        public static function addLineForReuse(_arg1:TextLine):void{
            if (_textLineRecyclerEnabled){
                reusableLineCache[_arg1] = null;
            };
        }
        public static function getLineForReuse():TextLine{
            var _local1:Object;
            if (_textLineRecyclerEnabled){
                for (_local1 in reusableLineCache) {
                    delete reusableLineCache[_local1];
                    return ((_local1 as TextLine));
                };
            };
            return (null);
        }
        tlf_internal static function emptyReusableLineCache():void{
            reusableLineCache = new Dictionary(true);
        }

    }
}//package flashx.textLayout.compose 
﻿package flashx.textLayout.compose {
    import flash.text.engine.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.*;

    public class FlowComposerBase {

        private var _lines:Array;
        protected var _textFlow:TextFlow;
        protected var _damageAbsoluteStart:int;
        protected var _swfContext:ISWFContext;

        public function FlowComposerBase(){
            this._lines = new Array();
            this._swfContext = null;
        }
        tlf_internal static function computeBaseSWFContext(_arg1:ISWFContext):ISWFContext{
            return (((((_arg1) && (Object(_arg1).hasOwnProperty("getBaseSWFContext")))) ? _arg1["getBaseSWFContext"]() : _arg1));
        }

        public function get lines():Array{
            return (this._lines);
        }
        public function getLineAt(_arg1:int):TextFlowLine{
            return (this._lines[_arg1]);
        }
        public function get numLines():int{
            return (this._lines.length);
        }
        public function get textFlow():TextFlow{
            return (this._textFlow);
        }
        public function get damageAbsoluteStart():int{
            return (this._damageAbsoluteStart);
        }
        protected function initializeLines():void{
            var _local2:TextFlowLine;
            var _local3:TextLine;
            var _local4:TextBlock;
            var _local1:BackgroundManager = ((this._textFlow) ? this._textFlow.backgroundManager : null);
            if (TextLineRecycler.textLineRecyclerEnabled){
                for each (_local2 in this._lines) {
                    _local3 = _local2.peekTextLine();
                    if (((_local3) && (!(_local3.parent)))){
                        if (_local3.validity != TextLineValidity.INVALID){
                            _local4 = _local3.textBlock;
                            _local3.textBlock.releaseLines(_local4.firstLine, _local4.lastLine);
                        };
                        _local3.userData = null;
                        TextLineRecycler.addLineForReuse(_local3);
                        if (_local1){
                            _local1.removeLineFromCache(_local3);
                        };
                    };
                };
            };
            this._lines.splice(0);
            this._damageAbsoluteStart = 0;
        }
        protected function finalizeLinesAfterCompose():void{
            var _local1:TextFlowLine;
            var _local2:int;
            if (this._lines.length == 0){
                _local1 = new TextFlowLine(null, null);
                _local1.setTextLength(this.textFlow.textLength);
                this._lines.push(_local1);
            } else {
                _local1 = this._lines[(this._lines.length - 1)];
                _local2 = (_local1.absoluteStart + _local1.textLength);
                if (_local2 < this.textFlow.textLength){
                    _local1 = new TextFlowLine(null, null);
                    _local1.setAbsoluteStart(_local2);
                    _local1.setTextLength((this.textFlow.textLength - _local2));
                    this._lines.push(_local1);
                };
            };
        }
        public function updateLengths(_arg1:int, _arg2:int):void{
            var _local3:TextFlowLine;
            var _local6:int;
            var _local7:int;
            var _local8:int;
            var _local9:int;
            if (this.numLines == 0){
                return;
            };
            var _local4:int = this.findLineIndexAtPosition(_arg1);
            var _local5:int = int.MAX_VALUE;
            if (_arg2 > 0){
                if (_local4 == this._lines.length){
                    _local3 = this._lines[(this._lines.length - 1)];
                    _local3.setTextLength((_local3.textLength + _arg2));
                } else {
                    var _temp1 = _local4;
                    _local4 = (_local4 + 1);
                    _local3 = this._lines[_temp1];
                    _local3.setTextLength((_local3.textLength + _arg2));
                };
                _local5 = _local3.absoluteStart;
            } else {
                _local6 = -(_arg2);
                _local7 = 0;
                while (true) {
                    _local3 = this._lines[_local4];
                    _local3.setAbsoluteStart(((_local3.absoluteStart + _local6) + _arg2));
                    _local7 = (((_arg1 > _local3.absoluteStart)) ? _arg1 : _local3.absoluteStart);
                    _local8 = (_local3.absoluteStart + _local3.textLength);
                    _local9 = 0;
                    if ((_local7 + _local6) <= _local8){
                        if (_local7 == _local3.absoluteStart){
                            _local9 = _local6;
                        } else {
                            if (_local7 == _arg1){
                                _local9 = _local6;
                            };
                        };
                    } else {
                        if (_local7 == _local3.absoluteStart){
                            _local9 = _local3.textLength;
                        } else {
                            _local9 = (_local8 - _local7);
                        };
                    };
                    if ((((_local7 == _local3.absoluteStart)) && (((_local7 + _local9) == _local8)))){
                        _local6 = (_local6 - _local9);
                        this._lines.splice(_local4, 1);
                    } else {
                        if (_local5 > _local3.absoluteStart){
                            _local5 = _local3.absoluteStart;
                        };
                        _local3.setTextLength((_local3.textLength - _local9));
                        _local6 = (_local6 - _local9);
                        _local4++;
                    };
                    if (_local6 <= 0){
                        break;
                    };
                };
            };
            while (_local4 < this._lines.length) {
                _local3 = this._lines[_local4];
                if (_arg2 >= 0){
                    _local3.setAbsoluteStart((_local3.absoluteStart + _arg2));
                } else {
                    _local3.setAbsoluteStart((((_local3.absoluteStart > -(_arg2))) ? (_local3.absoluteStart + _arg2) : 0));
                };
                _local4++;
            };
            if (this._damageAbsoluteStart > _local5){
                this._damageAbsoluteStart = _local5;
            };
        }
        public function damage(_arg1:int, _arg2:int, _arg3:String):void{
            var _local6:TextFlowLine;
            if ((((this._lines.length == 0)) || ((this.textFlow.textLength == 0)))){
                return;
            };
            if (_arg1 == this.textFlow.textLength){
                return;
            };
            var _local4:int = this.findLineIndexAtPosition(_arg1);
            var _local5:FlowLeafElement = this.textFlow.findLeaf(_arg1);
            if (((_local5) && ((_local4 > 0)))){
                _local4--;
            };
            if (this.lines[_local4].absoluteStart < this._damageAbsoluteStart){
                this._damageAbsoluteStart = this._lines[_local4].absoluteStart;
            };
            while (_local4 < this._lines.length) {
                _local6 = this._lines[_local4];
                if (_local6.absoluteStart >= (_arg1 + _arg2)){
                    break;
                };
                _local6.damage(_arg3);
                _local4++;
            };
        }
        public function isDamaged(_arg1:int):Boolean{
            if (this._lines.length == 0){
                return (true);
            };
            return ((((this._damageAbsoluteStart <= _arg1)) && (!((this._damageAbsoluteStart == this.textFlow.textLength)))));
        }
        public function findLineIndexAtPosition(_arg1:int, _arg2:Boolean=false):int{
            var _local5:int;
            var _local6:TextFlowLine;
            var _local3:int;
            var _local4:int = (this._lines.length - 1);
            while (_local3 <= _local4) {
                _local5 = ((_local3 + _local4) / 2);
                _local6 = this._lines[_local5];
                if (_local6.absoluteStart <= _arg1){
                    if (_arg2){
                        if ((_local6.absoluteStart + _local6.textLength) >= _arg1){
                            return (_local5);
                        };
                    } else {
                        if ((_local6.absoluteStart + _local6.textLength) > _arg1){
                            return (_local5);
                        };
                    };
                    _local3 = (_local5 + 1);
                } else {
                    _local4 = (_local5 - 1);
                };
            };
            return (this._lines.length);
        }
        public function findLineAtPosition(_arg1:int, _arg2:Boolean=false):TextFlowLine{
            return (this._lines[this.findLineIndexAtPosition(_arg1, _arg2)]);
        }
        public function addLine(_arg1:TextFlowLine, _arg2:int):void{
            var _local4:TextFlowLine;
            var _local6:int;
            var _local7:int;
            var _local8:int;
            var _local9:int;
            var _local10:BackgroundManager;
            var _local11:int;
            var _local12:TextLine;
            var _local3:TextFlowLine = this._lines[_arg2];
            var _local5:int = int.MAX_VALUE;
            if (this._damageAbsoluteStart == _arg1.absoluteStart){
                this._damageAbsoluteStart = (_arg1.absoluteStart + _arg1.textLength);
            };
            if (_local3 == null){
                this.lines.push(_arg1);
            } else {
                if (_local3.absoluteStart != _arg1.absoluteStart){
                    if ((_local3.absoluteStart + _local3.textLength) > (_arg1.absoluteStart + _arg1.textLength)){
                        _local4 = new TextFlowLine(null, _arg1.paragraph);
                        _local4.setAbsoluteStart((_arg1.absoluteStart + _arg1.textLength));
                        _local6 = _local3.textLength;
                        _local3.setTextLength((_arg1.absoluteStart - _local3.absoluteStart));
                        _local4.setTextLength(((_local6 - _arg1.textLength) - _local3.textLength));
                        this._lines.splice((_arg2 + 1), 0, _arg1, _local4);
                    } else {
                        _local3.setTextLength((_arg1.absoluteStart - _local3.absoluteStart));
                        _local4 = this._lines[(_arg2 + 1)];
                        _local4.setTextLength(((_arg1.absoluteStart + _arg1.textLength) - _local4.absoluteStart));
                        _local4.setAbsoluteStart((_arg1.absoluteStart + _arg1.textLength));
                        this._lines.splice((_arg2 + 1), 0, _arg1);
                    };
                    _local5 = _local3.absoluteStart;
                } else {
                    if (_local3.textLength > _arg1.textLength){
                        _local3.setTextLength((_local3.textLength - _arg1.textLength));
                        _local3.setAbsoluteStart((_arg1.absoluteStart + _arg1.textLength));
                        _local3.damage(TextLineValidity.INVALID);
                        this._lines.splice(_arg2, 0, _arg1);
                        _local5 = _local3.absoluteStart;
                    } else {
                        _local7 = 1;
                        if (_local3.textLength != _arg1.textLength){
                            _local8 = (_arg1.textLength - _local3.textLength);
                            _local9 = (_arg2 + 1);
                            while (_local8 > 0) {
                                _local4 = this._lines[_local9];
                                if (_local8 < _local4.textLength){
                                    _local4.setTextLength((_local4.textLength - _local8));
                                    _local4.damage(TextLineValidity.INVALID);
                                    break;
                                };
                                _local7++;
                                _local8 = (_local8 - _local4.textLength);
                                _local9++;
                                _local4 = (((_local9 < this._lines.length)) ? this._lines[_local9] : null);
                            };
                            if (((_local4) && (!((_local4.absoluteStart == (_arg1.absoluteStart + _arg1.textLength)))))){
                                _local4.setAbsoluteStart((_arg1.absoluteStart + _arg1.textLength));
                                _local4.damage(TextLineValidity.INVALID);
                            };
                            _local5 = (_arg1.absoluteStart + _arg1.textLength);
                        };
                        if (TextLineRecycler.textLineRecyclerEnabled){
                            _local10 = this.textFlow.backgroundManager;
                            _local11 = _arg2;
                            while (_local11 < (_arg2 + _local7)) {
                                _local12 = TextFlowLine(this._lines[_local11]).peekTextLine();
                                if (((_local12) && (!(_local12.parent)))){
                                    if (_local12.validity != TextLineValidity.VALID){
                                        _local12.userData = null;
                                        TextLineRecycler.addLineForReuse(_local12);
                                        if (_local10){
                                            _local10.removeLineFromCache(_local12);
                                        };
                                    };
                                };
                                _local11++;
                            };
                        };
                        this._lines.splice(_arg2, _local7, _arg1);
                    };
                };
            };
            if (this._damageAbsoluteStart > _local5){
                this._damageAbsoluteStart = _local5;
            };
        }
        public function get swfContext():ISWFContext{
            return (this._swfContext);
        }
        public function set swfContext(_arg1:ISWFContext):void{
            var _local2:ISWFContext;
            var _local3:ISWFContext;
            if (_arg1 != this._swfContext){
                if (this.textFlow){
                    _local2 = computeBaseSWFContext(_arg1);
                    _local3 = computeBaseSWFContext(this._swfContext);
                    this._swfContext = _arg1;
                    if (_local2 != _local3){
                        this.damage(0, this.textFlow.textLength, FlowDamageType.INVALID);
                        this.textFlow.invalidateAllFormats();
                    };
                } else {
                    this._swfContext = _arg1;
                };
            };
        }

    }
}//package flashx.textLayout.compose 
﻿package flashx.textLayout.compose {
    import flash.display.*;
    import flash.text.engine.*;
    import flash.geom.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.utils.*;
    import flashx.textLayout.*;

    public class BaseCompose {

        private static var _savedAlignData:AlignData;
        protected static var _savedLineSlug:Slug;
        protected static var _floatSlug:Slug;

        protected var _parcelList:ParcelList;
        protected var _curElement:FlowLeafElement;
        protected var _curElementStart:int;
        protected var _curElementOffset:int;
        protected var _curParaElement:ParagraphElement;
        protected var _curParaFormat:ITextLayoutFormat;
        protected var _curParaStart:int;
        private var _curLineLeadingModel:String = "";
        private var _curLineLeading:Number;
        protected var _lastLineLeadingModel:String = "";
        protected var _lastLineLeading:Number;
        protected var _lastLineDescent:Number;
        protected var _paragraphSpaceCarried:Number;
        protected var _verticalSpaceCarried:Number;
        protected var _blockProgression:String;
        protected var _atColumnStart:Boolean;
        protected var _textIndent:Number;
        private var _controllerLeft:Number;
        private var _controllerTop:Number;
        private var _controllerRight:Number;
        private var _controllerBottom:Number;
        protected var _contentLogicalExtent:Number;
        protected var _contentCommittedExtent:Number;
        protected var _contentCommittedHeight:Number;
        protected var _workingContentLogicalExtent:Number;
        protected var _workingContentExtent:Number;
        protected var _workingContentHeight:Number;
        protected var _workingTotalDepth:Number;
        protected var _workingParcelIndex:int;
        protected var _workingParcelLogicalTop:Number;
        protected var _accumulatedMinimumStart:Number;
        protected var _parcelLogicalTop:Number;
        protected var _parcelLeft:Number;
        protected var _parcelTop:Number;
        protected var _parcelRight:Number;
        protected var _parcelBottom:Number;
        protected var _textFlow:TextFlow;
        private var _releaseLineCreationData:Boolean;
        protected var _flowComposer:IFlowComposer;
        protected var _rootElement:ContainerFormattedElement;
        protected var _stopComposePos:int;
        protected var _startController:ContainerController;
        protected var _startComposePosition:int;
        protected var _controllerVisibleBoundsXTW:int;
        protected var _controllerVisibleBoundsYTW:int;
        protected var _controllerVisibleBoundsWidthTW:int;
        protected var _controllerVisibleBoundsHeightTW:int;
        protected var _forceILGs:Boolean;
        protected var _lastGoodStart:int;
        protected var _linePass:int;
        protected var _paragraphContainsVisibleLines:Boolean;
        protected var _lineSlug:Slug;
        protected var _pushInFloats:Array;
        private var _alignLines:Array;
        protected var _curParcel:Parcel;
        protected var _curParcelStart:int;
        protected var _measuring:Boolean;
        protected var _curLine:TextFlowLine;
        protected var _previousLine:TextLine;
        protected var _listItemElement:ListItemElement;

        public function BaseCompose(){
            this._lineSlug = new Slug();
            super();
        }
        public static function get globalSWFContext():ISWFContext{
            return (GlobalSWFContext.globalSWFContext);
        }
        private static function createAlignData(_arg1:TextFlowLine):AlignData{
            var _local2:AlignData;
            if (_savedAlignData){
                _local2 = _savedAlignData;
                _local2.textFlowLine = _arg1;
                _savedAlignData = null;
                return (_local2);
            };
            return (new AlignData(_arg1));
        }
        private static function releaseAlignData(_arg1:AlignData):void{
            _arg1.textLine = null;
            _arg1.textFlowLine = null;
            _savedAlignData = _arg1;
        }
        tlf_internal static function computeNumberLineAlignment(_arg1:AlignData, _arg2:Number, _arg3:Number, _arg4:TextLine, _arg5:Number, _arg6:Number, _arg7:Number):Number{
            var _local8:Number;
            if (_arg1.textAlign == TextAlign.CENTER){
                if (TextFlowLine.getNumberLineParagraphDirection(_arg4) == Direction.LTR){
                    _local8 = (-(((_arg4.textWidth + TextFlowLine.getListEndIndent(_arg4)) + _arg6)) - _arg1.textIndent);
                } else {
                    _local8 = ((((_arg2 + TextFlowLine.getListEndIndent(_arg4)) + (TextFlowLine.getNumberLineInsideLineWidth(_arg4) - _arg4.textWidth)) + (((_arg5 - _arg6) + _arg7) - _arg3)) + _arg1.textIndent);
                };
            } else {
                if (_arg1.textAlign == TextAlign.RIGHT){
                    if (TextFlowLine.getNumberLineParagraphDirection(_arg4) == Direction.LTR){
                        _local8 = (-(((_arg4.textWidth + TextFlowLine.getListEndIndent(_arg4)) + _arg6)) - _arg1.textIndent);
                    } else {
                        _local8 = (((_arg2 + TextFlowLine.getListEndIndent(_arg4)) + (TextFlowLine.getNumberLineInsideLineWidth(_arg4) - _arg4.textWidth)) + _arg1.textIndent);
                    };
                } else {
                    if (TextFlowLine.getNumberLineParagraphDirection(_arg4) == Direction.LTR){
                        _local8 = (-((_arg4.textWidth + TextFlowLine.getListEndIndent(_arg4))) - _arg1.textIndent);
                    } else {
                        _local8 = ((((_arg2 + TextFlowLine.getListEndIndent(_arg4)) + (TextFlowLine.getNumberLineInsideLineWidth(_arg4) - _arg4.textWidth)) + (_arg5 - _arg3)) + _arg1.textIndent);
                    };
                };
            };
            return (_local8);
        }

        public function get parcelList():ParcelList{
            return (this._parcelList);
        }
        protected function createParcelList():ParcelList{
            return (null);
        }
        protected function releaseParcelList(_arg1:ParcelList):void{
        }
        public function get startController():ContainerController{
            return (this._startController);
        }
        tlf_internal function releaseAnyReferences():void{
            this._curElement = null;
            this._curParaElement = null;
            this._curParaFormat = null;
            this._flowComposer = null;
            this._parcelList = null;
            this._rootElement = null;
            this._startController = null;
            this._textFlow = null;
            this._previousLine = null;
            this._curLine = null;
        }
        protected function initializeForComposer(_arg1:IFlowComposer, _arg2:int, _arg3:int, _arg4:int):void{
            if (!_savedLineSlug){
                this._lineSlug = new Slug();
            } else {
                this._lineSlug = _savedLineSlug;
                _savedLineSlug = null;
            };
            this._parcelList = this.createParcelList();
            this._paragraphSpaceCarried = 0;
            this._blockProgression = _arg1.rootElement.computedFormat.blockProgression;
            this._stopComposePos = (((_arg2 >= 0)) ? Math.min(this._textFlow.textLength, _arg2) : this._textFlow.textLength);
            if (_arg3 < 0){
                _arg3 = 0;
            };
            this._parcelList.beginCompose(_arg1, _arg3, _arg4, (_arg2 > 0));
            this._contentLogicalExtent = 0;
            this._contentCommittedExtent = 0;
            this._contentCommittedHeight = 0;
            this._accumulatedMinimumStart = TextLine.MAX_LINE_WIDTH;
            this._parcelLogicalTop = NaN;
            this._linePass = 0;
            this._lastGoodStart = -1;
            if (this._pushInFloats){
                this._pushInFloats.length = 0;
            };
            this._listItemElement = null;
        }
        private function composeBlockElement(_arg1:FlowGroupElement, _arg2:int):Boolean{
            var _local3:FlowElement;
            var _local4:Boolean;
            var _local7:Number;
            var _local8:Number;
            var _local9:Number;
            var _local10:Number;
            var _local11:ParagraphElement;
            var _local12:Number;
            var _local13:ListItemElement;
            var _local5:int;
            if (_arg2 != (this._curElementStart + this._curElementOffset)){
                _local5 = _arg1.findChildIndexAtPosition(((this._curElementStart + this._curElementOffset) - _arg2));
                _local3 = _arg1.getChildAt(_local5);
                _arg2 = (_arg2 + _local3.parentRelativeStart);
            };
            var _local6 = (_arg2 == (this._curElementStart + this._curElementOffset));
            while ((((_local5 < _arg1.numChildren)) && ((((_arg2 <= this._stopComposePos)) || (!(this.parcelList.atLast())))))) {
                _local3 = _arg1.getChildAt(_local5);
                if (_local3.computedFormat.clearFloats != ClearFloats.NONE){
                    _local12 = this._curParcel.applyClear(_local3.computedFormat.clearFloats, this._parcelList.totalDepth, _local3.computedFormat.direction);
                    this._parcelList.addTotalDepth(_local12);
                    this._verticalSpaceCarried = 0;
                };
                if (this._blockProgression == BlockProgression.RL){
                    _local7 = _local3.getEffectivePaddingTop();
                    _local8 = _local3.getEffectivePaddingBottom();
                    _local9 = _local3.getEffectivePaddingRight();
                    _local10 = _local3.getEffectivePaddingLeft();
                } else {
                    _local7 = _local3.getEffectivePaddingLeft();
                    _local8 = _local3.getEffectivePaddingRight();
                    _local9 = _local3.getEffectivePaddingTop();
                    _local10 = _local3.getEffectivePaddingBottom();
                };
                this._parcelList.pushLeftMargin(_local7);
                this._parcelList.pushRightMargin(_local8);
                if (((_local6) && ((_local9 > this._verticalSpaceCarried)))){
                    this._parcelList.addTotalDepth((_local9 - this._verticalSpaceCarried));
                };
                this._verticalSpaceCarried = Math.max(_local9, 0);
                _local11 = (_local3 as ParagraphElement);
                if (_local11){
                    if (!this.composeParagraphElement(_local11, _arg2)){
                        return (false);
                    };
                } else {
                    if ((_local3 is ListElement)){
                        _local4 = this.composeBlockElement(FlowGroupElement(_local3), _arg2);
                        if (!_local4){
                            return (false);
                        };
                    } else {
                        if ((_local3 is ListItemElement)){
                            _local13 = this._listItemElement;
                            this._listItemElement = (_local3 as ListItemElement);
                            _local4 = this.composeBlockElement(FlowGroupElement(_local3), _arg2);
                            this._listItemElement = _local13;
                            if (!_local4){
                                return (false);
                            };
                        } else {
                            if (!this.composeBlockElement(FlowGroupElement(_local3), _arg2)){
                                return (false);
                            };
                        };
                    };
                };
                if (_local10 > this._verticalSpaceCarried){
                    this._parcelList.addTotalDepth((_local10 - this._verticalSpaceCarried));
                };
                this._verticalSpaceCarried = Math.max(_local10, 0);
                this._parcelList.popLeftMargin(_local7);
                this._parcelList.popRightMargin(_local8);
                _arg2 = (_arg2 + _local3.textLength);
                _local6 = true;
                _local5++;
            };
            return (true);
        }
        public function composeTextFlow(_arg1:TextFlow, _arg2:int, _arg3:int):int{
            var _local4:int;
            var _local5:TextFlowLine;
            this._textFlow = _arg1;
            this._releaseLineCreationData = ((_arg1.configuration.releaseLineCreationData) && (Configuration.playerEnablesArgoFeatures));
            this._flowComposer = this._textFlow.flowComposer;
            this._rootElement = _arg1;
            this._curElementOffset = 0;
            this._curElement = this._rootElement.getFirstLeaf();
            this._curElementStart = 0;
            this._curParcel = null;
            this.initializeForComposer(this._flowComposer, _arg2, -1, _arg3);
            this.resetControllerBounds();
            this._curElement = this._textFlow.findLeaf(this._startComposePosition);
            this._curElementStart = this._curElement.getAbsoluteStart();
            this._curElementOffset = (this._startComposePosition - this._curElementStart);
            if ((((this._startComposePosition <= this._startController.absoluteStart)) || (!(this.advanceToComposeStartPosition())))){
                if (this._startComposePosition > this._startController.absoluteStart){
                    this._startComposePosition = this._startController.absoluteStart;
                    this._curElement = this._textFlow.findLeaf(this._startComposePosition);
                    this._curElementStart = this._curElement.getAbsoluteStart();
                    this._curElementOffset = (this._startComposePosition - this._curElementStart);
                };
                if (this._startComposePosition == this._curElement.getParagraph().getAbsoluteStart()){
                    this._previousLine = null;
                } else {
                    _local4 = this._flowComposer.findLineIndexAtPosition((this._startComposePosition - 1));
                    _local5 = this._flowComposer.getLineAt(_local4);
                    this._previousLine = _local5.getTextLine(true);
                };
                this.advanceToNextParcel();
                if (this._curParcel){
                    this._curParcel.controller.clearFloatsAt(0);
                };
            };
            this._startController.clearComposedLines((this._curElementStart + this._curElementOffset));
            this._curParcelStart = this._startController.absoluteStart;
            this.composeInternal(this._rootElement, 0);
            while (true) {
                if (this.parcelList.atEnd()){
                    this.parcelHasChanged(null);
                    break;
                };
                this.advanceToNextParcel();
            };
            this.releaseParcelList(this._parcelList);
            this._parcelList = null;
            _savedLineSlug = this._lineSlug;
            return ((this._curElementStart + this._curElementOffset));
        }
        private function advanceToComposeStartPosition():Boolean{
            var _local10:int;
            var _local11:FloatCompositionData;
            var _local12:InlineGraphicElement;
            var _local13:Number;
            var _local1:int = this._flowComposer.findLineIndexAtPosition((this._startComposePosition - 1));
            var _local2:TextFlowLine = this._flowComposer.getLineAt(_local1);
            if (_local2.controller.numFloats){
                if (this._measuring){
                    return (false);
                };
            };
            this._curLine = _local2;
            var _local3:FlowLeafElement = ((this._curElementOffset)==0) ? this._curElement.getPreviousLeaf() : this._curElement;
            this._curLineLeadingModel = _local3.getParagraph().getEffectiveLeadingModel();
            var _local4:FlowLeafElement = this._textFlow.findLeaf(this._curLine.absoluteStart);
            var _local5:int = _local4.getAbsoluteStart();
            this.calculateLeadingParameters(_local4, _local5, TextFlowLine.findNumberLine(this._curLine.getTextLine()));
            if (this._startComposePosition == this._curElement.getParagraph().getAbsoluteStart()){
                this._previousLine = null;
            } else {
                this._previousLine = this._curLine.getTextLine(true);
            };
            this._paragraphSpaceCarried = this._curLine.spaceAfter;
            this.commitLastLineState(this._curLine);
            var _local6:int = (((this._curLine.columnIndex == -1)) ? 0 : this._curLine.columnIndex);
            this._curParcel = this._parcelList.currentParcel;
            var _local7:int;
            var _local8 = -1;
            while (_local8 < _local6) {
                this.advanceToNextParcel();
                this._curParcelStart = this._curParcel.controller.absoluteStart;
                _local10 = this._curParcel.controller.numFloats;
                if (_local10){
                    while (_local7 < _local10) {
                        _local11 = this._curParcel.controller.getFloatAt(_local7);
                        if (_local11.columnIndex > this._curParcel.columnIndex){
                            break;
                        };
                        if (((!((_local11.floatType == Float.NONE))) && ((_local11.absolutePosition < this._startComposePosition)))){
                            _local12 = (this._textFlow.findLeaf(_local11.absolutePosition) as InlineGraphicElement);
                            _local13 = ((this._blockProgression)==BlockProgression.RL) ? _local12.elementWidthWithMarginsAndPadding() : _local12.elementHeightWithMarginsAndPadding();
                            this._curParcel.knockOut(_local11.knockOutWidth, (_local11.depth - this._lastLineDescent), (_local11.depth + _local13), (_local11.floatType == Float.LEFT));
                        };
                        _local7++;
                    };
                };
                this._curParcel.controller.clearFloatsAt(this._startComposePosition);
                _local8++;
            };
            this._curParcelStart = (this._curElementStart + this._curElementOffset);
            if (this._blockProgression == BlockProgression.TB){
                this._parcelList.addTotalDepth(((this._curLine.y + this._curLine.ascent) - this._curParcel.y));
            } else {
                this._parcelList.addTotalDepth((this._curParcel.right - this._curLine.x));
            };
            this._atColumnStart = false;
            var _local9:int = this._flowComposer.findLineIndexAtPosition(this._startController.absoluteStart);
            this.initializeContentBounds(_local9, _local1);
            return (true);
        }
        private function initializeContentBounds(_arg1:int, _arg2:int):void{
            var _local4:TextFlowLine;
            var _local5:Number;
            var _local6:TextLine;
            var _local7:AlignData;
            var _local8:ITextLayoutFormat;
            var _local3 = -1;
            this._parcelLogicalTop = this.computeTextFlowLineMinimumLogicalTop(this._flowComposer.getLineAt(_arg1), null);
            if (this._measuring){
                while (_arg1 <= _arg2) {
                    _local4 = this._flowComposer.getLineAt(_arg1);
                    if (_local4.columnIndex != _local3){
                        _local3 = _local4.columnIndex;
                        this._contentLogicalExtent = 0;
                        this._contentCommittedExtent = 0;
                        this._accumulatedMinimumStart = TextLine.MAX_LINE_WIDTH;
                    };
                    _local5 = _local4.lineExtent;
                    this._contentLogicalExtent = Math.max(this._contentLogicalExtent, _local5);
                    if ((((_local4.alignment == TextAlign.LEFT)) && (!(_local4.hasNumberLine)))){
                        this._contentCommittedExtent = Math.max(this._contentCommittedExtent, _local5);
                    } else {
                        _local7 = createAlignData(_local4);
                        _local7.textLine = _local4.getTextLine(true);
                        _local7.textAlign = _local4.alignment;
                        _local8 = _local4.paragraph.computedFormat;
                        _local7.rightSideGap = this.getRightSideGap(_local4, !((_local4.alignment == TextAlign.LEFT)));
                        _local7.leftSideGap = this.getLeftSideGap(_local4);
                        _local7.textIndent = _local8.textIndent;
                        _local7.lineWidth = (_local5 - (_local7.rightSideGap + _local7.leftSideGap));
                        if (!this._alignLines){
                            this._alignLines = [];
                        };
                        this._alignLines.push(_local7);
                    };
                    _arg1++;
                };
            } else {
                _local4 = this._flowComposer.getLineAt(_arg2);
                this._contentLogicalExtent = (this._contentCommittedExtent = _local4.accumulatedLineExtent);
                this._accumulatedMinimumStart = _local4.accumulatedMinimumStart;
                if ((((this._parcelList.currentParcelIndex > 0)) && ((this._parcelList.currentParcel.columnIndex > 0)))){
                    if (this._blockProgression == BlockProgression.TB){
                        this._controllerBottom = this._curParcel.controller.compositionHeight;
                    } else {
                        this._controllerLeft = (0 - this._curParcel.controller.compositionWidth);
                    };
                    if (this._textFlow.computedFormat.direction == Direction.RTL){
                        this._controllerRight = this._curParcel.controller.compositionWidth;
                    };
                };
            };
        }
        tlf_internal function computeTextFlowLineMinimumLogicalTop(_arg1:TextFlowLine, _arg2:TextLine):Number{
            var _local3:int;
            var _local4:FlowLeafElement;
            var _local5:Number;
            var _local6:Number;
            var _local7:ContainerController;
            var _local8:int;
            var _local9:FloatCompositionData;
            if (_arg1.hasGraphicElement){
                _local3 = _arg1.absoluteStart;
                _local4 = this._textFlow.findLeaf(_local3);
                _local5 = _arg1.getLineTypographicAscent(_local4, _local4.getAbsoluteStart(), _arg2);
                _local6 = ((this._blockProgression)==BlockProgression.RL) ? (_arg1.x + _local5) : ((_arg1.y + _arg1.ascent) - _local5);
                _local7 = _arg1.controller;
                _local8 = (_local3 + _arg1.textLength);
                if (_local7.numFloats > 0){
                    while (_local3 < _local8) {
                        _local9 = _local7.getFloatAtPosition(_local3);
                        if (_local9){
                            _local6 = Math.min(_local6, _local9.depth);
                            _local3 = (_local9.absolutePosition + 1);
                        } else {
                            break;
                        };
                    };
                };
                return (_local6);
            };
            return (NaN);
        }
        private function resetControllerBounds():void{
            this._controllerLeft = TextLine.MAX_LINE_WIDTH;
            this._controllerTop = TextLine.MAX_LINE_WIDTH;
            this._controllerRight = -(TextLine.MAX_LINE_WIDTH);
            this._controllerBottom = -(TextLine.MAX_LINE_WIDTH);
        }
        protected function get releaseLineCreationData():Boolean{
            return (this._releaseLineCreationData);
        }
        protected function composeInternal(_arg1:FlowGroupElement, _arg2:int):void{
            this.composeBlockElement(_arg1, _arg2);
        }
        protected function composeParagraphElement(_arg1:ParagraphElement, _arg2:int):Boolean{
            var _local5:TextBlock;
            var _local6:TextLine;
            this._curParaElement = _arg1;
            this._curParaStart = _arg2;
            this._curParaFormat = _arg1.computedFormat;
            this._paragraphContainsVisibleLines = !(((this._curElementStart + this._curElementOffset) == this._curParaStart));
            var _local3:Boolean = this.composeParagraphElementIntoLines();
            var _local4:Boolean;
            if (!this._paragraphContainsVisibleLines){
                _local5 = _arg1.getTextBlock();
                _local6 = _local5.lastLine;
                while (((_local6) && (_local4))) {
                    if (_local6.parent){
                        _local4 = false;
                    };
                    _local6 = _local6.previousLine;
                };
                if (_local4){
                    _local6 = _local5.lastLine;
                    while (_local6) {
                        _local5.releaseLines(_local6, _local6);
                        _local6.userData = null;
                        TextLineRecycler.addLineForReuse(_local6);
                        if (this._textFlow.backgroundManager){
                            this._textFlow.backgroundManager.removeLineFromCache(_local6);
                        };
                        _local6 = _local5.lastLine;
                    };
                    _arg1.releaseTextBlock();
                };
            };
            if (((this.releaseLineCreationData) && (!(_local4)))){
                _arg1.releaseLineCreationData();
            };
            return (_local3);
        }
        protected function getFirstIndentCharPos(_arg1:ParagraphElement):int{
            var _local2:int;
            var _local3:FlowLeafElement = _arg1.getFirstLeaf();
            while (((((_local3) && ((_local3 is InlineGraphicElement)))) && (!((InlineGraphicElement(_local3).effectiveFloat == Float.NONE))))) {
                _local2 = (_local2 + _local3.textLength);
                _local3 = _local3.getNextLeaf();
            };
            return (_local2);
        }
        protected function composeParagraphElementIntoLines():Boolean{
            var _local2:TextLine;
            var _local3:Number;
            var _local4:Number;
            var _local7:String;
            var _local8:TextLine;
            var _local9:Boolean;
            var _local10:AlignData;
            var _local11:Number;
            var _local12:Number;
            var _local13:int;
            var _local1:Boolean;
            var _local5:Number = 0;
            if (this._curParaFormat.direction == Direction.LTR){
                _local3 = this._curParaFormat.paragraphStartIndent;
                _local4 = this._curParaFormat.paragraphEndIndent;
            } else {
                _local3 = this._curParaFormat.paragraphEndIndent;
                _local4 = this._curParaFormat.paragraphStartIndent;
            };
            this._parcelList.pushLeftMargin(_local3);
            this._parcelList.pushRightMargin(_local4);
            var _local6:int = this._curParaStart;
            if (this.preProcessILGs((this._curElementStart - this._curParaStart))){
                _local6 = (this.getFirstIndentCharPos(this._curParaElement) + this._curParaStart);
            };
            while (_local1) {
                if (this._parcelList.atEnd()){
                    _local1 = false;
                    break;
                };
                this.startLine();
                if (!this._forceILGs){
                    this.processFloatsAtLineStart();
                };
                this._textIndent = (((this._curElementStart + this._curElementOffset))<=_local6) ? this._curParaFormat.textIndent : 0;
                if (this._parcelList.atEnd()){
                    _local1 = false;
                    break;
                };
                _local2 = this.composeNextLine();
                if (_local2 == null){
                    _local1 = false;
                    break;
                };
                _local7 = this._curParaFormat.textAlign;
                if (_local7 == TextAlign.JUSTIFY){
                    _local13 = this._curLine.location;
                    if ((((_local13 == TextFlowLineLocation.LAST)) || ((_local13 == TextFlowLineLocation.ONLY)))){
                        _local7 = this._curParaFormat.textAlignLast;
                    };
                };
                switch (_local7){
                    case TextAlign.START:
                        _local7 = ((this._curParaFormat.direction)==Direction.LTR) ? TextAlign.LEFT : TextAlign.RIGHT;
                        break;
                    case TextAlign.END:
                        _local7 = ((this._curParaFormat.direction)==Direction.LTR) ? TextAlign.RIGHT : TextAlign.LEFT;
                        break;
                };
                _local8 = TextFlowLine.findNumberLine(_local2);
                _local9 = ((((((_local8) && ((TextFlowLine.getNumberLineListStylePosition(_local8) == ListStylePosition.OUTSIDE)))) || ((_local7 == TextAlign.CENTER)))) || ((_local7 == TextAlign.RIGHT)));
                if (Configuration.playerEnablesArgoFeatures){
                    if (_local2["hasTabs"]){
                        if (this._curParaFormat.direction == Direction.LTR){
                            if (((!(_local8)) || ((TextFlowLine.getNumberLineListStylePosition(_local8) == ListStylePosition.INSIDE)))){
                                _local9 = false;
                            };
                            _local7 = TextAlign.LEFT;
                        } else {
                            _local9 = true;
                            _local7 = TextAlign.RIGHT;
                        };
                    };
                };
                if (_local9){
                    _local10 = createAlignData(this._curLine);
                    _local10.textLine = _local2;
                    _local10.textAlign = _local7;
                };
                _local11 = ((((this._atColumnStart) && (!((this._curParaFormat.leadingModel == LeadingModel.BOX))))) ? 0 : this._curLine.spaceBefore);
                _local12 = ((this._atColumnStart) ? 0 : this._paragraphSpaceCarried);
                if (((!((_local11 == 0))) || (!((_local12 == 0))))){
                    this._parcelList.addTotalDepth(Math.max(_local11, _local12));
                };
                this._paragraphSpaceCarried = 0;
                if (this._verticalSpaceCarried != 0){
                    this._verticalSpaceCarried = 0;
                };
                this._parcelList.addTotalDepth(this._curLine.height);
                _local10 = this.calculateLineAlignmentAndBounds(_local2, _local8, _local10);
                if (_local10){
                    if (!this._alignLines){
                        this._alignLines = [];
                    };
                    this._alignLines.push(_local10);
                    this._curLine.alignment = _local7;
                };
                if (_local5 != 0){
                    if (this._curParaFormat.direction == Direction.LTR){
                        this._parcelList.popLeftMargin(_local5);
                    } else {
                        this._parcelList.popRightMargin(_local5);
                    };
                    _local5 = 0;
                };
                if (((!(this.processFloatsAtLineEnd(_local2))) || (!(this._curLine)))){
                    this.resetLine(_local2);
                } else {
                    this.endLine(_local2);
                    this._lastGoodStart = -1;
                    if (this.isLineVisible(_local2)){
                        this._curParcel.controller.addComposedLine(_local2);
                        this._paragraphContainsVisibleLines = true;
                    };
                    if (this._parcelList.atEnd()){
                        _local1 = false;
                        break;
                    };
                    this._previousLine = _local2;
                    this._curElementOffset = (this._curElementOffset + this._curLine.textLength);
                    if (this._curElementOffset >= this._curElement.textLength){
                        do  {
                            this._curElementOffset = (this._curElementOffset - this._curElement.textLength);
                            this._curElementStart = (this._curElementStart + this._curElement.textLength);
                            this._curElement = this._curElement.getNextLeaf();
                            if (this._curElementStart == (this._curParaStart + this._curParaElement.textLength)){
                                break;
                            };
                        } while ((((this._curElementOffset >= this._curElement.textLength)) || ((this._curElement.textLength == 0))));
                    };
                    this._paragraphSpaceCarried = this._curLine.spaceAfter;
                    if (this._curElementStart == (this._curParaStart + this._curParaElement.textLength)){
                        break;
                    };
                };
            };
            this._parcelList.popLeftMargin(_local3);
            this._parcelList.popRightMargin(_local4);
            if (_local5 != 0){
                if (this._curParaFormat.direction == Direction.LTR){
                    this._parcelList.popLeftMargin(_local5);
                } else {
                    this._parcelList.popRightMargin(_local5);
                };
                _local5 = 0;
            };
            this._previousLine = null;
            return (_local1);
        }
        protected function createTextLine(_arg1:Number, _arg2:Boolean):TextLine{
            var _local3:Number = ((this._curParaFormat.direction)==Direction.LTR) ? this._lineSlug.leftMargin : this._lineSlug.rightMargin;
            var _local4:TextLine;
            _local4 = TextLineRecycler.getLineForReuse();
            var _local5:TextBlock = this._curParaElement.getTextBlock();
            if (_local4){
                _local4 = this.swfContext.callInContext(_local5["recreateTextLine"], _local5, [_local4, this._previousLine, _arg1, _local3, true]);
            } else {
                _local4 = this.swfContext.callInContext(_local5.createTextLine, _local5, [this._previousLine, _arg1, _local3, true]);
            };
            if (((!(_arg2)) && ((_local5.textLineCreationResult == TextLineCreationResult.EMERGENCY)))){
                _local4 = null;
            };
            if (_local4 == null){
                return (null);
            };
            this._curLine.initialize(this._curParaElement, _arg1, (_local3 - this._parcelList.insideListItemMargin), (_local4.textBlockBeginIndex + this._curParaStart), _local4.rawTextLength, _local4);
            return (_local4);
        }
        protected function startLine():void{
            this._workingContentExtent = 0;
            this._workingContentHeight = 0;
            this._workingContentLogicalExtent = 0;
            this._workingParcelIndex = this._parcelList.currentParcelIndex;
            this._workingTotalDepth = this.parcelList.totalDepth;
            this._workingParcelLogicalTop = NaN;
        }
        protected function isLineVisible(_arg1:TextLine):Boolean{
            return (!((this._curParcel.controller.isLineVisible(this._blockProgression, this._controllerVisibleBoundsXTW, this._controllerVisibleBoundsYTW, this._controllerVisibleBoundsWidthTW, this._controllerVisibleBoundsHeightTW, this._curLine, _arg1) == null)));
        }
        protected function endLine(_arg1:TextLine):void{
            this._contentCommittedExtent = Math.max(this._contentCommittedExtent, this._workingContentExtent);
            this._contentCommittedHeight = Math.max(this._contentCommittedHeight, this._workingContentHeight);
            this._contentLogicalExtent = Math.max(this._contentLogicalExtent, this._workingContentLogicalExtent);
            if (!this._measuring){
                this._contentLogicalExtent = this._contentCommittedExtent;
            };
            if (this._pushInFloats){
                this._pushInFloats.length = 0;
            };
            this._atColumnStart = false;
            this._linePass = 0;
            if (!isNaN(this._workingParcelLogicalTop)){
                this._parcelLogicalTop = this._workingParcelLogicalTop;
            };
        }
        protected function resetLine(_arg1:TextLine):void{
            if (this._textFlow.backgroundManager){
                this._textFlow.backgroundManager.removeLineFromCache(_arg1);
            };
            if (this._workingParcelIndex != this.parcelList.currentParcelIndex){
                this._linePass = 0;
                if (this._pushInFloats){
                    this._pushInFloats.length = 0;
                };
            } else {
                this._linePass++;
            };
            this.parcelList.addTotalDepth((this._workingTotalDepth - this._parcelList.totalDepth));
            this._workingTotalDepth = this.parcelList.totalDepth;
        }
        protected function preProcessILGs(_arg1:int):Boolean{
            var _local5:InlineGraphicElement;
            if (!this._curParcel){
                return (false);
            };
            var _local2:Boolean;
            var _local3 = (this._blockProgression == BlockProgression.RL);
            this._forceILGs = ((((this._parcelList.explicitLineBreaks) || (((_local3) && (this._curParcel.controller.measureHeight))))) || (((!(_local3)) && (this._curParcel.controller.measureWidth))));
            var _local4:FlowLeafElement = this._curParaElement.findLeaf(_arg1);
            while (_local4) {
                if ((_local4 is InlineGraphicElement)){
                    _local5 = (_local4 as InlineGraphicElement);
                    _local5.setEffectiveFloat(((this._forceILGs) ? Float.NONE : _local5.computedFloat));
                    _local2 = true;
                };
                _local4 = _local4.getNextLeaf(this._curParaElement);
            };
            return (_local2);
        }
        protected function processFloatsAtLineStart():void{
            var _local1:int;
            var _local2:int;
            var _local3:FlowLeafElement;
            if (this._forceILGs){
                return;
            };
            if (((this._pushInFloats) && ((this._pushInFloats.length > 0)))){
                _local1 = 0;
                while (_local1 < this._pushInFloats.length) {
                    _local2 = this._pushInFloats[_local1];
                    _local3 = this._textFlow.findLeaf(_local2);
                    if (!this.composeFloat((_local3 as InlineGraphicElement), false)){
                        this._pushInFloats.length = _local1;
                    };
                    _local1++;
                };
            };
        }
        protected function processFloatsAtLineEnd(_arg1:TextLine):Boolean{
            var _local8:int;
            var _local9:int;
            var _local10:InlineGraphicElement;
            var _local11:Number;
            var _local12:FloatCompositionData;
            var _local13:Number;
            var _local14:InlineGraphicElement;
            if (((!(_arg1.hasGraphicElement)) && ((this._linePass <= 0)))){
                return (true);
            };
            if (((this._pushInFloats) && ((this._pushInFloats.length > 0)))){
                _local8 = this._pushInFloats[(this._pushInFloats.length - 1)];
                if ((this._curLine.absoluteStart + this._curLine.textLength) <= _local8){
                    _local9 = (this._pushInFloats.length - 1);
                    while (_local9 >= 0) {
                        _local8 = this._pushInFloats[_local9];
                        _local10 = (this._textFlow.findLeaf(_local8) as InlineGraphicElement);
                        _local11 = ((this._blockProgression)==BlockProgression.RL) ? ((_local10.elementWidth + _local10.getEffectivePaddingLeft()) + _local10.getEffectivePaddingRight()) : _local10.elementHeightWithMarginsAndPadding();
                        _local12 = this._curLine.controller.getFloatAtPosition(_local8);
                        if (((_local12) && ((_local12.absolutePosition == _local8)))){
                            _local13 = ((isNaN(this._lastLineDescent)) ? 0 : this._lastLineDescent);
                            this._curParcel.removeKnockOut(_local12.knockOutWidth, (_local12.depth - _local13), (_local12.depth + _local11), (_local12.floatType == Float.LEFT));
                        };
                        _local9--;
                    };
                    this._curLine.controller.clearFloatsAt(this._pushInFloats[0]);
                    this._pushInFloats.length--;
                    return (false);
                };
            };
            var _local2:int = this._curElementStart;
            var _local3:FlowLeafElement = this._curElement;
            var _local4:int = (this._curLine.absoluteStart + this._curLine.textLength);
            var _local5:int;
            var _local6:Boolean;
            while (_local2 < _local4) {
                if ((_local3 is InlineGraphicElement)){
                    _local14 = InlineGraphicElement(_local3);
                    if ((((_local14.computedFloat == Float.NONE)) || (this._forceILGs))){
                        _local6 = true;
                    } else {
                        if (this._linePass == 0){
                            if (!this._pushInFloats){
                                this._pushInFloats = [];
                            };
                            this._pushInFloats.push(_local2);
                        } else {
                            if (this._pushInFloats.indexOf(_local2) >= 0){
                                _local5++;
                            } else {
                                if (!this.composeFloat(_local14, true)){
                                    this.advanceToNextParcel();
                                    return (false);
                                };
                            };
                        };
                    };
                };
                _local2 = (_local2 + _local3.textLength);
                _local3 = _local3.getNextLeaf();
            };
            var _local7 = (_local5 >= ((this._pushInFloats) ? this._pushInFloats.length : 0));
            if (((_local7) && (_local6))){
                this.processInlinesAtLineEnd(_arg1);
            };
            return (_local7);
        }
        protected function processInlinesAtLineEnd(_arg1:TextLine):void{
            var _local5:InlineGraphicElement;
            var _local2:int = this._curElementStart;
            var _local3:FlowLeafElement = this._curElement;
            var _local4:int = (this._curLine.absoluteStart + this._curLine.textLength);
            while (_local2 < _local4) {
                if ((_local3 is InlineGraphicElement)){
                    _local5 = (_local3 as InlineGraphicElement);
                    if ((((_local5.computedFloat == Float.NONE)) || (this._forceILGs))){
                        this.composeInlineGraphicElement(_local5, _arg1);
                    };
                };
                _local2 = (_local2 + _local3.textLength);
                _local3 = _local3.getNextLeaf();
            };
        }
        protected function composeInlineGraphicElement(_arg1:InlineGraphicElement, _arg2:TextLine):Boolean{
            var _local3:Number = (((this._blockProgression == BlockProgression.RL)) ? -(_arg1.getEffectivePaddingRight()) : _arg1.getEffectivePaddingLeft());
            var _local4:Number = _arg1.getEffectivePaddingTop();
            var _local5:DisplayObject = _arg1.placeholderGraphic.parent;
            this._curParcel.controller.addFloatAt((this._curParaStart + _arg1.getElementRelativeStart(this._curParaElement)), _arg1.graphic, Float.NONE, _local3, _local4, ((_local5) ? _local5.alpha : 1), ((_local5) ? _local5.transform.matrix : null), this._parcelList.totalDepth, 0, this._curParcel.columnIndex, _arg2);
            return (true);
        }
        protected function composeFloat(_arg1:InlineGraphicElement, _arg2:Boolean):Boolean{
            var _local7:Number;
            var _local8:Number;
            var _local11:String;
            var _local12:Rectangle;
            var _local13:Number;
            var _local14:Number;
            if ((((_arg1.elementHeight == 0)) || ((_arg1.elementWidth == 0)))){
                return (true);
            };
            if (this._lastGoodStart == -1){
                this._lastGoodStart = (this._curElementStart + this._curElementOffset);
            };
            var _local3 = (this._blockProgression == BlockProgression.RL);
            var _local4:Number = 0;
            if (((((_arg2) || (!(this._atColumnStart)))) && (!(isNaN(this._lastLineDescent))))){
                _local4 = this._lastLineDescent;
            };
            var _local5:Number = 0;
            if (((((this._curLine) && (!((this._curParaElement == this._curLine.paragraph))))) && (!(this._atColumnStart)))){
                _local5 = Math.max(this._curParaElement.computedFormat.paragraphSpaceBefore, this._paragraphSpaceCarried);
            };
            var _local6:Number = ((this._parcelList.totalDepth + _local5) + _local4);
            if (!_floatSlug){
                _floatSlug = new Slug();
            };
            if (_local3){
                _local7 = ((_arg1.elementHeight + _arg1.getEffectivePaddingTop()) + _arg1.getEffectivePaddingBottom());
                _local8 = ((_arg1.elementWidth + _arg1.getEffectivePaddingLeft()) + _arg1.getEffectivePaddingRight());
            } else {
                _local7 = _arg1.elementWidthWithMarginsAndPadding();
                _local8 = _arg1.elementHeightWithMarginsAndPadding();
            };
            var _local9:int = _arg1.getAbsoluteStart();
            var _local10:Boolean = this._parcelList.fitFloat(_floatSlug, _local6, _local7, _local8);
            if (((((!(_local10)) && (((this._curParcel.fitAny) || (this._curParcel.fitsInHeight(_local6, int(_local8))))))) && (((((!(this._curLine)) || ((this._curLine.absoluteStart == _local9)))) || (_arg2))))){
                _local10 = true;
            };
            if (_local10){
                _local11 = _arg1.computedFloat;
                if (_local11 == Float.START){
                    _local11 = ((this._curParaFormat.direction)==Direction.LTR) ? Float.LEFT : Float.RIGHT;
                } else {
                    if (_local11 == Float.END){
                        _local11 = ((this._curParaFormat.direction)==Direction.LTR) ? Float.RIGHT : Float.LEFT;
                    };
                };
                _local12 = this.calculateFloatBounds(_arg1, _local3, _local11);
                if (_local3){
                    this._workingContentExtent = Math.max(this._workingContentExtent, _local12.bottom);
                    this._workingContentHeight = Math.max(this._workingContentHeight, (_floatSlug.depth + _local12.width));
                    this._workingContentLogicalExtent = Math.max(this._workingContentLogicalExtent, _local12.bottom);
                    this._accumulatedMinimumStart = Math.min(this._accumulatedMinimumStart, _local12.y);
                } else {
                    this._workingContentExtent = Math.max(this._workingContentExtent, _local12.right);
                    this._workingContentHeight = Math.max(this._workingContentHeight, (_floatSlug.depth + _local12.height));
                    this._workingContentLogicalExtent = Math.max(this._workingContentLogicalExtent, _local12.right);
                    this._accumulatedMinimumStart = Math.min(this._accumulatedMinimumStart, _local12.x);
                };
                if (_local9 == this._curParcelStart){
                    this._workingParcelLogicalTop = _floatSlug.depth;
                };
                _local13 = (((_local11)==Float.LEFT) ? _floatSlug.leftMargin : _floatSlug.rightMargin + _local7);
                _local14 = ((isNaN(this._lastLineDescent)) ? 0 : this._lastLineDescent);
                this._curParcel.knockOut(_local13, (_floatSlug.depth - _local14), (_floatSlug.depth + _local8), (_local11 == Float.LEFT));
                this._curParcel.controller.addFloatAt(_local9, _arg1.graphic, _local11, _local12.x, _local12.y, _arg1.computedFormat.textAlpha, null, _floatSlug.depth, _local13, this._curParcel.columnIndex, this._curParcel.controller.container);
            };
            return (_local10);
        }
        private function calculateFloatBounds(_arg1:InlineGraphicElement, _arg2:Boolean, _arg3:String):Rectangle{
            var _local4:Rectangle = new Rectangle();
            if (_arg2){
                _local4.x = (((this._curParcel.right - _floatSlug.depth) - _arg1.elementWidth) - _arg1.getEffectivePaddingRight());
                _local4.y = ((_arg3)==Float.LEFT) ? ((this._curParcel.y + _floatSlug.leftMargin) + _arg1.getEffectivePaddingTop()) : (((this._curParcel.bottom - _floatSlug.rightMargin) - _arg1.getEffectivePaddingBottom()) - _arg1.elementHeight);
                _local4.width = _arg1.elementWidth;
                _local4.height = _arg1.elementHeight;
            } else {
                _local4.x = ((_arg3)==Float.LEFT) ? ((this._curParcel.x + _floatSlug.leftMargin) + _arg1.getEffectivePaddingLeft()) : (((this._curParcel.right - _floatSlug.rightMargin) - _arg1.getEffectivePaddingRight()) - _arg1.elementWidth);
                _local4.y = ((this._curParcel.y + _floatSlug.depth) + _arg1.getEffectivePaddingTop());
                _local4.width = _arg1.elementWidth;
                _local4.height = _arg1.elementHeight;
            };
            return (_local4);
        }
        private function calculateLineWidthExplicit(_arg1:TextLine):Number{
            var _local2 = (this._curParaElement.computedFormat.direction == Direction.RTL);
            var _local3:int = (_arg1.atomCount - 1);
            var _local4 = ((this._curLine.absoluteStart + this._curLine.textLength) == (this._curParaStart + this._curParaElement.textLength));
            if (((_local4) && (!(_local2)))){
                _local3--;
            };
            var _local5:Rectangle = _arg1.getAtomBounds((((_local3 >= 0)) ? _local3 : 0));
            var _local6:Number = ((this._blockProgression)==BlockProgression.TB) ? (((_local3 >= 0)) ? _local5.right : _local5.left) : (((_local3 >= 0)) ? _local5.bottom : _local5.top);
            if (_local2){
                _local5 = _arg1.getAtomBounds(((((!((_local3 == 0))) && (_local4))) ? 1 : 0));
                _local6 = (_local6 - ((this._blockProgression)==BlockProgression.TB) ? _local5.left : _local5.top);
            };
            _arg1.flushAtomData();
            return (_local6);
        }
        private function getRightSideGap(_arg1:TextFlowLine, _arg2:Boolean):Number{
            var _local6:TextLine;
            var _local7:TextLine;
            var _local3:FlowGroupElement = _arg1.paragraph;
            var _local4:ITextLayoutFormat = _local3.computedFormat;
            var _local5:Number = (((_local4.direction == Direction.RTL)) ? _local4.paragraphStartIndent : _local4.paragraphEndIndent);
            if ((((_local4.direction == Direction.RTL)) && ((_arg1.location & TextFlowLineLocation.FIRST)))){
                _local5 = (_local5 + _local4.textIndent);
                if (((_arg1.hasNumberLine) && ((_local3.getParentByType(ListItemElement).computedFormat.listStylePosition == ListStylePosition.INSIDE)))){
                    _local6 = _arg1.getTextLine(true);
                    _local7 = TextFlowLine.findNumberLine(_local6);
                    _local5 = (_local5 + TextFlowLine.getNumberLineInsideLineWidth(_local7));
                };
            };
            do  {
                _local5 = (_local5 + (((this._blockProgression == BlockProgression.TB)) ? _local3.getEffectivePaddingRight() : _local3.getEffectivePaddingBottom()));
                _local3 = _local3.parent;
            } while (!((_local3 is TextFlow)));
            return (_local5);
        }
        private function getLeftSideGap(_arg1:TextFlowLine):Number{
            var _local5:TextLine;
            var _local6:TextLine;
            var _local2:FlowGroupElement = _arg1.paragraph;
            var _local3:ITextLayoutFormat = _local2.computedFormat;
            var _local4:Number = (((_local3.direction == Direction.LTR)) ? _local3.paragraphStartIndent : _local3.paragraphEndIndent);
            if ((((_local3.direction == Direction.LTR)) && ((_arg1.location & TextFlowLineLocation.FIRST)))){
                _local4 = (_local4 + _local3.textIndent);
                if (((_arg1.hasNumberLine) && ((_local2.getParentByType(ListItemElement).computedFormat.listStylePosition == ListStylePosition.INSIDE)))){
                    _local5 = _arg1.getTextLine(true);
                    _local6 = TextFlowLine.findNumberLine(_local5);
                    _local4 = (_local4 + TextFlowLine.getNumberLineInsideLineWidth(_local6));
                };
            };
            do  {
                _local4 = (_local4 + (((this._blockProgression == BlockProgression.TB)) ? _local2.getEffectivePaddingLeft() : _local2.getEffectivePaddingTop()));
                _local2 = _local2.parent;
            } while (!((_local2 is TextFlow)));
            return (_local4);
        }
        private function calculateLineAlignmentAndBounds(_arg1:TextLine, _arg2:TextLine, _arg3:AlignData):AlignData{
            var _local9:Number;
            var _local10:Number;
            var _local11:Number;
            var _local12:Number;
            var _local13:Number;
            var _local14:Number;
            var _local15:Number;
            var _local4:Number = ((this._parcelList.explicitLineBreaks) ? this.calculateLineWidthExplicit(_arg1) : _arg1.textWidth);
            var _local5:Number = this._lineSlug.rightMargin;
            var _local6:Number = this._lineSlug.leftMargin;
            var _local7:Number = 0;
            if (_arg3){
                _arg3.rightSideGap = _local5;
                _arg3.leftSideGap = _local6;
                _arg3.lineWidth = _local4;
                _arg3.textIndent = this._curParaFormat.textIndent;
                if (this._blockProgression == BlockProgression.TB){
                    if (!this._measuring){
                        _local12 = _arg1.textWidth;
                        _local9 = (((this._curParcel.width - _local6) - _local5) - _local12);
                        if (_arg3.textAlign != TextAlign.LEFT){
                            _local7 = (((_arg3.textAlign == TextAlign.CENTER)) ? (_local9 / 2) : _local9);
                            _local10 = ((this._curParcel.x + _local6) + _local7);
                        } else {
                            _local10 = ((this._curParcel.x + _local6) + _local9);
                        };
                        if (_arg3.textAlign != TextAlign.LEFT){
                            this._curLine.x = _local10;
                            _arg1.x = _local10;
                        } else {
                            _arg1.x = this._curLine.x;
                        };
                        if (((_arg2) && ((TextFlowLine.getNumberLineListStylePosition(_arg2) == ListStylePosition.OUTSIDE)))){
                            _arg2.x = computeNumberLineAlignment(_arg3, _arg1.textWidth, _arg1.x, _arg2, _local10, _local7, _local9);
                            this._curLine.numberLinePosition = _arg2.x;
                        };
                        releaseAlignData(_arg3);
                        _arg3 = null;
                    };
                } else {
                    if (!this._measuring){
                        _local9 = (((this._curParcel.height - _local6) - _local5) - _arg1.textWidth);
                        if (_arg3.textAlign != TextAlign.LEFT){
                            _local7 = (((_arg3.textAlign == TextAlign.CENTER)) ? (_local9 / 2) : _local9);
                            _local10 = ((this._curParcel.y + _local6) + _local7);
                        } else {
                            _local10 = ((this._curParcel.y + _local6) + _local9);
                        };
                        if (_arg3.textAlign != TextAlign.LEFT){
                            this._curLine.y = _local10;
                            _arg1.y = _local10;
                        } else {
                            _arg1.y = this._curLine.y;
                        };
                        if (((_arg2) && ((TextFlowLine.getNumberLineListStylePosition(_arg2) == ListStylePosition.OUTSIDE)))){
                            _arg2.y = computeNumberLineAlignment(_arg3, _arg1.textWidth, _arg1.y, _arg2, _local10, _local7, _local9);
                            this._curLine.numberLinePosition = _arg2.y;
                        };
                        releaseAlignData(_arg3);
                        _arg3 = null;
                    };
                };
            };
            var _local8:Number = (((_local4 + _local6) + _local5) + _local7);
            this._curLine.lineExtent = _local8;
            this._workingContentLogicalExtent = Math.max(this._workingContentLogicalExtent, _local8);
            this._curLine.accumulatedLineExtent = Math.max(this._contentLogicalExtent, this._workingContentLogicalExtent);
            if (!_arg3){
                _local13 = (((this._curParaFormat.direction == Direction.LTR)) ? Math.max(this._curLine.lineOffset, 0) : this._curParaFormat.paragraphEndIndent);
                _local13 = (((this._blockProgression == BlockProgression.RL)) ? (this._curLine.y - _local13) : (this._curLine.x - _local13));
                if (_arg2){
                    _local14 = (((this._blockProgression == BlockProgression.TB)) ? (_arg2.x + this._curLine.x) : (_arg2.y + this._curLine.y));
                    _local13 = Math.min(_local13, _local14);
                    if (TextFlowLine.getNumberLineListStylePosition(_arg2) == ListStylePosition.OUTSIDE){
                        _local15 = (_local14 + TextFlowLine.getNumberLineInsideLineWidth(_arg2));
                        _local15 = (_local15 - _local8);
                        if (_local15 > 0){
                            _local7 = (_local7 + _local15);
                        };
                    };
                };
                this._workingContentExtent = Math.max(this._workingContentExtent, (((_local4 + _local6) + Math.max(0, _local5)) + _local7));
                this._curLine.accumulatedMinimumStart = (this._accumulatedMinimumStart = Math.min(this._accumulatedMinimumStart, _local13));
            };
            if ((((this._curLine.absoluteStart == this._curParcelStart)) && (isNaN(this._workingParcelLogicalTop)))){
                this._workingParcelLogicalTop = this.computeTextFlowLineMinimumLogicalTop(this._curLine, _arg1);
            };
            return (_arg3);
        }
        protected function composeNextLine():TextLine{
            return (null);
        }
        protected function fitLineToParcel(_arg1:TextLine, _arg2:Boolean, _arg3:TextLine):Boolean{
            var _local4:Number = this._lineSlug.depth;
            this._curLine.setController(this._curParcel.controller, this._curParcel.columnIndex);
            var _local5:Number = Math.max(this._curLine.spaceBefore, this._paragraphSpaceCarried);
            while (true) {
                this.finishComposeLine(_arg1, _arg3);
                if (this._parcelList.getLineSlug(this._lineSlug, (_local5 + ((((this._parcelList.atLast()) && (!((this._textFlow.configuration.overflowPolicy == OverflowPolicy.FIT_DESCENDERS))))) ? (this._curLine.height - this._curLine.ascent) : (this._curLine.height + this._curLine.descent))), 1, this._textIndent, (this._curParaFormat.direction == Direction.LTR))){
                    if ((((Twips.to(this._lineSlug.width) == this._curLine.outerTargetWidthTW)) && (!((this._lineSlug.depth == _local4))))){
                        this.finishComposeLine(_arg1, _arg3);
                    };
                    break;
                };
                _local5 = this._curLine.spaceBefore;
                if (((((this._pushInFloats) && (this._parcelList.currentParcel.fitAny))) && ((this._pushInFloats.length > 0)))){
                    break;
                };
                while (true) {
                    this.advanceToNextParcel();
                    if (((!(this._curLine)) || (this._parcelList.atEnd()))){
                        return (false);
                    };
                    if (this._parcelList.getLineSlug(this._lineSlug, 0, 1, this._textIndent, (this._curParaFormat.direction == Direction.LTR))){
                        _local4 = this._lineSlug.depth;
                        break;
                    };
                };
                this._curLine.setController(this._curParcel.controller, this._curParcel.columnIndex);
            };
            if (Twips.to(this._lineSlug.width) != this._curLine.outerTargetWidthTW){
                return (false);
            };
            if (_arg2){
                if (_arg3){
                    TextFlowLine.initializeNumberLinePosition(_arg3, this._listItemElement, this._curParaElement, _arg1.textWidth);
                };
                this._curLine.createAdornments(this._blockProgression, this._curElement, this._curElementStart, _arg1, _arg3);
            };
            return (true);
        }
        protected function calculateLeadingParameters(_arg1:FlowLeafElement, _arg2:int, _arg3:TextLine=null):Number{
            var _local4:ITextLayoutFormat;
            var _local5:Rectangle;
            if (_arg3){
                _local4 = TextFlowLine.getNumberLineSpanFormat(_arg3);
            };
            if (this._curLineLeadingModel == LeadingModel.BOX){
                _local5 = this._curLine.getCSSLineBox(this._blockProgression, _arg1, _arg2, this._textFlow.flowComposer.swfContext, _local4, _arg3);
                this._curLineLeading = ((_local5) ? _local5.bottom : 0);
                return (((_local5) ? -(_local5.top) : 0));
            };
            this._curLineLeading = this._curLine.getLineLeading(this._blockProgression, _arg1, _arg2);
            if (_local4){
                this._curLineLeading = Math.max(this._curLineLeading, TextLayoutFormat.lineHeightProperty.computeActualPropertyValue(_local4.lineHeight, _local4.fontSize));
            };
            return (0);
        }
        protected function finishComposeLine(_arg1:TextLine, _arg2:TextLine):void{
            var _local4:Number;
            var _local5:Number;
            var _local9:ITextLayoutFormat;
            var _local10:Object;
            var _local11:String;
            var _local12:LeadingAdjustment;
            var _local13:Number;
            var _local14:Boolean;
            var _local15:Boolean;
            var _local16:FlowLeafElement;
            var _local17:LeadingAdjustment;
            var _local18:Number;
            var _local3:Number = 0;
            if (this._blockProgression == BlockProgression.RL){
                _local4 = ((this._curParcel.x + this._curParcel.width) - this._lineSlug.depth);
                _local5 = this._curParcel.y;
            } else {
                _local4 = (this._curParcel.y + this._lineSlug.depth);
                _local5 = this._curParcel.x;
            };
            _local5 = (_local5 + this._lineSlug.leftMargin);
            this._curLineLeadingModel = this._curParaElement.getEffectiveLeadingModel();
            var _local6:Number = this.calculateLeadingParameters(this._curElement, this._curElementStart, _arg2);
            if (this._curLineLeadingModel == LeadingModel.BOX){
                _local3 = (_local3 + ((this._atColumnStart) ? 0 : this._lastLineDescent));
                _local3 = (_local3 + _local6);
            } else {
                _local9 = this._curParcel.controller.computedFormat;
                _local10 = BaselineOffset.LINE_HEIGHT;
                if (this._atColumnStart){
                    if (((((!((_local9.firstBaselineOffset == BaselineOffset.AUTO))) && (!((_local9.verticalAlign == VerticalAlign.BOTTOM))))) && (!((_local9.verticalAlign == VerticalAlign.MIDDLE))))){
                        _local10 = _local9.firstBaselineOffset;
                        _local11 = (((LocaleUtil.leadingModel(_local9.locale) == LeadingModel.IDEOGRAPHIC_TOP_DOWN)) ? TextBaseline.IDEOGRAPHIC_BOTTOM : TextBaseline.ROMAN);
                        _local3 = (_local3 - _arg1.getBaselinePosition(_local11));
                    } else {
                        if (this._curLineLeadingModel == LeadingModel.APPROXIMATE_TEXT_FIELD){
                            _local3 = (_local3 + (Math.round(_arg1.descent) + Math.round(_arg1.ascent)));
                            if (this._blockProgression == BlockProgression.TB){
                                _local3 = (Math.round((_local4 + _local3)) - _local4);
                            } else {
                                _local3 = (_local4 - Math.round((_local4 - _local3)));
                            };
                            _local10 = 0;
                        } else {
                            _local10 = BaselineOffset.ASCENT;
                            if (_arg1.hasGraphicElement){
                                _local12 = this.getLineAdjustmentForInline(_arg1, this._curLineLeadingModel, true);
                                if (_local12 != null){
                                    if (this._blockProgression == BlockProgression.RL){
                                        _local12.rise = -(_local12.rise);
                                    };
                                    this._curLineLeading = (this._curLineLeading + _local12.leading);
                                    _local4 = (_local4 + _local12.rise);
                                };
                            };
                            _local3 = (_local3 - _arg1.getBaselinePosition(TextBaseline.ROMAN));
                        };
                    };
                };
                if (_local10 == BaselineOffset.ASCENT){
                    _local13 = this._curLine.getLineTypographicAscent(this._curElement, this._curElementStart, _arg1);
                    if (_arg2){
                        _local3 = (_local3 + Math.max(_local13, TextFlowLine.getTextLineTypographicAscent(_arg2, null, 0, 0)));
                    } else {
                        _local3 = (_local3 + _local13);
                    };
                } else {
                    if (_local10 == BaselineOffset.LINE_HEIGHT){
                        if (this._curLineLeadingModel == LeadingModel.APPROXIMATE_TEXT_FIELD){
                            _local3 = (_local3 + (((Math.round(this._lastLineDescent) + Math.round(_arg1.ascent)) + Math.round(_arg1.descent)) + Math.round(this._curLineLeading)));
                        } else {
                            if (this._curLineLeadingModel == LeadingModel.ASCENT_DESCENT_UP){
                                _local3 = (_local3 + ((this._lastLineDescent + _arg1.ascent) + this._curLineLeading));
                            } else {
                                _local14 = ((this._atColumnStart) ? true : ParagraphElement.useUpLeadingDirection(this._curLineLeadingModel));
                                _local15 = ((((this._atColumnStart) || ((this._lastLineLeadingModel == "")))) ? true : ParagraphElement.useUpLeadingDirection(this._lastLineLeadingModel));
                                if (_local14){
                                    _local3 = (_local3 + this._curLineLeading);
                                } else {
                                    if (!_local15){
                                        _local3 = (_local3 + this._lastLineLeading);
                                    } else {
                                        _local3 = (_local3 + (this._lastLineDescent + _arg1.ascent));
                                    };
                                };
                            };
                        };
                    } else {
                        _local3 = (_local3 + Number(_local10));
                    };
                };
                if (((_arg1.hasGraphicElement) && (!((_local10 == BaselineOffset.ASCENT))))){
                    _local17 = this.getLineAdjustmentForInline(_arg1, this._curLineLeadingModel, false);
                    if (_local17 != null){
                        if (this._blockProgression == BlockProgression.RL){
                            _local17.rise = -(_local17.rise);
                        };
                        this._curLineLeading = (this._curLineLeading + _local17.leading);
                        _local4 = (_local4 + _local17.rise);
                    };
                };
            };
            _local4 = (_local4 + (((this._blockProgression == BlockProgression.RL)) ? -(_local3) : (_local3 - _arg1.ascent)));
            var _local7:Number = ((((this._atColumnStart) && (!((this._curLineLeadingModel == LeadingModel.BOX))))) ? 0 : this._curLine.spaceBefore);
            var _local8:Number = ((this._atColumnStart) ? 0 : this._paragraphSpaceCarried);
            if (((!((_local7 == 0))) || (!((_local8 == 0))))){
                _local18 = Math.max(_local7, _local8);
                _local4 = (_local4 + (((this._blockProgression == BlockProgression.RL)) ? -(_local18) : _local18));
            };
            if (this._blockProgression == BlockProgression.TB){
                this._curLine.setXYAndHeight(_local5, _local4, _local3);
            } else {
                this._curLine.setXYAndHeight(_local4, _local5, _local3);
            };
        }
        private function applyTextAlign(_arg1:Number):void{
            var _local2:TextLine;
            var _local3:TextLine;
            var _local4:TextFlowLine;
            var _local5:AlignData;
            var _local6:Number;
            var _local7:Number;
            var _local8:Number;
            var _local9:Number;
            var _local10:Number;
            var _local11:Number;
            var _local12:Number;
            if (this._blockProgression == BlockProgression.TB){
                for each (_local5 in this._alignLines) {
                    _local2 = _local5.textLine;
                    _local11 = _local5.rightSideGap;
                    _local10 = _local5.leftSideGap;
                    _local9 = (((_arg1 - _local10) - _local11) - _local2.textWidth);
                    _local7 = (((_local5.textAlign == TextAlign.CENTER)) ? (_local9 / 2) : _local9);
                    _local6 = ((this._curParcel.x + _local10) + _local7);
                    if (_local5.textAlign != TextAlign.LEFT){
                        _local4 = (_local2.userData as TextFlowLine);
                        if (_local4){
                            _local4.x = _local6;
                        };
                        _local2.x = _local6;
                    };
                    _local8 = ((_local5.lineWidth + _local6) + Math.max(_local11, 0));
                    this._parcelRight = Math.max(_local8, this._parcelRight);
                    _local3 = TextFlowLine.findNumberLine(_local2);
                    if (((_local3) && ((TextFlowLine.getNumberLineListStylePosition(_local3) == ListStylePosition.OUTSIDE)))){
                        _local3.x = computeNumberLineAlignment(_local5, _local2.textWidth, _local2.x, _local3, _local6, _local7, _local9);
                        _local5.textFlowLine.numberLinePosition = _local3.x;
                        _local12 = (_local3.x + _local2.x);
                        if (_local12 < this._parcelLeft){
                            this._parcelLeft = _local12;
                        };
                        _local12 = (_local12 + TextFlowLine.getNumberLineInsideLineWidth(_local3));
                        if (_local12 > this._parcelRight){
                            this._parcelRight = _local12;
                        };
                    };
                };
            } else {
                for each (_local5 in this._alignLines) {
                    _local2 = _local5.textLine;
                    _local11 = _local5.rightSideGap;
                    _local10 = _local5.leftSideGap;
                    _local9 = (((_arg1 - _local10) - _local11) - _local2.textWidth);
                    _local7 = (((_local5.textAlign == TextAlign.CENTER)) ? (_local9 / 2) : _local9);
                    _local6 = ((this._curParcel.y + _local10) + _local7);
                    if (_local5.textAlign != TextAlign.LEFT){
                        _local4 = (_local2.userData as TextFlowLine);
                        if (_local4){
                            _local4.y = _local6;
                        };
                        _local2.y = _local6;
                    };
                    _local8 = ((_local5.lineWidth + _local6) + Math.max(_local11, 0));
                    this._parcelBottom = Math.max(_local8, this._parcelBottom);
                    _local3 = TextFlowLine.findNumberLine(_local2);
                    if (((_local3) && ((TextFlowLine.getNumberLineListStylePosition(_local3) == ListStylePosition.OUTSIDE)))){
                        _local3.y = computeNumberLineAlignment(_local5, _local2.textWidth, _local2.y, _local3, _local6, _local7, _local9);
                        _local5.textFlowLine.numberLinePosition = _local3.y;
                        _local12 = (_local3.y + _local2.y);
                        if (_local12 < this._parcelTop){
                            this._parcelTop = _local12;
                        };
                        _local12 = (_local12 + TextFlowLine.getNumberLineInsideLineWidth(_local3));
                        if (_local12 > this._parcelBottom){
                            this._parcelBottom = _local12;
                        };
                    };
                };
            };
        }
        protected function commitLastLineState(_arg1:TextFlowLine):void{
            this._lastLineDescent = (((this._curLineLeadingModel == LeadingModel.BOX)) ? this._curLineLeading : _arg1.descent);
            this._lastLineLeading = this._curLineLeading;
            this._lastLineLeadingModel = this._curLineLeadingModel;
        }
        protected function doVerticalAlignment(_arg1:Boolean, _arg2:Parcel):void{
        }
        protected function finalParcelAdjustment(_arg1:ContainerController):void{
        }
        protected function finishParcel(_arg1:ContainerController, _arg2:Parcel):Boolean{
            if (this._curParcelStart == (this._curElementStart + this._curElementOffset)){
                return (false);
            };
            var _local3:Number = this._parcelList.totalDepth;
            if ((((this._textFlow.configuration.overflowPolicy == OverflowPolicy.FIT_DESCENDERS)) && (!(isNaN(this._lastLineDescent))))){
                _local3 = (_local3 + this._lastLineDescent);
            };
            _local3 = Math.max(_local3, this._contentCommittedHeight);
            if (this._blockProgression == BlockProgression.TB){
                this._parcelLeft = this._curParcel.x;
                this._parcelTop = this._curParcel.y;
                this._parcelRight = (this._contentCommittedExtent + this._curParcel.x);
                this._parcelBottom = (_local3 + this._curParcel.y);
            } else {
                this._parcelLeft = (this._curParcel.right - _local3);
                this._parcelTop = this._curParcel.y;
                this._parcelRight = this._curParcel.right;
                this._parcelBottom = (this._contentCommittedExtent + this._curParcel.y);
            };
            if (((this._alignLines) && ((this._alignLines.length > 0)))){
                this.applyTextAlign(this._contentLogicalExtent);
                releaseAlignData(this._alignLines[0]);
                this._alignLines.length = 0;
            };
            var _local4:Boolean;
            if (this._blockProgression == BlockProgression.TB){
                if (((!(_arg1.measureHeight)) && (((!(this._curParcel.fitAny)) || (((this._curElementStart + this._curElementOffset) >= this._textFlow.textLength)))))){
                    _local4 = true;
                };
            } else {
                if (((!(_arg1.measureWidth)) && (((!(this._curParcel.fitAny)) || (((this._curElementStart + this._curElementOffset) >= this._textFlow.textLength)))))){
                    _local4 = true;
                };
            };
            this.doVerticalAlignment(_local4, _arg2);
            this.finalParcelAdjustment(_arg1);
            this._contentLogicalExtent = 0;
            this._contentCommittedExtent = 0;
            this._contentCommittedHeight = 0;
            this._accumulatedMinimumStart = TextLine.MAX_LINE_WIDTH;
            return (true);
        }
        protected function applyVerticalAlignmentToColumn(_arg1:ContainerController, _arg2:String, _arg3:Array, _arg4:int, _arg5:int, _arg6:int, _arg7:int):void{
            var _local10:Number;
            var _local11:Number;
            var _local8:IVerticalJustificationLine = _arg3[_arg4];
            var _local9:IVerticalJustificationLine = _arg3[((_arg4 + _arg5) - 1)];
            if (this._blockProgression == BlockProgression.TB){
                _local10 = _local8.y;
                _local11 = _local9.y;
            } else {
                _local10 = _local8.x;
                _local11 = _local9.x;
            };
            var _local12:Number = VerticalJustifier.applyVerticalAlignmentToColumn(_arg1, _arg2, _arg3, _arg4, _arg5, _arg6, _arg7);
            if (!isNaN(this._parcelLogicalTop)){
                this._parcelLogicalTop = (this._parcelLogicalTop + _local12);
            };
            if (this._blockProgression == BlockProgression.TB){
                this._parcelTop = (this._parcelTop + (_local8.y - _local10));
                this._parcelBottom = (this._parcelBottom + (_local9.y - _local11));
            } else {
                this._parcelRight = (this._parcelRight + (_local8.x - _local10));
                this._parcelLeft = (this._parcelLeft + (_local9.x - _local11));
            };
        }
        protected function finishController(_arg1:ContainerController):void{
            var _local3:Number;
            var _local4:Number;
            var _local5:Number;
            var _local6:Number;
            var _local2:int = ((this._curElementStart + this._curElementOffset) - _arg1.absoluteStart);
            if (_local2 != 0){
                _local3 = _arg1.getTotalPaddingLeft();
                _local4 = _arg1.getTotalPaddingTop();
                _local5 = _arg1.getTotalPaddingRight();
                _local6 = _arg1.getTotalPaddingBottom();
                if (this._blockProgression == BlockProgression.TB){
                    if (this._controllerLeft > 0){
                        if (this._controllerLeft < _local3){
                            this._controllerLeft = 0;
                        } else {
                            this._controllerLeft = (this._controllerLeft - _local3);
                        };
                    };
                    if (this._controllerTop > 0){
                        if (this._controllerTop < _local4){
                            this._controllerTop = 0;
                        } else {
                            this._controllerTop = (this._controllerTop - _local4);
                        };
                    };
                    if (isNaN(_arg1.compositionWidth)){
                        this._controllerRight = (this._controllerRight + _local5);
                    } else {
                        if (this._controllerRight < _arg1.compositionWidth){
                            if (this._controllerRight > (_arg1.compositionWidth - _local5)){
                                this._controllerRight = _arg1.compositionWidth;
                            } else {
                                this._controllerRight = (this._controllerRight + _local5);
                            };
                        };
                    };
                    this._controllerBottom = (this._controllerBottom + _local6);
                } else {
                    this._controllerLeft = (this._controllerLeft - _local3);
                    if (this._controllerTop > 0){
                        if (this._controllerTop < _local4){
                            this._controllerTop = 0;
                        } else {
                            this._controllerTop = (this._controllerTop - _local4);
                        };
                    };
                    if (this._controllerRight < 0){
                        if (this._controllerRight > -(_local5)){
                            this._controllerRight = 0;
                        } else {
                            this._controllerRight = (this._controllerRight + _local5);
                        };
                    };
                    if (isNaN(_arg1.compositionHeight)){
                        this._controllerBottom = (this._controllerBottom + _local6);
                    } else {
                        if (this._controllerBottom < _arg1.compositionHeight){
                            if (this._controllerBottom > (_arg1.compositionHeight - _local6)){
                                this._controllerBottom = _arg1.compositionHeight;
                            } else {
                                this._controllerBottom = (this._controllerBottom + _local6);
                            };
                        };
                    };
                };
                _arg1.setContentBounds(this._controllerLeft, this._controllerTop, (this._controllerRight - this._controllerLeft), (this._controllerBottom - this._controllerTop));
            } else {
                _arg1.setContentBounds(0, 0, 0, 0);
            };
            _arg1.setTextLength(_local2);
            _arg1.finalParcelStart = this._curParcelStart;
        }
        private function clearControllers(_arg1:ContainerController, _arg2:ContainerController):void{
            var _local5:ContainerController;
            var _local3:int = ((_arg1) ? (this._flowComposer.getControllerIndex(_arg1) + 1) : 0);
            var _local4:int = ((_arg2) ? this._flowComposer.getControllerIndex(_arg2) : (this._flowComposer.numControllers - 1));
            while (_local3 <= _local4) {
                _local5 = ContainerController(this._flowComposer.getControllerAt(_local3));
                _local5.setContentBounds(0, 0, 0, 0);
                _local5.setTextLength(0);
                _local5.clearComposedLines(_local5.absoluteStart);
                _local5.clearFloatsAt(_local5.absoluteStart);
                _local3++;
            };
        }
        protected function advanceToNextParcel():void{
            this.parcelHasChanged(((this._parcelList.atLast()) ? null : this._parcelList.getParcelAt((this._parcelList.currentParcelIndex + 1))));
            this._parcelList.next();
        }
        protected function parcelHasChanged(_arg1:Parcel):void{
            var _local2:ContainerController = ((this._curParcel) ? ContainerController(this._curParcel.controller) : null);
            var _local3:ContainerController = ((_arg1) ? ContainerController(_arg1.controller) : null);
            if (((!((_local2 == null))) && (!((this._lastGoodStart == -1))))){
                _local2.clearFloatsAt(this._lastGoodStart);
                this._curLine = null;
                this._linePass = 0;
                this._pushInFloats.length = 0;
            };
            if (this._curParcel != null){
                if (this.finishParcel(_local2, _arg1)){
                    if (this._parcelLeft < this._controllerLeft){
                        this._controllerLeft = this._parcelLeft;
                    };
                    if (this._parcelRight > this._controllerRight){
                        this._controllerRight = this._parcelRight;
                    };
                    if (this._parcelTop < this._controllerTop){
                        this._controllerTop = this._parcelTop;
                    };
                    if (this._parcelBottom > this._controllerBottom){
                        this._controllerBottom = this._parcelBottom;
                    };
                };
            };
            if (_local2 != _local3){
                if (_local2){
                    this.finishController(_local2);
                };
                this.resetControllerBounds();
                if (this._flowComposer.numControllers > 1){
                    if ((((_local2 == null)) && (this._startController))){
                        this.clearControllers(this._startController, _local3);
                    } else {
                        this.clearControllers(_local2, _local3);
                    };
                };
                if (_local3){
                    if (_local2){
                        this._startComposePosition = _local3.absoluteStart;
                    };
                    this.calculateControllerVisibleBounds(_local3);
                };
            };
            this._curParcel = _arg1;
            this._curParcelStart = (this._curElementStart + this._curElementOffset);
            this._atColumnStart = true;
            this._workingTotalDepth = 0;
            if (_local3){
                this._verticalSpaceCarried = ((this._blockProgression)==BlockProgression.RL) ? _local3.getTotalPaddingRight() : _local3.getTotalPaddingTop();
                this._measuring = (((((this._blockProgression == BlockProgression.TB)) && (_local3.measureWidth))) || ((((this._blockProgression == BlockProgression.RL)) && (_local3.measureHeight))));
            };
        }
        private function calculateControllerVisibleBounds(_arg1:ContainerController):void{
            var _local2:Number = ((_arg1.measureWidth) ? Number.MAX_VALUE : _arg1.compositionWidth);
            var _local3:Number = _arg1.horizontalScrollPosition;
            this._controllerVisibleBoundsXTW = Twips.roundTo(((this._blockProgression)==BlockProgression.RL) ? (_local3 - _local2) : _local3);
            this._controllerVisibleBoundsYTW = Twips.roundTo(_arg1.verticalScrollPosition);
            this._controllerVisibleBoundsWidthTW = ((_arg1.measureWidth) ? int.MAX_VALUE : Twips.to(_arg1.compositionWidth));
            this._controllerVisibleBoundsHeightTW = ((_arg1.measureHeight) ? int.MAX_VALUE : Twips.to(_arg1.compositionHeight));
        }
        private function getLineAdjustmentForInline(_arg1:TextLine, _arg2:String, _arg3:Boolean):LeadingAdjustment{
            var _local10:InlineGraphicElement;
            var _local11:String;
            var _local12:LeadingAdjustment;
            var _local13:Number;
            var _local4:LeadingAdjustment;
            var _local5:ParagraphElement = this._curLine.paragraph;
            var _local6:FlowLeafElement = this._curElement;
            var _local7:int = _local6.getAbsoluteStart();
            var _local8:Number = _local6.getEffectiveFontSize();
            var _local9:Number = 0;
            while (((_local6) && ((_local7 < (this._curLine.absoluteStart + this._curLine.textLength))))) {
                if ((((_local7 >= this._curLine.absoluteStart)) || (((_local7 + _local6.textLength) >= this._curLine.absoluteStart)))){
                    if ((_local6 is InlineGraphicElement)){
                        _local10 = (_local6 as InlineGraphicElement);
                        if ((((_local10.effectiveFloat == Float.NONE)) && (!((((this._blockProgression == BlockProgression.RL)) && ((_local6.parent is TCYElement))))))){
                            if (_local9 < _local10.getEffectiveFontSize()){
                                _local9 = _local10.getEffectiveFontSize();
                                if (_local9 >= _local8){
                                    _local11 = _local6.computedFormat.dominantBaseline;
                                    if (_local11 == FormatValue.AUTO){
                                        _local11 = LocaleUtil.dominantBaseline(_local5.computedFormat.locale);
                                    };
                                    if (_local11 == TextBaseline.IDEOGRAPHIC_CENTER){
                                        _local12 = this.calculateLinePlacementAdjustment(_arg1, _local11, _arg2, _local10, _arg3);
                                        if (((((!(_local4)) || ((Math.abs(_local12.rise) > Math.abs(_local4.rise))))) || ((Math.abs(_local12.leading) > Math.abs(_local4.leading))))){
                                            if (_local4){
                                                _local4.rise = _local12.rise;
                                                _local4.leading = _local12.leading;
                                            } else {
                                                _local4 = _local12;
                                            };
                                        };
                                    };
                                };
                            };
                        };
                    } else {
                        _local13 = _local6.getEffectiveFontSize();
                        if (_local8 <= _local13){
                            _local8 = _local13;
                        };
                        if (((_local4) && ((_local9 < _local8)))){
                            _local4.leading = 0;
                            _local4.rise = 0;
                        };
                    };
                };
                _local7 = (_local7 + _local6.textLength);
                _local6 = _local6.getNextLeaf(_local5);
            };
            return (_local4);
        }
        public function get swfContext():ISWFContext{
            var _local1:ISWFContext = this._flowComposer.swfContext;
            return (((_local1) ? _local1 : GlobalSWFContext.globalSWFContext));
        }
        private function calculateLinePlacementAdjustment(_arg1:TextLine, _arg2:String, _arg3:String, _arg4:InlineGraphicElement, _arg5:Boolean):LeadingAdjustment{
            var _local6:LeadingAdjustment = new LeadingAdjustment();
            var _local7:Number = _arg4.getEffectiveLineHeight(this._blockProgression);
            var _local8:Number = TextLayoutFormat.lineHeightProperty.computeActualPropertyValue(_arg4.computedFormat.lineHeight, _arg1.textHeight);
            if (_arg2 == TextBaseline.IDEOGRAPHIC_CENTER){
                if (!_arg5){
                    _local6.rise = (_local6.rise + ((_local7 - _local8) / 2));
                } else {
                    _local6.leading = (_local6.leading - ((_local7 - _local8) / 2));
                };
            };
            return (_local6);
        }
        protected function pushInsideListItemMargins(_arg1:TextLine):void{
            var _local2:Number;
            if (((_arg1) && ((this._listItemElement.computedFormat.listStylePosition == ListStylePosition.INSIDE)))){
                _local2 = TextFlowLine.getNumberLineInsideLineWidth(_arg1);
                this._parcelList.pushInsideListItemMargin(_local2);
            };
        }
        protected function popInsideListItemMargins(_arg1:TextLine):void{
            var _local2:Number;
            if (((_arg1) && ((this._listItemElement.computedFormat.listStylePosition == ListStylePosition.INSIDE)))){
                _local2 = TextFlowLine.getNumberLineInsideLineWidth(_arg1);
                this._parcelList.popInsideListItemMargin(_local2);
            };
        }

    }
}//package flashx.textLayout.compose 

import flash.text.engine.*;

class AlignData {

    public var textFlowLine:TextFlowLine;
    public var textLine:TextLine;
    public var lineWidth:Number;
    public var textAlign:String;
    public var leftSideGap:Number;
    public var rightSideGap:Number;
    public var textIndent:Number;

    public function AlignData(_arg1:TextFlowLine){
        this.textFlowLine = _arg1;
    }
}
class GlobalSWFContext implements ISWFContext {

    public static const globalSWFContext:GlobalSWFContext = new (GlobalSWFContext)();
;

    public function GlobalSWFContext(){
    }
    public function callInContext(_arg1:Function, _arg2:Object, _arg3:Array, _arg4:Boolean=true){
        if (_arg4){
            return (_arg1.apply(_arg2, _arg3));
        };
        _arg1.apply(_arg2, _arg3);
    }

}
class LeadingAdjustment {

    public var rise:Number = 0;
    public var leading:Number = 0;
    public var lineHeight:Number = 0;

    public function LeadingAdjustment(){
    }
}
﻿package flashx.textLayout.compose {
    import flash.text.engine.*;
    import flash.geom.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.*;

    public class ParcelList {

        private static const MAX_HEIGHT:Number = 0x35A4E900;
        private static const MAX_WIDTH:Number = 0x35A4E900;

        private static var _sharedParcelList:ParcelList;

        protected var _flowComposer:IFlowComposer;
        protected var _totalDepth:Number;
        protected var _hasContent:Boolean;
        protected var _parcelArray:Array;
        protected var _numParcels:int;
        protected var _singleParcel:Parcel;
        protected var _currentParcelIndex:int;
        protected var _currentParcel:Parcel;
        protected var _insideListItemMargin:Number;
        protected var _leftMargin:Number;
        protected var _rightMargin:Number;
        protected var _explicitLineBreaks:Boolean;
        protected var _verticalText:Boolean;

        public function ParcelList(){
            this._numParcels = 0;
        }
        tlf_internal static function getParcelList():ParcelList{
            var _local1:ParcelList = ((_sharedParcelList) ? _sharedParcelList : new (ParcelList)());
            _sharedParcelList = null;
            return (_local1);
        }
        tlf_internal static function releaseParcelList(_arg1:ParcelList):void{
            if (_sharedParcelList == null){
                _sharedParcelList = (_arg1 as ParcelList);
                if (_sharedParcelList){
                    _sharedParcelList.releaseAnyReferences();
                };
            };
        }

        tlf_internal function releaseAnyReferences():void{
            this._flowComposer = null;
            this._numParcels = 0;
            this._parcelArray = null;
            if (this._singleParcel){
                this._singleParcel.releaseAnyReferences();
            };
        }
        public function getParcelAt(_arg1:int):Parcel{
            return ((((this._numParcels <= 1)) ? this._singleParcel : this._parcelArray[_arg1]));
        }
        public function get currentParcelIndex():int{
            return (this._currentParcelIndex);
        }
        public function get explicitLineBreaks():Boolean{
            return (this._explicitLineBreaks);
        }
        private function get measureLogicalWidth():Boolean{
            if (this._explicitLineBreaks){
                return (true);
            };
            if (!this._currentParcel){
                return (false);
            };
            var _local1:ContainerController = this._currentParcel.controller;
            return (((this._verticalText) ? _local1.measureHeight : _local1.measureWidth));
        }
        private function get measureLogicalHeight():Boolean{
            if (!this._currentParcel){
                return (false);
            };
            var _local1:ContainerController = this._currentParcel.controller;
            return (((this._verticalText) ? _local1.measureWidth : _local1.measureHeight));
        }
        public function get totalDepth():Number{
            return (this._totalDepth);
        }
        public function addTotalDepth(_arg1:Number):Number{
            this._totalDepth = (this._totalDepth + _arg1);
            return (this._totalDepth);
        }
        protected function reset():void{
            this._totalDepth = 0;
            this._hasContent = false;
            this._currentParcelIndex = -1;
            this._currentParcel = null;
            this._leftMargin = 0;
            this._rightMargin = 0;
            this._insideListItemMargin = 0;
        }
        private function addParcel(_arg1:Rectangle, _arg2:ContainerController, _arg3:int):void{
            var _local4:Parcel = (((((this._numParcels == 0)) && (this._singleParcel))) ? this._singleParcel.initialize(this._verticalText, _arg1.x, _arg1.y, _arg1.width, _arg1.height, _arg2, _arg3) : new Parcel(this._verticalText, _arg1.x, _arg1.y, _arg1.width, _arg1.height, _arg2, _arg3));
            if (this._numParcels == 0){
                this._singleParcel = _local4;
            } else {
                if (this._numParcels == 1){
                    this._parcelArray = [this._singleParcel, _local4];
                } else {
                    this._parcelArray.push(_local4);
                };
            };
            this._numParcels++;
        }
        protected function addOneControllerToParcelList(_arg1:ContainerController):void{
            var _local4:Rectangle;
            var _local2:ColumnState = _arg1.columnState;
            var _local3:int;
            while (_local3 < _local2.columnCount) {
                _local4 = _local2.getColumnAt(_local3);
                if (!_local4.isEmpty()){
                    this.addParcel(_local4, _arg1, _local3);
                };
                _local3++;
            };
        }
        public function beginCompose(_arg1:IFlowComposer, _arg2:int, _arg3:int, _arg4:Boolean):void{
            var _local6:int;
            this._flowComposer = _arg1;
            var _local5:ITextLayoutFormat = _arg1.rootElement.computedFormat;
            this._explicitLineBreaks = (_local5.lineBreak == LineBreak.EXPLICIT);
            this._verticalText = (_local5.blockProgression == BlockProgression.RL);
            if (_arg1.numControllers != 0){
                if (_arg3 < 0){
                    _arg3 = (_arg1.numControllers - 1);
                } else {
                    _arg3 = Math.min(_arg3, (_arg1.numControllers - 1));
                };
                _local6 = _arg2;
                do  {
                    this.addOneControllerToParcelList(ContainerController(_arg1.getControllerAt(_local6)));
                    var _temp1 = _local6;
                    _local6 = (_local6 + 1);
                } while (_temp1 != _arg3);
                if (_arg3 == (_arg1.numControllers - 1)){
                    this.adjustForScroll(_arg1.getControllerAt((_arg1.numControllers - 1)), _arg4);
                };
            };
            this.reset();
        }
        private function adjustForScroll(_arg1:ContainerController, _arg2:Boolean):void{
            var _local3:Number;
            var _local4:Number;
            var _local5:Parcel;
            var _local6:Number;
            if (this._verticalText){
                if (_arg1.horizontalScrollPolicy != ScrollPolicy.OFF){
                    _local5 = this.getParcelAt((this._numParcels - 1));
                    if (_local5){
                        _local3 = (_arg1.getTotalPaddingRight() + _arg1.getTotalPaddingLeft());
                        _local4 = _local5.right;
                        _local5.x = ((_arg1.horizontalScrollPosition - _local5.width) - _local3);
                        _local5.width = (_local4 - _local5.x);
                        _local5.fitAny = true;
                        _local5.composeToPosition = _arg2;
                    };
                };
            } else {
                if (_arg1.verticalScrollPolicy != ScrollPolicy.OFF){
                    _local5 = this.getParcelAt((this._numParcels - 1));
                    if (_local5){
                        _local6 = (_arg1.getTotalPaddingBottom() + _arg1.getTotalPaddingTop());
                        _local5.height = (((_arg1.verticalScrollPosition + _local5.height) + _local6) - _local5.y);
                        _local5.fitAny = true;
                        _local5.composeToPosition = _arg2;
                    };
                };
            };
        }
        public function get leftMargin():Number{
            return (this._leftMargin);
        }
        public function pushLeftMargin(_arg1:Number):void{
            this._leftMargin = (this._leftMargin + _arg1);
        }
        public function popLeftMargin(_arg1:Number):void{
            this._leftMargin = (this._leftMargin - _arg1);
        }
        public function get rightMargin():Number{
            return (this._rightMargin);
        }
        public function pushRightMargin(_arg1:Number):void{
            this._rightMargin = (this._rightMargin + _arg1);
        }
        public function popRightMargin(_arg1:Number):void{
            this._rightMargin = (this._rightMargin - _arg1);
        }
        public function pushInsideListItemMargin(_arg1:Number):void{
            this._insideListItemMargin = (this._insideListItemMargin + _arg1);
        }
        public function popInsideListItemMargin(_arg1:Number):void{
            this._insideListItemMargin = (this._insideListItemMargin - _arg1);
        }
        public function get insideListItemMargin():Number{
            return (this._insideListItemMargin);
        }
        public function getComposeXCoord(_arg1:Rectangle):Number{
            return (((this._verticalText) ? _arg1.right : _arg1.left));
        }
        public function getComposeYCoord(_arg1:Rectangle):Number{
            return (_arg1.top);
        }
        public function getComposeWidth(_arg1:Rectangle):Number{
            if (this.measureLogicalWidth){
                return (TextLine.MAX_LINE_WIDTH);
            };
            return (((this._verticalText) ? _arg1.height : _arg1.width));
        }
        public function getComposeHeight(_arg1:Rectangle):Number{
            if (this.measureLogicalHeight){
                return (TextLine.MAX_LINE_WIDTH);
            };
            return (((this._verticalText) ? _arg1.width : _arg1.height));
        }
        public function atLast():Boolean{
            return ((((this._numParcels == 0)) || ((this._currentParcelIndex == (this._numParcels - 1)))));
        }
        public function atEnd():Boolean{
            return ((((this._numParcels == 0)) || ((this._currentParcelIndex >= this._numParcels))));
        }
        public function next():Boolean{
            var _local2:ContainerController;
            var _local1 = ((this._currentParcelIndex + 1) < this._numParcels);
            this._currentParcelIndex = (this._currentParcelIndex + 1);
            this._totalDepth = 0;
            if (_local1){
                this._currentParcel = this.getParcelAt(this._currentParcelIndex);
                _local2 = this._currentParcel.controller;
            } else {
                this._currentParcel = null;
            };
            return (_local1);
        }
        public function get currentParcel():Parcel{
            return (this._currentParcel);
        }
        public function getLineSlug(_arg1:Slug, _arg2:Number, _arg3:Number, _arg4:Number, _arg5:Boolean):Boolean{
            if (this.currentParcel.getLineSlug(_arg1, this._totalDepth, _arg2, _arg3, ((this.currentParcel.fitAny) ? 1 : int(_arg2)), this._leftMargin, this._rightMargin, (_arg4 + this._insideListItemMargin), _arg5, this._explicitLineBreaks)){
                if (this.totalDepth != _arg1.depth){
                    this._totalDepth = _arg1.depth;
                };
                return (true);
            };
            return (false);
        }
        public function fitFloat(_arg1:Slug, _arg2:Number, _arg3:Number, _arg4:Number):Boolean{
            return (this.currentParcel.getLineSlug(_arg1, _arg2, _arg4, _arg3, ((this.currentParcel.fitAny) ? 1 : int(_arg4)), this._leftMargin, this._rightMargin, 0, true, this._explicitLineBreaks));
        }

    }
}//package flashx.textLayout.compose 
﻿package flashx.textLayout.compose {

    public class FlowDamageType {

        public static const INVALID:String = "invalid";
        public static const GEOMETRY:String = "geometry";

    }
}//package flashx.textLayout.compose 
﻿package flashx.textLayout.compose {
    import flash.display.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.events.*;
    import flash.system.*;
    import flashx.textLayout.*;
    import flashx.textLayout.accessibility.*;

    public class StandardFlowComposer extends FlowComposerBase implements IFlowComposer {

        tlf_internal var _rootElement:ContainerFormattedElement;
        private var _controllerList:Array;
        private var _composing:Boolean;
        private var lastBPDirectionScrollPosition:Number = -INF;

        public function StandardFlowComposer(){
            this._controllerList = new Array();
            this._composing = false;
        }
        private static function clearContainerAccessibilityImplementation(_arg1:Sprite):void{
            if (_arg1.accessibilityImplementation){
                if ((_arg1.accessibilityImplementation is TextAccImpl)){
                    TextAccImpl(_arg1.accessibilityImplementation).detachListeners();
                };
                _arg1.accessibilityImplementation = null;
            };
        }
        private static function getBPDirectionScrollPosition(_arg1:String, _arg2:ContainerController):Number{
            return ((((_arg1 == BlockProgression.TB)) ? _arg2.verticalScrollPosition : _arg2.horizontalScrollPosition));
        }

        public function get composing():Boolean{
            return (this._composing);
        }
        public function getAbsoluteStart(_arg1:ContainerController):int{
            var _local2:int = this.getControllerIndex(_arg1);
            var _local3:int = this._rootElement.getAbsoluteStart();
            var _local4:int;
            while (_local4 < _local2) {
                _local3 = (_local3 + this._controllerList[_local4].textLength);
                _local4++;
            };
            return (_local3);
        }
        public function get rootElement():ContainerFormattedElement{
            return (this._rootElement);
        }
        public function setRootElement(_arg1:ContainerFormattedElement):void{
            if (this._rootElement != _arg1){
                if ((((_arg1 is TextFlow)) && (!(((_arg1 as TextFlow).flowComposer == this))))){
                    (_arg1 as TextFlow).flowComposer = this;
                } else {
                    this.clearCompositionResults();
                    this.detachAllContainers();
                    this._rootElement = _arg1;
                    _textFlow = ((this._rootElement) ? this._rootElement.getTextFlow() : null);
                    this.attachAllContainers();
                };
            };
        }
        tlf_internal function detachAllContainers():void{
            var _local1:ContainerController;
            var _local2:ContainerController;
            var _local3:Sprite;
            if ((((this._controllerList.length > 0)) && (_textFlow))){
                _local2 = this.getControllerAt(0);
                _local3 = _local2.container;
                if (_local3){
                    clearContainerAccessibilityImplementation(_local3);
                };
            };
            for each (_local1 in this._controllerList) {
                _local1.clearSelectionShapes();
                _local1.setRootElement(null);
            };
        }
        tlf_internal function attachAllContainers():void{
            var _local1:ContainerController;
            var _local2:Sprite;
            var _local3:int;
            var _local4:Sprite;
            for each (_local1 in this._controllerList) {
                ContainerController(_local1).setRootElement(this._rootElement);
            };
            if ((((this._controllerList.length > 0)) && (_textFlow))){
                if (((textFlow.configuration.enableAccessibility) && (Capabilities.hasAccessibility))){
                    _local4 = this.getControllerAt(0).container;
                    if (_local4){
                        clearContainerAccessibilityImplementation(_local4);
                        _local4.accessibilityImplementation = new TextAccImpl(_local4, _textFlow);
                    };
                };
                _local3 = 0;
                while (_local3 < this._controllerList.length) {
                    _local2 = this.getControllerAt(_local3).container;
                    if (_local2){
                        _local2.focusRect = false;
                    };
                    _local3++;
                };
            };
            this.clearCompositionResults();
        }
        public function get numControllers():int{
            return (((this._controllerList) ? this._controllerList.length : 0));
        }
        public function addController(_arg1:ContainerController):void{
            var _local2:Sprite;
            var _local3:int;
            var _local4:int;
            this._controllerList.push(ContainerController(_arg1));
            if (this.numControllers == 1){
                this.attachAllContainers();
            } else {
                _arg1.setRootElement(this._rootElement);
                _local2 = _arg1.container;
                if (_local2){
                    _local2.focusRect = false;
                };
                if (textFlow){
                    _arg1 = this.getControllerAt((this.numControllers - 2));
                    _local3 = _arg1.absoluteStart;
                    _local4 = _arg1.textLength;
                    if (_local4 == 0){
                        if (_local3 != textFlow.textLength){
                            _local4++;
                        } else {
                            if (_local3 != 0){
                                _local3--;
                                _local4++;
                            };
                        };
                    };
                    if (_local4){
                        textFlow.damage(_local3, _local4, FlowDamageType.GEOMETRY, false);
                    };
                };
            };
        }
        public function addControllerAt(_arg1:ContainerController, _arg2:int):void{
            this.detachAllContainers();
            this._controllerList.splice(_arg2, 0, ContainerController(_arg1));
            this.attachAllContainers();
        }
        private function fastRemoveController(_arg1:int):Boolean{
            var _local3:Sprite;
            if (_arg1 == -1){
                return (true);
            };
            var _local2:ContainerController = this._controllerList[_arg1];
            if (!_local2){
                return (true);
            };
            if (((!(_textFlow)) || ((_local2.absoluteStart == _textFlow.textLength)))){
                if (_arg1 == 0){
                    _local3 = _local2.container;
                    if (_local3){
                        clearContainerAccessibilityImplementation(_local3);
                    };
                };
                _local2.setRootElement(null);
                this._controllerList.splice(_arg1, 1);
                return (true);
            };
            return (false);
        }
        public function removeController(_arg1:ContainerController):void{
            var _local2:int = this.getControllerIndex(_arg1);
            if (!this.fastRemoveController(_local2)){
                this.detachAllContainers();
                this._controllerList.splice(_local2, 1);
                this.attachAllContainers();
            };
        }
        public function removeControllerAt(_arg1:int):void{
            if (!this.fastRemoveController(_arg1)){
                this.detachAllContainers();
                this._controllerList.splice(_arg1, 1);
                this.attachAllContainers();
            };
        }
        public function removeAllControllers():void{
            this.detachAllContainers();
            this._controllerList.splice(0, this._controllerList.length);
        }
        public function getControllerAt(_arg1:int):ContainerController{
            return (this._controllerList[_arg1]);
        }
        public function getControllerIndex(_arg1:ContainerController):int{
            var _local2:int;
            while (_local2 < this._controllerList.length) {
                if (this._controllerList[_local2] == _arg1){
                    return (_local2);
                };
                _local2++;
            };
            return (-1);
        }
        public function findControllerIndexAtPosition(_arg1:int, _arg2:Boolean=false):int{
            var _local5:int;
            var _local6:ContainerController;
            var _local3:int;
            var _local4:int = (this._controllerList.length - 1);
            while (_local3 <= _local4) {
                _local5 = ((_local3 + _local4) / 2);
                _local6 = this._controllerList[_local5];
                if (_local6.absoluteStart <= _arg1){
                    if (_arg2){
                        if ((_local6.absoluteStart + _local6.textLength) >= _arg1){
                            while (((!((_local5 == 0))) && ((_local6.absoluteStart == _arg1)))) {
                                _local5--;
                                _local6 = this._controllerList[_local5];
                            };
                            return (_local5);
                        };
                    } else {
                        if ((((_local6.absoluteStart == _arg1)) && (!((_local6.textLength == 0))))){
                            while (_local5 != 0) {
                                _local6 = this._controllerList[(_local5 - 1)];
                                if (_local6.textLength != 0){
                                    break;
                                };
                                _local5--;
                            };
                            return (_local5);
                        };
                        if ((_local6.absoluteStart + _local6.textLength) > _arg1){
                            return (_local5);
                        };
                    };
                    _local3 = (_local5 + 1);
                } else {
                    _local4 = (_local5 - 1);
                };
            };
            return (-1);
        }
        tlf_internal function clearCompositionResults():void{
            var _local1:ContainerController;
            initializeLines();
            for each (_local1 in this._controllerList) {
                _local1.clearCompositionResults();
            };
        }
        public function updateAllControllers():Boolean{
            return (this.updateToController());
        }
        public function updateToController(_arg1:int=2147483647):Boolean{
            if (this._composing){
                return (false);
            };
            var _local2:ISelectionManager = textFlow.interactionManager;
            if (_local2){
                _local2.flushPendingOperations();
            };
            this.internalCompose(-1, _arg1);
            var _local3:Boolean = this.areShapesDamaged();
            if (_local3){
                this.updateCompositionShapes();
            };
            if (_local2){
                _local2.refreshSelection();
            };
            return (_local3);
        }
        public function setFocus(_arg1:int, _arg2:Boolean=false):void{
            var _local3:int = this.findControllerIndexAtPosition(_arg1, _arg2);
            if (_local3 == -1){
                _local3 = (this.numControllers - 1);
            };
            if (_local3 != -1){
                this._controllerList[_local3].setFocus();
            };
        }
        public function interactionManagerChanged(_arg1:ISelectionManager):void{
            var _local2:ContainerController;
            for each (_local2 in this._controllerList) {
                _local2.interactionManagerChanged(_arg1);
            };
        }
        private function updateCompositionShapes():void{
            var _local1:ContainerController;
            for each (_local1 in this._controllerList) {
                _local1.updateCompositionShapes();
            };
        }
        override public function isDamaged(_arg1:int):Boolean{
            var _local2:ContainerController;
            if (!super.isDamaged(_arg1)){
                if (_arg1 == _textFlow.textLength){
                    _local2 = this.getControllerAt((this.numControllers - 1));
                    if (((_local2) && (((!((_local2.verticalScrollPolicy == ScrollPolicy.OFF))) || (!((_local2.horizontalScrollPolicy == ScrollPolicy.OFF))))))){
                        return (true);
                    };
                };
                return (false);
            };
            return (true);
        }
        protected function preCompose():Boolean{
            this.rootElement.preCompose();
            if (numLines == 0){
                initializeLines();
            };
            return (this.isDamaged((this.rootElement.getAbsoluteStart() + this.rootElement.textLength)));
        }
        tlf_internal function getComposeState():ComposeState{
            return (ComposeState.getComposeState());
        }
        tlf_internal function releaseComposeState(_arg1:ComposeState):void{
            ComposeState.releaseComposeState(_arg1);
        }
        tlf_internal function callTheComposer(_arg1:int, _arg2:int):ContainerController{
            if (_damageAbsoluteStart == (this.rootElement.getAbsoluteStart() + this.rootElement.textLength)){
                return (this.getControllerAt((this.numControllers - 1)));
            };
            var _local3:ComposeState = this.getComposeState();
            var _local4:int = _local3.composeTextFlow(textFlow, _arg1, _arg2);
            if (_damageAbsoluteStart < _local4){
                _damageAbsoluteStart = _local4;
            };
            finalizeLinesAfterCompose();
            var _local5:ContainerController = _local3.startController;
            this.releaseComposeState(_local3);
            if (textFlow.hasEventListener(CompositionCompleteEvent.COMPOSITION_COMPLETE)){
                textFlow.dispatchEvent(new CompositionCompleteEvent(CompositionCompleteEvent.COMPOSITION_COMPLETE, false, false, textFlow, 0, _local4));
            };
            return (_local5);
        }
        private function internalCompose(_arg1:int=-1, _arg2:int=-1):ContainerController{
            var bp:* = null;
            var startController:* = null;
            var damageLimit:* = 0;
            var controller:* = null;
            var lastVisibleLine:* = null;
            var idx:* = 0;
            var composeToPosition:int = _arg1;
            var composeToControllerIndex:int = _arg2;
            var sm:* = textFlow.interactionManager;
            if (sm){
                sm.flushPendingOperations();
            };
            this._composing = true;
            try {
                if (this.preCompose()){
                    if (((textFlow) && (!((this.numControllers == 0))))){
                        damageLimit = _textFlow.textLength;
                        composeToControllerIndex = Math.min(composeToControllerIndex, (this.numControllers - 1));
                        if (((!((composeToPosition == -1))) || (!((composeToControllerIndex == -1))))){
                            if (composeToControllerIndex < 0){
                                if (composeToPosition >= 0){
                                    damageLimit = composeToPosition;
                                };
                            } else {
                                controller = this.getControllerAt(composeToControllerIndex);
                                if (controller.textLength != 0){
                                    damageLimit = (controller.absoluteStart + controller.textLength);
                                };
                                if (composeToControllerIndex == (this.numControllers - 1)){
                                    bp = this.rootElement.computedFormat.blockProgression;
                                    lastVisibleLine = controller.getLastVisibleLine();
                                    if (((lastVisibleLine) && ((getBPDirectionScrollPosition(bp, controller) == this.lastBPDirectionScrollPosition)))){
                                        damageLimit = (lastVisibleLine.absoluteStart + lastVisibleLine.textLength);
                                    };
                                };
                            };
                        };
                        this.lastBPDirectionScrollPosition = Number.NEGATIVE_INFINITY;
                        if (_damageAbsoluteStart < damageLimit){
                            startController = this.callTheComposer(composeToPosition, composeToControllerIndex);
                            if (startController){
                                idx = this.getControllerIndex(startController);
                                while (idx < this.numControllers) {
                                    idx = (idx + 1);
                                    this.getControllerAt(idx).shapesInvalid = true;
                                };
                            };
                        };
                    };
                };
            } catch(e:Error) {
                _composing = false;
                throw (e);
            };
            this._composing = false;
            if (composeToControllerIndex == (this.numControllers - 1)){
                this.lastBPDirectionScrollPosition = getBPDirectionScrollPosition(bp, controller);
            };
            return (startController);
        }
        tlf_internal function areShapesDamaged():Boolean{
            var _local1:ContainerController;
            for each (_local1 in this._controllerList) {
                if (_local1.shapesInvalid){
                    return (true);
                };
            };
            return (false);
        }
        public function compose():Boolean{
            return (((this._composing) ? false : !((this.internalCompose() == null))));
        }
        public function composeToPosition(_arg1:int=2147483647):Boolean{
            return (((this._composing) ? false : !((this.internalCompose(_arg1, -1) == null))));
        }
        public function composeToController(_arg1:int=2147483647):Boolean{
            return (((this._composing) ? false : !((this.internalCompose(-1, _arg1) == null))));
        }
        tlf_internal function createBackgroundManager():BackgroundManager{
            return (new BackgroundManager());
        }

    }
}//package flashx.textLayout.compose 
﻿package flashx.textLayout.compose {
    import flash.display.*;
    import flash.utils.*;
    import flash.text.engine.*;
    import flash.geom.*;
    import __AS3__.vec.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.utils.*;
    import flashx.textLayout.*;

    public final class TextFlowLine implements IVerticalJustificationLine {

        private static const VALIDITY_MASK:uint = 7;
        private static const ALIGNMENT_SHIFT:uint = 3;
        private static const ALIGNMENT_MASK:uint = 24;
        private static const NUMBERLINE_MASK:uint = 32;
        private static const GRAPHICELEMENT_MASK:uint = 64;
        private static const _validities:Array = [TextLineValidity.INVALID, TextLineValidity.POSSIBLY_INVALID, TextLineValidity.STATIC, TextLineValidity.VALID, FlowDamageType.GEOMETRY];
        private static const _alignments:Array = [TextAlign.LEFT, TextAlign.CENTER, TextAlign.RIGHT];
        private static const localZeroPoint:Point = new Point(0, 0);
        private static const localOnePoint:Point = new Point(1, 0);
        private static const rlLocalOnePoint:Point = new Point(0, 1);

        private static var _selectionBlockCache:Dictionary = new Dictionary(true);
        private static var numberLineFactory:NumberLineFactory;

        private var _absoluteStart:int;
        private var _textLength:int;
        private var _x:Number = 0;
        private var _y:Number = 0;
        private var _height:Number = 0;
        private var _outerTargetWidth:Number = 0;
        private var _boundsLeftTW:int = 2;
        private var _boundsRightTW:int = 1;
        private var _para:ParagraphElement;
        private var _controller:ContainerController;
        private var _columnIndex:int;
        private var _adornCount:int = 0;
        private var _flags:uint;
        private var _ascent:Number;
        private var _descent:Number;
        private var _targetWidth:Number;
        private var _lineOffset:Number;
        private var _lineExtent:Number;
        private var _accumulatedLineExtent:Number;
        private var _accumulatedMinimumStart:Number;
        private var _numberLinePosition:int;

        public function TextFlowLine(_arg1:TextLine, _arg2:ParagraphElement, _arg3:Number=0, _arg4:Number=0, _arg5:int=0, _arg6:int=0){
            this.initialize(_arg2, _arg3, _arg4, _arg5, _arg6, _arg1);
        }
        tlf_internal static function initializeNumberLinePosition(_arg1:TextLine, _arg2:ListItemElement, _arg3:ParagraphElement, _arg4:Number):void{
            var _local5:IListMarkerFormat = _arg2.computedListMarkerFormat();
            var _local6:ITextLayoutFormat = _arg3.computedFormat;
            var _local7:Number = (((((_local5.paragraphEndIndent === undefined)) || ((_arg2.computedFormat.listStylePosition == ListStylePosition.INSIDE)))) ? 0 : (((_local5.paragraphEndIndent == FormatValue.INHERIT)) ? _local6.paragraphEndIndent : _local5.paragraphEndIndent));
            TextFlowLine.setListEndIndent(_arg1, _local7);
            if (_arg2.computedFormat.listStylePosition == ListStylePosition.OUTSIDE){
                _arg1.x = (_arg1.y = 0);
                return;
            };
            var _local8:String = _arg3.getTextFlow().computedFormat.blockProgression;
            var _local9:Number = TextFlowLine.getNumberLineInsideLineWidth(_arg1);
            if (_local8 == BlockProgression.TB){
                if (_local6.direction == Direction.LTR){
                    _arg1.x = -(_local9);
                } else {
                    _arg1.x = ((_arg4 + _local9) - _arg1.textWidth);
                };
                _arg1.y = 0;
            } else {
                if (_local6.direction == Direction.LTR){
                    _arg1.y = -(_local9);
                } else {
                    _arg1.y = ((_arg4 + _local9) - _arg1.textWidth);
                };
                _arg1.x = 0;
            };
        }
        tlf_internal static function createNumberLine(_arg1:ListItemElement, _arg2:ParagraphElement, _arg3:ISWFContext, _arg4:Number):TextLine{
            var highestParentLinkLinkElement:* = null;
            var key:* = null;
            var rslt:* = null;
            var numberLine:* = null;
            var leaf:* = null;
            var val:* = undefined;
            var listItemElement:* = _arg1;
            var curParaElement:* = _arg2;
            var swfContext:* = _arg3;
            var totalStartIndent:* = _arg4;
            if (numberLineFactory == null){
                numberLineFactory = new NumberLineFactory();
                numberLineFactory.compositionBounds = new Rectangle(0, 0, NaN, NaN);
            };
            numberLineFactory.swfContext = swfContext;
            var listMarkerFormat:* = listItemElement.computedListMarkerFormat();
            numberLineFactory.listStylePosition = listItemElement.computedFormat.listStylePosition;
            var listElement:* = (listItemElement.parent as ListElement);
            var paragraphFormat:* = new TextLayoutFormat(curParaElement.computedFormat);
            var boxStartIndent:* = (((paragraphFormat.direction == Direction.LTR)) ? listElement.getEffectivePaddingLeft() : listElement.getEffectivePaddingRight());
            paragraphFormat.apply(listMarkerFormat);
            paragraphFormat.textIndent = (paragraphFormat.textIndent + totalStartIndent);
            if (numberLineFactory.listStylePosition == ListStylePosition.OUTSIDE){
                paragraphFormat.textIndent = (paragraphFormat.textIndent - boxStartIndent);
            };
            numberLineFactory.paragraphFormat = paragraphFormat;
            numberLineFactory.textFlowFormat = curParaElement.getTextFlow().computedFormat;
            var firstLeaf:* = curParaElement.getFirstLeaf();
            var parentLink:* = (firstLeaf.getParentByType(LinkElement) as LinkElement);
            var linkStateArray:* = [];
            while (parentLink) {
                highestParentLinkLinkElement = parentLink;
                linkStateArray.push(parentLink.linkState);
                parentLink.chgLinkState(LinkState.SUPPRESSED);
                parentLink = (parentLink.getParentByType(LinkElement) as LinkElement);
            };
            var spanFormat:* = new TextLayoutFormat(firstLeaf.computedFormat);
            parentLink = (firstLeaf.getParentByType(LinkElement) as LinkElement);
            while (parentLink) {
                linkStateArray.push(parentLink.linkState);
                parentLink.chgLinkState(linkStateArray.shift());
                parentLink = (parentLink.getParentByType(LinkElement) as LinkElement);
            };
            if (highestParentLinkLinkElement){
                leaf = highestParentLinkLinkElement.getFirstLeaf();
                while (leaf) {
                    leaf.computedFormat;
                    leaf = leaf.getNextLeaf(highestParentLinkLinkElement);
                };
            };
            var markerFormat:* = new TextLayoutFormat(spanFormat);
            TextLayoutFormat.resetModifiedNoninheritedStyles(markerFormat);
            var holderStyles:* = (listMarkerFormat as TextLayoutFormat).getStyles();
            for (key in holderStyles) {
                if (TextLayoutFormat.description[key] !== undefined){
                    val = holderStyles[key];
                    markerFormat[key] = ((val)!==FormatValue.INHERIT) ? val : spanFormat[key];
                };
            };
            numberLineFactory.markerFormat = markerFormat;
            numberLineFactory.text = listElement.computeListItemText(listItemElement, listMarkerFormat);
            rslt = [];
            numberLineFactory.createTextLines(function (_arg1:DisplayObject):void{
                rslt.push(_arg1);
            });
            numberLine = (rslt[0] as TextLine);
            if (numberLine){
                numberLine.mouseEnabled = false;
                numberLine.mouseChildren = false;
                setNumberLineBackground(numberLine, numberLineFactory.backgroundManager);
            };
            numberLineFactory.clearBackgroundManager();
            return (numberLine);
        }
        tlf_internal static function getTextLineTypographicAscent(_arg1:TextLine, _arg2:FlowLeafElement, _arg3:int, _arg4:int):Number{
            var _local5:Number = (_arg1.getBaselinePosition(TextBaseline.ROMAN) - _arg1.getBaselinePosition(TextBaseline.ASCENT));
            if (_arg1.hasGraphicElement){
                while (true) {
                    if ((_arg2 is InlineGraphicElement)){
                        _local5 = Math.max(_local5, InlineGraphicElement(_arg2).getTypographicAscent(_arg1));
                    };
                    _arg3 = (_arg3 + _arg2.textLength);
                    if (_arg3 >= _arg4){
                        break;
                    };
                    _arg2 = _arg2.getNextLeaf();
                };
            };
            return (_local5);
        }
        private static function createSelectionRect(_arg1:Shape, _arg2:uint, _arg3:Number, _arg4:Number, _arg5:Number, _arg6:Number):DisplayObject{
            _arg1.graphics.beginFill(_arg2);
            var _local7:Vector.<int> = new Vector.<int>();
            var _local8:Vector.<Number> = new Vector.<Number>();
            _local7.push(GraphicsPathCommand.MOVE_TO);
            _local8.push(_arg3);
            _local8.push(_arg4);
            _local7.push(GraphicsPathCommand.LINE_TO);
            _local8.push((_arg3 + _arg5));
            _local8.push(_arg4);
            _local7.push(GraphicsPathCommand.LINE_TO);
            _local8.push((_arg3 + _arg5));
            _local8.push((_arg4 + _arg6));
            _local7.push(GraphicsPathCommand.LINE_TO);
            _local8.push(_arg3);
            _local8.push((_arg4 + _arg6));
            _local7.push(GraphicsPathCommand.LINE_TO);
            _local8.push(_arg3);
            _local8.push(_arg4);
            _arg1.graphics.drawPath(_local7, _local8, GraphicsPathWinding.NON_ZERO);
            return (_arg1);
        }
        tlf_internal static function constrainRectToColumn(_arg1:TextFlow, _arg2:Rectangle, _arg3:Rectangle, _arg4:Number, _arg5:Number, _arg6:Number, _arg7:Number):void{
            if (_arg1.computedFormat.lineBreak == LineBreak.EXPLICIT){
                return;
            };
            var _local8:String = _arg1.computedFormat.blockProgression;
            var _local9:String = _arg1.computedFormat.direction;
            if ((((_local8 == BlockProgression.TB)) && (!(isNaN(_arg6))))){
                if (_local9 == Direction.LTR){
                    if (_arg2.left > ((_arg3.x + _arg3.width) + _arg4)){
                        _arg2.left = ((_arg3.x + _arg3.width) + _arg4);
                    };
                    if (_arg2.right > ((_arg3.x + _arg3.width) + _arg4)){
                        _arg2.right = ((_arg3.x + _arg3.width) + _arg4);
                    };
                } else {
                    if (_arg2.right < (_arg3.x + _arg4)){
                        _arg2.right = (_arg3.x + _arg4);
                    };
                    if (_arg2.left < (_arg3.x + _arg4)){
                        _arg2.left = (_arg3.x + _arg4);
                    };
                };
            } else {
                if ((((_local8 == BlockProgression.RL)) && (!(isNaN(_arg7))))){
                    if (_local9 == Direction.LTR){
                        if (_arg2.top > ((_arg3.y + _arg3.height) + _arg5)){
                            _arg2.top = ((_arg3.y + _arg3.height) + _arg5);
                        };
                        if (_arg2.bottom > ((_arg3.y + _arg3.height) + _arg5)){
                            _arg2.bottom = ((_arg3.y + _arg3.height) + _arg5);
                        };
                    } else {
                        if (_arg2.bottom < (_arg3.y + _arg5)){
                            _arg2.bottom = (_arg3.y + _arg5);
                        };
                        if (_arg2.top < (_arg3.y + _arg5)){
                            _arg2.top = (_arg3.y + _arg5);
                        };
                    };
                };
            };
        }
        private static function setRectangleValues(_arg1:Rectangle, _arg2:Number, _arg3:Number, _arg4:Number, _arg5:Number):void{
            _arg1.x = _arg2;
            _arg1.y = _arg3;
            _arg1.width = _arg4;
            _arg1.height = _arg5;
        }
        tlf_internal static function findNumberLine(_arg1:TextLine):TextLine{
            var _local3:TextLine;
            var _local2:int;
            while (_local2 < _arg1.numChildren) {
                _local3 = (_arg1.getChildAt(_local2) as TextLine);
                if (((_local3) && ((_local3.userData is NumberLineUserData)))){
                    break;
                };
                _local2++;
            };
            return (_local3);
        }
        tlf_internal static function getNumberLineListStylePosition(_arg1:TextLine):String{
            return ((_arg1.userData as NumberLineUserData).listStylePosition);
        }
        tlf_internal static function getNumberLineInsideLineWidth(_arg1:TextLine):Number{
            return ((_arg1.userData as NumberLineUserData).insideLineWidth);
        }
        tlf_internal static function getNumberLineSpanFormat(_arg1:TextLine):ITextLayoutFormat{
            return ((_arg1.userData as NumberLineUserData).spanFormat);
        }
        tlf_internal static function getNumberLineParagraphDirection(_arg1:TextLine):String{
            return ((_arg1.userData as NumberLineUserData).paragraphDirection);
        }
        tlf_internal static function setListEndIndent(_arg1:TextLine, _arg2:Number):void{
            (_arg1.userData as NumberLineUserData).listEndIndent = _arg2;
        }
        tlf_internal static function getListEndIndent(_arg1:TextLine):Number{
            return ((_arg1.userData as NumberLineUserData).listEndIndent);
        }
        tlf_internal static function setNumberLineBackground(_arg1:TextLine, _arg2:BackgroundManager):void{
            (_arg1.userData as NumberLineUserData).backgroundManager = _arg2;
        }
        tlf_internal static function getNumberLineBackground(_arg1:TextLine):BackgroundManager{
            return ((_arg1.userData as NumberLineUserData).backgroundManager);
        }

        tlf_internal function initialize(_arg1:ParagraphElement, _arg2:Number=0, _arg3:Number=0, _arg4:int=0, _arg5:int=0, _arg6:TextLine=null):void{
            this._para = _arg1;
            this._outerTargetWidth = _arg2;
            this._absoluteStart = _arg4;
            this._textLength = _arg5;
            this._adornCount = 0;
            this._lineExtent = 0;
            this._accumulatedLineExtent = 0;
            this._accumulatedMinimumStart = TextLine.MAX_LINE_WIDTH;
            this._flags = 0;
            this._controller = null;
            if (_arg6){
                _arg6.userData = this;
                this._targetWidth = _arg6.specifiedWidth;
                this._ascent = _arg6.ascent;
                this._descent = _arg6.descent;
                this._lineOffset = _arg3;
                this.setValidity(_arg6.validity);
                this.setFlag(((_arg6.hasGraphicElement) ? GRAPHICELEMENT_MASK : 0), GRAPHICELEMENT_MASK);
            } else {
                this.setValidity(TextLineValidity.INVALID);
            };
        }
        private function setFlag(_arg1:uint, _arg2:uint):void{
            this._flags = ((this._flags & ~(_arg2)) | _arg1);
        }
        private function getFlag(_arg1:uint):uint{
            return ((this._flags & _arg1));
        }
        tlf_internal function get heightTW():int{
            return (Twips.to(this._height));
        }
        tlf_internal function get outerTargetWidthTW():int{
            return (Twips.to(this._outerTargetWidth));
        }
        tlf_internal function get ascentTW():int{
            return (Twips.to(this._ascent));
        }
        tlf_internal function get targetWidthTW():int{
            return (Twips.to(this._targetWidth));
        }
        tlf_internal function get textHeightTW():int{
            return (Twips.to(this.textHeight));
        }
        tlf_internal function get lineOffsetTW():int{
            return (Twips.to(this._lineOffset));
        }
        tlf_internal function get lineExtentTW():int{
            return (Twips.to(this._lineExtent));
        }
        tlf_internal function get hasGraphicElement():Boolean{
            return (!((this.getFlag(GRAPHICELEMENT_MASK) == 0)));
        }
        tlf_internal function get hasNumberLine():Boolean{
            return (!((this.getFlag(NUMBERLINE_MASK) == 0)));
        }
        tlf_internal function get numberLinePosition():Number{
            return (Twips.from(this._numberLinePosition));
        }
        tlf_internal function set numberLinePosition(_arg1:Number):void{
            this._numberLinePosition = Twips.to(_arg1);
        }
        public function get textHeight():Number{
            return ((this._ascent + this._descent));
        }
        public function get x():Number{
            return (this._x);
        }
        public function set x(_arg1:Number):void{
            this._x = _arg1;
            this._boundsLeftTW = 2;
            this._boundsRightTW = 1;
        }
        tlf_internal function get xTW():int{
            return (Twips.to(this._x));
        }
        public function get y():Number{
            return (this._y);
        }
        tlf_internal function get yTW():int{
            return (Twips.to(this._y));
        }
        public function set y(_arg1:Number):void{
            this._y = _arg1;
            this._boundsLeftTW = 2;
            this._boundsRightTW = 1;
        }
        tlf_internal function setXYAndHeight(_arg1:Number, _arg2:Number, _arg3:Number):void{
            this._x = _arg1;
            this._y = _arg2;
            this._height = _arg3;
            this._boundsLeftTW = 2;
            this._boundsRightTW = 1;
        }
        public function get location():int{
            var _local1:int;
            if (this._para){
                _local1 = (this._absoluteStart - this._para.getAbsoluteStart());
                if (_local1 == 0){
                    return ((((this._textLength == this._para.textLength)) ? TextFlowLineLocation.ONLY : TextFlowLineLocation.FIRST));
                };
                if ((_local1 + this.textLength) == this._para.textLength){
                    return (TextFlowLineLocation.LAST);
                };
            };
            return (TextFlowLineLocation.MIDDLE);
        }
        public function get controller():ContainerController{
            return (this._controller);
        }
        public function get columnIndex():int{
            return (this._columnIndex);
        }
        tlf_internal function setController(_arg1:ContainerController, _arg2:int):void{
            this._controller = (_arg1 as ContainerController);
            this._columnIndex = _arg2;
        }
        public function get height():Number{
            return (this._height);
        }
        public function get ascent():Number{
            return (this._ascent);
        }
        public function get descent():Number{
            return (this._descent);
        }
        public function get lineOffset():Number{
            return (this._lineOffset);
        }
        public function get paragraph():ParagraphElement{
            return (this._para);
        }
        public function get absoluteStart():int{
            return (this._absoluteStart);
        }
        tlf_internal function setAbsoluteStart(_arg1:int):void{
            this._absoluteStart = _arg1;
        }
        public function get textLength():int{
            return (this._textLength);
        }
        tlf_internal function setTextLength(_arg1:int):void{
            this._textLength = _arg1;
            this.damage(TextLineValidity.INVALID);
        }
        public function get spaceBefore():Number{
            return ((((this.location & TextFlowLineLocation.FIRST)) ? this._para.computedFormat.paragraphSpaceBefore : 0));
        }
        public function get spaceAfter():Number{
            return ((((this.location & TextFlowLineLocation.LAST)) ? this._para.computedFormat.paragraphSpaceAfter : 0));
        }
        tlf_internal function get outerTargetWidth():Number{
            return (this._outerTargetWidth);
        }
        tlf_internal function set outerTargetWidth(_arg1:Number):void{
            this._outerTargetWidth = _arg1;
        }
        tlf_internal function get targetWidth():Number{
            return (this._targetWidth);
        }
        public function getBounds():Rectangle{
            var _local1:TextLine = this.getTextLine(true);
            if (!_local1){
                return (new Rectangle());
            };
            var _local2:String = this.paragraph.getAncestorWithContainer().computedFormat.blockProgression;
            var _local3:Number = this.x;
            var _local4:Number = this.createShapeY(_local2);
            if (_local2 == BlockProgression.TB){
                _local4 = (_local4 + (this.descent - _local1.height));
            };
            return (new Rectangle(_local3, _local4, _local1.width, _local1.height));
        }
        private function setValidity(_arg1:String):void{
            this.setFlag(_validities.indexOf(_arg1), VALIDITY_MASK);
        }
        public function get validity():String{
            return (_validities[this.getFlag(VALIDITY_MASK)]);
        }
        public function get unjustifiedTextWidth():Number{
            var _local1:TextLine = this.getTextLine(true);
            return ((_local1.unjustifiedTextWidth + (this._outerTargetWidth - this.targetWidth)));
        }
        tlf_internal function get lineExtent():Number{
            return (this._lineExtent);
        }
        tlf_internal function set lineExtent(_arg1:Number):void{
            this._lineExtent = _arg1;
        }
        tlf_internal function get accumulatedLineExtent():Number{
            return (this._accumulatedLineExtent);
        }
        tlf_internal function set accumulatedLineExtent(_arg1:Number):void{
            this._accumulatedLineExtent = _arg1;
        }
        tlf_internal function get accumulatedMinimumStart():Number{
            return (this._accumulatedMinimumStart);
        }
        tlf_internal function set accumulatedMinimumStart(_arg1:Number):void{
            this._accumulatedMinimumStart = _arg1;
        }
        tlf_internal function get alignment():String{
            return (_alignments[(this.getFlag(ALIGNMENT_MASK) >> ALIGNMENT_SHIFT)]);
        }
        tlf_internal function set alignment(_arg1:String):void{
            this.setFlag((_alignments.indexOf(_arg1) << ALIGNMENT_SHIFT), ALIGNMENT_MASK);
        }
        tlf_internal function isDamaged():Boolean{
            return (!((this.validity == TextLineValidity.VALID)));
        }
        tlf_internal function clearDamage():void{
            this.setValidity(TextLineValidity.VALID);
        }
        tlf_internal function damage(_arg1:String):void{
            var _local2:String = this.validity;
            if ((((_local2 == _arg1)) || ((_local2 == TextLineValidity.INVALID)))){
                return;
            };
            this.setValidity(_arg1);
        }
        tlf_internal function isLineVisible(_arg1:String, _arg2:int, _arg3:int, _arg4:int, _arg5:int):Boolean{
            if (_arg1 == BlockProgression.RL){
                return ((((this._boundsRightTW >= _arg2)) && ((this._boundsLeftTW < (_arg2 + _arg4)))));
            };
            return ((((this._boundsRightTW >= _arg3)) && ((this._boundsLeftTW < (_arg3 + _arg5)))));
        }
        tlf_internal function cacheLineBounds(_arg1:String, _arg2:Number, _arg3:Number, _arg4:Number, _arg5:Number):void{
            if (_arg1 == BlockProgression.RL){
                this._boundsLeftTW = Twips.to(_arg2);
                this._boundsRightTW = Twips.to((_arg2 + _arg4));
            } else {
                this._boundsLeftTW = Twips.to(_arg3);
                this._boundsRightTW = Twips.to((_arg3 + _arg5));
            };
        }
        tlf_internal function hasLineBounds():Boolean{
            return ((this._boundsLeftTW <= this._boundsRightTW));
        }
        public function get textLineExists():Boolean{
            return (!((this.peekTextLine() == null)));
        }
        tlf_internal function peekTextLine():TextLine{
            var _local1:TextLine;
            if (!this.paragraph){
                return (null);
            };
            var _local2:TextBlock = this.paragraph.peekTextBlock();
            if (_local2){
                _local1 = _local2.firstLine;
                while (_local1) {
                    if (_local1.userData == this){
                        return (_local1);
                    };
                    _local1 = _local1.nextLine;
                };
            };
            return (null);
        }
        public function getTextLine(_arg1:Boolean=false):TextLine{
            var _local2:TextLine = this.peekTextLine();
            if (((_local2) && ((_local2.validity == FlowDamageType.GEOMETRY)))){
                this.createShape(this.paragraph.getTextFlow().computedFormat.blockProgression, _local2);
            } else {
                if (((!(_local2)) || ((((_local2.validity == TextLineValidity.INVALID)) && (_arg1))))){
                    if (((this.isDamaged()) && (!((this.validity == FlowDamageType.GEOMETRY))))){
                        return (null);
                    };
                    _local2 = this.getTextLineInternal();
                };
            };
            return (_local2);
        }
        private function getTextLineInternal():TextLine{
            var _local7:TextLine;
            var _local8:TextFlowLine;
            var _local1:int = this.paragraph.getAbsoluteStart();
            var _local2:TextBlock = this.paragraph.getTextBlock();
            var _local3:TextLine = _local2.firstLine;
            var _local4:IFlowComposer = this.paragraph.getTextFlow().flowComposer;
            var _local5:int = _local4.findLineIndexAtPosition(_local1);
            var _local6:TextLine;
            do  {
                _local8 = _local4.getLineAt(_local5);
                if (((((!((_local3 == null))) && ((_local3.validity == TextLineValidity.VALID)))) && (((!((_local8 == this))) || ((_local3.userData == _local8)))))){
                    _local7 = _local3;
                    _local3 = _local3.nextLine;
                } else {
                    _local7 = _local8.recreateTextLine(_local2, _local6);
                    _local3 = null;
                };
                _local6 = _local7;
                _local5++;
            } while (_local8 != this);
            return (_local7);
        }
        tlf_internal function recreateTextLine(_arg1:TextBlock, _arg2:TextLine):TextLine{
            var _local3:TextLine;
            var _local8:TextLine;
            var _local10:Number;
            var _local11:int;
            var _local12:FlowLeafElement;
            var _local13:int;
            var _local14:ListItemElement;
            var _local4:TextFlow = this._para.getTextFlow();
            var _local5:String = _local4.computedFormat.blockProgression;
            var _local6:IFlowComposer = _local4.flowComposer;
            var _local7:ISWFContext = ((_local6.swfContext) ? _local6.swfContext : BaseCompose.globalSWFContext);
            var _local9:Number = this._lineOffset;
            if (this.hasNumberLine){
                _local10 = (this._lineOffset - this._para.computedFormat.textIndent);
                _local8 = TextFlowLine.createNumberLine((this._para.getParentByType(ListItemElement) as ListItemElement), this._para, _local6.swfContext, _local10);
                if (_local8){
                    if (getNumberLineListStylePosition(_local8) == ListStylePosition.INSIDE){
                        _local9 = (_local9 + getNumberLineInsideLineWidth(_local8));
                    };
                };
            };
            _local3 = TextLineRecycler.getLineForReuse();
            if (_local3){
                _local3 = _local7.callInContext(_arg1["recreateTextLine"], _arg1, [_local3, _arg2, this._targetWidth, _local9, true]);
            } else {
                _local3 = _local7.callInContext(_arg1.createTextLine, _arg1, [_arg2, this._targetWidth, _local9, true]);
            };
            _local3.x = this.x;
            _local3.y = this.createShapeY(_local5);
            _local3.doubleClickEnabled = true;
            _local3.userData = this;
            if (this._adornCount > 0){
                _local11 = this._para.getAbsoluteStart();
                _local12 = this._para.findLeaf((this.absoluteStart - _local11));
                _local13 = _local12.getAbsoluteStart();
                if (_local8){
                    _local14 = (this._para.getParentByType(ListItemElement) as ListItemElement);
                    TextFlowLine.initializeNumberLinePosition(_local8, _local14, this._para, _local3.textWidth);
                };
                this.createAdornments(this._para.getAncestorWithContainer().computedFormat.blockProgression, _local12, _local13, _local3, _local8);
                if (((_local8) && ((getNumberLineListStylePosition(_local8) == ListStylePosition.OUTSIDE)))){
                    if (_local5 == BlockProgression.TB){
                        _local8.x = this.numberLinePosition;
                    } else {
                        _local8.y = this.numberLinePosition;
                    };
                };
            };
            return (_local3);
        }
        tlf_internal function createShape(_arg1:String, _arg2:TextLine):void{
            var _local3:Number = this.x;
            _arg2.x = _local3;
            var _local4:Number = this.createShapeY(_arg1);
            _arg2.y = _local4;
        }
        private function createShapeY(_arg1:String):Number{
            return ((((_arg1 == BlockProgression.RL)) ? this.y : (this.y + this._ascent)));
        }
        tlf_internal function createAdornments(_arg1:String, _arg2:FlowLeafElement, _arg3:int, _arg4:TextLine, _arg5:TextLine):void{
            var _local7:BackgroundManager;
            var _local8:ITextLayoutFormat;
            var _local9:*;
            var _local6:int = (this._absoluteStart + this._textLength);
            this._adornCount = 0;
            if (_arg5){
                this._adornCount++;
                this.setFlag(NUMBERLINE_MASK, NUMBERLINE_MASK);
                _arg4.addChild(_arg5);
                if (getNumberLineBackground(_arg5) != null){
                    _local7 = _arg2.getTextFlow().getBackgroundManager();
                    if (_local7){
                        _local7.addNumberLine(_arg4, _arg5);
                    };
                };
            } else {
                this.setFlag(0, NUMBERLINE_MASK);
            };
            while (true) {
                this._adornCount = (this._adornCount + _arg2.updateAdornments(_arg4, _arg1));
                _local8 = _arg2.format;
                _local9 = ((_local8) ? _local8.getStyle("imeStatus") : undefined);
                if (_local9){
                    _arg2.updateIMEAdornments(_arg4, _arg1, (_local9 as String));
                };
                _arg3 = (_arg3 + _arg2.textLength);
                if (_arg3 >= _local6){
                    break;
                };
                _arg2 = _arg2.getNextLeaf(this._para);
            };
        }
        tlf_internal function getLineLeading(_arg1:String, _arg2:FlowLeafElement, _arg3:int):Number{
            var _local6:Number;
            var _local4:int = (this._absoluteStart + this._textLength);
            var _local5:Number = 0;
            while (true) {
                _local6 = _arg2.getEffectiveLineHeight(_arg1);
                if (((!(_local6)) && ((_arg2.textLength == this.textLength)))){
                    _local6 = TextLayoutFormat.lineHeightProperty.computeActualPropertyValue(_arg2.computedFormat.lineHeight, _arg2.computedFormat.fontSize);
                };
                _local5 = Math.max(_local5, _local6);
                _arg3 = (_arg3 + _arg2.textLength);
                if (_arg3 >= _local4){
                    break;
                };
                _arg2 = _arg2.getNextLeaf(this._para);
            };
            return (_local5);
        }
        tlf_internal function getLineTypographicAscent(_arg1:FlowLeafElement, _arg2:int, _arg3:TextLine):Number{
            return (getTextLineTypographicAscent(((_arg3) ? _arg3 : this.getTextLine()), _arg1, _arg2, (this.absoluteStart + this.textLength)));
        }
        tlf_internal function getCSSLineBox(_arg1:String, _arg2:FlowLeafElement, _arg3:int, _arg4:ISWFContext, _arg5:ITextLayoutFormat=null, _arg6:TextLine=null):Rectangle{
            var lineBox:* = null;
            var para:* = null;
            var ef:* = null;
            var metrics:* = null;
            var bp:* = _arg1;
            var elem:* = _arg2;
            var elemStart:* = _arg3;
            var swfContext:* = _arg4;
            var effectiveListMarkerFormat = _arg5;
            var numberLine = _arg6;
            var addToLineBox:* = function (_arg1:Rectangle):void{
                if (_arg1){
                    lineBox = ((lineBox) ? lineBox.union(_arg1) : _arg1);
                };
            };
            var endPos:* = (this._absoluteStart + this._textLength);
            var textLine:* = this.getTextLine();
            while (true) {
                addToLineBox(elem.getCSSInlineBox(bp, textLine, this._para, swfContext));
                elemStart = (elemStart + elem.textLength);
                if (elemStart >= endPos){
                    break;
                };
                elem = elem.getNextLeaf(this._para);
            };
            if (((effectiveListMarkerFormat) && (numberLine))){
                para = null;
                ef = FlowLeafElement.computeElementFormatHelper(effectiveListMarkerFormat, para, swfContext);
                metrics = ((swfContext) ? swfContext.callInContext(ef.getFontMetrics, ef, null, true) : ef.getFontMetrics());
                addToLineBox(FlowLeafElement.getCSSInlineBoxHelper(effectiveListMarkerFormat, metrics, numberLine, para));
            };
            return (lineBox);
        }
        private function isTextlineSubsetOfSpan(_arg1:FlowLeafElement):Boolean{
            var _local2:int = _arg1.getAbsoluteStart();
            var _local3:int = (_local2 + _arg1.textLength);
            var _local4:int = this.absoluteStart;
            var _local5:int = (this.absoluteStart + this._textLength);
            return ((((_local2 <= _local4)) && ((_local3 >= _local5))));
        }
        private function getSelectionShapesCacheEntry(_arg1:int, _arg2:int, _arg3:TextFlowLine, _arg4:TextFlowLine, _arg5:String):SelectionCache{
            var _local12:Rectangle;
            if (this.isDamaged()){
                return (null);
            };
            var _local6:int = this._para.getAbsoluteStart();
            if ((((_arg1 == _arg2)) && (((_local6 + _arg1) == this.absoluteStart)))){
                if (this.absoluteStart != (this._para.getTextFlow().textLength - 1)){
                    return (null);
                };
                _arg2++;
            };
            var _local7:SelectionCache = _selectionBlockCache[this];
            if (((((_local7) && ((_local7.begIdx == _arg1)))) && ((_local7.endIdx == _arg2)))){
                return (_local7);
            };
            var _local8:Array = new Array();
            var _local9:Array = new Array();
            if (_local7 == null){
                _local7 = new SelectionCache();
                _selectionBlockCache[this] = _local7;
            } else {
                _local7.clear();
            };
            _local7.begIdx = _arg1;
            _local7.endIdx = _arg2;
            var _local10:TextLine = this.getTextLine();
            var _local11:Array = this.getRomanSelectionHeightAndVerticalAdjustment(_arg3, _arg4);
            this.calculateSelectionBounds(_local10, _local8, _arg1, _arg2, _arg5, _local11);
            for each (_local12 in _local8) {
                _local7.pushSelectionBlock(_local12);
            };
            if (_local10){
                _local10.flushAtomData();
            };
            return (_local7);
        }
        tlf_internal function calculateSelectionBounds(_arg1:TextLine, _arg2:Array, _arg3:int, _arg4:int, _arg5:String, _arg6:Array):void{
            var _local15:int;
            var _local16:int;
            var _local17:InlineGraphicElement;
            var _local18:FloatCompositionData;
            var _local19:Rectangle;
            var _local20:Array;
            var _local21:int;
            var _local22:FlowElement;
            var _local23:int;
            var _local24:SubParagraphGroupElementBase;
            var _local25:Number;
            var _local26:int;
            var _local27:Array;
            var _local28:Array;
            var _local29:int;
            var _local30:Rectangle;
            var _local31:int;
            var _local32:Array;
            var _local33:Rectangle;
            var _local34:Rectangle;
            var _local35:int;
            var _local36:int;
            var _local7:String = this._para.computedFormat.direction;
            var _local8:int = this._para.getAbsoluteStart();
            var _local9:int = _arg3;
            var _local10:FlowLeafElement;
            var _local11:Number = 0;
            var _local12:Array = new Array();
            var _local13:Array;
            var _local14:Array;
            while (_local9 < _arg4) {
                _local10 = this._para.findLeaf(_local9);
                if (_local10.textLength == 0){
                    _local9++;
                } else {
                    if ((((_local10 is InlineGraphicElement)) && (!(((_local10 as InlineGraphicElement).computedFloat == Float.NONE))))){
                        if (_local13 == null){
                            _local13 = new Array();
                        };
                        _local17 = (_local10 as InlineGraphicElement);
                        _local18 = this.controller.getFloatAtPosition((_local8 + _local9));
                        if (_local18){
                            _local19 = new Rectangle((_local18.x - _arg1.x), (_local18.y - _arg1.y), _local17.elementWidth, _local17.elementHeight);
                            _local13.push(_local19);
                        };
                        _local9++;
                    } else {
                        _local15 = ((_local10.textLength + _local10.getElementRelativeStart(this._para)) - _local9);
                        _local16 = ((((_local15 + _local9) > _arg4)) ? _arg4 : (_local15 + _local9));
                        if (((!((_arg5 == BlockProgression.RL))) || (!((_arg1.getAtomTextRotation(_arg1.getAtomIndexAtCharIndex(_local9)) == TextRotation.ROTATE_0))))){
                            _local20 = this.makeSelectionBlocks(_arg1, _local9, _local16, _local8, _arg5, _local7, _arg6);
                            _local21 = 0;
                            while (_local21 < _local20.length) {
                                _local12.push(_local20[_local21]);
                                _local21++;
                            };
                        } else {
                            _local22 = _local10.getParentByType(TCYElement);
                            _local23 = _local22.parentRelativeEnd;
                            _local24 = (_local22.getParentByType(SubParagraphGroupElementBase) as SubParagraphGroupElementBase);
                            while (_local24) {
                                _local23 = (_local23 + _local24.parentRelativeStart);
                                _local24 = (_local24.getParentByType(SubParagraphGroupElementBase) as SubParagraphGroupElementBase);
                            };
                            _local25 = 0;
                            _local26 = (((_arg4 < _local23)) ? _arg4 : _local23);
                            _local27 = new Array();
                            while (_local9 < _local26) {
                                _local10 = this._para.findLeaf(_local9);
                                _local15 = ((_local10.textLength + _local10.getElementRelativeStart(this._para)) - _local9);
                                _local16 = ((((_local15 + _local9) > _arg4)) ? _arg4 : (_local15 + _local9));
                                _local28 = this.makeSelectionBlocks(_arg1, _local9, _local16, _local8, _arg5, _local7, _arg6);
                                _local29 = 0;
                                while (_local29 < _local28.length) {
                                    _local30 = _local28[_local29];
                                    if (_local30.height > _local25){
                                        _local25 = _local30.height;
                                    };
                                    _local27.push(_local30);
                                    _local29++;
                                };
                                _local9 = _local16;
                            };
                            if (!_local14){
                                _local14 = new Array();
                            };
                            this.normalizeRects(_local27, _local14, _local25, BlockProgression.TB, _local7);
                            continue;
                        };
                        _local9 = _local16;
                    };
                };
            };
            if ((((((_local12.length > 0)) && (((_local8 + _arg3) == this.absoluteStart)))) && (((_local8 + _arg4) == (this.absoluteStart + this.textLength))))){
                _local10 = this._para.findLeaf(_arg3);
                if (((((_local10.getAbsoluteStart() + _local10.textLength) < (this.absoluteStart + this.textLength))) && ((_local16 >= 2)))){
                    _local31 = this._para.getCharCodeAtPosition((_local16 - 1));
                    if (((!((_local31 == SpanElement.kParagraphTerminator.charCodeAt(0)))) && (CharacterUtil.isWhitespace(_local31)))){
                        _local32 = this.makeSelectionBlocks(_arg1, (_local16 - 1), (_local16 - 1), _local8, _arg5, _local7, _arg6);
                        _local33 = this.makeSelectionBlocks(_arg1, (_local16 - 1), (_local16 - 1), _local8, _arg5, _local7, _arg6)[(_local32.length - 1)];
                        _local34 = (_local12[(_local12.length - 1)] as Rectangle);
                        if (_arg5 != BlockProgression.RL){
                            if (_local34.width == _local33.width){
                                _local12.pop();
                            } else {
                                _local34.width = (_local34.width - _local33.width);
                                if (_local7 == Direction.RTL){
                                    _local34.left = (_local34.left - _local33.width);
                                };
                            };
                        } else {
                            if (_local34.height == _local33.height){
                                _local12.pop();
                            } else {
                                _local34.height = (_local34.height - _local33.height);
                                if (_local7 == Direction.RTL){
                                    _local34.top = (_local34.top + _local33.height);
                                };
                            };
                        };
                    };
                };
            };
            this.normalizeRects(_local12, _arg2, _local11, _arg5, _local7);
            if (((_local14) && ((_local14.length > 0)))){
                _local35 = 0;
                while (_local35 < _local14.length) {
                    _arg2.push(_local14[_local35]);
                    _local35++;
                };
            };
            if (_local13){
                _local36 = 0;
                while (_local36 < _local13.length) {
                    _arg2.push(_local13[_local36]);
                    _local36++;
                };
            };
        }
        private function createSelectionShapes(_arg1:Shape, _arg2:SelectionFormat, _arg3:DisplayObject, _arg4:int, _arg5:int, _arg6:TextFlowLine, _arg7:TextFlowLine):void{
            var _local11:Rectangle;
            var _local13:ISelectionManager;
            var _local8:ContainerFormattedElement = this._para.getAncestorWithContainer();
            var _local9:String = _local8.computedFormat.blockProgression;
            var _local10:SelectionCache = this.getSelectionShapesCacheEntry(_arg4, _arg5, _arg6, _arg7, _local9);
            if (!_local10){
                return;
            };
            var _local12:uint = _arg2.rangeColor;
            if (((this._para) && (this._para.getTextFlow()))){
                _local13 = this._para.getTextFlow().interactionManager;
                if (((_local13) && ((_local13.anchorPosition == _local13.activePosition)))){
                    _local12 = _arg2.pointColor;
                };
            };
            for each (_local11 in _local10.selectionBlocks) {
                _local11 = _local11.clone();
                this.convertLineRectToContainer(_local11, true);
                createSelectionRect(_arg1, _local12, _local11.x, _local11.y, _local11.width, _local11.height);
            };
        }
        tlf_internal function getRomanSelectionHeightAndVerticalAdjustment(_arg1:TextFlowLine, _arg2:TextFlowLine):Array{
            var _local5:Boolean;
            var _local6:Boolean;
            var _local7:Number;
            var _local8:Number;
            var _local3:Number = 0;
            var _local4:Number = 0;
            if (ParagraphElement.useUpLeadingDirection(this._para.getEffectiveLeadingModel())){
                _local3 = Math.max(this.height, this.textHeight);
            } else {
                _local5 = ((((!(_arg1)) || (!((_arg1.controller == this.controller))))) || (!((_arg1.columnIndex == this.columnIndex))));
                _local6 = ((((((!(_arg2)) || (!((_arg2.controller == this.controller))))) || (!((_arg2.columnIndex == this.columnIndex))))) || ((_arg2.paragraph.getEffectiveLeadingModel() == LeadingModel.ROMAN_UP)));
                if (_local6){
                    if (!_local5){
                        _local3 = this.textHeight;
                    } else {
                        _local3 = Math.max(this.height, this.textHeight);
                    };
                } else {
                    if (!_local5){
                        _local3 = Math.max(_arg2.height, this.textHeight);
                        _local4 = (_local3 - this.textHeight);
                    } else {
                        _local7 = (this._descent - Math.max(this.height, this.textHeight));
                        _local8 = (Math.max(_arg2.height, this.textHeight) - this._ascent);
                        _local3 = (_local8 - _local7);
                        _local4 = (_local8 - this._descent);
                    };
                };
            };
            if (((((!(_arg1)) || (!((_arg1.columnIndex == this.columnIndex))))) || (!((_arg1.controller == this.controller))))){
                _local3 = (_local3 + this.descent);
                _local4 = Math.floor((this.descent / 2));
            };
            return ([_local3, _local4]);
        }
        private function makeSelectionBlocks(_arg1:TextLine, _arg2:int, _arg3:int, _arg4:int, _arg5:String, _arg6:String, _arg7:Array):Array{
            var _local16:Array;
            var _local17:int;
            var _local18:int;
            var _local19:int;
            var _local20:int;
            var _local21:int;
            var _local22:int;
            var _local23:Boolean;
            var _local24:Boolean;
            var _local25:InlineGraphicElement;
            var _local26:Boolean;
            var _local27:ITextLayoutFormat;
            var _local28:Number;
            var _local29:Number;
            var _local30:Number;
            var _local31:Number;
            var _local8:Array = new Array();
            var _local9:Rectangle = new Rectangle();
            var _local10:FlowLeafElement = this._para.findLeaf(_arg2);
            var _local11:Rectangle = _local10.getComputedFontMetrics().emBox;
            if (!_arg1){
                _arg1 = this.getTextLine(true);
            };
            var _local12:int = _arg1.getAtomIndexAtCharIndex(_arg2);
            var _local13:int = this.adjustEndElementForBidi(_arg1, _arg2, _arg3, _local12, _arg6);
            if ((((_arg6 == Direction.RTL)) && (!(((_arg1.getAtomBidiLevel(_local13) % 2) == 0))))){
                if ((((_local13 == 0)) && ((_arg2 < (_arg3 - 1))))){
                    _local8 = this.makeSelectionBlocks(_arg1, _arg2, (_arg3 - 1), _arg4, _arg5, _arg6, _arg7);
                    _local16 = this.makeSelectionBlocks(_arg1, (_arg3 - 1), (_arg3 - 1), _arg4, _arg5, _arg6, _arg7);
                    _local17 = 0;
                    while (_local17 < _local16.length) {
                        _local8.push(_local16[_local17]);
                        _local17++;
                    };
                    return (_local8);
                };
            };
            var _local14:Boolean = ((_local12)!=-1) ? this.isAtomBidi(_arg1, _local12, _arg6) : false;
            var _local15:Boolean = ((_local13)!=-1) ? this.isAtomBidi(_arg1, _local13, _arg6) : false;
            if (((_local14) || (_local15))){
                _local18 = _arg2;
                _local19 = ((_arg2)!=_arg3) ? 1 : 0;
                _local20 = _local12;
                _local21 = _local12;
                _local22 = _local12;
                _local23 = _local14;
                do  {
                    _local18 = (_local18 + _local19);
                    _local22 = _arg1.getAtomIndexAtCharIndex(_local18);
                    _local24 = ((_local22)!=-1) ? this.isAtomBidi(_arg1, _local22, _arg6) : false;
                    if (((!((_local22 == -1))) && (!((_local24 == _local23))))){
                        _local9 = this.makeBlock(_arg1, _local18, _local20, _local21, _local11, _arg5, _arg6, _arg7);
                        _local8.push(_local9);
                        _local20 = _local22;
                        _local21 = _local22;
                        _local23 = _local24;
                    } else {
                        if (_local18 == _arg3){
                            _local9 = this.makeBlock(_arg1, _local18, _local20, _local21, _local11, _arg5, _arg6, _arg7);
                            _local8.push(_local9);
                        };
                        _local21 = _local22;
                    };
                } while (_local18 < _arg3);
            } else {
                _local25 = (_local10 as InlineGraphicElement);
                if (((((!(_local25)) || ((_local25.effectiveFloat == Float.NONE)))) || ((_arg2 == _arg3)))){
                    _local9 = this.makeBlock(_arg1, _arg2, _local12, _local13, _local11, _arg5, _arg6, _arg7);
                    if (((_local25) && (!((_local25.elementWidthWithMarginsAndPadding() == _local25.elementWidth))))){
                        _local26 = (_local25.getTextFlow().computedFormat.blockProgression == BlockProgression.RL);
                        _local27 = _local25.computedFormat;
                        if (_local26){
                            _local28 = _local25.getEffectivePaddingTop();
                            _local9.top = (_local9.top + _local28);
                            _local29 = _local25.getEffectivePaddingBottom();
                            _local9.bottom = (_local9.bottom - _local29);
                        } else {
                            _local30 = _local25.getEffectivePaddingLeft();
                            _local9.left = (_local9.left + _local30);
                            _local31 = _local25.getEffectivePaddingRight();
                            _local9.right = (_local9.right - _local31);
                        };
                    };
                } else {
                    _local9 = _local25.graphic.getBounds(_arg1);
                };
                _local8.push(_local9);
            };
            return (_local8);
        }
        private function makeBlock(_arg1:TextLine, _arg2:int, _arg3:int, _arg4:int, _arg5:Rectangle, _arg6:String, _arg7:String, _arg8:Array):Rectangle{
            var _local16:String;
            var _local17:int;
            var _local9:Rectangle = new Rectangle();
            var _local10:Point = new Point(0, 0);
            if (_arg3 > _arg4){
                _local17 = _arg4;
                _arg4 = _arg3;
                _arg3 = _local17;
            };
            if (!_arg1){
                _arg1 = this.getTextLine(true);
            };
            var _local11:Rectangle = _arg1.getAtomBounds(_arg3);
            var _local12:Rectangle = _arg1.getAtomBounds(_arg4);
            var _local13:String = this._para.getEffectiveJustificationRule();
            if ((((_arg6 == BlockProgression.RL)) && (!((_arg1.getAtomTextRotation(_arg3) == TextRotation.ROTATE_0))))){
                _local10.y = _local11.y;
                _local9.height = ((_arg3)!=_arg4) ? (_local12.bottom - _local11.top) : _local11.height;
                if (_local13 == JustificationRule.EAST_ASIAN){
                    _local9.width = _local11.width;
                } else {
                    _local9.width = _arg8[0];
                    _local10.x = (_local10.x - _arg8[1]);
                };
            } else {
                _local10.x = Math.min(_local11.x, _local12.x);
                if (_arg6 == BlockProgression.RL){
                    _local10.y = (_local11.y + (_arg5.width / 2));
                };
                if (_local13 != JustificationRule.EAST_ASIAN){
                    _local9.height = _arg8[0];
                    if (_arg6 == BlockProgression.RL){
                        _local10.x = (_local10.x - _arg8[1]);
                    } else {
                        _local10.y = (_local10.y + _arg8[1]);
                    };
                    _local9.width = ((_arg3)!=_arg4) ? Math.abs((_local12.right - _local11.left)) : _local11.width;
                } else {
                    _local9.height = _local11.height;
                    _local9.width = ((_arg3)!=_arg4) ? Math.abs((_local12.right - _local11.left)) : _local11.width;
                };
            };
            _local9.x = _local10.x;
            _local9.y = _local10.y;
            if (_arg6 == BlockProgression.RL){
                if (_arg1.getAtomTextRotation(_arg3) != TextRotation.ROTATE_0){
                    _local9.x = (_local9.x - _arg1.descent);
                } else {
                    _local9.y = (_local9.y - (_local9.height / 2));
                };
            } else {
                _local9.y = (_local9.y + (_arg1.descent - _local9.height));
            };
            var _local14:TextFlowLine = (_arg1.userData as TextFlowLine);
            var _local15:FlowLeafElement = this._para.findLeaf(_arg2);
            if (!_local15){
                if (_arg2 < 0){
                    _local15 = this._para.getFirstLeaf();
                } else {
                    if (_arg2 >= this._para.textLength){
                        _local15 = this._para.getLastLeaf();
                    };
                };
                _local16 = ((_local15) ? _local15.computedFormat.textRotation : TextRotation.ROTATE_0);
            } else {
                _local16 = _local15.computedFormat.textRotation;
            };
            if ((((_local16 == TextRotation.ROTATE_180)) || ((_local16 == TextRotation.ROTATE_90)))){
                if (_arg6 != BlockProgression.RL){
                    _local9.y = (_local9.y + (_local9.height / 2));
                } else {
                    if (_local15.getParentByType(TCYElement) == null){
                        if (_local16 == TextRotation.ROTATE_90){
                            _local9.x = (_local9.x - _local9.width);
                        } else {
                            _local9.x = (_local9.x - (_local9.width * 0.75));
                        };
                    } else {
                        if (_local16 == TextRotation.ROTATE_90){
                            _local9.y = (_local9.y + _local9.height);
                        } else {
                            _local9.y = (_local9.y + (_local9.height * 0.75));
                        };
                    };
                };
            };
            return (_local9);
        }
        tlf_internal function convertLineRectToContainer(_arg1:Rectangle, _arg2:Boolean):void{
            var _local4:TextFlow;
            var _local5:Rectangle;
            var _local3:TextLine = this.getTextLine();
            _arg1.x = (_arg1.x + _local3.x);
            _arg1.y = (_arg1.y + _local3.y);
            if (_arg2){
                _local4 = this._para.getTextFlow();
                _local5 = this.controller.columnState.getColumnAt(this.columnIndex);
                constrainRectToColumn(_local4, _arg1, _local5, this.controller.horizontalScrollPosition, this.controller.verticalScrollPosition, this.controller.compositionWidth, this.controller.compositionHeight);
            };
        }
        tlf_internal function hiliteBlockSelection(_arg1:Shape, _arg2:SelectionFormat, _arg3:DisplayObject, _arg4:int, _arg5:int, _arg6:TextFlowLine, _arg7:TextFlowLine):void{
            if (((this.isDamaged()) || (!(this._controller)))){
                return;
            };
            var _local8:TextLine = this.peekTextLine();
            if (((!(_local8)) || (!(_local8.parent)))){
                return;
            };
            var _local9:int = this._para.getAbsoluteStart();
            _arg4 = (_arg4 - _local9);
            _arg5 = (_arg5 - _local9);
            this.createSelectionShapes(_arg1, _arg2, _arg3, _arg4, _arg5, _arg6, _arg7);
        }
        tlf_internal function hilitePointSelection(_arg1:SelectionFormat, _arg2:int, _arg3:DisplayObject, _arg4:TextFlowLine, _arg5:TextFlowLine):void{
            var _local6:Rectangle = this.computePointSelectionRectangle(_arg2, _arg3, _arg4, _arg5, true);
            if (_local6){
                this._controller.drawPointSelection(_arg1, _local6.x, _local6.y, _local6.width, _local6.height);
            };
        }
        tlf_internal function computePointSelectionRectangle(_arg1:int, _arg2:DisplayObject, _arg3:TextFlowLine, _arg4:TextFlowLine, _arg5:Boolean):Rectangle{
            var _local19:Number;
            var _local20:int;
            var _local21:Point;
            var _local22:Point;
            if (((this.isDamaged()) || (!(this._controller)))){
                return (null);
            };
            var _local6:TextLine = this.peekTextLine();
            if (((!(_local6)) || (!(_local6.parent)))){
                return (null);
            };
            _arg1 = (_arg1 - this._para.getAbsoluteStart());
            _local6 = this.getTextLine(true);
            var _local7:int = _arg1;
            var _local8:int = _local6.getAtomIndexAtCharIndex(_arg1);
            var _local9:Boolean;
            var _local10:Boolean;
            var _local11:ContainerFormattedElement = this._para.getAncestorWithContainer();
            var _local12:String = _local11.computedFormat.blockProgression;
            var _local13:String = this._para.computedFormat.direction;
            if (_local12 == BlockProgression.RL){
                if (_arg1 == 0){
                    if (_local6.getAtomTextRotation(0) == TextRotation.ROTATE_0){
                        _local10 = true;
                    };
                } else {
                    _local20 = _local6.getAtomIndexAtCharIndex((_arg1 - 1));
                    if (_local20 != -1){
                        if ((((_local6.getAtomTextRotation(_local8) == TextRotation.ROTATE_0)) && (!((_local6.getAtomTextRotation(_local20) == TextRotation.ROTATE_0))))){
                            _local8 = _local20;
                            _arg1--;
                            _local9 = true;
                        } else {
                            if (_local6.getAtomTextRotation(_local20) == TextRotation.ROTATE_0){
                                _local8 = _local20;
                                _arg1--;
                                _local9 = true;
                            };
                        };
                    };
                };
            };
            var _local14:Array = this.getRomanSelectionHeightAndVerticalAdjustment(_arg3, _arg4);
            var _local15:Array = this.makeSelectionBlocks(_local6, _arg1, _local7, this._para.getAbsoluteStart(), _local12, _local13, _local14);
            var _local16:Rectangle = _local15[0];
            this.convertLineRectToContainer(_local16, _arg5);
            var _local17 = (_local13 == Direction.RTL);
            if (((((_local17) && (((_local6.getAtomBidiLevel(_local8) % 2) == 0)))) || (((!(_local17)) && (!(((_local6.getAtomBidiLevel(_local8) % 2) == 0))))))){
                _local17 = !(_local17);
            };
            var _local18:Point = _arg2.localToGlobal(localZeroPoint);
            if ((((_local12 == BlockProgression.RL)) && (!((_local6.getAtomTextRotation(_local8) == TextRotation.ROTATE_0))))){
                _local21 = _arg2.localToGlobal(rlLocalOnePoint);
                _local19 = (_local18.y - _local21.y);
                _local19 = (((_local19 == 0)) ? 1 : Math.abs((1 / _local19)));
                if (!_local17){
                    setRectangleValues(_local16, _local16.x, ((_local9) ? (_local16.y + _local16.height) : _local16.y), _local16.width, _local19);
                } else {
                    setRectangleValues(_local16, _local16.x, ((_local9) ? _local16.y : (_local16.y + _local16.height)), _local16.width, _local19);
                };
            } else {
                _local22 = _arg2.localToGlobal(localOnePoint);
                _local19 = (_local18.x - _local22.x);
                _local19 = (((_local19 == 0)) ? 1 : Math.abs((1 / _local19)));
                if (!_local17){
                    setRectangleValues(_local16, ((_local9) ? (_local16.x + _local16.width) : _local16.x), _local16.y, _local19, _local16.height);
                } else {
                    setRectangleValues(_local16, ((_local9) ? _local16.x : (_local16.x + _local16.width)), _local16.y, _local19, _local16.height);
                };
            };
            _local6.flushAtomData();
            return (_local16);
        }
        tlf_internal function selectionWillIntersectScrollRect(_arg1:Rectangle, _arg2:int, _arg3:int, _arg4:TextFlowLine, _arg5:TextFlowLine):int{
            var _local9:Rectangle;
            var _local10:int;
            var _local11:SelectionCache;
            var _local12:Rectangle;
            var _local6:ContainerFormattedElement = this._para.getAncestorWithContainer();
            var _local7:String = _local6.computedFormat.blockProgression;
            var _local8:TextLine = this.getTextLine(true);
            if (_arg2 == _arg3){
                _local9 = this.computePointSelectionRectangle(_arg2, DisplayObject(this.controller.container), _arg4, _arg5, false);
                if (_local9){
                    if (_arg1.containsRect(_local9)){
                        return (2);
                    };
                    if (_arg1.intersects(_local9)){
                        return (1);
                    };
                };
            } else {
                _local10 = this._para.getAbsoluteStart();
                _local11 = this.getSelectionShapesCacheEntry((_arg2 - _local10), (_arg3 - _local10), _arg4, _arg5, _local7);
                if (_local11){
                    for each (_local12 in _local11.selectionBlocks) {
                        var _temp1 = _local12.clone();
                        _local12 = _local12.clone();
                        _temp1.x = (_local12.x + _local8.x);
                        _local12.y = (_local12.y + _local8.y);
                        if (_arg1.intersects(_local12)){
                            if (_local7 == BlockProgression.RL){
                                if ((((_local12.left >= _arg1.left)) && ((_local12.right <= _arg1.right)))){
                                    return (2);
                                };
                            } else {
                                if ((((_local12.top >= _arg1.top)) && ((_local12.bottom <= _arg1.bottom)))){
                                    return (2);
                                };
                            };
                            return (1);
                        };
                    };
                };
            };
            return (0);
        }
        private function normalizeRects(_arg1:Array, _arg2:Array, _arg3:Number, _arg4:String, _arg5:String):void{
            var _local8:Rectangle;
            var _local6:Rectangle;
            var _local7:int;
            while (_local7 < _arg1.length) {
                var _temp1 = _local7;
                _local7 = (_local7 + 1);
                _local8 = _arg1[_temp1];
                if (_arg4 == BlockProgression.RL){
                    if (_local8.width < _arg3){
                        _local8.width = _arg3;
                    };
                } else {
                    if (_local8.height < _arg3){
                        _local8.height = _arg3;
                    };
                };
                if (_local6 == null){
                    _local6 = _local8;
                } else {
                    if (_arg4 == BlockProgression.RL){
                        if ((((((_local6.y < _local8.y)) && (((_local6.y + _local6.height) >= _local8.top)))) && ((_local6.x == _local8.x)))){
                            _local6.height = (_local6.height + _local8.height);
                        } else {
                            if ((((((_local8.y < _local6.y)) && ((_local6.y <= _local8.bottom)))) && ((_local6.x == _local8.x)))){
                                _local6.height = (_local6.height + _local8.height);
                                _local6.y = _local8.y;
                            } else {
                                _arg2.push(_local6);
                                _local6 = _local8;
                            };
                        };
                    } else {
                        if ((((((_local6.x < _local8.x)) && (((_local6.x + _local6.width) >= _local8.left)))) && ((_local6.y == _local8.y)))){
                            _local6.width = (_local6.width + _local8.width);
                        } else {
                            if ((((((_local8.x < _local6.x)) && ((_local6.x <= _local8.right)))) && ((_local6.y == _local8.y)))){
                                _local6.width = (_local6.width + _local8.width);
                                _local6.x = _local8.x;
                            } else {
                                _arg2.push(_local6);
                                _local6 = _local8;
                            };
                        };
                    };
                };
                if (_local7 == _arg1.length){
                    _arg2.push(_local6);
                };
            };
        }
        private function adjustEndElementForBidi(_arg1:TextLine, _arg2:int, _arg3:int, _arg4:int, _arg5:String):int{
            var _local6:int = _arg4;
            if (_arg3 != _arg2){
                if ((((((((_arg5 == Direction.LTR)) && (!(((_arg1.getAtomBidiLevel(_arg4) % 2) == 0))))) || ((((_arg5 == Direction.RTL)) && (((_arg1.getAtomBidiLevel(_arg4) % 2) == 0)))))) && (!((_arg1.getAtomTextRotation(_arg4) == TextRotation.ROTATE_0))))){
                    _local6 = _arg1.getAtomIndexAtCharIndex(_arg3);
                } else {
                    _local6 = _arg1.getAtomIndexAtCharIndex((_arg3 - 1));
                };
            };
            if ((((_local6 == -1)) && ((_arg3 > 0)))){
                return (this.adjustEndElementForBidi(_arg1, _arg2, (_arg3 - 1), _arg4, _arg5));
            };
            return (_local6);
        }
        private function isAtomBidi(_arg1:TextLine, _arg2:int, _arg3:String):Boolean{
            if (!_arg1){
                _arg1 = this.getTextLine(true);
            };
            return (((((!(((_arg1.getAtomBidiLevel(_arg2) % 2) == 0))) && ((_arg3 == Direction.LTR)))) || (((((_arg1.getAtomBidiLevel(_arg2) % 2) == 0)) && ((_arg3 == Direction.RTL))))));
        }
        tlf_internal function get adornCount():int{
            return (this._adornCount);
        }

    }
}//package flashx.textLayout.compose 

import flash.text.engine.*;
import flash.geom.*;
import flashx.textLayout.formats.*;
import flashx.textLayout.elements.*;
import flashx.textLayout.factory.*;
import flashx.textLayout.*;

final class SelectionCache {

    private var _begIdx:int = -1;
    private var _endIdx:int = -1;
    private var _selectionBlocks:Array = null;

    public function SelectionCache(){
    }
    public function get begIdx():int{
        return (this._begIdx);
    }
    public function set begIdx(_arg1:int):void{
        this._begIdx = _arg1;
    }
    public function get endIdx():int{
        return (this._endIdx);
    }
    public function set endIdx(_arg1:int):void{
        this._endIdx = _arg1;
    }
    public function pushSelectionBlock(_arg1:Rectangle):void{
        if (!this._selectionBlocks){
            this._selectionBlocks = new Array();
        };
        this._selectionBlocks.push(_arg1.clone());
    }
    public function get selectionBlocks():Array{
        return (this._selectionBlocks);
    }
    public function clear():void{
        this._selectionBlocks = null;
        this._begIdx = -1;
        this._endIdx = -1;
    }

}
class NumberLineUserData {

    public var listStylePosition:String;
    public var insideLineWidth:Number;
    public var spanFormat:ITextLayoutFormat;
    public var paragraphDirection:String;
    public var listEndIndent:Number;
    public var backgroundManager:BackgroundManager;

    public function NumberLineUserData(_arg1:String, _arg2:Number, _arg3:ITextLayoutFormat, _arg4:String){
        this.listStylePosition = _arg1;
        this.insideLineWidth = _arg2;
        this.spanFormat = _arg3;
        this.paragraphDirection = _arg4;
    }
}
class NumberLineFactory extends StringTextLineFactory {

    private var _listStylePosition:String;
    private var _markerFormat:ITextLayoutFormat;
    private var _backgroundManager:BackgroundManager;

    public function NumberLineFactory(){
    }
    tlf_internal static function calculateInsideNumberLineWidth(_arg1:TextLine, _arg2:String):Number{
        var _local6:Rectangle;
        var _local3:Number = Number.MAX_VALUE;
        var _local4:Number = Number.MIN_VALUE;
        var _local5:int;
        if (_arg2 == BlockProgression.TB){
            while (_local5 < _arg1.atomCount) {
                if (_arg1.getAtomTextBlockBeginIndex(_local5) != (_arg1.rawTextLength - 1)){
                    _local6 = _arg1.getAtomBounds(_local5);
                    _local3 = Math.min(_local3, _local6.x);
                    _local4 = Math.max(_local4, _local6.right);
                };
                _local5++;
            };
        } else {
            while (_local5 < _arg1.atomCount) {
                if (_arg1.getAtomTextBlockBeginIndex(_local5) != (_arg1.rawTextLength - 1)){
                    _local6 = _arg1.getAtomBounds(_local5);
                    _local3 = Math.min(_local3, _local6.top);
                    _local4 = Math.max(_local4, _local6.bottom);
                };
                _local5++;
            };
        };
        _arg1.flushAtomData();
        return ((((_local4 > _local3)) ? (_local4 - _local3) : 0));
    }

    public function get listStylePosition():String{
        return (this._listStylePosition);
    }
    public function set listStylePosition(_arg1:String):void{
        this._listStylePosition = _arg1;
    }
    public function get markerFormat():ITextLayoutFormat{
        return (this._markerFormat);
    }
    public function set markerFormat(_arg1:ITextLayoutFormat):void{
        this._markerFormat = _arg1;
        spanFormat = _arg1;
    }
    public function get backgroundManager():BackgroundManager{
        return (this._backgroundManager);
    }
    public function clearBackgroundManager():void{
        this._backgroundManager = null;
    }
    override protected function callbackWithTextLines(_arg1:Function, _arg2:Number, _arg3:Number):void{
        var _local4:TextLine;
        var _local5:TextBlock;
        for each (_local4 in _factoryComposer._lines) {
            _local4.userData = new NumberLineUserData(this.listStylePosition, calculateInsideNumberLineWidth(_local4, textFlowFormat.blockProgression), this._markerFormat, paragraphFormat.direction);
            _local5 = _local4.textBlock;
            if (_local5){
                _local5.releaseLines(_local5.firstLine, _local5.lastLine);
            };
            _local4.x = (_local4.x + _arg2);
            _local4.y = (_local4.y + _arg3);
            _local4.validity = TextLineValidity.STATIC;
            _arg1(_local4);
        };
    }
    override tlf_internal function processBackgroundColors(_arg1:TextFlow, _arg2:Function, _arg3:Number, _arg4:Number, _arg5:Number, _arg6:Number){
        this._backgroundManager = _arg1.backgroundManager;
        _arg1.clearBackgroundManager();
    }

}
﻿package flashx.textLayout.compose {

    public class Slug {

        public var leftMargin:Number;
        public var rightMargin:Number;
        public var width:Number;
        public var depth:Number;
        public var height:Number;
        public var wrapsKnockOut:Boolean;

    }
}//package flashx.textLayout.compose 
﻿package flashx.textLayout.accessibility {
    import flash.display.*;
    import flash.events.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.events.*;
    import flash.accessibility.*;

    public class TextAccImpl extends AccessibilityImplementation {

        protected static const STATE_SYSTEM_NORMAL:uint = 0;
        protected static const STATE_SYSTEM_READONLY:uint = 64;
        protected static const STATE_SYSTEM_INVISIBLE:uint = 0x8000;
        protected static const ROLE_SYSTEM_STATICTEXT:uint = 41;
        protected static const ROLE_SYSTEM_TEXT:uint = 42;
        protected static const EVENT_OBJECT_NAMECHANGE:uint = 32780;
        protected static const EVENT_OBJECT_VALUECHANGE:uint = 32782;

        protected var textContainer:DisplayObject;
        protected var textFlow:TextFlow;

        public function TextAccImpl(_arg1:DisplayObject, _arg2:TextFlow){
            this.textContainer = _arg1;
            this.textFlow = _arg2;
            stub = false;
            if (_arg1.accessibilityProperties == null){
                _arg1.accessibilityProperties = new AccessibilityProperties();
            };
            _arg2.addEventListener(CompositionCompleteEvent.COMPOSITION_COMPLETE, this.eventHandler);
        }
        private static function exportToString(_arg1:TextFlow):String{
            var _local6:ParagraphElement;
            var _local7:Array;
            var _local2:FlowLeafElement = _arg1.getFirstLeaf();
            var _local3 = "";
            var _local4 = "";
            var _local5:String = String.fromCharCode(173);
            while (_local2) {
                _local6 = _local2.getParagraph();
                while (true) {
                    _local4 = _local2.text;
                    _local7 = _local4.split(_local5);
                    _local4 = _local7.join("");
                    _local3 = (_local3 + _local4);
                    _local2 = _local2.getNextLeaf(_local6);
                    if (!_local2){
                        _local3 = (_local3 + "\n");
                        break;
                    };
                };
                _local2 = _local6.getLastLeaf().getNextLeaf();
            };
            return (_local3);
        }

        public function detachListeners():void{
            this.textFlow.removeEventListener(CompositionCompleteEvent.COMPOSITION_COMPLETE, this.eventHandler);
        }
        override public function get_accRole(_arg1:uint):uint{
            var _local2:ISelectionManager = this.textFlow.interactionManager;
            if (_local2 == null){
                return (ROLE_SYSTEM_STATICTEXT);
            };
            return (ROLE_SYSTEM_TEXT);
        }
        override public function get_accState(_arg1:uint):uint{
            var _local2:ISelectionManager = this.textFlow.interactionManager;
            if (_local2 == null){
                return (STATE_SYSTEM_READONLY);
            };
            if (_local2.editingMode == EditingMode.READ_WRITE){
                return (STATE_SYSTEM_NORMAL);
            };
            return (STATE_SYSTEM_READONLY);
        }
        override public function get_accName(_arg1:uint):String{
            switch (this.get_accRole(_arg1)){
                case ROLE_SYSTEM_STATICTEXT:
                    return (exportToString(this.textFlow));
                case ROLE_SYSTEM_TEXT:
                default:
                    return (null);
            };
        }
        override public function get_accValue(_arg1:uint):String{
            switch (this.get_accRole(_arg1)){
                case ROLE_SYSTEM_TEXT:
                    return (exportToString(this.textFlow));
                case ROLE_SYSTEM_STATICTEXT:
                default:
                    return (null);
            };
        }
        protected function eventHandler(_arg1:Event):void{
            var event:* = _arg1;
            switch (event.type){
                case CompositionCompleteEvent.COMPOSITION_COMPLETE:
                    try {
                        Accessibility.sendEvent(this.textContainer, 0, EVENT_OBJECT_NAMECHANGE);
                        Accessibility.sendEvent(this.textContainer, 0, EVENT_OBJECT_VALUECHANGE);
                        Accessibility.updateProperties();
                    } catch(e_err:Error) {
                    };
                    break;
            };
        }
        public function get selectionActiveIndex():int{
            var _local1:ISelectionManager = this.textFlow.interactionManager;
            var _local2 = -1;
            if (((_local1) && (!((_local1.editingMode == EditingMode.READ_ONLY))))){
                _local2 = _local1.activePosition;
            };
            return (_local2);
        }
        public function get selectionAnchorIndex():int{
            var _local1:ISelectionManager = this.textFlow.interactionManager;
            var _local2 = -1;
            if (((_local1) && (!((_local1.editingMode == EditingMode.READ_ONLY))))){
                _local2 = _local1.anchorPosition;
            };
            return (_local2);
        }
        public function get searchText():String{
            return (((GlobalSettings.enableSearch) ? this.textFlow.getText() : null));
        }

    }
}//package flashx.textLayout.accessibility 
﻿package flashx.textLayout.formats {
    import __AS3__.vec.*;
    import flashx.textLayout.property.*;
    import flashx.textLayout.*;

    public class ListMarkerFormat extends TextLayoutFormat implements IListMarkerFormat {

        tlf_internal static const counterResetProperty:Property = createCounterResetProperty("counterReset", FormatValue.NONE, false, Vector.<String>([Category.LIST]));
        tlf_internal static const counterIncrementProperty:Property = createCounterResetProperty("counterIncrement", "ordered 1", false, Vector.<String>([Category.LIST]));
        tlf_internal static const beforeContentProperty:Property = Property.NewStringProperty("beforeContent", null, false, Vector.<String>([Category.LIST]));
        tlf_internal static const contentProperty:Property = createCounterContentProperty("content", "counter(ordered)", false, Vector.<String>([Category.LIST]));
        tlf_internal static const afterContentProperty:Property = Property.NewStringProperty("afterContent", null, false, Vector.<String>([Category.LIST]));
        tlf_internal static const suffixProperty:Property = Property.NewEnumStringProperty("suffix", Suffix.AUTO, false, Vector.<String>([Category.LIST]), Suffix.AUTO, Suffix.NONE);

        private static var _lmfDescription:Object = {
            counterReset:counterResetProperty,
            counterIncrement:counterIncrementProperty,
            beforeContent:beforeContentProperty,
            content:contentProperty,
            afterContent:afterContentProperty,
            suffix:suffixProperty
        };
        private static var _description:Object;

        public function ListMarkerFormat(_arg1:IListMarkerFormat=null){
            super(_arg1);
        }
        tlf_internal static function createCounterResetProperty(_arg1:String, _arg2:String, _arg3:Boolean, _arg4:Vector.<String>):Property{
            var _local5:Property = new Property(_arg1, _arg2, _arg3, _arg4);
            _local5.addHandlers(Property.sharedUndefinedHandler, new EnumPropertyHandler([FormatValue.NONE]), new CounterPropHandler(0));
            return (_local5);
        }
        tlf_internal static function createCounterIncrementProperty(_arg1:String, _arg2:String, _arg3:Boolean, _arg4:Vector.<String>):Property{
            var _local5:Property = new Property(_arg1, _arg2, _arg3, _arg4);
            _local5.addHandlers(Property.sharedUndefinedHandler, new EnumPropertyHandler([FormatValue.NONE]), new CounterPropHandler(1));
            return (_local5);
        }
        tlf_internal static function createCounterContentProperty(_arg1:String, _arg2:String, _arg3:Boolean, _arg4:Vector.<String>):Property{
            var _local5:Property = new Property(_arg1, _arg2, _arg3, _arg4);
            _local5.addHandlers(Property.sharedUndefinedHandler, new EnumPropertyHandler([FormatValue.NONE]), new CounterContentHandler());
            return (_local5);
        }
        tlf_internal static function get description():Object{
            var _local1:String;
            if (!_description){
                _description = Property.createObjectWithPrototype(TextLayoutFormat.description);
                for (_local1 in _lmfDescription) {
                    _description[_local1] = _lmfDescription[_local1];
                };
            };
            return (_description);
        }
        public static function createListMarkerFormat(_arg1:Object):ListMarkerFormat{
            var _local4:String;
            var _local2:IListMarkerFormat = (_arg1 as IListMarkerFormat);
            var _local3:ListMarkerFormat = new ListMarkerFormat(_local2);
            if ((((_local2 == null)) && (_arg1))){
                for (_local4 in _arg1) {
                    _local3.setStyle(_local4, _arg1[_local4]);
                };
            };
            return (_local3);
        }

        private function setLMFStyle(_arg1:Property, _arg2):void{
            var _local3:String = _arg1.name;
            _arg2 = _arg1.setHelper(getStyle(_local3), _arg2);
            super.setStyleByName(_local3, _arg2);
        }
        override public function setStyle(_arg1:String, _arg2):void{
            var _local3:Property = _lmfDescription[_arg1];
            if (_local3){
                this.setLMFStyle(_local3, _arg2);
            } else {
                super.setStyle(_arg1, _arg2);
            };
        }
        public function get counterReset(){
            return (getStyle(counterResetProperty.name));
        }
        public function set counterReset(_arg1){
            this.setLMFStyle(counterResetProperty, _arg1);
        }
        public function get counterIncrement(){
            return (getStyle(counterIncrementProperty.name));
        }
        public function set counterIncrement(_arg1){
            this.setLMFStyle(counterIncrementProperty, _arg1);
        }
        public function get content(){
            return (getStyle(contentProperty.name));
        }
        public function set content(_arg1){
            this.setLMFStyle(contentProperty, _arg1);
        }
        public function get beforeContent(){
            return (getStyle(beforeContentProperty.name));
        }
        public function set beforeContent(_arg1):void{
            this.setLMFStyle(beforeContentProperty, _arg1);
        }
        public function get afterContent(){
            return (getStyle(afterContentProperty.name));
        }
        public function set afterContent(_arg1):void{
            this.setLMFStyle(afterContentProperty, _arg1);
        }
        public function get suffix(){
            return (getStyle(suffixProperty.name));
        }
        public function set suffix(_arg1):void{
            this.setLMFStyle(suffixProperty, _arg1);
        }
        override public function copy(_arg1:ITextLayoutFormat):void{
            var _local3:String;
            super.copy(_arg1);
            var _local2:IListMarkerFormat = (_arg1 as IListMarkerFormat);
            if (_local2){
                for (_local3 in _lmfDescription) {
                    this[_local3] = _local2[_local3];
                };
            };
        }
        override public function concat(_arg1:ITextLayoutFormat):void{
            var _local3:Property;
            var _local4:String;
            super.concat(_arg1);
            var _local2:IListMarkerFormat = (_arg1 as IListMarkerFormat);
            if (_local2){
                for each (_local3 in _lmfDescription) {
                    _local4 = _local3.name;
                    this.setLMFStyle(_local3, _local3.concatHelper(this[_local4], _local2[_local4]));
                };
            };
        }
        override public function concatInheritOnly(_arg1:ITextLayoutFormat):void{
            var _local3:Property;
            var _local4:String;
            super.concatInheritOnly(_arg1);
            var _local2:IListMarkerFormat = (_arg1 as IListMarkerFormat);
            if (_local2){
                for each (_local3 in _lmfDescription) {
                    _local4 = _local3.name;
                    this.setLMFStyle(_local3, _local3.concatInheritOnlyHelper(this[_local4], _local2[_local4]));
                };
            };
        }
        override public function apply(_arg1:ITextLayoutFormat):void{
            var _local3:Property;
            var _local4:String;
            var _local5:*;
            super.apply(_arg1);
            var _local2:IListMarkerFormat = (_arg1 as IListMarkerFormat);
            if (_local2){
                for each (_local3 in _lmfDescription) {
                    _local4 = _local3.name;
                    _local5 = _local2[_local4];
                    if (_local5 !== undefined){
                        this[_local4] = _local5;
                    };
                };
            };
        }
        override public function removeMatching(_arg1:ITextLayoutFormat):void{
            var _local3:Property;
            var _local4:String;
            super.removeMatching(_arg1);
            var _local2:IListMarkerFormat = (_arg1 as IListMarkerFormat);
            if (_local2){
                for each (_local3 in _lmfDescription) {
                    _local4 = _local3.name;
                    if (_local3.equalHelper(this[_local4], _local2[_local4])){
                        this[_local4] = undefined;
                    };
                };
            };
        }
        override public function removeClashing(_arg1:ITextLayoutFormat):void{
            var _local3:Property;
            var _local4:String;
            super.removeClashing(_arg1);
            var _local2:IListMarkerFormat = (_arg1 as IListMarkerFormat);
            if (_local2){
                for each (_local3 in _lmfDescription) {
                    _local4 = _local3.name;
                    if (!_local3.equalHelper(this[_local4], _local2[_local4])){
                        this[_local4] = undefined;
                    };
                };
            };
        }

        Property.sharedTextLayoutFormatHandler.converter = TextLayoutFormat.createTextLayoutFormat;
        Property.sharedListMarkerFormatHandler.converter = ListMarkerFormat.createListMarkerFormat;
    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public interface ITabStopFormat {

        function getStyle(_arg1:String);
        function get position();
        function get alignment();
        function get decimalAlignmentToken();

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class TLFTypographicCase {

        public static const DEFAULT:String = "default";
        public static const LOWERCASE_TO_SMALL_CAPS:String = "lowercaseToSmallCaps";
        public static const LOWERCASE:String = "lowercase";
        public static const CAPS_TO_SMALL_CAPS:String = "capsToSmallCaps";
        public static const UPPERCASE:String = "uppercase";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public class Suffix {

        public static const AUTO:String = "auto";
        public static const NONE:String = "none";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class BaselineOffset {

        public static const AUTO:String = "auto";
        public static const ASCENT:String = "ascent";
        public static const LINE_HEIGHT:String = "lineHeight";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class LeadingModel {

        public static const ROMAN_UP:String = "romanUp";
        public static const IDEOGRAPHIC_TOP_UP:String = "ideographicTopUp";
        public static const IDEOGRAPHIC_CENTER_UP:String = "ideographicCenterUp";
        public static const IDEOGRAPHIC_TOP_DOWN:String = "ideographicTopDown";
        public static const IDEOGRAPHIC_CENTER_DOWN:String = "ideographicCenterDown";
        public static const ASCENT_DESCENT_UP:String = "ascentDescentUp";
        public static const AUTO:String = "auto";
        public static const APPROXIMATE_TEXT_FIELD:String = "approximateTextField";
        public static const BOX:String = "box";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class LineBreak {

        public static const TO_FIT:String = "toFit";
        public static const EXPLICIT:String = "explicit";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {
    import flash.text.engine.*;
    import __AS3__.vec.*;
    import flashx.textLayout.property.*;
    import flashx.textLayout.*;

    public class TextLayoutFormat implements ITextLayoutFormat {

        public static const colorProperty:Property = Property.NewUintProperty("color", 0, true, Vector.<String>([Category.CHARACTER]));
        public static const backgroundColorProperty:Property = Property.NewUintOrEnumProperty("backgroundColor", BackgroundColor.TRANSPARENT, false, Vector.<String>([Category.CHARACTER]), BackgroundColor.TRANSPARENT);
        public static const lineThroughProperty:Property = Property.NewBooleanProperty("lineThrough", false, true, Vector.<String>([Category.CHARACTER]));
        public static const textAlphaProperty:Property = Property.NewNumberProperty("textAlpha", 1, true, Vector.<String>([Category.CHARACTER]), 0, 1);
        public static const backgroundAlphaProperty:Property = Property.NewNumberProperty("backgroundAlpha", 1, false, Vector.<String>([Category.CHARACTER]), 0, 1);
        public static const fontSizeProperty:Property = Property.NewNumberProperty("fontSize", 12, true, Vector.<String>([Category.CHARACTER]), 1, 720);
        public static const baselineShiftProperty:Property = Property.NewNumberOrPercentOrEnumProperty("baselineShift", 0, true, Vector.<String>([Category.CHARACTER]), -1000, 1000, "-1000%", "1000%", BaselineShift.SUPERSCRIPT, BaselineShift.SUBSCRIPT);
        public static const trackingLeftProperty:Property = Property.NewNumberOrPercentProperty("trackingLeft", 0, true, Vector.<String>([Category.CHARACTER]), -1000, 1000, "-1000%", "1000%");
        public static const trackingRightProperty:Property = Property.NewNumberOrPercentProperty("trackingRight", 0, true, Vector.<String>([Category.CHARACTER]), -1000, 1000, "-1000%", "1000%");
        public static const lineHeightProperty:Property = Property.NewNumberOrPercentProperty("lineHeight", "120%", true, Vector.<String>([Category.CHARACTER]), -720, 720, "-1000%", "1000%");
        public static const breakOpportunityProperty:Property = Property.NewEnumStringProperty("breakOpportunity", BreakOpportunity.AUTO, true, Vector.<String>([Category.CHARACTER]), BreakOpportunity.ALL, BreakOpportunity.ANY, BreakOpportunity.AUTO, BreakOpportunity.NONE);
        public static const digitCaseProperty:Property = Property.NewEnumStringProperty("digitCase", DigitCase.DEFAULT, true, Vector.<String>([Category.CHARACTER]), DigitCase.DEFAULT, DigitCase.LINING, DigitCase.OLD_STYLE);
        public static const digitWidthProperty:Property = Property.NewEnumStringProperty("digitWidth", DigitWidth.DEFAULT, true, Vector.<String>([Category.CHARACTER]), DigitWidth.DEFAULT, DigitWidth.PROPORTIONAL, DigitWidth.TABULAR);
        public static const dominantBaselineProperty:Property = Property.NewEnumStringProperty("dominantBaseline", FormatValue.AUTO, true, Vector.<String>([Category.CHARACTER]), FormatValue.AUTO, TextBaseline.ROMAN, TextBaseline.ASCENT, TextBaseline.DESCENT, TextBaseline.IDEOGRAPHIC_TOP, TextBaseline.IDEOGRAPHIC_CENTER, TextBaseline.IDEOGRAPHIC_BOTTOM);
        public static const kerningProperty:Property = Property.NewEnumStringProperty("kerning", Kerning.AUTO, true, Vector.<String>([Category.CHARACTER]), Kerning.ON, Kerning.OFF, Kerning.AUTO);
        public static const ligatureLevelProperty:Property = Property.NewEnumStringProperty("ligatureLevel", LigatureLevel.COMMON, true, Vector.<String>([Category.CHARACTER]), LigatureLevel.MINIMUM, LigatureLevel.COMMON, LigatureLevel.UNCOMMON, LigatureLevel.EXOTIC);
        public static const alignmentBaselineProperty:Property = Property.NewEnumStringProperty("alignmentBaseline", TextBaseline.USE_DOMINANT_BASELINE, true, Vector.<String>([Category.CHARACTER]), TextBaseline.ROMAN, TextBaseline.ASCENT, TextBaseline.DESCENT, TextBaseline.IDEOGRAPHIC_TOP, TextBaseline.IDEOGRAPHIC_CENTER, TextBaseline.IDEOGRAPHIC_BOTTOM, TextBaseline.USE_DOMINANT_BASELINE);
        public static const localeProperty:Property = Property.NewStringProperty("locale", "en", true, Vector.<String>([Category.CHARACTER, Category.PARAGRAPH]));
        public static const typographicCaseProperty:Property = Property.NewEnumStringProperty("typographicCase", TLFTypographicCase.DEFAULT, true, Vector.<String>([Category.CHARACTER]), TLFTypographicCase.DEFAULT, TLFTypographicCase.CAPS_TO_SMALL_CAPS, TLFTypographicCase.UPPERCASE, TLFTypographicCase.LOWERCASE, TLFTypographicCase.LOWERCASE_TO_SMALL_CAPS);
        public static const fontFamilyProperty:Property = Property.NewStringProperty("fontFamily", "Arial", true, Vector.<String>([Category.CHARACTER]));
        public static const textDecorationProperty:Property = Property.NewEnumStringProperty("textDecoration", TextDecoration.NONE, true, Vector.<String>([Category.CHARACTER]), TextDecoration.NONE, TextDecoration.UNDERLINE);
        public static const fontWeightProperty:Property = Property.NewEnumStringProperty("fontWeight", FontWeight.NORMAL, true, Vector.<String>([Category.CHARACTER]), FontWeight.NORMAL, FontWeight.BOLD);
        public static const fontStyleProperty:Property = Property.NewEnumStringProperty("fontStyle", FontPosture.NORMAL, true, Vector.<String>([Category.CHARACTER]), FontPosture.NORMAL, FontPosture.ITALIC);
        public static const whiteSpaceCollapseProperty:Property = Property.NewEnumStringProperty("whiteSpaceCollapse", WhiteSpaceCollapse.COLLAPSE, true, Vector.<String>([Category.CHARACTER]), WhiteSpaceCollapse.PRESERVE, WhiteSpaceCollapse.COLLAPSE);
        public static const renderingModeProperty:Property = Property.NewEnumStringProperty("renderingMode", RenderingMode.CFF, true, Vector.<String>([Category.CHARACTER]), RenderingMode.NORMAL, RenderingMode.CFF);
        public static const cffHintingProperty:Property = Property.NewEnumStringProperty("cffHinting", CFFHinting.HORIZONTAL_STEM, true, Vector.<String>([Category.CHARACTER]), CFFHinting.NONE, CFFHinting.HORIZONTAL_STEM);
        public static const fontLookupProperty:Property = Property.NewEnumStringProperty("fontLookup", FontLookup.DEVICE, true, Vector.<String>([Category.CHARACTER]), FontLookup.DEVICE, FontLookup.EMBEDDED_CFF);
        public static const textRotationProperty:Property = Property.NewEnumStringProperty("textRotation", TextRotation.AUTO, true, Vector.<String>([Category.CHARACTER]), TextRotation.ROTATE_0, TextRotation.ROTATE_180, TextRotation.ROTATE_270, TextRotation.ROTATE_90, TextRotation.AUTO);
        public static const textIndentProperty:Property = Property.NewNumberProperty("textIndent", 0, true, Vector.<String>([Category.PARAGRAPH]), -8000, 8000);
        public static const paragraphStartIndentProperty:Property = Property.NewNumberProperty("paragraphStartIndent", 0, true, Vector.<String>([Category.PARAGRAPH]), 0, 8000);
        public static const paragraphEndIndentProperty:Property = Property.NewNumberProperty("paragraphEndIndent", 0, true, Vector.<String>([Category.PARAGRAPH]), 0, 8000);
        public static const paragraphSpaceBeforeProperty:Property = Property.NewNumberProperty("paragraphSpaceBefore", 0, true, Vector.<String>([Category.PARAGRAPH]), 0, 8000);
        public static const paragraphSpaceAfterProperty:Property = Property.NewNumberProperty("paragraphSpaceAfter", 0, true, Vector.<String>([Category.PARAGRAPH]), 0, 8000);
        public static const textAlignProperty:Property = Property.NewEnumStringProperty("textAlign", TextAlign.START, true, Vector.<String>([Category.PARAGRAPH]), TextAlign.LEFT, TextAlign.RIGHT, TextAlign.CENTER, TextAlign.JUSTIFY, TextAlign.START, TextAlign.END);
        public static const textAlignLastProperty:Property = Property.NewEnumStringProperty("textAlignLast", TextAlign.START, true, Vector.<String>([Category.PARAGRAPH]), TextAlign.LEFT, TextAlign.RIGHT, TextAlign.CENTER, TextAlign.JUSTIFY, TextAlign.START, TextAlign.END);
        public static const textJustifyProperty:Property = Property.NewEnumStringProperty("textJustify", TextJustify.INTER_WORD, true, Vector.<String>([Category.PARAGRAPH]), TextJustify.INTER_WORD, TextJustify.DISTRIBUTE);
        public static const justificationRuleProperty:Property = Property.NewEnumStringProperty("justificationRule", FormatValue.AUTO, true, Vector.<String>([Category.PARAGRAPH]), JustificationRule.EAST_ASIAN, JustificationRule.SPACE, FormatValue.AUTO);
        public static const justificationStyleProperty:Property = Property.NewEnumStringProperty("justificationStyle", FormatValue.AUTO, true, Vector.<String>([Category.PARAGRAPH]), JustificationStyle.PRIORITIZE_LEAST_ADJUSTMENT, JustificationStyle.PUSH_IN_KINSOKU, JustificationStyle.PUSH_OUT_ONLY, FormatValue.AUTO);
        public static const directionProperty:Property = Property.NewEnumStringProperty("direction", Direction.LTR, true, Vector.<String>([Category.PARAGRAPH]), Direction.LTR, Direction.RTL);
        public static const wordSpacingProperty:Property = Property.NewSpacingLimitProperty("wordSpacing", "100%, 50%, 150%", true, Vector.<String>([Category.PARAGRAPH]), "-1000%", "1000%");
        public static const tabStopsProperty:Property = Property.NewTabStopsProperty("tabStops", null, true, Vector.<String>([Category.PARAGRAPH]));
        public static const leadingModelProperty:Property = Property.NewEnumStringProperty("leadingModel", LeadingModel.AUTO, true, Vector.<String>([Category.PARAGRAPH]), LeadingModel.ROMAN_UP, LeadingModel.IDEOGRAPHIC_TOP_UP, LeadingModel.IDEOGRAPHIC_CENTER_UP, LeadingModel.IDEOGRAPHIC_TOP_DOWN, LeadingModel.IDEOGRAPHIC_CENTER_DOWN, LeadingModel.APPROXIMATE_TEXT_FIELD, LeadingModel.ASCENT_DESCENT_UP, LeadingModel.BOX, LeadingModel.AUTO);
        public static const columnGapProperty:Property = Property.NewNumberProperty("columnGap", 20, false, Vector.<String>([Category.CONTAINER]), 0, 1000);
        public static const paddingLeftProperty:Property = Property.NewNumberOrEnumProperty("paddingLeft", FormatValue.AUTO, false, Vector.<String>([Category.CONTAINER, Category.PARAGRAPH]), -8000, 8000, FormatValue.AUTO);
        public static const paddingTopProperty:Property = Property.NewNumberOrEnumProperty("paddingTop", FormatValue.AUTO, false, Vector.<String>([Category.CONTAINER, Category.PARAGRAPH]), -8000, 8000, FormatValue.AUTO);
        public static const paddingRightProperty:Property = Property.NewNumberOrEnumProperty("paddingRight", FormatValue.AUTO, false, Vector.<String>([Category.CONTAINER, Category.PARAGRAPH]), -8000, 8000, FormatValue.AUTO);
        public static const paddingBottomProperty:Property = Property.NewNumberOrEnumProperty("paddingBottom", FormatValue.AUTO, false, Vector.<String>([Category.CONTAINER, Category.PARAGRAPH]), -8000, 8000, FormatValue.AUTO);
        public static const columnCountProperty:Property = Property.NewIntOrEnumProperty("columnCount", FormatValue.AUTO, false, Vector.<String>([Category.CONTAINER]), 1, 50, FormatValue.AUTO);
        public static const columnWidthProperty:Property = Property.NewNumberOrEnumProperty("columnWidth", FormatValue.AUTO, false, Vector.<String>([Category.CONTAINER]), 0, 8000, FormatValue.AUTO);
        public static const firstBaselineOffsetProperty:Property = Property.NewNumberOrEnumProperty("firstBaselineOffset", BaselineOffset.AUTO, true, Vector.<String>([Category.CONTAINER]), 0, 1000, BaselineOffset.AUTO, BaselineOffset.ASCENT, BaselineOffset.LINE_HEIGHT);
        public static const verticalAlignProperty:Property = Property.NewEnumStringProperty("verticalAlign", VerticalAlign.TOP, false, Vector.<String>([Category.CONTAINER]), VerticalAlign.TOP, VerticalAlign.MIDDLE, VerticalAlign.BOTTOM, VerticalAlign.JUSTIFY);
        public static const blockProgressionProperty:Property = Property.NewEnumStringProperty("blockProgression", BlockProgression.TB, true, Vector.<String>([Category.CONTAINER]), BlockProgression.RL, BlockProgression.TB);
        public static const lineBreakProperty:Property = Property.NewEnumStringProperty("lineBreak", LineBreak.TO_FIT, false, Vector.<String>([Category.CONTAINER]), LineBreak.EXPLICIT, LineBreak.TO_FIT);
        public static const listStyleTypeProperty:Property = Property.NewEnumStringProperty("listStyleType", ListStyleType.DISC, true, Vector.<String>([Category.LIST]), ListStyleType.UPPER_ALPHA, ListStyleType.LOWER_ALPHA, ListStyleType.UPPER_ROMAN, ListStyleType.LOWER_ROMAN, ListStyleType.NONE, ListStyleType.DISC, ListStyleType.CIRCLE, ListStyleType.SQUARE, ListStyleType.BOX, ListStyleType.CHECK, ListStyleType.DIAMOND, ListStyleType.HYPHEN, ListStyleType.ARABIC_INDIC, ListStyleType.BENGALI, ListStyleType.DECIMAL, ListStyleType.DECIMAL_LEADING_ZERO, ListStyleType.DEVANAGARI, ListStyleType.GUJARATI, ListStyleType.GURMUKHI, ListStyleType.KANNADA, ListStyleType.PERSIAN, ListStyleType.THAI, ListStyleType.URDU, ListStyleType.CJK_EARTHLY_BRANCH, ListStyleType.CJK_HEAVENLY_STEM, ListStyleType.HANGUL, ListStyleType.HANGUL_CONSTANT, ListStyleType.HIRAGANA, ListStyleType.HIRAGANA_IROHA, ListStyleType.KATAKANA, ListStyleType.KATAKANA_IROHA, ListStyleType.LOWER_ALPHA, ListStyleType.LOWER_GREEK, ListStyleType.LOWER_LATIN, ListStyleType.UPPER_ALPHA, ListStyleType.UPPER_GREEK, ListStyleType.UPPER_LATIN);
        public static const listStylePositionProperty:Property = Property.NewEnumStringProperty("listStylePosition", ListStylePosition.OUTSIDE, true, Vector.<String>([Category.LIST]), ListStylePosition.INSIDE, ListStylePosition.OUTSIDE);
        public static const listAutoPaddingProperty:Property = Property.NewNumberProperty("listAutoPadding", 40, true, Vector.<String>([Category.CONTAINER]), -1000, 1000);
        public static const clearFloatsProperty:Property = Property.NewEnumStringProperty("clearFloats", ClearFloats.NONE, false, Vector.<String>([Category.PARAGRAPH]), ClearFloats.START, ClearFloats.END, ClearFloats.LEFT, ClearFloats.RIGHT, ClearFloats.BOTH, ClearFloats.NONE);
        public static const styleNameProperty:Property = Property.NewStringProperty("styleName", null, false, Vector.<String>([Category.STYLE]));
        public static const linkNormalFormatProperty:Property = Property.NewTextLayoutFormatProperty("linkNormalFormat", null, true, Vector.<String>([Category.STYLE]));
        public static const linkActiveFormatProperty:Property = Property.NewTextLayoutFormatProperty("linkActiveFormat", null, true, Vector.<String>([Category.STYLE]));
        public static const linkHoverFormatProperty:Property = Property.NewTextLayoutFormatProperty("linkHoverFormat", null, true, Vector.<String>([Category.STYLE]));
        public static const listMarkerFormatProperty:Property = Property.NewListMarkerFormatProperty("listMarkerFormat", null, true, Vector.<String>([Category.STYLE]));
        private static const _emptyStyles:Object = new Object();

        private static var _description:Object = {
            color:colorProperty,
            backgroundColor:backgroundColorProperty,
            lineThrough:lineThroughProperty,
            textAlpha:textAlphaProperty,
            backgroundAlpha:backgroundAlphaProperty,
            fontSize:fontSizeProperty,
            baselineShift:baselineShiftProperty,
            trackingLeft:trackingLeftProperty,
            trackingRight:trackingRightProperty,
            lineHeight:lineHeightProperty,
            breakOpportunity:breakOpportunityProperty,
            digitCase:digitCaseProperty,
            digitWidth:digitWidthProperty,
            dominantBaseline:dominantBaselineProperty,
            kerning:kerningProperty,
            ligatureLevel:ligatureLevelProperty,
            alignmentBaseline:alignmentBaselineProperty,
            locale:localeProperty,
            typographicCase:typographicCaseProperty,
            fontFamily:fontFamilyProperty,
            textDecoration:textDecorationProperty,
            fontWeight:fontWeightProperty,
            fontStyle:fontStyleProperty,
            whiteSpaceCollapse:whiteSpaceCollapseProperty,
            renderingMode:renderingModeProperty,
            cffHinting:cffHintingProperty,
            fontLookup:fontLookupProperty,
            textRotation:textRotationProperty,
            textIndent:textIndentProperty,
            paragraphStartIndent:paragraphStartIndentProperty,
            paragraphEndIndent:paragraphEndIndentProperty,
            paragraphSpaceBefore:paragraphSpaceBeforeProperty,
            paragraphSpaceAfter:paragraphSpaceAfterProperty,
            textAlign:textAlignProperty,
            textAlignLast:textAlignLastProperty,
            textJustify:textJustifyProperty,
            justificationRule:justificationRuleProperty,
            justificationStyle:justificationStyleProperty,
            direction:directionProperty,
            wordSpacing:wordSpacingProperty,
            tabStops:tabStopsProperty,
            leadingModel:leadingModelProperty,
            columnGap:columnGapProperty,
            paddingLeft:paddingLeftProperty,
            paddingTop:paddingTopProperty,
            paddingRight:paddingRightProperty,
            paddingBottom:paddingBottomProperty,
            columnCount:columnCountProperty,
            columnWidth:columnWidthProperty,
            firstBaselineOffset:firstBaselineOffsetProperty,
            verticalAlign:verticalAlignProperty,
            blockProgression:blockProgressionProperty,
            lineBreak:lineBreakProperty,
            listStyleType:listStyleTypeProperty,
            listStylePosition:listStylePositionProperty,
            listAutoPadding:listAutoPaddingProperty,
            clearFloats:clearFloatsProperty,
            styleName:styleNameProperty,
            linkNormalFormat:linkNormalFormatProperty,
            linkActiveFormat:linkActiveFormatProperty,
            linkHoverFormat:linkHoverFormatProperty,
            listMarkerFormat:listMarkerFormatProperty
        };
        private static var _emptyTextLayoutFormat:ITextLayoutFormat;
        private static var _defaults:TextLayoutFormat;

        private var _styles:Object;
        private var _sharedStyles:Boolean;

        public function TextLayoutFormat(_arg1:ITextLayoutFormat=null){
            this.copy(_arg1);
        }
        tlf_internal static function get description():Object{
            return (_description);
        }
        tlf_internal static function get emptyTextLayoutFormat():ITextLayoutFormat{
            if (_emptyTextLayoutFormat == null){
                _emptyTextLayoutFormat = new (TextLayoutFormat)();
            };
            return (_emptyTextLayoutFormat);
        }
        public static function isEqual(_arg1:ITextLayoutFormat, _arg2:ITextLayoutFormat):Boolean{
            var _local5:Property;
            if (_arg1 == null){
                _arg1 = emptyTextLayoutFormat;
            };
            if (_arg2 == null){
                _arg2 = emptyTextLayoutFormat;
            };
            if (_arg1 == _arg2){
                return (true);
            };
            var _local3:TextLayoutFormat = (_arg1 as TextLayoutFormat);
            var _local4:TextLayoutFormat = (_arg2 as TextLayoutFormat);
            if (((_local3) && (_local4))){
                return (Property.equalStyles(_local3.getStyles(), _local4.getStyles(), TextLayoutFormat.description));
            };
            for each (_local5 in TextLayoutFormat.description) {
                if (!_local5.equalHelper(_arg1[_local5.name], _arg2[_local5.name])){
                    return (false);
                };
            };
            return (true);
        }
        public static function get defaultFormat():ITextLayoutFormat{
            if (_defaults == null){
                _defaults = new (TextLayoutFormat)();
                Property.defaultsAllHelper(_description, _defaults);
            };
            return (_defaults);
        }
        tlf_internal static function resetModifiedNoninheritedStyles(_arg1:Object):void{
            if (_arg1.backgroundColor != TextLayoutFormat.backgroundColorProperty.defaultValue){
                _arg1.backgroundColor = TextLayoutFormat.backgroundColorProperty.defaultValue;
            };
            if (_arg1.backgroundAlpha != TextLayoutFormat.backgroundAlphaProperty.defaultValue){
                _arg1.backgroundAlpha = TextLayoutFormat.backgroundAlphaProperty.defaultValue;
            };
            if (_arg1.columnGap != TextLayoutFormat.columnGapProperty.defaultValue){
                _arg1.columnGap = TextLayoutFormat.columnGapProperty.defaultValue;
            };
            if (_arg1.paddingLeft != TextLayoutFormat.paddingLeftProperty.defaultValue){
                _arg1.paddingLeft = TextLayoutFormat.paddingLeftProperty.defaultValue;
            };
            if (_arg1.paddingTop != TextLayoutFormat.paddingTopProperty.defaultValue){
                _arg1.paddingTop = TextLayoutFormat.paddingTopProperty.defaultValue;
            };
            if (_arg1.paddingRight != TextLayoutFormat.paddingRightProperty.defaultValue){
                _arg1.paddingRight = TextLayoutFormat.paddingRightProperty.defaultValue;
            };
            if (_arg1.paddingBottom != TextLayoutFormat.paddingBottomProperty.defaultValue){
                _arg1.paddingBottom = TextLayoutFormat.paddingBottomProperty.defaultValue;
            };
            if (_arg1.columnCount != TextLayoutFormat.columnCountProperty.defaultValue){
                _arg1.columnCount = TextLayoutFormat.columnCountProperty.defaultValue;
            };
            if (_arg1.columnWidth != TextLayoutFormat.columnWidthProperty.defaultValue){
                _arg1.columnWidth = TextLayoutFormat.columnWidthProperty.defaultValue;
            };
            if (_arg1.verticalAlign != TextLayoutFormat.verticalAlignProperty.defaultValue){
                _arg1.verticalAlign = TextLayoutFormat.verticalAlignProperty.defaultValue;
            };
            if (_arg1.lineBreak != TextLayoutFormat.lineBreakProperty.defaultValue){
                _arg1.lineBreak = TextLayoutFormat.lineBreakProperty.defaultValue;
            };
            if (_arg1.clearFloats != TextLayoutFormat.clearFloatsProperty.defaultValue){
                _arg1.clearFloats = TextLayoutFormat.clearFloatsProperty.defaultValue;
            };
            if (_arg1.styleName != TextLayoutFormat.styleNameProperty.defaultValue){
                _arg1.styleName = TextLayoutFormat.styleNameProperty.defaultValue;
            };
        }
        public static function createTextLayoutFormat(_arg1:Object):TextLayoutFormat{
            var _local4:String;
            var _local2:ITextLayoutFormat = (_arg1 as ITextLayoutFormat);
            var _local3:TextLayoutFormat = new TextLayoutFormat(_local2);
            if ((((_local2 == null)) && (_arg1))){
                for (_local4 in _arg1) {
                    _local3.setStyle(_local4, _arg1[_local4]);
                };
            };
            return (_local3);
        }

        private function writableStyles():void{
            if (this._sharedStyles){
                this._styles = (((this._styles == _emptyStyles)) ? new Object() : Property.createObjectWithPrototype(this._styles));
                this._sharedStyles = false;
            };
        }
        tlf_internal function getStyles():Object{
            return ((((this._styles == _emptyStyles)) ? null : this._styles));
        }
        tlf_internal function setStyles(_arg1:Object, _arg2:Boolean):void{
            if (this._styles != _arg1){
                this._styles = _arg1;
                this._sharedStyles = _arg2;
            };
        }
        tlf_internal function clearStyles():void{
            this._styles = _emptyStyles;
            this._sharedStyles = true;
        }
        public function get coreStyles():Object{
            return ((((this._styles == _emptyStyles)) ? null : Property.shallowCopyInFilter(this._styles, description)));
        }
        public function get userStyles():Object{
            return ((((this._styles == _emptyStyles)) ? null : Property.shallowCopyNotInFilter(this._styles, description)));
        }
        public function get styles():Object{
            return ((((this._styles == _emptyStyles)) ? null : Property.shallowCopy(this._styles)));
        }
        tlf_internal function setStyleByName(_arg1:String, _arg2):void{
            this.writableStyles();
            if (_arg2 !== undefined){
                this._styles[_arg1] = _arg2;
            } else {
                delete this._styles[_arg1];
                if (this._styles[_arg1] !== undefined){
                    this._styles = Property.shallowCopy(this._styles);
                    delete this._styles[_arg1];
                };
            };
        }
        private function setStyleByProperty(_arg1:Property, _arg2):void{
            var _local3:String = _arg1.name;
            _arg2 = _arg1.setHelper(this._styles[_local3], _arg2);
            this.setStyleByName(_local3, _arg2);
        }
        public function setStyle(_arg1:String, _arg2):void{
            if (description.hasOwnProperty(_arg1)){
                this[_arg1] = _arg2;
            } else {
                this.setStyleByName(_arg1, _arg2);
            };
        }
        public function getStyle(_arg1:String){
            return (this._styles[_arg1]);
        }
        public function copy(_arg1:ITextLayoutFormat):void{
            var _local3:Property;
            var _local4:*;
            if (this == _arg1){
                return;
            };
            var _local2:TextLayoutFormat = (_arg1 as TextLayoutFormat);
            if (_local2){
                this._styles = _local2._styles;
                this._sharedStyles = true;
                _local2._sharedStyles = true;
                return;
            };
            this._styles = _emptyStyles;
            this._sharedStyles = true;
            if (_arg1){
                for each (_local3 in TextLayoutFormat.description) {
                    _local4 = _arg1[_local3.name];
                    if (_local4 !== undefined){
                        this[_local3.name] = _local4;
                    };
                };
            };
        }
        public function concat(_arg1:ITextLayoutFormat):void{
            var _local3:Property;
            var _local4:Object;
            var _local5:String;
            var _local2:TextLayoutFormat = (_arg1 as TextLayoutFormat);
            if (_local2){
                _local4 = _local2._styles;
                for (_local5 in _local4) {
                    _local3 = description[_local5];
                    if (_local3){
                        this.setStyleByProperty(_local3, _local3.concatHelper(this._styles[_local5], _local4[_local5]));
                    } else {
                        this.setStyleByName(_local5, Property.defaultConcatHelper(this._styles[_local5], _local4[_local5]));
                    };
                };
                return;
            };
            for each (_local3 in TextLayoutFormat.description) {
                this.setStyleByProperty(_local3, _local3.concatHelper(this._styles[_local3.name], _arg1[_local3.name]));
            };
        }
        public function concatInheritOnly(_arg1:ITextLayoutFormat):void{
            var _local3:Property;
            var _local4:Object;
            var _local5:String;
            var _local2:TextLayoutFormat = (_arg1 as TextLayoutFormat);
            if (_local2){
                _local4 = _local2._styles;
                for (_local5 in _local4) {
                    _local3 = description[_local5];
                    if (_local3){
                        this.setStyleByProperty(_local3, _local3.concatInheritOnlyHelper(this._styles[_local5], _local4[_local5]));
                    } else {
                        this.setStyleByName(_local5, Property.defaultConcatHelper(this._styles[_local5], _local4[_local5]));
                    };
                };
                return;
            };
            for each (_local3 in TextLayoutFormat.description) {
                this.setStyleByProperty(_local3, _local3.concatInheritOnlyHelper(this._styles[_local3.name], _arg1[_local3.name]));
            };
        }
        public function apply(_arg1:ITextLayoutFormat):void{
            var _local3:*;
            var _local4:Property;
            var _local5:Object;
            var _local6:String;
            var _local7:String;
            var _local2:TextLayoutFormat = (_arg1 as TextLayoutFormat);
            if (_local2){
                _local5 = _local2._styles;
                for (_local6 in _local5) {
                    _local3 = _local5[_local6];
                    if (_local3 !== undefined){
                        this.setStyle(_local6, _local3);
                    };
                };
                return;
            };
            for each (_local4 in TextLayoutFormat.description) {
                _local7 = _local4.name;
                _local3 = _arg1[_local7];
                if (_local3 !== undefined){
                    this.setStyle(_local7, _local3);
                };
            };
        }
        public function removeMatching(_arg1:ITextLayoutFormat):void{
            var _local2:Property;
            var _local4:Object;
            var _local5:String;
            if (_arg1 == null){
                return;
            };
            var _local3:TextLayoutFormat = (_arg1 as TextLayoutFormat);
            if (_local3){
                _local4 = _local3._styles;
                for (_local5 in _local4) {
                    _local2 = description[_local5];
                    if (_local2){
                        if (_local2.equalHelper(this._styles[_local5], _local4[_local5])){
                            this[_local5] = undefined;
                        };
                    } else {
                        if (this._styles[_local5] == _local4[_local5]){
                            this.setStyle(_local5, undefined);
                        };
                    };
                };
                return;
            };
            for each (_local2 in TextLayoutFormat.description) {
                if (_local2.equalHelper(this._styles[_local2.name], _arg1[_local2.name])){
                    this[_local2.name] = undefined;
                };
            };
        }
        public function removeClashing(_arg1:ITextLayoutFormat):void{
            var _local2:Property;
            var _local4:Object;
            var _local5:String;
            if (_arg1 == null){
                return;
            };
            var _local3:TextLayoutFormat = (_arg1 as TextLayoutFormat);
            if (_local3){
                _local4 = _local3._styles;
                for (_local5 in _local4) {
                    _local2 = description[_local5];
                    if (_local2){
                        if (!_local2.equalHelper(this._styles[_local5], _local4[_local5])){
                            this[_local5] = undefined;
                        };
                    } else {
                        if (this._styles[_local5] != _local4[_local5]){
                            this.setStyle(_local5, undefined);
                        };
                    };
                };
                return;
            };
            for each (_local2 in TextLayoutFormat.description) {
                if (!_local2.equalHelper(this._styles[_local2.name], _arg1[_local2.name])){
                    this[_local2.name] = undefined;
                };
            };
        }
        public function get color(){
            return (this._styles.color);
        }
        public function set color(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.colorProperty, _arg1);
        }
        public function get backgroundColor(){
            return (this._styles.backgroundColor);
        }
        public function set backgroundColor(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.backgroundColorProperty, _arg1);
        }
        public function get lineThrough(){
            return (this._styles.lineThrough);
        }
        public function set lineThrough(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.lineThroughProperty, _arg1);
        }
        public function get textAlpha(){
            return (this._styles.textAlpha);
        }
        public function set textAlpha(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.textAlphaProperty, _arg1);
        }
        public function get backgroundAlpha(){
            return (this._styles.backgroundAlpha);
        }
        public function set backgroundAlpha(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.backgroundAlphaProperty, _arg1);
        }
        public function get fontSize(){
            return (this._styles.fontSize);
        }
        public function set fontSize(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.fontSizeProperty, _arg1);
        }
        public function get baselineShift(){
            return (this._styles.baselineShift);
        }
        public function set baselineShift(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.baselineShiftProperty, _arg1);
        }
        public function get trackingLeft(){
            return (this._styles.trackingLeft);
        }
        public function set trackingLeft(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.trackingLeftProperty, _arg1);
        }
        public function get trackingRight(){
            return (this._styles.trackingRight);
        }
        public function set trackingRight(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.trackingRightProperty, _arg1);
        }
        public function get lineHeight(){
            return (this._styles.lineHeight);
        }
        public function set lineHeight(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.lineHeightProperty, _arg1);
        }
        public function get breakOpportunity(){
            return (this._styles.breakOpportunity);
        }
        public function set breakOpportunity(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.breakOpportunityProperty, _arg1);
        }
        public function get digitCase(){
            return (this._styles.digitCase);
        }
        public function set digitCase(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.digitCaseProperty, _arg1);
        }
        public function get digitWidth(){
            return (this._styles.digitWidth);
        }
        public function set digitWidth(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.digitWidthProperty, _arg1);
        }
        public function get dominantBaseline(){
            return (this._styles.dominantBaseline);
        }
        public function set dominantBaseline(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.dominantBaselineProperty, _arg1);
        }
        public function get kerning(){
            return (this._styles.kerning);
        }
        public function set kerning(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.kerningProperty, _arg1);
        }
        public function get ligatureLevel(){
            return (this._styles.ligatureLevel);
        }
        public function set ligatureLevel(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.ligatureLevelProperty, _arg1);
        }
        public function get alignmentBaseline(){
            return (this._styles.alignmentBaseline);
        }
        public function set alignmentBaseline(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.alignmentBaselineProperty, _arg1);
        }
        public function get locale(){
            return (this._styles.locale);
        }
        public function set locale(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.localeProperty, _arg1);
        }
        public function get typographicCase(){
            return (this._styles.typographicCase);
        }
        public function set typographicCase(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.typographicCaseProperty, _arg1);
        }
        public function get fontFamily(){
            return (this._styles.fontFamily);
        }
        public function set fontFamily(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.fontFamilyProperty, _arg1);
        }
        public function get textDecoration(){
            return (this._styles.textDecoration);
        }
        public function set textDecoration(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.textDecorationProperty, _arg1);
        }
        public function get fontWeight(){
            return (this._styles.fontWeight);
        }
        public function set fontWeight(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.fontWeightProperty, _arg1);
        }
        public function get fontStyle(){
            return (this._styles.fontStyle);
        }
        public function set fontStyle(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.fontStyleProperty, _arg1);
        }
        public function get whiteSpaceCollapse(){
            return (this._styles.whiteSpaceCollapse);
        }
        public function set whiteSpaceCollapse(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.whiteSpaceCollapseProperty, _arg1);
        }
        public function get renderingMode(){
            return (this._styles.renderingMode);
        }
        public function set renderingMode(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.renderingModeProperty, _arg1);
        }
        public function get cffHinting(){
            return (this._styles.cffHinting);
        }
        public function set cffHinting(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.cffHintingProperty, _arg1);
        }
        public function get fontLookup(){
            return (this._styles.fontLookup);
        }
        public function set fontLookup(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.fontLookupProperty, _arg1);
        }
        public function get textRotation(){
            return (this._styles.textRotation);
        }
        public function set textRotation(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.textRotationProperty, _arg1);
        }
        public function get textIndent(){
            return (this._styles.textIndent);
        }
        public function set textIndent(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.textIndentProperty, _arg1);
        }
        public function get paragraphStartIndent(){
            return (this._styles.paragraphStartIndent);
        }
        public function set paragraphStartIndent(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.paragraphStartIndentProperty, _arg1);
        }
        public function get paragraphEndIndent(){
            return (this._styles.paragraphEndIndent);
        }
        public function set paragraphEndIndent(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.paragraphEndIndentProperty, _arg1);
        }
        public function get paragraphSpaceBefore(){
            return (this._styles.paragraphSpaceBefore);
        }
        public function set paragraphSpaceBefore(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.paragraphSpaceBeforeProperty, _arg1);
        }
        public function get paragraphSpaceAfter(){
            return (this._styles.paragraphSpaceAfter);
        }
        public function set paragraphSpaceAfter(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.paragraphSpaceAfterProperty, _arg1);
        }
        public function get textAlign(){
            return (this._styles.textAlign);
        }
        public function set textAlign(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.textAlignProperty, _arg1);
        }
        public function get textAlignLast(){
            return (this._styles.textAlignLast);
        }
        public function set textAlignLast(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.textAlignLastProperty, _arg1);
        }
        public function get textJustify(){
            return (this._styles.textJustify);
        }
        public function set textJustify(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.textJustifyProperty, _arg1);
        }
        public function get justificationRule(){
            return (this._styles.justificationRule);
        }
        public function set justificationRule(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.justificationRuleProperty, _arg1);
        }
        public function get justificationStyle(){
            return (this._styles.justificationStyle);
        }
        public function set justificationStyle(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.justificationStyleProperty, _arg1);
        }
        public function get direction(){
            return (this._styles.direction);
        }
        public function set direction(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.directionProperty, _arg1);
        }
        public function get wordSpacing(){
            return (this._styles.wordSpacing);
        }
        public function set wordSpacing(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.wordSpacingProperty, _arg1);
        }
        public function get tabStops(){
            return (this._styles.tabStops);
        }
        public function set tabStops(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.tabStopsProperty, _arg1);
        }
        public function get leadingModel(){
            return (this._styles.leadingModel);
        }
        public function set leadingModel(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.leadingModelProperty, _arg1);
        }
        public function get columnGap(){
            return (this._styles.columnGap);
        }
        public function set columnGap(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.columnGapProperty, _arg1);
        }
        public function get paddingLeft(){
            return (this._styles.paddingLeft);
        }
        public function set paddingLeft(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.paddingLeftProperty, _arg1);
        }
        public function get paddingTop(){
            return (this._styles.paddingTop);
        }
        public function set paddingTop(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.paddingTopProperty, _arg1);
        }
        public function get paddingRight(){
            return (this._styles.paddingRight);
        }
        public function set paddingRight(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.paddingRightProperty, _arg1);
        }
        public function get paddingBottom(){
            return (this._styles.paddingBottom);
        }
        public function set paddingBottom(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.paddingBottomProperty, _arg1);
        }
        public function get columnCount(){
            return (this._styles.columnCount);
        }
        public function set columnCount(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.columnCountProperty, _arg1);
        }
        public function get columnWidth(){
            return (this._styles.columnWidth);
        }
        public function set columnWidth(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.columnWidthProperty, _arg1);
        }
        public function get firstBaselineOffset(){
            return (this._styles.firstBaselineOffset);
        }
        public function set firstBaselineOffset(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.firstBaselineOffsetProperty, _arg1);
        }
        public function get verticalAlign(){
            return (this._styles.verticalAlign);
        }
        public function set verticalAlign(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.verticalAlignProperty, _arg1);
        }
        public function get blockProgression(){
            return (this._styles.blockProgression);
        }
        public function set blockProgression(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.blockProgressionProperty, _arg1);
        }
        public function get lineBreak(){
            return (this._styles.lineBreak);
        }
        public function set lineBreak(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.lineBreakProperty, _arg1);
        }
        public function get listStyleType(){
            return (this._styles.listStyleType);
        }
        public function set listStyleType(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.listStyleTypeProperty, _arg1);
        }
        public function get listStylePosition(){
            return (this._styles.listStylePosition);
        }
        public function set listStylePosition(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.listStylePositionProperty, _arg1);
        }
        public function get listAutoPadding(){
            return (this._styles.listAutoPadding);
        }
        public function set listAutoPadding(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.listAutoPaddingProperty, _arg1);
        }
        public function get clearFloats(){
            return (this._styles.clearFloats);
        }
        public function set clearFloats(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.clearFloatsProperty, _arg1);
        }
        public function get styleName(){
            return (this._styles.styleName);
        }
        public function set styleName(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.styleNameProperty, _arg1);
        }
        public function get linkNormalFormat(){
            return (this._styles.linkNormalFormat);
        }
        public function set linkNormalFormat(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.linkNormalFormatProperty, _arg1);
        }
        public function get linkActiveFormat(){
            return (this._styles.linkActiveFormat);
        }
        public function set linkActiveFormat(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.linkActiveFormatProperty, _arg1);
        }
        public function get linkHoverFormat(){
            return (this._styles.linkHoverFormat);
        }
        public function set linkHoverFormat(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.linkHoverFormatProperty, _arg1);
        }
        public function get listMarkerFormat(){
            return (this._styles.listMarkerFormat);
        }
        public function set listMarkerFormat(_arg1):void{
            this.setStyleByProperty(TextLayoutFormat.listMarkerFormatProperty, _arg1);
        }

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class ListStyleType {

        public static const UPPER_ALPHA:String = "upperAlpha";
        public static const LOWER_ALPHA:String = "lowerAlpha";
        public static const UPPER_ROMAN:String = "upperRoman";
        public static const LOWER_ROMAN:String = "lowerRoman";
        public static const NONE:String = "none";
        public static const DISC:String = "disc";
        public static const CIRCLE:String = "circle";
        public static const SQUARE:String = "square";
        public static const BOX:String = "box";
        public static const CHECK:String = "check";
        public static const DIAMOND:String = "diamond";
        public static const HYPHEN:String = "hyphen";
        public static const ARABIC_INDIC:String = "arabicIndic";
        public static const BENGALI:String = "bengali";
        public static const DECIMAL:String = "decimal";
        public static const DECIMAL_LEADING_ZERO:String = "decimalLeadingZero";
        public static const DEVANAGARI:String = "devanagari";
        public static const GUJARATI:String = "gujarati";
        public static const GURMUKHI:String = "gurmukhi";
        public static const KANNADA:String = "kannada";
        public static const PERSIAN:String = "persian";
        public static const THAI:String = "thai";
        public static const URDU:String = "urdu";
        public static const CJK_EARTHLY_BRANCH:String = "cjkEarthlyBranch";
        public static const CJK_HEAVENLY_STEM:String = "cjkHeavenlyStem";
        public static const HANGUL:String = "hangul";
        public static const HANGUL_CONSTANT:String = "hangulConstant";
        public static const HIRAGANA:String = "hiragana";
        public static const HIRAGANA_IROHA:String = "hiraganaIroha";
        public static const KATAKANA:String = "katakana";
        public static const KATAKANA_IROHA:String = "katakanaIroha";
        public static const LOWER_GREEK:String = "lowerGreek";
        public static const LOWER_LATIN:String = "lowerLatin";
        public static const UPPER_GREEK:String = "upperGreek";
        public static const UPPER_LATIN:String = "upperLatin";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class Float {

        public static const NONE:String = "none";
        public static const LEFT:String = "left";
        public static const RIGHT:String = "right";
        public static const START:String = "start";
        public static const END:String = "end";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class BaselineShift {

        public static const SUPERSCRIPT:String = "superscript";
        public static const SUBSCRIPT:String = "subscript";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public interface ITextLayoutFormat {

        function getStyle(_arg1:String);
        function get color();
        function get backgroundColor();
        function get lineThrough();
        function get textAlpha();
        function get backgroundAlpha();
        function get fontSize();
        function get baselineShift();
        function get trackingLeft();
        function get trackingRight();
        function get lineHeight();
        function get breakOpportunity();
        function get digitCase();
        function get digitWidth();
        function get dominantBaseline();
        function get kerning();
        function get ligatureLevel();
        function get alignmentBaseline();
        function get locale();
        function get typographicCase();
        function get fontFamily();
        function get textDecoration();
        function get fontWeight();
        function get fontStyle();
        function get whiteSpaceCollapse();
        function get renderingMode();
        function get cffHinting();
        function get fontLookup();
        function get textRotation();
        function get textIndent();
        function get paragraphStartIndent();
        function get paragraphEndIndent();
        function get paragraphSpaceBefore();
        function get paragraphSpaceAfter();
        function get textAlign();
        function get textAlignLast();
        function get textJustify();
        function get justificationRule();
        function get justificationStyle();
        function get direction();
        function get wordSpacing();
        function get tabStops();
        function get leadingModel();
        function get columnGap();
        function get paddingLeft();
        function get paddingTop();
        function get paddingRight();
        function get paddingBottom();
        function get columnCount();
        function get columnWidth();
        function get firstBaselineOffset();
        function get verticalAlign();
        function get blockProgression();
        function get lineBreak();
        function get listStyleType();
        function get listStylePosition();
        function get listAutoPadding();
        function get clearFloats();
        function get styleName();
        function get linkNormalFormat();
        function get linkActiveFormat();
        function get linkHoverFormat();
        function get listMarkerFormat();

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class FormatValue {

        public static const AUTO:String = "auto";
        public static const INHERIT:String = "inherit";
        public static const NONE:String = "none";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class JustificationRule {

        public static const EAST_ASIAN:String = "eastAsian";
        public static const SPACE:String = "space";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class Category {

        public static const PARAGRAPH:String = "Paragraph";
        public static const CONTAINER:String = "Container";
        public static const CHARACTER:String = "Character";
        public static const LIST:String = "List";
        public static const TABSTOP:String = "TabStop";
        public static const STYLE:String = "Style";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class ListStylePosition {

        public static const INSIDE:String = "inside";
        public static const OUTSIDE:String = "outside";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class TextAlign {

        public static const START:String = "start";
        public static const END:String = "end";
        public static const LEFT:String = "left";
        public static const RIGHT:String = "right";
        public static const CENTER:String = "center";
        public static const JUSTIFY:String = "justify";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class WhiteSpaceCollapse {

        public static const COLLAPSE:String = "collapse";
        public static const PRESERVE:String = "preserve";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class IMEStatus {

        public static const IME_CLAUSE:String = "imeClause";
        public static const IME_STATUS:String = "imeStatus";
        public static const SELECTED_RAW:String = "selectedRaw";
        public static const SELECTED_CONVERTED:String = "selectedConverted";
        public static const NOT_SELECTED_RAW:String = "notSelectedRaw";
        public static const NOT_SELECTED_CONVERTED:String = "notSelectedConverted";
        public static const DEAD_KEY_INPUT_STATE:String = "deadKeyInputState";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class TextDecoration {

        public static const NONE:String = "none";
        public static const UNDERLINE:String = "underline";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class Direction {

        public static const LTR:String = "ltr";
        public static const RTL:String = "rtl";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class BackgroundColor {

        public static const TRANSPARENT:String = "transparent";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {
    import flash.text.engine.*;
    import __AS3__.vec.*;
    import flashx.textLayout.property.*;
    import flashx.textLayout.*;

    public class TabStopFormat implements ITabStopFormat {

        public static const positionProperty:Property = Property.NewNumberProperty("position", 0, false, Vector.<String>([Category.TABSTOP]), 0, 10000);
        public static const alignmentProperty:Property = Property.NewEnumStringProperty("alignment", TabAlignment.START, false, Vector.<String>([Category.TABSTOP]), TabAlignment.START, TabAlignment.CENTER, TabAlignment.END, TabAlignment.DECIMAL);
        public static const decimalAlignmentTokenProperty:Property = Property.NewStringProperty("decimalAlignmentToken", null, false, Vector.<String>([Category.TABSTOP]));

        private static var _description:Object = {
            position:positionProperty,
            alignment:alignmentProperty,
            decimalAlignmentToken:decimalAlignmentTokenProperty
        };
        private static var _emptyTabStopFormat:ITabStopFormat;
        private static var _defaults:TabStopFormat;

        private var _position;
        private var _alignment;
        private var _decimalAlignmentToken;

        public function TabStopFormat(_arg1:ITabStopFormat=null){
            if (_arg1){
                this.apply(_arg1);
            };
        }
        tlf_internal static function get description():Object{
            return (_description);
        }
        tlf_internal static function get emptyTabStopFormat():ITabStopFormat{
            if (_emptyTabStopFormat == null){
                _emptyTabStopFormat = new (TabStopFormat)();
            };
            return (_emptyTabStopFormat);
        }
        public static function isEqual(_arg1:ITabStopFormat, _arg2:ITabStopFormat):Boolean{
            if (_arg1 == null){
                _arg1 = emptyTabStopFormat;
            };
            if (_arg2 == null){
                _arg2 = emptyTabStopFormat;
            };
            if (_arg1 == _arg2){
                return (true);
            };
            if (!positionProperty.equalHelper(_arg1.position, _arg2.position)){
                return (false);
            };
            if (!alignmentProperty.equalHelper(_arg1.alignment, _arg2.alignment)){
                return (false);
            };
            if (!decimalAlignmentTokenProperty.equalHelper(_arg1.decimalAlignmentToken, _arg2.decimalAlignmentToken)){
                return (false);
            };
            return (true);
        }
        public static function get defaultFormat():ITabStopFormat{
            if (_defaults == null){
                _defaults = new (TabStopFormat)();
                Property.defaultsAllHelper(_description, _defaults);
            };
            return (_defaults);
        }

        public function getStyle(_arg1:String){
            return (this[_arg1]);
        }
        public function setStyle(_arg1:String, _arg2):void{
            this[_arg1] = _arg2;
        }
        public function get position(){
            return (this._position);
        }
        public function set position(_arg1):void{
            this._position = positionProperty.setHelper(this._position, _arg1);
        }
        public function get alignment(){
            return (this._alignment);
        }
        public function set alignment(_arg1):void{
            this._alignment = alignmentProperty.setHelper(this._alignment, _arg1);
        }
        public function get decimalAlignmentToken(){
            return (this._decimalAlignmentToken);
        }
        public function set decimalAlignmentToken(_arg1):void{
            this._decimalAlignmentToken = decimalAlignmentTokenProperty.setHelper(this._decimalAlignmentToken, _arg1);
        }
        public function copy(_arg1:ITabStopFormat):void{
            if (_arg1 == null){
                _arg1 = emptyTabStopFormat;
            };
            this.position = _arg1.position;
            this.alignment = _arg1.alignment;
            this.decimalAlignmentToken = _arg1.decimalAlignmentToken;
        }
        public function concat(_arg1:ITabStopFormat):void{
            this.position = positionProperty.concatHelper(this.position, _arg1.position);
            this.alignment = alignmentProperty.concatHelper(this.alignment, _arg1.alignment);
            this.decimalAlignmentToken = decimalAlignmentTokenProperty.concatHelper(this.decimalAlignmentToken, _arg1.decimalAlignmentToken);
        }
        public function concatInheritOnly(_arg1:ITabStopFormat):void{
            this.position = positionProperty.concatInheritOnlyHelper(this.position, _arg1.position);
            this.alignment = alignmentProperty.concatInheritOnlyHelper(this.alignment, _arg1.alignment);
            this.decimalAlignmentToken = decimalAlignmentTokenProperty.concatInheritOnlyHelper(this.decimalAlignmentToken, _arg1.decimalAlignmentToken);
        }
        public function apply(_arg1:ITabStopFormat):void{
            var _local2:*;
            _local2 = _arg1.position;
            if (_local2 !== undefined){
                this.position = _local2;
            };
            _local2 = _arg1.alignment;
            if (_local2 !== undefined){
                this.alignment = _local2;
            };
            _local2 = _arg1.decimalAlignmentToken;
            if (_local2 !== undefined){
                this.decimalAlignmentToken = _local2;
            };
        }
        public function removeMatching(_arg1:ITabStopFormat):void{
            if (_arg1 == null){
                return;
            };
            if (positionProperty.equalHelper(this.position, _arg1.position)){
                this.position = undefined;
            };
            if (alignmentProperty.equalHelper(this.alignment, _arg1.alignment)){
                this.alignment = undefined;
            };
            if (decimalAlignmentTokenProperty.equalHelper(this.decimalAlignmentToken, _arg1.decimalAlignmentToken)){
                this.decimalAlignmentToken = undefined;
            };
        }
        public function removeClashing(_arg1:ITabStopFormat):void{
            if (_arg1 == null){
                return;
            };
            if (!positionProperty.equalHelper(this.position, _arg1.position)){
                this.position = undefined;
            };
            if (!alignmentProperty.equalHelper(this.alignment, _arg1.alignment)){
                this.alignment = undefined;
            };
            if (!decimalAlignmentTokenProperty.equalHelper(this.decimalAlignmentToken, _arg1.decimalAlignmentToken)){
                this.decimalAlignmentToken = undefined;
            };
        }

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class BlockProgression {

        public static const RL:String = "rl";
        public static const TB:String = "tb";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class VerticalAlign {

        public static const TOP:String = "top";
        public static const BOTTOM:String = "bottom";
        public static const MIDDLE:String = "middle";
        public static const JUSTIFY:String = "justify";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class TextJustify {

        public static const DISTRIBUTE:String = "distribute";
        public static const INTER_WORD:String = "interWord";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public interface IListMarkerFormat extends ITextLayoutFormat {

        function get counterReset();
        function get counterIncrement();
        function get beforeContent();
        function get content();
        function get afterContent();
        function get suffix();

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.formats {

    public final class ClearFloats {

        public static const NONE:String = "none";
        public static const LEFT:String = "left";
        public static const RIGHT:String = "right";
        public static const START:String = "start";
        public static const END:String = "end";
        public static const BOTH:String = "both";

    }
}//package flashx.textLayout.formats 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;

    public class InsertInlineGraphicOperation extends FlowTextOperation {

        private var delSelOp:DeleteTextOperation;
        private var _source:Object;
        private var imageWidth:Object;
        private var imageHeight:Object;
        private var _options:Object;
        private var selPos:int = 0;
        private var _inlineGraphicElement:InlineGraphicElement;

        public function InsertInlineGraphicOperation(_arg1:SelectionState, _arg2:Object, _arg3:Object, _arg4:Object, _arg5:Object=null){
            super(_arg1);
            if (absoluteStart != absoluteEnd){
                this.delSelOp = new DeleteTextOperation(_arg1);
            };
            this._source = _arg2;
            this._options = _arg5;
            this.imageWidth = _arg3;
            this.imageHeight = _arg4;
        }
        public function get source():Object{
            return (this._source);
        }
        public function set source(_arg1:Object):void{
            this._source = _arg1;
        }
        public function get width():Object{
            return (this.imageWidth);
        }
        public function set width(_arg1:Object):void{
            this.imageWidth = _arg1;
        }
        public function get height():Object{
            return (this.imageHeight);
        }
        public function set height(_arg1:Object):void{
            this.imageHeight = _arg1;
        }
        public function get options():Object{
            return (this._options);
        }
        public function set options(_arg1:Object):void{
            this._options = _arg1;
        }
        public function get newInlineGraphicElement():InlineGraphicElement{
            return (this._inlineGraphicElement);
        }
        override public function doOperation():Boolean{
            var _local1:ITextLayoutFormat;
            var _local5:FlowLeafElement;
            var _local6:PointFormat;
            var _local7:int;
            this.selPos = absoluteStart;
            if (this.delSelOp){
                _local5 = textFlow.findLeaf(absoluteStart);
                _local6 = new PointFormat(textFlow.findLeaf(absoluteStart).format);
                if (this.delSelOp.doOperation()){
                    _local1 = _local6;
                };
            } else {
                _local1 = originalSelectionState.pointFormat;
            };
            var _local2:ElementRange = ElementRange.createElementRange(textFlow, this.selPos, this.selPos);
            var _local3:FlowElement = _local2.firstLeaf;
            var _local4:FlowGroupElement = _local3.parent;
            while ((_local4 is SubParagraphGroupElementBase)) {
                _local7 = (this.selPos - _local4.getAbsoluteStart());
                if ((((((_local7 == 0)) && (!((_local4 as SubParagraphGroupElementBase).acceptTextBefore())))) || ((((_local7 == _local4.textLength)) && (!((_local4 as SubParagraphGroupElementBase).acceptTextAfter())))))){
                    _local4 = _local4.parent;
                } else {
                    break;
                };
            };
            this._inlineGraphicElement = ParaEdit.createImage(_local4, (this.selPos - _local4.getAbsoluteStart()), this._source, this.imageWidth, this.imageHeight, this.options, _local1);
            if (textFlow.interactionManager){
                textFlow.interactionManager.notifyInsertOrDelete(absoluteStart, 1);
            };
            return (true);
        }
        override public function undo():SelectionState{
            var _local1:FlowElement = textFlow.findLeaf(this.selPos);
            var _local2:FlowGroupElement = _local1.parent;
            var _local3:int = _local1.parent.getChildIndex(_local1);
            _local2.replaceChildren(_local3, (_local3 + 1), null);
            if (textFlow.interactionManager){
                textFlow.interactionManager.notifyInsertOrDelete(absoluteStart, -1);
            };
            return (((this.delSelOp) ? this.delSelOp.undo() : originalSelectionState));
        }
        override public function redo():SelectionState{
            this.doOperation();
            return (new SelectionState(textFlow, (this.selPos + 1), (this.selPos + 1), null));
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;

    public class ApplyFormatOperation extends FlowTextOperation {

        private var applyLeafFormat:ITextLayoutFormat;
        private var applyParagraphFormat:ITextLayoutFormat;
        private var applyContainerFormat:ITextLayoutFormat;
        private var undoLeafArray:Array;
        private var undoParagraphArray:Array;
        private var undoContainerArray:Array;

        public function ApplyFormatOperation(_arg1:SelectionState, _arg2:ITextLayoutFormat, _arg3:ITextLayoutFormat, _arg4:ITextLayoutFormat=null){
            super(_arg1);
            this.leafFormat = _arg2;
            this.paragraphFormat = _arg3;
            this.containerFormat = _arg4;
        }
        public function get leafFormat():ITextLayoutFormat{
            return (this.applyLeafFormat);
        }
        public function set leafFormat(_arg1:ITextLayoutFormat):void{
            this.applyLeafFormat = ((_arg1) ? new TextLayoutFormat(_arg1) : null);
        }
        public function get paragraphFormat():ITextLayoutFormat{
            return (this.applyParagraphFormat);
        }
        public function set paragraphFormat(_arg1:ITextLayoutFormat):void{
            this.applyParagraphFormat = ((_arg1) ? new TextLayoutFormat(_arg1) : null);
        }
        public function get containerFormat():ITextLayoutFormat{
            return (this.applyContainerFormat);
        }
        public function set containerFormat(_arg1:ITextLayoutFormat):void{
            this.applyContainerFormat = ((_arg1) ? new TextLayoutFormat(_arg1) : null);
        }
        private function doInternal():SelectionState{
            var _local1:SelectionState;
            var _local2:int;
            var _local3:int;
            var _local4:ParagraphElement;
            var _local5:PointFormat;
            var _local6:ElementRange;
            if (this.applyLeafFormat){
                _local2 = absoluteStart;
                _local3 = absoluteEnd;
                if (absoluteStart == absoluteEnd){
                    _local4 = textFlow.findLeaf(absoluteStart).getParagraph();
                    if (_local4.textLength <= 1){
                        _local3++;
                        _local1 = originalSelectionState.clone();
                        _local1.pointFormat = null;
                    } else {
                        if (((originalSelectionState.selectionManagerOperationState) && (textFlow.interactionManager))){
                            _local1 = originalSelectionState.clone();
                            _local5 = new PointFormat(_local1.pointFormat);
                            _local5.apply(this.applyLeafFormat);
                            _local1.pointFormat = _local5;
                        };
                    };
                };
                if (_local2 != _local3){
                    _local6 = ElementRange.createElementRange(textFlow, _local2, _local3);
                    _local2 = _local6.absoluteStart;
                    _local3 = _local6.absoluteEnd;
                    if (_local3 == (textFlow.textLength - 1)){
                        _local3++;
                    };
                    if (!this.undoLeafArray){
                        this.undoLeafArray = new Array();
                        ParaEdit.cacheStyleInformation(textFlow, _local2, _local3, this.undoLeafArray);
                    };
                    ParaEdit.applyTextStyleChange(textFlow, _local2, _local3, this.applyLeafFormat, null);
                };
            };
            if (this.applyParagraphFormat){
                if (!this.undoParagraphArray){
                    this.undoParagraphArray = new Array();
                    ParaEdit.cacheParagraphStyleInformation(textFlow, absoluteStart, absoluteEnd, this.undoParagraphArray);
                };
                ParaEdit.applyParagraphStyleChange(textFlow, absoluteStart, absoluteEnd, this.applyParagraphFormat, null);
            };
            if (this.applyContainerFormat){
                if (!this.undoContainerArray){
                    this.undoContainerArray = new Array();
                    ParaEdit.cacheContainerStyleInformation(textFlow, absoluteStart, absoluteEnd, this.undoContainerArray);
                };
                ParaEdit.applyContainerStyleChange(textFlow, absoluteStart, absoluteEnd, this.applyContainerFormat, null);
            };
            return (_local1);
        }
        override public function doOperation():Boolean{
            var _local1:SelectionState = this.doInternal();
            if (((_local1) && (textFlow.interactionManager))){
                textFlow.interactionManager.setSelectionState(_local1);
            };
            return (true);
        }
        override public function redo():SelectionState{
            var _local1:SelectionState = this.doInternal();
            return (((_local1) ? _local1 : originalSelectionState));
        }
        override public function undo():SelectionState{
            var _local1:Object;
            for each (_local1 in this.undoLeafArray) {
                ParaEdit.setTextStyleChange(textFlow, _local1.begIdx, _local1.endIdx, _local1.style);
            };
            for each (_local1 in this.undoParagraphArray) {
                ParaEdit.setParagraphStyleChange(textFlow, _local1.begIdx, _local1.endIdx, _local1.attributes);
            };
            for each (_local1 in this.undoContainerArray) {
                ParaEdit.setContainerStyleChange(_local1);
            };
            return (originalSelectionState);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;

    public class MoveChildrenOperation extends FlowTextOperation {

        private var _source:FlowGroupElement;
        private var _sourceIndex:int;
        private var _numChildren:int;
        private var _destination:FlowGroupElement;
        private var _destinationIndex:int;
        private var _mementoList:MementoList;

        public function MoveChildrenOperation(_arg1:SelectionState, _arg2:FlowGroupElement, _arg3:int, _arg4:int, _arg5:FlowGroupElement, _arg6:int){
            super(_arg1);
            this._source = _arg2;
            this._sourceIndex = _arg3;
            this._numChildren = _arg4;
            this._destination = _arg5;
            this._destinationIndex = _arg6;
            this._mementoList = new MementoList(_arg1.textFlow);
        }
        public function get source():FlowGroupElement{
            return (this._source);
        }
        public function set source(_arg1:FlowGroupElement):void{
            this._source = _arg1;
        }
        public function get sourceIndex():int{
            return (this._sourceIndex);
        }
        public function set sourceIndex(_arg1:int):void{
            this._sourceIndex = _arg1;
        }
        public function get numChildren():int{
            return (this._numChildren);
        }
        public function set numChildren(_arg1:int):void{
            this._numChildren = _arg1;
        }
        public function get destination():FlowGroupElement{
            return (this._destination);
        }
        public function set destination(_arg1:FlowGroupElement):void{
            this._destination = _arg1;
        }
        public function get destinationIndex():int{
            return (this._destinationIndex);
        }
        public function set destinationIndex(_arg1:int):void{
            this._destinationIndex = _arg1;
        }
        override public function doOperation():Boolean{
            var _local1:FlowGroupElement;
            var _local4:int;
            var _local5:int;
            var _local2:int;
            while (_local2 < this._numChildren) {
                if ((((this._source.getChildAt(this._sourceIndex) is ListItemElement)) && (!((this._destination is ListElement))))){
                    _local5 = 0;
                    while ((_local5 = (this._source.getChildAt(this._sourceIndex) as FlowGroupElement).numChildren)) {
                        this._mementoList.push(ModelEdit.moveElement(textFlow, (this._source.getChildAt(this._sourceIndex) as FlowGroupElement).getChildAt(0), this._destination, this._destinationIndex++));
                        _local5++;
                    };
                    this._mementoList.push(ModelEdit.removeElements(textFlow, this._source, this._sourceIndex, 1));
                } else {
                    this._mementoList.push(ModelEdit.moveElement(textFlow, this._source.getChildAt(this._sourceIndex), this._destination, this._destinationIndex++));
                };
                _local2++;
            };
            var _local3:FlowGroupElement = this._source;
            while ((((_local3.numChildren == 0)) && (!((_local3 is TextFlow))))) {
                _local4 = _local3.parent.getChildIndex(_local3);
                _local3 = _local3.parent;
                this._mementoList.push(ModelEdit.removeElements(textFlow, _local3, _local4, 1));
                _local1 = _local3;
            };
            if ((_local3 is ListElement)){
                _local1 = _local3.parent;
                _local4 = _local3.parent.getChildIndex(_local3);
            };
            return (true);
        }
        override public function undo():SelectionState{
            this._mementoList.undo();
            return (originalSelectionState);
        }
        override public function redo():SelectionState{
            this._mementoList.redo();
            return (originalSelectionState);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;

    public class ApplyElementIDOperation extends FlowElementOperation {

        private var _origID:String;
        private var _newID:String;

        public function ApplyElementIDOperation(_arg1:SelectionState, _arg2:FlowElement, _arg3:String, _arg4:int=0, _arg5:int=-1){
            this._newID = _arg3;
            super(_arg1, _arg2, _arg4, _arg5);
        }
        public function get newID():String{
            return (this._newID);
        }
        public function set newID(_arg1:String):void{
            this._newID = _arg1;
        }
        override public function doOperation():Boolean{
            var _local1:FlowElement = getTargetElement();
            this._origID = _local1.id;
            adjustForDoOperation(_local1);
            _local1.id = this._newID;
            return (true);
        }
        override public function undo():SelectionState{
            var _local1:FlowElement = getTargetElement();
            _local1.id = this._origID;
            adjustForUndoOperation(_local1);
            return (originalSelectionState);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.edit.*;

    public class ClearFormatOperation extends FlowTextOperation {

        private var applyLeafFormat:ITextLayoutFormat;
        private var applyParagraphFormat:ITextLayoutFormat;
        private var applyContainerFormat:ITextLayoutFormat;
        private var undoLeafArray:Array;
        private var undoParagraphArray:Array;
        private var undoContainerArray:Array;

        public function ClearFormatOperation(_arg1:SelectionState, _arg2:ITextLayoutFormat, _arg3:ITextLayoutFormat, _arg4:ITextLayoutFormat=null){
            super(_arg1);
            this.leafFormat = _arg2;
            this.paragraphFormat = _arg3;
            this.containerFormat = _arg4;
        }
        public function get leafFormat():ITextLayoutFormat{
            return (this.applyLeafFormat);
        }
        public function set leafFormat(_arg1:ITextLayoutFormat):void{
            this.applyLeafFormat = ((_arg1) ? new TextLayoutFormat(_arg1) : null);
        }
        public function get paragraphFormat():ITextLayoutFormat{
            return (this.applyParagraphFormat);
        }
        public function set paragraphFormat(_arg1:ITextLayoutFormat):void{
            this.applyParagraphFormat = ((_arg1) ? new TextLayoutFormat(_arg1) : null);
        }
        public function get containerFormat():ITextLayoutFormat{
            return (this.applyContainerFormat);
        }
        public function set containerFormat(_arg1:ITextLayoutFormat):void{
            this.applyContainerFormat = ((_arg1) ? new TextLayoutFormat(_arg1) : null);
        }
        private function doInternal():SelectionState{
            var _local1:SelectionState;
            var _local2:ElementRange;
            var _local3:int;
            var _local4:int;
            var _local5:PointFormat;
            var _local6:String;
            if (this.applyLeafFormat){
                if (absoluteStart != absoluteEnd){
                    _local2 = ElementRange.createElementRange(textFlow, absoluteStart, absoluteEnd);
                    _local3 = _local2.absoluteStart;
                    _local4 = _local2.absoluteEnd;
                    if (_local4 == (textFlow.textLength - 1)){
                        _local4++;
                    };
                    if (!this.undoLeafArray){
                        this.undoLeafArray = new Array();
                        ParaEdit.cacheStyleInformation(textFlow, _local3, _local4, this.undoLeafArray);
                    };
                    ParaEdit.applyTextStyleChange(textFlow, _local3, _local4, null, this.applyLeafFormat);
                } else {
                    if (((originalSelectionState.selectionManagerOperationState) && (textFlow.interactionManager))){
                        _local1 = originalSelectionState.clone();
                        _local5 = new PointFormat(_local1.pointFormat);
                        for (_local6 in TextLayoutFormat.description) {
                            if (this.applyLeafFormat[_local6] !== undefined){
                                _local5[_local6] = undefined;
                            };
                        };
                        _local1.pointFormat = _local5;
                    };
                };
            };
            if (this.applyParagraphFormat){
                if (!this.undoParagraphArray){
                    this.undoParagraphArray = new Array();
                    ParaEdit.cacheParagraphStyleInformation(textFlow, absoluteStart, absoluteEnd, this.undoParagraphArray);
                };
                ParaEdit.applyParagraphStyleChange(textFlow, absoluteStart, absoluteEnd, null, this.applyParagraphFormat);
            };
            if (this.applyContainerFormat){
                if (!this.undoContainerArray){
                    this.undoContainerArray = new Array();
                    ParaEdit.cacheContainerStyleInformation(textFlow, absoluteStart, absoluteEnd, this.undoContainerArray);
                };
                ParaEdit.applyContainerStyleChange(textFlow, absoluteStart, absoluteEnd, null, this.applyContainerFormat);
            };
            return (_local1);
        }
        override public function doOperation():Boolean{
            var _local1:SelectionState = this.doInternal();
            if (((_local1) && (textFlow.interactionManager))){
                textFlow.interactionManager.setSelectionState(_local1);
            };
            return (true);
        }
        override public function redo():SelectionState{
            var _local1:SelectionState = this.doInternal();
            return (((_local1) ? _local1 : originalSelectionState));
        }
        override public function undo():SelectionState{
            var _local1:Object;
            for each (_local1 in this.undoLeafArray) {
                ParaEdit.setTextStyleChange(textFlow, _local1.begIdx, _local1.endIdx, _local1.style);
            };
            for each (_local1 in this.undoParagraphArray) {
                ParaEdit.setParagraphStyleChange(textFlow, _local1.begIdx, _local1.endIdx, _local1.attributes);
            };
            for each (_local1 in this.undoContainerArray) {
                ParaEdit.setContainerStyleChange(_local1);
            };
            return (originalSelectionState);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;

    public class FlowElementOperation extends FlowTextOperation {

        private var nestLevel:int;
        private var absStart:int;
        private var absEnd:int;
        private var origAbsStart:int;
        private var origAbsEnd:int;
        private var firstTime:Boolean = true;
        private var splitAtStart:Boolean = false;
        private var splitAtEnd:Boolean = false;
        private var _relStart:int = 0;
        private var _relEnd:int = -1;

        public function FlowElementOperation(_arg1:SelectionState, _arg2:FlowElement, _arg3:int=0, _arg4:int=-1){
            super(_arg1);
            this.initialize(_arg2, _arg3, _arg4);
        }
        private function initialize(_arg1:FlowElement, _arg2:int, _arg3:int):void{
            this.targetElement = _arg1;
            this.relativeEnd = _arg3;
            this.relativeStart = _arg2;
            if (_arg3 == -1){
                _arg3 = _arg1.textLength;
            };
            if ((((((_arg1 is SpanElement)) && (SpanElement(_arg1).hasParagraphTerminator))) && ((_arg3 == (_arg1.textLength - 1))))){
                _arg3 = (_arg3 + 1);
            };
            this.origAbsStart = (this.absStart = (_arg1.getAbsoluteStart() + _arg2));
            this.origAbsEnd = (this.absEnd = ((this.absStart - _arg2) + _arg3));
        }
        public function get targetElement():FlowElement{
            var _local3:FlowGroupElement;
            var _local1:FlowElement = originalSelectionState.textFlow;
            var _local2:int = this.nestLevel;
            while (_local2 > 0) {
                _local3 = (_local1 as FlowGroupElement);
                _local1 = _local3.getChildAt(_local3.findChildIndexAtPosition((this.absStart - _local1.getAbsoluteStart())));
                _local2--;
            };
            return (_local1);
        }
        public function set targetElement(_arg1:FlowElement):void{
            this.nestLevel = 0;
            var _local2:FlowElement = _arg1;
            while (_local2.parent != null) {
                this.nestLevel++;
                _local2 = _local2.parent;
            };
        }
        public function get relativeStart():int{
            return (this._relStart);
        }
        public function set relativeStart(_arg1:int):void{
            this._relStart = _arg1;
        }
        public function get relativeEnd():int{
            return (this._relEnd);
        }
        public function set relativeEnd(_arg1:int):void{
            this._relEnd = _arg1;
        }
        protected function getTargetElement():FlowElement{
            var _local3:FlowElement;
            var _local1:FlowElement = this.targetElement;
            var _local2:int = _local1.getAbsoluteStart();
            if (this.absEnd != (_local2 + _local1.textLength)){
                _local3 = _local1.splitAtPosition((this.absEnd - _local2));
                if (((this.firstTime) && (!((_local3 == _local1))))){
                    this.splitAtEnd = true;
                };
            };
            if (this.absStart != _local2){
                _local3 = _local1.splitAtPosition((this.absStart - _local2));
                if (_local3 != _local1){
                    if (this.firstTime){
                        this.splitAtStart = true;
                    };
                    _local1 = _local3;
                };
            };
            this.firstTime = false;
            return (_local1);
        }
        protected function adjustForDoOperation(_arg1:FlowElement):void{
            this.absStart = _arg1.getAbsoluteStart();
            this.absEnd = (this.absStart + _arg1.textLength);
        }
        protected function adjustForUndoOperation(_arg1:FlowElement):void{
            var _local2:int;
            var _local3:FlowGroupElement;
            var _local4:FlowElement;
            if (((((this.splitAtEnd) || (this.splitAtStart))) && ((_arg1 is FlowGroupElement)))){
                _local2 = _arg1.parent.getChildIndex(_arg1);
                if (this.splitAtEnd){
                    _local3 = (_arg1.parent.getChildAt((_local2 + 1)) as FlowGroupElement);
                    while (_local3.numChildren) {
                        _local4 = _local3.getChildAt(0);
                        _local3.removeChildAt(0);
                        FlowGroupElement(_arg1).addChild(_local4);
                    };
                    _arg1.parent.removeChildAt((_local2 + 1));
                };
                if (this.splitAtStart){
                    _local3 = (_arg1.parent.getChildAt((_local2 - 1)) as FlowGroupElement);
                    while (FlowGroupElement(_arg1).numChildren) {
                        _local4 = FlowGroupElement(_arg1).getChildAt(0);
                        FlowGroupElement(_arg1).removeChildAt(0);
                        _local3.addChild(_local4);
                    };
                    _arg1.parent.removeChildAt(_local2);
                };
            };
            this.absStart = this.origAbsStart;
            this.absEnd = this.origAbsEnd;
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {

    public class RedoOperation extends FlowOperation {

        private var _operation:FlowOperation;

        public function RedoOperation(_arg1:FlowOperation){
            super(_arg1.textFlow);
            this._operation = _arg1;
        }
        public function get operation():FlowOperation{
            return (this._operation);
        }
        public function set operation(_arg1:FlowOperation):void{
            this._operation = _arg1;
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.edit.*;

    public class CutOperation extends FlowTextOperation {

        private var _tScrap:TextScrap;
        private var _deleteTextOperation:DeleteTextOperation;

        public function CutOperation(_arg1:SelectionState, _arg2:TextScrap){
            super(_arg1);
            if (absoluteStart < absoluteEnd){
                this._tScrap = _arg2;
            };
        }
        override public function doOperation():Boolean{
            this._deleteTextOperation = new DeleteTextOperation(originalSelectionState);
            return (this._deleteTextOperation.doOperation());
        }
        override public function undo():SelectionState{
            return (this._deleteTextOperation.undo());
        }
        override public function redo():SelectionState{
            return (this._deleteTextOperation.redo());
        }
        public function get scrapToCut():TextScrap{
            return (this._tScrap);
        }
        public function set scrapToCut(_arg1:TextScrap):void{
            this._tScrap = _arg1;
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.conversion.*;

    public class PasteOperation extends FlowTextOperation {

        private var _textScrap:TextScrap;
        private var _numCharsAdded:int = 0;
        private var _deleteTextOperation:DeleteTextOperation;
        private var _applyParagraphSettings:Array;
        private var _pointFormat:ITextLayoutFormat;
        private var _applyPointFormat:ApplyFormatOperation;

        public function PasteOperation(_arg1:SelectionState, _arg2:TextScrap){
            this._pointFormat = _arg1.pointFormat;
            super(_arg1);
            this._textScrap = _arg2;
        }
        override public function doOperation():Boolean{
            var _local1:Boolean;
            var _local2:int;
            var _local3:FlowLeafElement;
            var _local4:ParagraphElement;
            if (this._textScrap != null){
                if (absoluteStart != absoluteEnd){
                    this._deleteTextOperation = new DeleteTextOperation(originalSelectionState);
                    this._deleteTextOperation.doOperation();
                };
                _local1 = this._textScrap.isPlainText();
                if (!_local1){
                    _local3 = textFlow.findLeaf(absoluteStart);
                    _local4 = _local3.getParagraph();
                    if (_local4.textLength == 1){
                        this.applyParagraphSettings(_local4);
                    };
                };
                _local2 = TextFlowEdit.insertTextScrap(textFlow, absoluteStart, this._textScrap, _local1);
                if (textFlow.interactionManager){
                    textFlow.interactionManager.notifyInsertOrDelete(absoluteStart, (_local2 - absoluteStart));
                };
                this._numCharsAdded = (_local2 - absoluteStart);
                if (((this._pointFormat) && (_local1))){
                    this._applyPointFormat = new ApplyFormatOperation(new SelectionState(textFlow, absoluteStart, (absoluteStart + this._numCharsAdded)), this._pointFormat, null, null);
                    this._applyPointFormat.doOperation();
                };
            };
            return (true);
        }
        private function applyParagraphSettings(_arg1:ParagraphElement):void{
            var _local2:ParagraphElement = this._textScrap.textFlow.getFirstLeaf().getParagraph();
            this._applyParagraphSettings = [];
            var _local3:TextLayoutFormat = new TextLayoutFormat(_local2.format);
            _local3.setStyle(ConverterBase.MERGE_TO_NEXT_ON_PASTE, undefined);
            var _local4:ApplyFormatToElementOperation = new ApplyFormatToElementOperation(originalSelectionState, _arg1, _local3);
            _local4.doOperation();
            this._applyParagraphSettings.push(_local4);
        }
        override public function undo():SelectionState{
            var _local1:int;
            if (this._textScrap != null){
                if (this._applyPointFormat){
                    this._applyPointFormat.undo();
                };
                ModelEdit.deleteText(textFlow, absoluteStart, (absoluteStart + this._numCharsAdded), false);
                if (this._applyParagraphSettings){
                    _local1 = (this._applyParagraphSettings.length - 1);
                    while (_local1 >= 0) {
                        this._applyParagraphSettings[_local1].undo();
                        _local1--;
                    };
                };
                if (this._deleteTextOperation){
                    this._deleteTextOperation.undo();
                };
            };
            return (originalSelectionState);
        }
        override public function redo():SelectionState{
            var _local1:int;
            var _local2:int;
            if (this._textScrap != null){
                if (this._deleteTextOperation){
                    this._deleteTextOperation.redo();
                };
                if (this._applyParagraphSettings){
                    _local2 = (this._applyParagraphSettings.length - 1);
                    while (_local2 >= 0) {
                        this._applyParagraphSettings[_local2].redo();
                        _local2--;
                    };
                };
                _local1 = TextFlowEdit.insertTextScrap(textFlow, absoluteStart, this._textScrap, this._textScrap.isPlainText());
                if (textFlow.interactionManager){
                    textFlow.interactionManager.notifyInsertOrDelete(absoluteStart, (_local1 - absoluteStart));
                };
                if (this._applyPointFormat){
                    this._applyPointFormat.redo();
                };
            };
            return (new SelectionState(textFlow, (absoluteStart + this._numCharsAdded), (absoluteStart + this._numCharsAdded), null));
        }
        public function get textScrap():TextScrap{
            return (this._textScrap);
        }
        public function set textScrap(_arg1:TextScrap):void{
            this._textScrap = _arg1;
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;

    public class CreateDivOperation extends FlowTextOperation {

        private var _divParentMarker:ElementMark;
        private var _mementoList:MementoList;
        private var _format:ITextLayoutFormat;
        private var _divElement:DivElement;
        private var _postOpSelectionState:SelectionState;

        public function CreateDivOperation(_arg1:SelectionState, _arg2:FlowGroupElement=null, _arg3:ITextLayoutFormat=null){
            super(_arg1);
            this.parent = _arg2;
            this._format = _arg3;
            this._mementoList = new MementoList(_arg1.textFlow);
        }
        public function get parent():FlowGroupElement{
            return (((this._divParentMarker) ? (this._divParentMarker.findElement(originalSelectionState.textFlow) as FlowGroupElement) : null));
        }
        public function set parent(_arg1:FlowGroupElement):void{
            var _local2:int;
            var _local3:int;
            var _local4:int;
            var _local5:FlowGroupElement;
            if (!_arg1){
                _arg1 = textFlow;
                _local2 = this.absoluteStart;
                _local3 = this.absoluteEnd;
                while (true) {
                    _local4 = _arg1.findChildIndexAtPosition(_local2);
                    _local5 = (_arg1.getChildAt(_local4) as FlowGroupElement);
                    if ((_local5 is ParagraphElement)){
                        break;
                    };
                    _local2 = (_local2 - _local5.parentRelativeStart);
                    _local3 = (_local3 - _local5.parentRelativeStart);
                    if (_local3 >= _local5.textLength){
                        break;
                    };
                    _arg1 = _local5;
                };
            } else {
                if ((_arg1 is SubParagraphGroupElementBase)){
                    _arg1 = _arg1.getParagraph().parent;
                };
            };
            this._divParentMarker = new ElementMark(_arg1, 0);
        }
        public function get format():ITextLayoutFormat{
            return (this._format);
        }
        public function set format(_arg1:ITextLayoutFormat):void{
            this._format = _arg1;
        }
        public function get newDivElement():DivElement{
            return (this._divElement);
        }
        override public function doOperation():Boolean{
            var _local4:int;
            var _local6:FlowGroupElement;
            var _local1:FlowGroupElement = this.parent;
            if (((((!(_local1)) || ((_local1 is ParagraphElement)))) || ((_local1 is SubParagraphGroupElementBase)))){
                return (false);
            };
            var _local2:int;
            var _local3:int = (absoluteStart - _local1.getAbsoluteStart());
            var _local5:int = (absoluteEnd - _local1.getAbsoluteStart());
            if (_local3 > 0){
                _local2 = _local1.findChildIndexAtPosition(_local3);
                _local6 = (_local1.getChildAt(_local2) as FlowGroupElement);
                if (_local6.parentRelativeStart != _local3){
                    this._mementoList.push(ModelEdit.splitElement(textFlow, _local6, (_local3 - _local6.parentRelativeStart)));
                    if ((_local6 is ParagraphElement)){
                        _local5++;
                    };
                    _local2++;
                };
            };
            if (_local5 >= 0){
                if (_local5 >= (_local1.textLength - 1)){
                    _local4 = _local1.numChildren;
                } else {
                    _local4 = _local1.findChildIndexAtPosition(_local5);
                    _local6 = (_local1.getChildAt(_local4) as FlowGroupElement);
                    if (_local6.parentRelativeStart != _local5){
                        this._mementoList.push(ModelEdit.splitElement(textFlow, _local6, (_local5 - _local6.parentRelativeStart)));
                        _local4++;
                    };
                };
            } else {
                _local4 = (_local2 + 1);
            };
            this._divElement = new DivElement();
            this._divElement.format = this.format;
            if (_local2 == _local1.numChildren){
                _local6 = (_local1.getChildAt((_local1.numChildren - 1)) as FlowGroupElement);
                this._mementoList.push(ModelEdit.splitElement(textFlow, _local6, _local6.textLength));
                this._mementoList.push(ModelEdit.addElement(textFlow, this._divElement, _local1, _local1.numChildren));
                this._mementoList.push(ModelEdit.moveElement(textFlow, _local6, this._divElement, this._divElement.numChildren));
            } else {
                this._mementoList.push(ModelEdit.addElement(textFlow, this._divElement, _local1, _local4));
                if (_local2 == _local4){
                    this._mementoList.push(ModelEdit.addElement(textFlow, new ParagraphElement(), this._divElement, 0));
                } else {
                    while (_local2 < _local4) {
                        _local6 = (_local1.getChildAt(_local2) as FlowGroupElement);
                        if ((_local6 is ListItemElement)){
                            while (_local6.numChildren) {
                                this._mementoList.push(ModelEdit.moveElement(textFlow, _local6.getChildAt(0), this._divElement, this._divElement.numChildren));
                            };
                            this._mementoList.push(ModelEdit.removeElements(textFlow, _local1, _local2, 1));
                        } else {
                            this._mementoList.push(ModelEdit.moveElement(textFlow, _local6, this._divElement, this._divElement.numChildren));
                            _local6.normalizeRange(0, _local6.textLength);
                        };
                        _local4--;
                    };
                };
                if ((((_local1 is ListItemElement)) && ((_local1 as ListItemElement).normalizeNeedsInitialParagraph()))){
                    this._mementoList.push(ModelEdit.addElement(textFlow, new ParagraphElement(), _local1, 0));
                };
            };
            if (((originalSelectionState.selectionManagerOperationState) && (textFlow.interactionManager))){
                textFlow.normalize();
                this._postOpSelectionState = new SelectionState(textFlow, this._divElement.getAbsoluteStart(), ((this._divElement.getAbsoluteStart() + this._divElement.textLength) - 1));
                textFlow.interactionManager.setSelectionState(this._postOpSelectionState);
            };
            return (true);
        }
        override public function undo():SelectionState{
            this._mementoList.undo();
            return (originalSelectionState);
        }
        override public function redo():SelectionState{
            this._mementoList.redo();
            return (this._postOpSelectionState);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;

    public class ModifyInlineGraphicOperation extends FlowTextOperation {

        private var _source:Object;
        private var imageWidth:Object;
        private var imageHeight:Object;
        private var _options:Object;
        private var oldImage:FlowElement;
        private var selPos:int = 0;

        public function ModifyInlineGraphicOperation(_arg1:SelectionState, _arg2:Object, _arg3:Object, _arg4:Object, _arg5:Object=null){
            super(_arg1);
            this._source = _arg2;
            this._options = _arg5;
            this.imageWidth = _arg3;
            this.imageHeight = _arg4;
        }
        public function get source():Object{
            return (this._source);
        }
        public function set source(_arg1:Object):void{
            this._source = _arg1;
        }
        public function get width():Object{
            return (this.imageWidth);
        }
        public function set width(_arg1:Object):void{
            this.imageWidth = _arg1;
        }
        public function get height():Object{
            return (this.imageHeight);
        }
        public function set height(_arg1:Object):void{
            this.imageHeight = _arg1;
        }
        public function get options():Object{
            return (this._options);
        }
        public function set options(_arg1:Object):void{
            this._options = _arg1;
        }
        override public function doOperation():Boolean{
            this.selPos = absoluteStart;
            var _local1:InlineGraphicElement = (textFlow.findLeaf(this.selPos) as InlineGraphicElement);
            if (_local1){
                this.oldImage = _local1.shallowCopy(0, 1);
                if (_local1.width != this.imageWidth){
                    _local1.width = this.imageWidth;
                };
                if (_local1.height != this.imageHeight){
                    _local1.height = this.imageHeight;
                };
                if (_local1.source != this._source){
                    _local1.source = this._source;
                };
                if (((this.options) && (!((_local1.float == this.options.toString()))))){
                    _local1.float = this.options.toString();
                };
            };
            return (true);
        }
        override public function undo():SelectionState{
            var _local1:FlowElement = textFlow.findLeaf(this.selPos);
            var _local2:FlowGroupElement = _local1.parent;
            var _local3:int = _local1.parent.getChildIndex(_local1);
            _local2.replaceChildren(_local3, (_local3 + 1), this.oldImage);
            return (originalSelectionState);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;

    public class ApplyElementTypeNameOperation extends FlowElementOperation {

        private var _undoTypeName:String;
        private var _typeName:String;

        public function ApplyElementTypeNameOperation(_arg1:SelectionState, _arg2:FlowElement, _arg3:String, _arg4:int=0, _arg5:int=-1){
            this._typeName = _arg3;
            super(_arg1, _arg2, _arg4, _arg5);
        }
        public function get typeName():String{
            return (this._typeName);
        }
        public function set typeName(_arg1:String):void{
            this._typeName = _arg1;
        }
        override public function doOperation():Boolean{
            var _local1:FlowElement = getTargetElement();
            this._undoTypeName = _local1.typeName;
            adjustForDoOperation(_local1);
            _local1.typeName = this._typeName;
            return (true);
        }
        override public function undo():SelectionState{
            var _local1:FlowElement = getTargetElement();
            _local1.typeName = this._undoTypeName;
            adjustForUndoOperation(_local1);
            return (originalSelectionState);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.*;

    public class SplitParagraphOperation extends SplitElementOperation {

        public function SplitParagraphOperation(_arg1:SelectionState){
            var _local2:ParagraphElement = _arg1.textFlow.findLeaf(_arg1.absoluteStart).getParagraph();
            super(_arg1, _local2);
        }
        override tlf_internal function merge(_arg1:FlowOperation):FlowOperation{
            if (this.endGeneration != _arg1.beginGeneration){
                return (null);
            };
            if ((((_arg1 is SplitParagraphOperation)) || ((_arg1 is InsertTextOperation)))){
                return (new CompositeOperation([this, _arg1]));
            };
            return (null);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;

    public class ApplyFormatToElementOperation extends FlowElementOperation {

        private var _format:ITextLayoutFormat;
        private var _undoStyles:TextLayoutFormat;

        public function ApplyFormatToElementOperation(_arg1:SelectionState, _arg2:FlowElement, _arg3:ITextLayoutFormat, _arg4:int=0, _arg5:int=-1){
            super(_arg1, _arg2, _arg4, _arg5);
            this._format = _arg3;
        }
        public function get format():ITextLayoutFormat{
            return (this._format);
        }
        public function set format(_arg1:ITextLayoutFormat):void{
            this._format = _arg1;
        }
        override public function doOperation():Boolean{
            var _local2:TextLayoutFormat;
            var _local1:FlowElement = getTargetElement();
            adjustForDoOperation(_local1);
            this._undoStyles = new TextLayoutFormat(_local1.format);
            if (this._format){
                _local2 = new TextLayoutFormat(_local1.format);
                _local2.apply(this._format);
                _local1.format = _local2;
            };
            return (true);
        }
        override public function undo():SelectionState{
            var _local1:FlowElement = getTargetElement();
            _local1.format = new TextLayoutFormat(this._undoStyles);
            adjustForUndoOperation(_local1);
            return (originalSelectionState);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;

    public class CreateSubParagraphGroupOperation extends FlowTextOperation {

        private var _spgeParentMarker:ElementMark;
        private var _format:ITextLayoutFormat;
        private var _mementoList:MementoList;
        private var _spgeElement:SubParagraphGroupElement;
        private var _postOpSelectionState:SelectionState;

        public function CreateSubParagraphGroupOperation(_arg1:SelectionState, _arg2:FlowGroupElement=null, _arg3:ITextLayoutFormat=null){
            super(_arg1);
            this._format = _arg3;
            this.parent = _arg2;
            this._mementoList = new MementoList(_arg1.textFlow);
        }
        public function get parent():FlowGroupElement{
            return (((this._spgeParentMarker) ? (this._spgeParentMarker.findElement(originalSelectionState.textFlow) as FlowGroupElement) : null));
        }
        public function set parent(_arg1:FlowGroupElement):void{
            var _local2:int;
            var _local3:int;
            var _local4:ParagraphElement;
            var _local5:int;
            var _local6:int;
            var _local7:FlowGroupElement;
            if (!_arg1){
                _local2 = this.absoluteStart;
                _local3 = this.absoluteEnd;
                _local4 = textFlow.findLeaf(_local2).getParagraph();
                _local5 = _local4.getAbsoluteStart();
                if (_local2 < ((_local5 + _local4.textLength) - 1)){
                    if (_local3 >= ((_local5 + _local4.textLength) - 1)){
                        _local3 = (_local5 + _local4.textLength);
                    };
                    _arg1 = _local4;
                    while (true) {
                        _local6 = _arg1.findChildIndexAtPosition(_local2);
                        _local7 = (_arg1.getChildAt(_local6) as FlowGroupElement);
                        if (_local7 == null){
                            break;
                        };
                        _local2 = (_local2 - _local7.parentRelativeStart);
                        _local3 = (_local3 - _local7.parentRelativeStart);
                        if (_local3 > _local7.textLength){
                            break;
                        };
                        _arg1 = _local7;
                    };
                };
            } else {
                if (((!((_arg1 is SubParagraphGroupElementBase))) || (!((_arg1 is ParagraphElement))))){
                    _arg1 = null;
                };
            };
            this._spgeParentMarker = ((_arg1) ? new ElementMark(_arg1, 0) : null);
        }
        public function get format():ITextLayoutFormat{
            return (this._format);
        }
        public function set format(_arg1:ITextLayoutFormat):void{
            this._format = _arg1;
        }
        public function get newSubParagraphGroupElement():SubParagraphGroupElement{
            return (this._spgeElement);
        }
        override public function doOperation():Boolean{
            var _local4:int;
            var _local6:FlowElement;
            var _local7:FlowElement;
            if (absoluteStart == absoluteEnd){
                return (false);
            };
            var _local1:FlowGroupElement = this.parent;
            if (!_local1){
                return (false);
            };
            var _local2:int;
            var _local3:int = (absoluteStart - _local1.getAbsoluteStart());
            var _local5:int = (absoluteEnd - _local1.getAbsoluteStart());
            if (_local5 >= ((_local1.getAbsoluteStart() + _local1.textLength) - 1)){
                _local5 = (_local1.getAbsoluteStart() + _local1.textLength);
            };
            if (_local3 > 0){
                _local2 = _local1.findChildIndexAtPosition(_local3);
                _local6 = _local1.getChildAt(_local2);
                if (_local6.parentRelativeStart != _local3){
                    if ((_local6 is FlowGroupElement)){
                        this._mementoList.push(ModelEdit.splitElement(textFlow, (_local6 as FlowGroupElement), (_local3 - _local6.parentRelativeStart)));
                    } else {
                        _local6.splitAtPosition((_local3 - _local6.parentRelativeStart));
                    };
                    _local2++;
                };
            };
            if (_local5 >= 0){
                if (_local5 >= (_local1.textLength - 1)){
                    _local4 = _local1.numChildren;
                    if (_local4 != 0){
                        _local7 = _local1.getChildAt((_local4 - 1));
                        if ((((((_local7 is SpanElement)) && ((_local7.textLength == 1)))) && ((_local7 as SpanElement).hasParagraphTerminator))){
                            _local4--;
                        };
                    };
                } else {
                    _local4 = _local1.findChildIndexAtPosition(_local5);
                    _local6 = _local1.getChildAt(_local4);
                    if (_local6.parentRelativeStart != _local5){
                        if ((_local6 is FlowGroupElement)){
                            this._mementoList.push(ModelEdit.splitElement(textFlow, (_local6 as FlowGroupElement), (_local5 - _local6.parentRelativeStart)));
                        } else {
                            _local6.splitAtPosition((_local5 - _local6.parentRelativeStart));
                        };
                        _local4++;
                    };
                };
            } else {
                _local4 = (_local2 + 1);
            };
            this._spgeElement = new SubParagraphGroupElement();
            this._spgeElement.format = this.format;
            this._mementoList.push(ModelEdit.addElement(textFlow, this._spgeElement, _local1, _local4));
            while (_local2 < _local4) {
                _local6 = _local1.getChildAt(_local2);
                if (_local6.textLength == 0){
                    _local2++;
                } else {
                    this._mementoList.push(ModelEdit.moveElement(textFlow, _local6, this._spgeElement, this._spgeElement.numChildren));
                    _local4--;
                };
            };
            if (((originalSelectionState.selectionManagerOperationState) && (textFlow.interactionManager))){
                textFlow.normalize();
                this._postOpSelectionState = new SelectionState(textFlow, this._spgeElement.getAbsoluteStart(), (this._spgeElement.getAbsoluteStart() + this._spgeElement.textLength));
                textFlow.interactionManager.setSelectionState(this._postOpSelectionState);
            };
            return (true);
        }
        override public function undo():SelectionState{
            this._mementoList.undo();
            return (originalSelectionState);
        }
        override public function redo():SelectionState{
            this._mementoList.redo();
            return (this._postOpSelectionState);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;

    public class ApplyTCYOperation extends FlowTextOperation {

        private var makeBegIdx:int;
        private var makeEndIdx:int;
        private var removeBegIdx:int;
        private var removeEndIdx:int;
        private var removeRedoBegIdx:int;
        private var removeRedoEndIdx:int;
        private var _memento:IMemento;
        private var _tcyOn:Boolean;
        private var _tcyElement:TCYElement;

        public function ApplyTCYOperation(_arg1:SelectionState, _arg2:Boolean){
            super(_arg1);
            if (_arg2){
                this.makeBegIdx = _arg1.absoluteStart;
                this.makeEndIdx = _arg1.absoluteEnd;
            } else {
                this.removeBegIdx = _arg1.absoluteStart;
                this.removeEndIdx = _arg1.absoluteEnd;
            };
            this._tcyOn = _arg2;
        }
        public function get tcyOn():Boolean{
            return (this._tcyOn);
        }
        public function set tcyOn(_arg1:Boolean):void{
            this._tcyOn = _arg1;
        }
        public function get newTCYElement():TCYElement{
            return (this._tcyElement);
        }
        override public function doOperation():Boolean{
            var _local1:FlowLeafElement;
            var _local2:TCYElement;
            if (((this._tcyOn) && ((this.makeEndIdx <= this.makeBegIdx)))){
                return (false);
            };
            if (((!(this._tcyOn)) && ((this.removeEndIdx <= this.removeBegIdx)))){
                return (false);
            };
            if (this._tcyOn){
                this._memento = ModelEdit.saveCurrentState(textFlow, this.makeBegIdx, this.makeEndIdx);
                if (TextFlowEdit.makeTCY(textFlow, this.makeBegIdx, this.makeEndIdx)){
                    _local1 = textFlow.findLeaf(this.makeBegIdx);
                    this._tcyElement = (_local1.getParentByType(TCYElement) as TCYElement);
                };
            } else {
                _local1 = textFlow.findLeaf(this.removeBegIdx);
                _local2 = (_local1.getParentByType(TCYElement) as TCYElement);
                this.removeRedoBegIdx = this.removeBegIdx;
                this.removeRedoEndIdx = this.removeEndIdx;
                this.removeBegIdx = _local2.getAbsoluteStart();
                this.removeEndIdx = (this.removeBegIdx + _local2.textLength);
                this._memento = ModelEdit.saveCurrentState(textFlow, this.removeBegIdx, this.removeEndIdx);
                TextFlowEdit.removeTCY(textFlow, this.removeRedoBegIdx, this.removeRedoEndIdx);
            };
            return (true);
        }
        override public function undo():SelectionState{
            this._memento.undo();
            return (originalSelectionState);
        }
        override public function redo():SelectionState{
            if (this._tcyOn){
                TextFlowEdit.makeTCY(textFlow, this.makeBegIdx, this.makeEndIdx);
            } else {
                TextFlowEdit.removeTCY(textFlow, this.removeRedoBegIdx, this.removeRedoEndIdx);
            };
            return (originalSelectionState);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.*;

    public class InsertTextOperation extends FlowTextOperation {

        private var _deleteSelectionState:SelectionState;
        private var delSelOp:DeleteTextOperation = null;
        public var _text:String;
        private var _pointFormat:ITextLayoutFormat;

        public function InsertTextOperation(_arg1:SelectionState, _arg2:String, _arg3:SelectionState=null){
            super(_arg1);
            this._pointFormat = _arg1.pointFormat;
            this._text = _arg2;
            this.initialize(_arg3);
        }
        private function initialize(_arg1:SelectionState):void{
            if (_arg1 == null){
                _arg1 = originalSelectionState;
            };
            if (_arg1.anchorPosition != _arg1.activePosition){
                this._deleteSelectionState = _arg1;
                this.delSelOp = new DeleteTextOperation(this._deleteSelectionState);
            };
        }
        public function get text():String{
            return (this._text);
        }
        public function set text(_arg1:String):void{
            this._text = _arg1;
        }
        public function get deleteSelectionState():SelectionState{
            return (this._deleteSelectionState);
        }
        public function set deleteSelectionState(_arg1:SelectionState):void{
            this._deleteSelectionState = _arg1;
        }
        public function get characterFormat():ITextLayoutFormat{
            return (this._pointFormat);
        }
        public function set characterFormat(_arg1:ITextLayoutFormat):void{
            this._pointFormat = new PointFormat(_arg1);
        }
        private function doDelete(_arg1:FlowLeafElement):ITextLayoutFormat{
            var _local2:PointFormat = PointFormat.createFromFlowElement(textFlow.findLeaf(absoluteStart));
            var _local3:PointFormat = (((absoluteStart == _arg1.getParagraph().getAbsoluteStart())) ? null : PointFormat.createFromFlowElement(textFlow.findLeaf((absoluteStart - 1))));
            if (this.delSelOp.doOperation()){
                if (((((!(this._pointFormat)) && ((absoluteStart < absoluteEnd)))) && (PointFormat.isEqual(_local2, _local3)))){
                    _local2 = null;
                } else {
                    if (_arg1.textLength == 0){
                        _arg1.parent.removeChild(_arg1);
                    };
                };
            };
            return (_local2);
        }
        private function applyPointFormat(_arg1:SpanElement, _arg2:ITextLayoutFormat):void{
            var _local3:TextLayoutFormat;
            var _local4:PointFormat;
            var _local5:FlowLeafElement;
            var _local6:FlowElement;
            var _local7:FlowLeafElement;
            var _local8:FlowElement;
            if (!TextLayoutFormat.isEqual(_arg2, _arg1.format)){
                _local3 = new TextLayoutFormat(_arg1.format);
                _local3.apply(_arg2);
                _arg1.format = _local3;
            };
            if ((_arg2 is PointFormat)){
                _local4 = (_arg2 as PointFormat);
                if (_local4.linkElement){
                    if (_local4.linkElement.href){
                        TextFlowEdit.makeLink(textFlow, absoluteStart, (absoluteStart + this._text.length), _local4.linkElement.href, _local4.linkElement.target);
                        _local5 = textFlow.findLeaf(absoluteStart);
                        _local6 = _local5.getParentByType(LinkElement);
                        _local6.format = _local4.linkElement.format;
                    };
                };
                if (_local4.tcyElement){
                    TextFlowEdit.makeTCY(textFlow, absoluteStart, (absoluteStart + this._text.length));
                    _local7 = textFlow.findLeaf(absoluteStart);
                    _local8 = _local7.getParentByType(TCYElement);
                    _local8.format = _local4.tcyElement.format;
                } else {
                    if (_arg1.getParentByType(TCYElement)){
                        TextFlowEdit.removeTCY(textFlow, absoluteStart, (absoluteStart + this._text.length));
                    };
                };
            };
        }
        private function doInternal():void{
            var _local1:ITextLayoutFormat;
            var _local3:SelectionState;
            if (this.delSelOp != null){
                _local1 = this.doDelete(textFlow.findLeaf(absoluteStart));
            };
            var _local2:SpanElement = ParaEdit.insertText(textFlow, absoluteStart, this._text, ((!((this._pointFormat == null))) || (!((_local1 == null)))));
            if (textFlow.interactionManager){
                textFlow.interactionManager.notifyInsertOrDelete(absoluteStart, this._text.length);
            };
            if (_local2 != null){
                if (_local1){
                    _local2.format = _local1;
                    this.applyPointFormat(_local2, _local1);
                    if ((((((((((_local1 is PointFormat)) && (PointFormat(_local1).linkElement))) && (PointFormat(_local1).linkElement.href))) && (originalSelectionState.selectionManagerOperationState))) && (textFlow.interactionManager))){
                        _local3 = textFlow.interactionManager.getSelectionState();
                        _local3.pointFormat = PointFormat.clone((_local1 as PointFormat));
                        textFlow.interactionManager.setSelectionState(_local3);
                    };
                };
                if (this._pointFormat){
                    this.applyPointFormat(_local2, this._pointFormat);
                };
            };
        }
        override public function doOperation():Boolean{
            this.doInternal();
            return (true);
        }
        override public function undo():SelectionState{
            ModelEdit.deleteText(textFlow, absoluteStart, (absoluteStart + this._text.length), false);
            var _local1:SelectionState = originalSelectionState;
            if (this.delSelOp != null){
                _local1 = this.delSelOp.undo();
            };
            return (originalSelectionState);
        }
        override public function redo():SelectionState{
            this.doInternal();
            return (new SelectionState(textFlow, (absoluteStart + this._text.length), (absoluteStart + this._text.length), null));
        }
        override tlf_internal function merge(_arg1:FlowOperation):FlowOperation{
            if (absoluteStart < absoluteEnd){
                return (null);
            };
            if (this.endGeneration != _arg1.beginGeneration){
                return (null);
            };
            var _local2:InsertTextOperation;
            if ((_arg1 is InsertTextOperation)){
                _local2 = (_arg1 as InsertTextOperation);
            };
            if (_local2){
                if (((!((_local2.deleteSelectionState == null))) || (!((this.deleteSelectionState == null))))){
                    return (null);
                };
                if ((((_local2.originalSelectionState.pointFormat == null)) && (!((originalSelectionState.pointFormat == null))))){
                    return (null);
                };
                if ((((originalSelectionState.pointFormat == null)) && (!((_local2.originalSelectionState.pointFormat == null))))){
                    return (null);
                };
                if ((originalSelectionState.absoluteStart + this._text.length) != _local2.originalSelectionState.absoluteStart){
                    return (null);
                };
                if ((((((originalSelectionState.pointFormat == null)) && ((_local2.originalSelectionState.pointFormat == null)))) || (PointFormat.isEqual(originalSelectionState.pointFormat, _local2.originalSelectionState.pointFormat)))){
                    this._text = (this._text + _local2.text);
                    setGenerations(beginGeneration, _local2.endGeneration);
                } else {
                    return (null);
                };
                setGenerations(beginGeneration, _local2.endGeneration);
                return (this);
            };
            if ((_arg1 is SplitParagraphOperation)){
                return (new CompositeOperation([this, _arg1]));
            };
            return (null);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {

    public class UndoOperation extends FlowOperation {

        private var _operation:FlowOperation;

        public function UndoOperation(_arg1:FlowOperation){
            super(null);
            this._operation = _arg1;
        }
        public function get operation():FlowOperation{
            return (this._operation);
        }
        public function set operation(_arg1:FlowOperation):void{
            this._operation = _arg1;
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.edit.*;
    import flashx.textLayout.*;

    public class DeleteTextOperation extends FlowTextOperation {

        private var _memento:IMemento;
        private var _allowMerge:Boolean;
        private var _pendingFormat:PointFormat;
        private var _deleteSelectionState:SelectionState = null;

        public function DeleteTextOperation(_arg1:SelectionState, _arg2:SelectionState=null, _arg3:Boolean=false){
            this._deleteSelectionState = ((_arg2) ? _arg2 : _arg1);
            super(this._deleteSelectionState);
            originalSelectionState = _arg1;
            this._allowMerge = _arg3;
        }
        public function get allowMerge():Boolean{
            return (this._allowMerge);
        }
        public function set allowMerge(_arg1:Boolean):void{
            this._allowMerge = _arg1;
        }
        public function get deleteSelectionState():SelectionState{
            return (this._deleteSelectionState);
        }
        public function set deleteSelectionState(_arg1:SelectionState):void{
            this._deleteSelectionState = _arg1;
        }
        override public function doOperation():Boolean{
            var _local1:SelectionState;
            if (absoluteStart == absoluteEnd){
                return (false);
            };
            this._pendingFormat = PointFormat.createFromFlowElement(textFlow.findLeaf(absoluteStart));
            if (this._pendingFormat.linkElement){
                this._pendingFormat.linkElement = null;
            };
            if (this._pendingFormat.tcyElement){
                this._pendingFormat.tcyElement = null;
            };
            this._memento = ModelEdit.deleteText(textFlow, absoluteStart, absoluteEnd, true);
            if (((originalSelectionState.selectionManagerOperationState) && (textFlow.interactionManager))){
                _local1 = textFlow.interactionManager.getSelectionState();
                if (_local1.anchorPosition == _local1.activePosition){
                    _local1.pointFormat = PointFormat.clone(this._pendingFormat);
                    textFlow.interactionManager.setSelectionState(_local1);
                };
            };
            return (true);
        }
        override public function undo():SelectionState{
            if (this._memento){
                this._memento.undo();
            };
            return (originalSelectionState);
        }
        override public function redo():SelectionState{
            if (this._memento){
                this._memento.redo();
            };
            return (new SelectionState(textFlow, absoluteStart, absoluteStart, this._pendingFormat));
        }
        override tlf_internal function merge(_arg1:FlowOperation):FlowOperation{
            if (this.endGeneration != _arg1.beginGeneration){
                return (null);
            };
            var _local2:DeleteTextOperation = (_arg1 as DeleteTextOperation);
            if ((((((_local2 == null)) || (!(_local2.allowMerge)))) || (!(this._allowMerge)))){
                return (null);
            };
            return (new CompositeOperation([this, _arg1]));
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;

    public class CreateListOperation extends FlowTextOperation {

        private var _listParentMarker:ElementMark;
        private var _mementoList:MementoList;
        private var _listFormat:ITextLayoutFormat;
        private var _listElement:ListElement;
        private var _postOpSelectionState:SelectionState;

        public function CreateListOperation(_arg1:SelectionState, _arg2:FlowGroupElement=null, _arg3:ITextLayoutFormat=null){
            super(_arg1);
            this.parent = _arg2;
            this._listFormat = _arg3;
            this._mementoList = new MementoList(_arg1.textFlow);
        }
        public function get parent():FlowGroupElement{
            return (((this._listParentMarker) ? (this._listParentMarker.findElement(originalSelectionState.textFlow) as FlowGroupElement) : null));
        }
        public function set parent(_arg1:FlowGroupElement):void{
            var _local2:int;
            var _local3:int;
            var _local4:int;
            var _local5:FlowGroupElement;
            if (!_arg1){
                _arg1 = textFlow;
                _local2 = this.absoluteStart;
                _local3 = this.absoluteEnd;
                while (true) {
                    _local4 = _arg1.findChildIndexAtPosition(_local2);
                    _local5 = (_arg1.getChildAt(_local4) as FlowGroupElement);
                    if ((_local5 is ParagraphElement)){
                        break;
                    };
                    _local2 = (_local2 - _local5.parentRelativeStart);
                    _local3 = (_local3 - _local5.parentRelativeStart);
                    if (_local3 >= _local5.textLength){
                        break;
                    };
                    _arg1 = _local5;
                };
            } else {
                if ((_arg1 is SubParagraphGroupElementBase)){
                    _arg1 = _arg1.getParagraph().parent;
                };
            };
            this._listParentMarker = new ElementMark(_arg1, 0);
        }
        public function get listFormat():ITextLayoutFormat{
            return (this._listFormat);
        }
        public function set listFormat(_arg1:ITextLayoutFormat):void{
            this._listFormat = _arg1;
        }
        public function get newListElement():ListElement{
            return (this._listElement);
        }
        override public function doOperation():Boolean{
            var _local4:int;
            var _local6:FlowGroupElement;
            var _local7:ListItemElement;
            var _local8:ListItemElement;
            var _local1:FlowGroupElement = this.parent;
            var _local2:int;
            var _local3:int = (absoluteStart - _local1.getAbsoluteStart());
            var _local5:int = (absoluteEnd - _local1.getAbsoluteStart());
            if (_local3 > 0){
                _local2 = _local1.findChildIndexAtPosition(_local3);
                _local6 = (_local1.getChildAt(_local2) as FlowGroupElement);
                if (_local6.parentRelativeStart != _local3){
                    this._mementoList.push(ModelEdit.splitElement(textFlow, _local6, (_local3 - _local6.parentRelativeStart)));
                    if ((_local6 is ParagraphElement)){
                        _local5++;
                    };
                    _local2++;
                };
            };
            if (_local5 >= 0){
                if (_local5 >= (_local1.textLength - 1)){
                    _local4 = _local1.numChildren;
                } else {
                    _local4 = _local1.findChildIndexAtPosition(_local5);
                    _local6 = (_local1.getChildAt(_local4) as FlowGroupElement);
                    if (_local6.parentRelativeStart != _local5){
                        this._mementoList.push(ModelEdit.splitElement(textFlow, _local6, (_local5 - _local6.parentRelativeStart)));
                        _local4++;
                    };
                };
            } else {
                _local4 = (_local2 + 1);
            };
            this._listElement = new ListElement();
            this._listElement.format = this.listFormat;
            if (_local2 == _local1.numChildren){
                _local6 = (_local1.getChildAt((_local1.numChildren - 1)) as FlowGroupElement);
                this._mementoList.push(ModelEdit.splitElement(textFlow, _local6, _local6.textLength));
                this._mementoList.push(ModelEdit.addElement(textFlow, this._listElement, _local1, _local1.numChildren));
                if (!(_local6 is ListItemElement)){
                    _local7 = new ListItemElement();
                    this._mementoList.push(ModelEdit.addElement(textFlow, _local7, this._listElement, this._listElement.numChildren));
                    this._mementoList.push(ModelEdit.moveElement(textFlow, _local6, _local7, _local7.numChildren));
                    if (_local7.normalizeNeedsInitialParagraph()){
                        this._mementoList.push(ModelEdit.addElement(textFlow, new ParagraphElement(), _local7, 0));
                    };
                } else {
                    this._mementoList.push(ModelEdit.moveElement(textFlow, _local6, this._listElement, this._listElement.numChildren));
                };
            } else {
                this._mementoList.push(ModelEdit.addElement(textFlow, this._listElement, _local1, _local4));
                if ((((_local1 is ListItemElement)) && ((_local1 as ListItemElement).normalizeNeedsInitialParagraph()))){
                    this._mementoList.push(ModelEdit.addElement(textFlow, new ParagraphElement(), _local1, 0));
                    _local2++;
                    _local4++;
                };
                if (_local2 == _local4){
                    _local7 = new ListItemElement();
                    this._mementoList.push(ModelEdit.addElement(textFlow, _local7, this._listElement, 0));
                    this._mementoList.push(ModelEdit.addElement(textFlow, new ParagraphElement(), _local7, 0));
                } else {
                    while (_local2 < _local4) {
                        _local6 = (_local1.getChildAt(_local2) as FlowGroupElement);
                        if ((_local6 is ListItemElement)){
                            _local7 = (_local6 as ListItemElement);
                            this._mementoList.push(ModelEdit.moveElement(textFlow, _local7, this._listElement, this._listElement.numChildren));
                            if (!(_local7.getChildAt(0) is ParagraphElement)){
                                this._mementoList.push(ModelEdit.addElement(textFlow, new ParagraphElement(), _local7, 0));
                            };
                        } else {
                            _local7 = new ListItemElement();
                            this._mementoList.push(ModelEdit.addElement(textFlow, _local7, this._listElement, this._listElement.numChildren));
                            this._mementoList.push(ModelEdit.moveElement(textFlow, _local6, _local7, _local7.numChildren));
                            if (_local7.normalizeNeedsInitialParagraph()){
                                this._mementoList.push(ModelEdit.addElement(textFlow, new ParagraphElement(), _local7, 0));
                            };
                            _local6 = _local7;
                        };
                        _local6.normalizeRange(0, _local6.textLength);
                        _local4--;
                    };
                };
                _local8 = (_local1 as ListItemElement);
                if (((_local8) && (_local8.normalizeNeedsInitialParagraph()))){
                    this._mementoList.push(ModelEdit.addElement(textFlow, new ParagraphElement(), _local8, 0));
                };
                _local8 = (_local1.parent as ListItemElement);
                if (((_local8) && (_local8.normalizeNeedsInitialParagraph()))){
                    this._mementoList.push(ModelEdit.addElement(textFlow, new ParagraphElement(), _local8, 0));
                };
            };
            if (((originalSelectionState.selectionManagerOperationState) && (textFlow.interactionManager))){
                textFlow.normalize();
                this._postOpSelectionState = new SelectionState(textFlow, this._listElement.getAbsoluteStart(), ((this._listElement.getAbsoluteStart() + this._listElement.textLength) - 1));
                textFlow.interactionManager.setSelectionState(this._postOpSelectionState);
            };
            return (true);
        }
        override public function undo():SelectionState{
            this._mementoList.undo();
            return (originalSelectionState);
        }
        override public function redo():SelectionState{
            this._mementoList.redo();
            return (this._postOpSelectionState);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.*;

    public class CompositeOperation extends FlowOperation {

        private var _operations:Array;

        public function CompositeOperation(_arg1:Array=null){
            super(null);
            this.operations = _arg1;
            if (this._operations.length){
                setGenerations(this._operations[0].beginGeneration, this._operations[(this._operations.length - 1)].endGeneration);
            };
        }
        override public function get textFlow():TextFlow{
            return ((((this._operations.length > 0)) ? this._operations[0].textFlow : null));
        }
        public function get operations():Array{
            return (this._operations);
        }
        public function set operations(_arg1:Array):void{
            this._operations = ((_arg1) ? _arg1.slice() : []);
        }
        public function addOperation(_arg1:FlowOperation):void{
            if ((((this._operations.length > 0)) && (!((_arg1.textFlow == this.textFlow))))){
                return;
            };
            this._operations.push(_arg1);
        }
        override public function doOperation():Boolean{
            var _local1:Boolean;
            var _local2:int;
            while (_local2 < this._operations.length) {
                _local1 = ((_local1) && (FlowOperation(this._operations[_local2]).doOperation()));
                _local2++;
            };
            return (true);
        }
        override public function undo():SelectionState{
            var _local1:SelectionState;
            var _local2:int = (this._operations.length - 1);
            while (_local2 >= 0) {
                _local1 = FlowOperation(this._operations[_local2]).undo();
                _local2--;
            };
            return (_local1);
        }
        override public function redo():SelectionState{
            var _local1:SelectionState;
            var _local2:int;
            while (_local2 < this._operations.length) {
                _local1 = FlowOperation(this._operations[_local2]).redo();
                _local2++;
            };
            return (_local1);
        }
        override public function canUndo():Boolean{
            var _local5:FlowOperation;
            var _local1:Boolean;
            var _local2:int = beginGeneration;
            var _local3:int = this._operations.length;
            var _local4:int;
            while ((((_local4 < _local3)) && (_local1))) {
                _local5 = this._operations[_local4];
                if (((!((_local5.beginGeneration == _local2))) || (!(_local5.canUndo())))){
                    _local1 = false;
                };
                _local2 = _local5.endGeneration;
                _local4++;
            };
            if ((((_local3 > 0)) && (!((this._operations[(_local3 - 1)].endGeneration == endGeneration))))){
                _local1 = false;
            };
            return (_local1);
        }
        override tlf_internal function merge(_arg1:FlowOperation):FlowOperation{
            var _local2:FlowOperation;
            var _local3:FlowOperation;
            if ((((((_arg1 is InsertTextOperation)) || ((_arg1 is SplitParagraphOperation)))) || ((_arg1 is DeleteTextOperation)))){
                if (this.endGeneration != _arg1.beginGeneration){
                    return (null);
                };
                _local3 = ((((this._operations) && (this._operations.length))) ? FlowOperation(this._operations[(this._operations.length - 1)]) : null);
                if (_local3){
                    _local2 = _local3.merge(_arg1);
                };
                if (((_local2) && (!((_local2 is CompositeOperation))))){
                    this._operations[(this._operations.length - 1)] = _local2;
                } else {
                    this._operations.push(_arg1);
                };
                setGenerations(beginGeneration, _arg1.endGeneration);
                return (this);
            };
            return (null);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;

    public class ClearFormatOnElementOperation extends FlowElementOperation {

        private var _format:ITextLayoutFormat;
        private var _undoStyles:TextLayoutFormat;

        public function ClearFormatOnElementOperation(_arg1:SelectionState, _arg2:FlowElement, _arg3:ITextLayoutFormat, _arg4:int=0, _arg5:int=-1){
            super(_arg1, _arg2, _arg4, _arg5);
            this._format = _arg3;
        }
        public function get format():ITextLayoutFormat{
            return (this._format);
        }
        public function set format(_arg1:ITextLayoutFormat):void{
            this._format = _arg1;
        }
        override public function doOperation():Boolean{
            var _local2:TextLayoutFormat;
            var _local3:String;
            var _local1:FlowElement = getTargetElement();
            adjustForDoOperation(_local1);
            this._undoStyles = new TextLayoutFormat(_local1.format);
            if (this._format){
                _local2 = new TextLayoutFormat(_local1.format);
                for (_local3 in TextLayoutFormat.description) {
                    if (this._format[_local3] !== undefined){
                        _local2[_local3] = undefined;
                    };
                };
                _local1.format = _local2;
            };
            return (true);
        }
        override public function undo():SelectionState{
            var _local1:FlowElement = getTargetElement();
            _local1.format = new TextLayoutFormat(this._undoStyles);
            adjustForUndoOperation(_local1);
            return (originalSelectionState);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.edit.*;

    public class FlowTextOperation extends FlowOperation {

        private var _originalSelectionState:SelectionState;
        private var _absoluteStart:int;
        private var _absoluteEnd:int;

        public function FlowTextOperation(_arg1:SelectionState){
            super(_arg1.textFlow);
            this._absoluteStart = _arg1.absoluteStart;
            this._absoluteEnd = _arg1.absoluteEnd;
            this._originalSelectionState = _arg1;
        }
        public function get absoluteStart():int{
            return (this._absoluteStart);
        }
        public function set absoluteStart(_arg1:int):void{
            this._absoluteStart = _arg1;
        }
        public function get absoluteEnd():int{
            return (this._absoluteEnd);
        }
        public function set absoluteEnd(_arg1:int):void{
            this._absoluteEnd = _arg1;
        }
        public function get originalSelectionState():SelectionState{
            return (this._originalSelectionState);
        }
        public function set originalSelectionState(_arg1:SelectionState):void{
            this._originalSelectionState = _arg1;
        }
        override public function redo():SelectionState{
            doOperation();
            return (this._originalSelectionState);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.edit.*;

    public class CopyOperation extends FlowTextOperation {

        public function CopyOperation(_arg1:SelectionState){
            super(_arg1);
        }
        override public function doOperation():Boolean{
            if (originalSelectionState.activePosition != originalSelectionState.anchorPosition){
                TextClipboard.setContents(TextScrap.createTextScrap(originalSelectionState));
            };
            return (true);
        }
        override public function undo():SelectionState{
            return (originalSelectionState);
        }
        override public function redo():SelectionState{
            return (originalSelectionState);
        }
        override public function canUndo():Boolean{
            return (false);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;

    public class SplitElementOperation extends FlowTextOperation {

        private var delSelOp:DeleteTextOperation;
        private var _targetMark:ElementMark;
        private var _memento:IMemento;
        private var _newElement:FlowGroupElement;

        public function SplitElementOperation(_arg1:SelectionState, _arg2:FlowGroupElement){
            super(_arg1);
            this.targetElement = _arg2;
        }
        public function get targetElement():FlowGroupElement{
            return ((this._targetMark.findElement(originalSelectionState.textFlow) as FlowGroupElement));
        }
        public function set targetElement(_arg1:FlowGroupElement):void{
            this._targetMark = new ElementMark(_arg1, 0);
        }
        public function get newElement():FlowGroupElement{
            return (this._newElement);
        }
        override public function doOperation():Boolean{
            var _local2:int;
            var _local3:int;
            var _local4:int;
            var _local5:int;
            var _local6:ListMarkerFormat;
            var _local1:FlowGroupElement = this.targetElement;
            if (absoluteStart < absoluteEnd){
                _local2 = _local1.getAbsoluteStart();
                _local3 = (_local2 + _local1.textLength);
                this.delSelOp = new DeleteTextOperation(originalSelectionState);
                this.delSelOp.doOperation();
                if ((((absoluteStart <= _local2)) && ((_local3 <= absoluteEnd)))){
                    if ((_local1 is ParagraphElement)){
                        _local1 = textFlow.findAbsoluteParagraph(absoluteStart);
                    } else {
                        _local1 = null;
                    };
                } else {
                    _local1 = this.targetElement;
                };
            };
            if (((((!((_local1 == null))) && (!((_local1 is SubParagraphGroupElementBase))))) && ((_local1.getTextFlow() == textFlow)))){
                _local4 = textFlow.textLength;
                _local5 = (absoluteStart - _local1.getAbsoluteStart());
                this._memento = ModelEdit.splitElement(textFlow, _local1, _local5);
                this._newElement = (_local1.parent.getChildAt((_local1.parent.getChildIndex(_local1) + 1)) as FlowGroupElement);
                if ((((((this._newElement is ListItemElement)) && (this._newElement.listMarkerFormat))) && (!((this._newElement.listMarkerFormat.counterReset === undefined))))){
                    _local6 = new ListMarkerFormat(this._newElement.listMarkerFormat);
                    _local6.counterReset = undefined;
                    this._newElement.listMarkerFormat = _local6;
                };
                if (((((textFlow.interactionManager) && (!((_local4 == textFlow.textLength))))) && ((_local1 is ParagraphElement)))){
                    textFlow.interactionManager.notifyInsertOrDelete(absoluteStart, (textFlow.textLength - _local4));
                };
            };
            return (true);
        }
        override public function undo():SelectionState{
            if (this._memento){
                this._memento.undo();
            };
            this._newElement = null;
            return ((((absoluteStart < absoluteEnd)) ? this.delSelOp.undo() : originalSelectionState));
        }
        override public function redo():SelectionState{
            super.redo();
            return (textFlow.interactionManager.getSelectionState());
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;
    import flashx.undo.*;
    import flashx.textLayout.*;

    public class FlowOperation implements IOperation {

        public var userData;
        private var _beginGeneration:uint;
        private var _endGeneration:uint;
        private var _textFlow:TextFlow;

        public function FlowOperation(_arg1:TextFlow){
            this._textFlow = _arg1;
        }
        public function get textFlow():TextFlow{
            return (this._textFlow);
        }
        public function set textFlow(_arg1:TextFlow):void{
            this._textFlow = _arg1;
        }
        public function doOperation():Boolean{
            return (false);
        }
        public function undo():SelectionState{
            return (null);
        }
        public function canUndo():Boolean{
            return (true);
        }
        public function redo():SelectionState{
            return (null);
        }
        public function get beginGeneration():uint{
            return (this._beginGeneration);
        }
        public function get endGeneration():uint{
            return (this._endGeneration);
        }
        public function performUndo():void{
            var _local1:IEditManager = ((this.textFlow) ? (this.textFlow.interactionManager as IEditManager) : null);
            if (_local1 != null){
                _local1.performUndo(this);
            };
        }
        public function performRedo():void{
            var _local1:IEditManager = ((this.textFlow) ? (this.textFlow.interactionManager as IEditManager) : null);
            if (_local1 != null){
                _local1.performRedo(this);
            };
        }
        tlf_internal function setGenerations(_arg1:uint, _arg2:uint):void{
            this._beginGeneration = _arg1;
            this._endGeneration = _arg2;
        }
        tlf_internal function merge(_arg1:FlowOperation):FlowOperation{
            return (null);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.operations {
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;

    public class ApplyLinkOperation extends FlowTextOperation {

        private var _hrefString:String;
        private var _target:String;
        private var _extendToLinkBoundary:Boolean;
        private var _memento:IMemento;
        private var _linkElement:LinkElement;

        public function ApplyLinkOperation(_arg1:SelectionState, _arg2:String, _arg3:String, _arg4:Boolean){
            super(_arg1);
            this._hrefString = _arg2;
            this._target = _arg3;
            this._extendToLinkBoundary = _arg4;
        }
        public function get href():String{
            return (this._hrefString);
        }
        public function set href(_arg1:String):void{
            this._hrefString = _arg1;
        }
        public function get target():String{
            return (this._target);
        }
        public function set target(_arg1:String):void{
            this._target = _arg1;
        }
        public function get extendToLinkBoundary():Boolean{
            return (this._extendToLinkBoundary);
        }
        public function set extendToLinkBoundary(_arg1:Boolean):void{
            this._extendToLinkBoundary = _arg1;
        }
        public function get newLinkElement():LinkElement{
            return (this._linkElement);
        }
        override public function doOperation():Boolean{
            var _local1:FlowLeafElement;
            var _local2:LinkElement;
            var _local3:Boolean;
            if (absoluteStart == absoluteEnd){
                return (false);
            };
            if (this._extendToLinkBoundary){
                _local1 = textFlow.findLeaf(absoluteStart);
                _local2 = (_local1.getParentByType(LinkElement) as LinkElement);
                if (_local2){
                    absoluteStart = _local2.getAbsoluteStart();
                };
                _local1 = textFlow.findLeaf((absoluteEnd - 1));
                _local2 = (_local1.getParentByType(LinkElement) as LinkElement);
                if (_local2){
                    absoluteEnd = (_local2.getAbsoluteStart() + _local2.textLength);
                };
            };
            this._memento = ModelEdit.saveCurrentState(textFlow, absoluteStart, absoluteEnd);
            if (((this._hrefString) && (!((this._hrefString == ""))))){
                _local3 = TextFlowEdit.makeLink(textFlow, absoluteStart, absoluteEnd, this._hrefString, this._target);
                if (!_local3){
                    this._memento = null;
                    return (false);
                };
                _local1 = textFlow.findLeaf(absoluteStart);
                this._linkElement = (_local1.getParentByType(LinkElement) as LinkElement);
            } else {
                TextFlowEdit.removeLink(textFlow, absoluteStart, absoluteEnd);
            };
            return (true);
        }
        override public function undo():SelectionState{
            if (this._memento){
                this._memento.undo();
            };
            return (originalSelectionState);
        }
        override public function redo():SelectionState{
            if (((!((absoluteStart == absoluteEnd))) && (this._memento))){
                if (this._hrefString != ""){
                    TextFlowEdit.makeLink(textFlow, absoluteStart, absoluteEnd, this._hrefString, this._target);
                } else {
                    TextFlowEdit.removeLink(textFlow, absoluteStart, absoluteEnd);
                };
            };
            return (originalSelectionState);
        }

    }
}//package flashx.textLayout.operations 
﻿package flashx.textLayout.container {
    import flash.geom.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.utils.*;
    import flashx.textLayout.*;

    public class ColumnState {

        private var _inputsChanged:Boolean;
        private var _blockProgression:String;
        private var _columnDirection:String;
        private var _paddingTop:Number;
        private var _paddingBottom:Number;
        private var _paddingLeft:Number;
        private var _paddingRight:Number;
        private var _compositionWidth:Number;
        private var _compositionHeight:Number;
        private var _forceSingleColumn:Boolean;
        private var _inputColumnWidth:Object;
        private var _inputColumnGap:Number;
        private var _inputColumnCount:Object;
        private var _columnWidth:Number;
        private var _columnCount:int;
        private var _columnGap:Number;
        private var _inset:Number;
        private var _columnArray:Array;
        private var _singleColumn:Rectangle;

        public function ColumnState(_arg1:String, _arg2:String, _arg3:ContainerController, _arg4:Number, _arg5:Number){
            this._inputsChanged = true;
            this._columnCount = 0;
            if (_arg1 != null){
                this.updateInputs(_arg1, _arg2, _arg3, _arg4, _arg5);
                this.computeColumns();
            };
        }
        public function get columnWidth():Number{
            return (this._columnWidth);
        }
        public function get columnCount():int{
            return (this._columnCount);
        }
        public function get columnGap():Number{
            return (this._columnGap);
        }
        public function getColumnAt(_arg1:int):Rectangle{
            return ((((this._columnCount == 1)) ? this._singleColumn : this._columnArray[_arg1]));
        }
        tlf_internal function updateInputs(_arg1:String, _arg2:String, _arg3:ContainerController, _arg4:Number, _arg5:Number):void{
            var _local6:Number = _arg3.getTotalPaddingTop();
            var _local7:Number = _arg3.getTotalPaddingBottom();
            var _local8:Number = _arg3.getTotalPaddingLeft();
            var _local9:Number = _arg3.getTotalPaddingRight();
            var _local10:ITextLayoutFormat = _arg3.computedFormat;
            var _local11:Object = _local10.columnWidth;
            var _local12:Number = _local10.columnGap;
            var _local13:Object = _local10.columnCount;
            var _local14:Boolean = (((((((_local10.columnCount == FormatValue.AUTO)) && ((((_local10.columnWidth == FormatValue.AUTO)) || ((Number(_local10.columnWidth) == 0)))))) || ((_arg3.rootElement.computedFormat.lineBreak == LineBreak.EXPLICIT)))) || (isNaN((((_arg1 == BlockProgression.RL)) ? _arg5 : _arg4))));
            if (this._inputsChanged == false){
                this._inputsChanged = ((((((((((((((((((((((!((_arg4 == this._compositionHeight))) || (!((_arg5 == this._compositionHeight))))) || (!((this._paddingTop == _local6))))) || (!((this._paddingBottom == _local7))))) || (!((this._paddingLeft == _local8))))) || (!((this._paddingRight == _local9))))) || (!((this._blockProgression == this._blockProgression))))) || (!((this._columnDirection == _arg2))))) || (!((this._forceSingleColumn == _local14))))) || (!((this._inputColumnWidth == _local11))))) || (!((this._inputColumnGap == _local12))))) || (!((this._inputColumnCount == _local13))));
            };
            if (this._inputsChanged){
                this._blockProgression = _arg1;
                this._columnDirection = _arg2;
                this._paddingTop = _local6;
                this._paddingBottom = _local7;
                this._paddingLeft = _local8;
                this._paddingRight = _local9;
                this._compositionWidth = _arg4;
                this._compositionHeight = _arg5;
                this._forceSingleColumn = _local14;
                this._inputColumnWidth = _local11;
                this._inputColumnGap = _local12;
                this._inputColumnCount = _local13;
            };
        }
        tlf_internal function computeColumns():void{
            var _local1:Number;
            var _local2:int;
            var _local3:Number;
            var _local6:Number;
            var _local7:Number;
            var _local8:Number;
            var _local9:Number;
            var _local10:Number;
            var _local11:Number;
            var _local12:Number;
            var _local13:int;
            if (!this._inputsChanged){
                return;
            };
            var _local4:Number = (((this._blockProgression == BlockProgression.RL)) ? this._compositionHeight : this._compositionWidth);
            var _local5:Number = (((this._blockProgression == BlockProgression.RL)) ? (this._paddingTop + this._paddingBottom) : (this._paddingLeft + this._paddingRight));
            _local4 = (((((_local4 > _local5)) && (!(isNaN(_local4))))) ? (_local4 - _local5) : 0);
            if (this._forceSingleColumn){
                _local2 = 1;
                _local3 = _local4;
                _local1 = 0;
            } else {
                _local1 = this._inputColumnGap;
                if (this._inputColumnWidth == FormatValue.AUTO){
                    _local2 = Number(this._inputColumnCount);
                    if (((_local2 - 1) * _local1) < _local4){
                        _local3 = ((_local4 - ((_local2 - 1) * _local1)) / _local2);
                    } else {
                        if (_local1 > _local4){
                            _local2 = 1;
                            _local3 = _local4;
                            _local1 = 0;
                        } else {
                            _local2 = Math.floor((_local4 / _local1));
                            _local3 = ((_local4 - ((_local2 - 1) * _local1)) / _local2);
                        };
                    };
                } else {
                    if (this._inputColumnCount == FormatValue.AUTO){
                        _local3 = Number(this._inputColumnWidth);
                        if (_local3 >= _local4){
                            _local2 = 1;
                            _local3 = _local4;
                            _local1 = 0;
                        } else {
                            _local2 = Math.floor(((_local4 + _local1) / (_local3 + _local1)));
                            _local3 = (((_local4 + _local1) / _local2) - _local1);
                        };
                    } else {
                        _local2 = Number(this._inputColumnCount);
                        _local3 = Number(this._inputColumnWidth);
                        if (((_local2 * _local3) + ((_local2 - 1) * _local1)) <= _local4){
                        } else {
                            if (_local3 >= _local4){
                                _local2 = 1;
                                _local1 = 0;
                            } else {
                                _local2 = Math.floor(((_local4 + _local1) / (_local3 + _local1)));
                                _local3 = (((_local4 + _local1) / _local2) - _local1);
                            };
                        };
                    };
                };
            };
            this._columnWidth = _local3;
            this._columnCount = _local2;
            this._columnGap = _local1;
            this._inset = _local5;
            if (this._blockProgression == BlockProgression.TB){
                if (this._columnDirection == Direction.LTR){
                    _local6 = this._paddingLeft;
                    _local8 = (this._columnWidth + this._columnGap);
                    _local11 = this._columnWidth;
                } else {
                    _local6 = ((isNaN(this._compositionWidth)) ? this._paddingLeft : ((this._compositionWidth - this._paddingRight) - this._columnWidth));
                    _local8 = -((this._columnWidth + this._columnGap));
                    _local11 = this._columnWidth;
                };
                _local7 = this._paddingTop;
                _local9 = 0;
                _local12 = (this._paddingTop + this._paddingBottom);
                _local10 = (((((this._compositionHeight > _local12)) && (!(isNaN(this._compositionHeight))))) ? (this._compositionHeight - _local12) : 0);
            } else {
                if (this._blockProgression == BlockProgression.RL){
                    _local6 = ((isNaN(this._compositionWidth)) ? -(this._paddingRight) : (this._paddingLeft - this._compositionWidth));
                    _local7 = this._paddingTop;
                    _local8 = 0;
                    _local9 = (this._columnWidth + this._columnGap);
                    _local12 = (this._paddingLeft + this._paddingRight);
                    _local11 = ((this._compositionWidth)>_local12) ? (this._compositionWidth - _local12) : 0;
                    _local10 = this._columnWidth;
                };
            };
            if (_local11 == 0){
                _local11 = Twips.ONE_TWIP;
                if (this._blockProgression == BlockProgression.RL){
                    _local6 = (_local6 - _local11);
                };
            };
            if (_local10 == 0){
                _local10 = Twips.ONE_TWIP;
            };
            if (this._columnCount == 1){
                this._singleColumn = new Rectangle(_local6, _local7, _local11, _local10);
                this._columnArray = null;
            } else {
                if (this._columnCount == 0){
                    this._singleColumn = null;
                    this._columnArray = null;
                } else {
                    if (this._columnArray){
                        this._columnArray.splice(0);
                    } else {
                        this._columnArray = new Array();
                    };
                    _local13 = 0;
                    while (_local13 < this._columnCount) {
                        this._columnArray.push(new Rectangle(_local6, _local7, _local11, _local10));
                        _local6 = (_local6 + _local8);
                        _local7 = (_local7 + _local9);
                        _local13++;
                    };
                };
            };
        }

    }
}//package flashx.textLayout.container 
﻿package flashx.textLayout.container {
    import flash.events.*;

    public interface ISandboxSupport {

        function beginMouseCapture():void;
        function endMouseCapture():void;
        function mouseUpSomewhere(_arg1:Event):void;
        function mouseMoveSomewhere(_arg1:Event):void;

    }
}//package flashx.textLayout.container 
﻿package flashx.textLayout.container {
    import flash.display.*;
    import flash.utils.*;
    import flash.text.engine.*;
    import flash.events.*;
    import flash.geom.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.compose.*;
    import flash.ui.*;
    import flashx.textLayout.events.*;
    import flashx.textLayout.utils.*;
    import flashx.textLayout.*;

    public class ContainerController implements IInteractionEventHandler, ITextLayoutFormat, ISandboxSupport {

        private static var _containerControllerInitialFormat:ITextLayoutFormat = createContainerControllerInitialFormat();
        private static var scratchRectangle:Rectangle = new Rectangle();

        private var _textFlowCache:TextFlow;
        private var _rootElement:ContainerFormattedElement;
        private var _absoluteStart:int;
        private var _textLength:int;
        private var _container:Sprite;
        private var _mouseEventManager:FlowElementMouseEventManager;
        protected var _computedFormat:TextLayoutFormat;
        private var _columnState:ColumnState;
        private var _compositionWidth:Number = 0;
        private var _compositionHeight:Number = 0;
        private var _measureWidth:Boolean;
        private var _measureHeight:Boolean;
        private var _contentLeft:Number;
        private var _contentTop:Number;
        private var _contentWidth:Number;
        private var _contentHeight:Number;
        private var _uncomposedTextLength:int;
        private var _finalParcelStart:int;
        private var _horizontalScrollPolicy:String;
        private var _verticalScrollPolicy:String;
        private var _xScroll:Number;
        private var _yScroll:Number;
        private var _minListenersAttached:Boolean = false;
        private var _allListenersAttached:Boolean = false;
        private var _selectListenersAttached:Boolean = false;
        tlf_internal var _mouseWheelListenerAttached:Boolean = false;
        private var _shapesInvalid:Boolean = false;
        private var _backgroundShape:Shape;
        private var _scrollTimer:Timer = null;
        protected var _hasScrollRect:Boolean;
        private var _linesInView:Array;
        private var _updateStart:int;
        private var _composedFloats:Array;
        private var _floatsInContainer:Array;
        private var _shapeChildren:Array;
        private var _format:FlowValueHolder;
        private var _containerRoot:DisplayObject;
        private var _transparentBGX:Number;
        private var _transparentBGY:Number;
        private var _transparentBGWidth:Number;
        private var _transparentBGHeight:Number;
        private var blinkTimer:Timer;
        private var blinkObject:DisplayObject;
        private var _selectionSprite:Sprite;

        public function ContainerController(_arg1:Sprite, _arg2:Number=100, _arg3:Number=100){
            this.initialize(_arg1, _arg2, _arg3);
        }
        private static function pinValue(_arg1:Number, _arg2:Number, _arg3:Number):Number{
            return (Math.min(Math.max(_arg1, _arg2), _arg3));
        }
        tlf_internal static function createDefaultContextMenu():ContextMenu{
            var _local1:ContextMenu = new ContextMenu();
            _local1.clipboardMenu = true;
            _local1.clipboardItems.clear = true;
            _local1.clipboardItems.copy = true;
            _local1.clipboardItems.cut = true;
            _local1.clipboardItems.paste = true;
            _local1.clipboardItems.selectAll = true;
            return (_local1);
        }
        private static function createContainerControllerInitialFormat():ITextLayoutFormat{
            var _local1:TextLayoutFormat = new TextLayoutFormat();
            _local1.columnCount = FormatValue.INHERIT;
            _local1.columnGap = FormatValue.INHERIT;
            _local1.columnWidth = FormatValue.INHERIT;
            _local1.verticalAlign = FormatValue.INHERIT;
            return (_local1);
        }
        public static function get containerControllerInitialFormat():ITextLayoutFormat{
            return (_containerControllerInitialFormat);
        }
        public static function set containerControllerInitialFormat(_arg1:ITextLayoutFormat):void{
            _containerControllerInitialFormat = _arg1;
        }

        tlf_internal function get allListenersAttached():Boolean{
            return (this._allListenersAttached);
        }
        tlf_internal function get hasScrollRect():Boolean{
            return (this._hasScrollRect);
        }
        private function initialize(_arg1:Sprite, _arg2:Number, _arg3:Number):void{
            this._container = _arg1;
            this._containerRoot = null;
            this._textLength = 0;
            this._absoluteStart = -1;
            this._columnState = new ColumnState(null, null, null, 0, 0);
            this._xScroll = (this._yScroll = 0);
            this._contentWidth = (this._contentHeight = 0);
            this._uncomposedTextLength = 0;
            this._container.doubleClickEnabled = true;
            this._horizontalScrollPolicy = (this._verticalScrollPolicy = String(ScrollPolicy.scrollPolicyPropertyDefinition.defaultValue));
            this._hasScrollRect = false;
            this._shapeChildren = [];
            this._linesInView = [];
            this.setCompositionSize(_arg2, _arg3);
            this.format = _containerControllerInitialFormat;
        }
        tlf_internal function get effectiveBlockProgression():String{
            return (((this._rootElement) ? this._rootElement.computedFormat.blockProgression : BlockProgression.TB));
        }
        tlf_internal function getContainerRoot():DisplayObject{
            var x:* = 0;
            if ((((((this._containerRoot == null)) && (this._container))) && (this._container.stage))){
                try {
                    x = this._container.stage.numChildren;
                    this._containerRoot = this._container.stage;
                } catch(e:Error) {
                    _containerRoot = _container.root;
                };
            };
            return (this._containerRoot);
        }
        public function get flowComposer():IFlowComposer{
            return (((this.textFlow) ? this.textFlow.flowComposer : null));
        }
        tlf_internal function get shapesInvalid():Boolean{
            return (this._shapesInvalid);
        }
        tlf_internal function set shapesInvalid(_arg1:Boolean):void{
            this._shapesInvalid = _arg1;
        }
        public function get columnState():ColumnState{
            if (this._rootElement == null){
                return (null);
            };
            if (this._computedFormat == null){
                this.computedFormat;
            };
            this._columnState.computeColumns();
            return (this._columnState);
        }
        public function get container():Sprite{
            return (this._container);
        }
        public function get compositionWidth():Number{
            return (this._compositionWidth);
        }
        public function get compositionHeight():Number{
            return (this._compositionHeight);
        }
        tlf_internal function get measureWidth():Boolean{
            return (this._measureWidth);
        }
        tlf_internal function get measureHeight():Boolean{
            return (this._measureHeight);
        }
        public function setCompositionSize(_arg1:Number, _arg2:Number):void{
            var _local3 = !((((this._compositionWidth == _arg1)) || (((isNaN(this._compositionWidth)) && (isNaN(_arg1))))));
            var _local4 = !((((this._compositionHeight == _arg2)) || (((isNaN(this._compositionHeight)) && (isNaN(_arg2))))));
            if (((_local3) || (_local4))){
                this._compositionHeight = _arg2;
                this._measureHeight = isNaN(this._compositionHeight);
                this._compositionWidth = _arg1;
                this._measureWidth = isNaN(this._compositionWidth);
                if (this._computedFormat){
                    this.resetColumnState();
                };
                if ((((this.effectiveBlockProgression == BlockProgression.TB)) ? _local3 : _local4)){
                    if (((this.textFlow) && (this._textLength))){
                        this.textFlow.damage(this.absoluteStart, this._textLength, TextLineValidity.INVALID, false);
                    };
                } else {
                    this.invalidateContents();
                };
                this.attachTransparentBackgroundForHit(false);
            };
        }
        public function get textFlow():TextFlow{
            if (((!(this._textFlowCache)) && (this._rootElement))){
                this._textFlowCache = this._rootElement.getTextFlow();
            };
            return (this._textFlowCache);
        }
        public function get rootElement():ContainerFormattedElement{
            return (this._rootElement);
        }
        tlf_internal function setRootElement(_arg1:ContainerFormattedElement):void{
            if (this._rootElement != _arg1){
                if (this._mouseEventManager){
                    this._mouseEventManager.stopHitTests();
                };
                if (!_arg1){
                    this._mouseEventManager = null;
                } else {
                    if (!this._mouseEventManager){
                        this._mouseEventManager = new FlowElementMouseEventManager(this.container, null);
                    };
                };
                this.clearCompositionResults();
                this.detachContainer();
                this._rootElement = _arg1;
                this._textFlowCache = null;
                this._textLength = 0;
                this._absoluteStart = -1;
                this.attachContainer();
                if (this._rootElement){
                    this.formatChanged();
                };
                if (((this._container) && (Configuration.playerEnablesSpicyFeatures))){
                    this._container["needsSoftKeyboard"] = ((this.interactionManager) && ((this.interactionManager.editingMode == EditingMode.READ_WRITE)));
                };
            };
        }
        public function get interactionManager():ISelectionManager{
            return (((this.textFlow) ? this.textFlow.interactionManager : null));
        }
        tlf_internal function get uncomposedTextLength():int{
            return (this._uncomposedTextLength);
        }
        tlf_internal function get finalParcelStart():int{
            return (this._finalParcelStart);
        }
        tlf_internal function set finalParcelStart(_arg1:int):void{
            this._finalParcelStart = _arg1;
        }
        public function get absoluteStart():int{
            var _local3:int;
            var _local4:ContainerController;
            if (this._absoluteStart != -1){
                return (this._absoluteStart);
            };
            var _local1:int;
            var _local2:IFlowComposer = this.flowComposer;
            if (_local2){
                _local3 = _local2.getControllerIndex(this);
                if (_local3 != 0){
                    _local4 = _local2.getControllerAt((_local3 - 1));
                    _local1 = (_local4.absoluteStart + _local4.textLength);
                };
            };
            this._absoluteStart = _local1;
            return (_local1);
        }
        public function get textLength():int{
            return (this._textLength);
        }
        tlf_internal function setTextLengthOnly(_arg1:int):void{
            var _local2:IFlowComposer;
            var _local3:int;
            var _local4:ContainerController;
            if (this._textLength != _arg1){
                this._textLength = _arg1;
                this._uncomposedTextLength = 0;
                if (this._absoluteStart != -1){
                    _local2 = this.flowComposer;
                    if (_local2){
                        _local3 = (_local2.getControllerIndex(this) + 1);
                        while (_local3 < this.flowComposer.numControllers) {
                            var _temp1 = _local3;
                            _local3 = (_local3 + 1);
                            _local4 = _local2.getControllerAt(_temp1);
                            if (_local4._absoluteStart == -1){
                                break;
                            };
                            _local4._absoluteStart = -1;
                            _local4._uncomposedTextLength = 0;
                        };
                    };
                };
            };
        }
        tlf_internal function setTextLength(_arg1:int):void{
            var _local3:Boolean;
            var _local4:IFlowComposer;
            var _local5:int;
            var _local2:int;
            if (this.textFlow){
                _local3 = (this.effectiveBlockProgression == BlockProgression.RL);
                _local4 = this.textFlow.flowComposer;
                if (((((!((_arg1 == 0))) && ((_local4.getControllerIndex(this) == (_local4.numControllers - 1))))) && (((((!(_local3)) && (!((this._verticalScrollPolicy == ScrollPolicy.OFF))))) || (((_local3) && (!((this._horizontalScrollPolicy == ScrollPolicy.OFF))))))))){
                    _local5 = this.absoluteStart;
                    _local2 = (this.textFlow.textLength - (_arg1 + _local5));
                    _arg1 = (this.textFlow.textLength - _local5);
                };
            };
            this.setTextLengthOnly(_arg1);
            this._uncomposedTextLength = _local2;
        }
        tlf_internal function updateLength(_arg1:int, _arg2:int):void{
            this.setTextLengthOnly((this._textLength + _arg2));
        }
        public function isDamaged():Boolean{
            return (this.flowComposer.isDamaged((this.absoluteStart + this._textLength)));
        }
        tlf_internal function formatChanged():void{
            this._computedFormat = null;
            this.invalidateContents();
        }
        tlf_internal function styleSelectorChanged():void{
            this.modelChanged(ModelChange.STYLE_SELECTOR_CHANGED, this, 0, this._textLength);
            this._computedFormat = null;
        }
        tlf_internal function modelChanged(_arg1:String, _arg2:ContainerController, _arg3:int, _arg4:int, _arg5:Boolean=true, _arg6:Boolean=true):void{
            var _local7:TextFlow = this._rootElement.getTextFlow();
            if (_local7){
                _local7.processModelChanged(_arg1, _arg2, (this.absoluteStart + _arg3), _arg4, _arg5, _arg6);
            };
        }
        private function gatherVisibleLines(_arg1:String, _arg2:Boolean):void{
            var _local15:TextFlowLine;
            var _local16:TextLine;
            var _local3:Number = ((this._measureWidth) ? this._contentWidth : this._compositionWidth);
            var _local4:Number = ((this._measureHeight) ? this._contentHeight : this._compositionHeight);
            var _local5:Number = ((_arg1)==BlockProgression.RL) ? (this._xScroll - _local3) : this._xScroll;
            var _local6:Number = this._yScroll;
            var _local7:int = Twips.roundTo(_local5);
            var _local8:int = Twips.roundTo(_local6);
            var _local9:int = Twips.to(_local3);
            var _local10:int = Twips.to(_local4);
            var _local11:IFlowComposer = this.flowComposer;
            var _local12:int = _local11.findLineIndexAtPosition(this.absoluteStart);
            var _local13:int = _local11.findLineIndexAtPosition(((this.absoluteStart + this._textLength) - 1));
            var _local14:int = _local12;
            while (_local14 <= _local13) {
                _local15 = _local11.getLineAt(_local14);
                if ((((_local15 == null)) || (!((_local15.controller == this))))){
                } else {
                    _local16 = this.isLineVisible(_arg1, _local7, _local8, _local9, _local10, _local15, null);
                    if (_local16){
                        if (_arg2){
                            _local15.createShape(_arg1, _local16);
                        };
                        this._linesInView.push(_local16);
                    };
                };
                _local14++;
            };
            this._updateStart = this.absoluteStart;
        }
        tlf_internal function fillShapeChildren():void{
            var _local3:Number;
            var _local4:Number;
            var _local5:Number;
            var _local6:Number;
            var _local7:TextLine;
            if (this._textLength == 0){
                return;
            };
            var _local1:String = this.effectiveBlockProgression;
            if (this._linesInView.length == 0){
                this.gatherVisibleLines(_local1, true);
            };
            var _local2:Boolean = (((_local1 == BlockProgression.RL)) && ((((this._horizontalScrollPolicy == ScrollPolicy.OFF)) && ((this._verticalScrollPolicy == ScrollPolicy.OFF)))));
            if (_local2){
                _local3 = ((this._measureWidth) ? this._contentWidth : this._compositionWidth);
                _local4 = ((this._measureHeight) ? this._contentHeight : this._compositionHeight);
                _local5 = (this._xScroll - _local3);
                _local6 = this._yScroll;
                if (((!((_local5 == 0))) || (!((_local6 == 0))))){
                    for each (_local7 in this._linesInView) {
                        if (!_local7){
                        } else {
                            if (_local2){
                                _local7.x = (_local7.x - _local5);
                                _local7.y = (_local7.y - _local6);
                            };
                        };
                    };
                    this._contentLeft = (this._contentLeft - _local5);
                    this._contentTop = (this._contentTop - _local6);
                };
            };
        }
        public function get horizontalScrollPolicy():String{
            return (this._horizontalScrollPolicy);
        }
        public function set horizontalScrollPolicy(_arg1:String):void{
            var _local2:String = (ScrollPolicy.scrollPolicyPropertyDefinition.setHelper(this._horizontalScrollPolicy, _arg1) as String);
            if (_local2 != this._horizontalScrollPolicy){
                this._horizontalScrollPolicy = _local2;
                if (this._horizontalScrollPolicy == ScrollPolicy.OFF){
                    this.horizontalScrollPosition = 0;
                };
                this.formatChanged();
            };
        }
        tlf_internal function checkScrollBounds():void{
            var _local1:Number;
            var _local2:Number;
            var _local3:Boolean;
            var _local4:Boolean;
            if (this.effectiveBlockProgression == BlockProgression.RL){
                _local1 = this._contentWidth;
                _local2 = this.compositionWidth;
                _local3 = this._measureWidth;
            } else {
                _local1 = this._contentHeight;
                _local2 = this.compositionHeight;
                _local3 = this._measureHeight;
            };
            if (((((this.textFlow) && (this._container))) && (!(this._minListenersAttached)))){
                _local4 = ((!(_local3)) && ((_local1 > _local2)));
                if (_local4 != this._mouseWheelListenerAttached){
                    if (this._mouseWheelListenerAttached){
                        this.removeMouseWheelListener();
                    } else {
                        this.addMouseWheelListener();
                    };
                };
            };
        }
        public function get verticalScrollPolicy():String{
            return (this._verticalScrollPolicy);
        }
        public function set verticalScrollPolicy(_arg1:String):void{
            var _local2:String = (ScrollPolicy.scrollPolicyPropertyDefinition.setHelper(this._verticalScrollPolicy, _arg1) as String);
            if (_local2 != this._verticalScrollPolicy){
                this._verticalScrollPolicy = _local2;
                if (this._verticalScrollPolicy == ScrollPolicy.OFF){
                    this.verticalScrollPosition = 0;
                };
                this.formatChanged();
            };
        }
        public function get horizontalScrollPosition():Number{
            return (this._xScroll);
        }
        public function set horizontalScrollPosition(_arg1:Number):void{
            if (!this._rootElement){
                return;
            };
            if (this._horizontalScrollPolicy == ScrollPolicy.OFF){
                this._xScroll = 0;
                return;
            };
            var _local2:Number = this._xScroll;
            var _local3:Number = this.computeHorizontalScrollPosition(_arg1, true);
            if (_local3 != _local2){
                this._shapesInvalid = true;
                this._xScroll = _local3;
                this.updateForScroll(ScrollEventDirection.HORIZONTAL, (_local3 - _local2));
            };
        }
        private function computeHorizontalScrollPosition(_arg1:Number, _arg2:Boolean):Number{
            var _local3:String = this.effectiveBlockProgression;
            var _local4:Number = this.contentWidth;
            var _local5:Number = 0;
            if ((((_local4 > this._compositionWidth)) && (!(this._measureWidth)))){
                if (_local3 == BlockProgression.RL){
                    _local5 = pinValue(_arg1, (this._contentLeft + this._compositionWidth), (this._contentLeft + _local4));
                    if (((((_arg2) && (!((this._uncomposedTextLength == 0))))) && (!((_local5 == this._xScroll))))){
                        this._xScroll = _arg1;
                        if (this._xScroll > (this._contentLeft + this._contentWidth)){
                            this._xScroll = (this._contentLeft + this._contentWidth);
                        };
                        this.flowComposer.composeToController(this.flowComposer.getControllerIndex(this));
                        _local5 = pinValue(_arg1, (this._contentLeft + this._compositionWidth), (this._contentLeft + this._contentWidth));
                    };
                } else {
                    _local5 = pinValue(_arg1, this._contentLeft, ((this._contentLeft + _local4) - this._compositionWidth));
                };
            };
            return (_local5);
        }
        public function get verticalScrollPosition():Number{
            return (this._yScroll);
        }
        public function set verticalScrollPosition(_arg1:Number):void{
            if (!this._rootElement){
                return;
            };
            if (this._verticalScrollPolicy == ScrollPolicy.OFF){
                this._yScroll = 0;
                return;
            };
            var _local2:Number = this._yScroll;
            var _local3:Number = this.computeVerticalScrollPosition(_arg1, true);
            if (_local3 != _local2){
                this._shapesInvalid = true;
                this._yScroll = _local3;
                this.updateForScroll(ScrollEventDirection.VERTICAL, (_local3 - _local2));
            };
        }
        private function computeVerticalScrollPosition(_arg1:Number, _arg2:Boolean):Number{
            var _local3:Number = 0;
            var _local4:Number = this.contentHeight;
            var _local5:String = this.effectiveBlockProgression;
            if (_local4 > this._compositionHeight){
                _local3 = pinValue(_arg1, this._contentTop, (this._contentTop + (_local4 - this._compositionHeight)));
                if (((((_arg2) && (!((this._uncomposedTextLength == 0))))) && ((_local5 == BlockProgression.TB)))){
                    this._yScroll = _arg1;
                    if (this._yScroll < this._contentTop){
                        this._yScroll = this._contentTop;
                    };
                    this.flowComposer.composeToController(this.flowComposer.getControllerIndex(this));
                    _local3 = pinValue(_arg1, this._contentTop, (this._contentTop + (_local4 - this._compositionHeight)));
                };
            };
            return (_local3);
        }
        public function getContentBounds():Rectangle{
            return (new Rectangle(this._contentLeft, this._contentTop, this.contentWidth, this.contentHeight));
        }
        tlf_internal function get contentLeft():Number{
            return (this._contentLeft);
        }
        tlf_internal function get contentTop():Number{
            return (this._contentTop);
        }
        tlf_internal function computeScaledContentMeasure(_arg1:Number):Number{
            var _local2:int = (this.textFlow.textLength - this._finalParcelStart);
            var _local3:Number = (_local2 / (_local2 - this._uncomposedTextLength));
            return ((_arg1 * _local3));
        }
        tlf_internal function get contentHeight():Number{
            if ((((this._uncomposedTextLength == 0)) || (!((this.effectiveBlockProgression == BlockProgression.TB))))){
                return (this._contentHeight);
            };
            return (this.computeScaledContentMeasure(this._contentHeight));
        }
        tlf_internal function get contentWidth():Number{
            if ((((this._uncomposedTextLength == 0)) || (!((this.effectiveBlockProgression == BlockProgression.RL))))){
                return (this._contentWidth);
            };
            return (this.computeScaledContentMeasure(this._contentWidth));
        }
        tlf_internal function setContentBounds(_arg1:Number, _arg2:Number, _arg3:Number, _arg4:Number):void{
            this._contentWidth = _arg3;
            this._contentHeight = _arg4;
            this._contentLeft = _arg1;
            this._contentTop = _arg2;
            this.checkScrollBounds();
        }
        private function updateForScroll(_arg1:String, _arg2:Number):void{
            this._linesInView.length = 0;
            var _local3:IFlowComposer = this.textFlow.flowComposer;
            _local3.updateToController(_local3.getControllerIndex(this));
            this.attachTransparentBackgroundForHit(false);
            if (this.textFlow.hasEventListener(TextLayoutEvent.SCROLL)){
                this.textFlow.dispatchEvent(new ScrollEvent(TextLayoutEvent.SCROLL, false, false, _arg1, _arg2));
            };
        }
        private function get containerScrollRectLeft():Number{
            var _local1:Number;
            if ((((this.horizontalScrollPolicy == ScrollPolicy.OFF)) && ((this.verticalScrollPolicy == ScrollPolicy.OFF)))){
                _local1 = 0;
            } else {
                _local1 = (((this.effectiveBlockProgression == BlockProgression.RL)) ? (this.horizontalScrollPosition - this.compositionWidth) : this.horizontalScrollPosition);
            };
            return (_local1);
        }
        private function get containerScrollRectRight():Number{
            var _local1:Number = (this.containerScrollRectLeft + this.compositionWidth);
            return (_local1);
        }
        private function get containerScrollRectTop():Number{
            var _local1:Number;
            if ((((this.horizontalScrollPolicy == ScrollPolicy.OFF)) && ((this.verticalScrollPolicy == ScrollPolicy.OFF)))){
                _local1 = 0;
            } else {
                _local1 = this.verticalScrollPosition;
            };
            return (_local1);
        }
        private function get containerScrollRectBottom():Number{
            var _local1:Number = (this.containerScrollRectTop + this.compositionHeight);
            return (_local1);
        }
        public function scrollToRange(_arg1:int, _arg2:int):void{
            var _local15:TextFlowLine;
            var _local16:Boolean;
            var _local17:Boolean;
            if (((((!(this._hasScrollRect)) || (!(this.flowComposer)))) || (!((this.flowComposer.getControllerAt((this.flowComposer.numControllers - 1)) == this))))){
                return;
            };
            var _local3:int = this.absoluteStart;
            var _local4:int = Math.min((_local3 + this._textLength), (this.textFlow.textLength - 1));
            _arg1 = Math.max(_local3, Math.min(_arg1, _local4));
            _arg2 = Math.max(_local3, Math.min(_arg2, _local4));
            var _local5 = (this.effectiveBlockProgression == BlockProgression.RL);
            var _local6:int = Math.min(_arg1, _arg2);
            var _local7:int = Math.max(_arg1, _arg2);
            var _local8:int = this.flowComposer.findLineIndexAtPosition(_local6, (_local6 == this.textFlow.textLength));
            var _local9:int = this.flowComposer.findLineIndexAtPosition(_local7, (_local7 == this.textFlow.textLength));
            var _local10:Number = this.containerScrollRectLeft;
            var _local11:Number = this.containerScrollRectTop;
            var _local12:Number = this.containerScrollRectRight;
            var _local13:Number = this.containerScrollRectBottom;
            if (this.flowComposer.damageAbsoluteStart <= _local7){
                _local7 = Math.min((_local6 + 100), (_local7 + 1));
                this.flowComposer.composeToPosition(_local7);
                _local8 = this.flowComposer.findLineIndexAtPosition(_local6, (_local6 == this.textFlow.textLength));
                _local9 = this.flowComposer.findLineIndexAtPosition(_local7, (_local7 == this.textFlow.textLength));
            };
            var _local14:Rectangle = this.rangeToRectangle(_local6, _local7, _local8, _local9);
            if (_local14){
                if (_local5){
                    _local16 = (((_local14.left < _local10)) || ((_local14.right > _local10)));
                    if (_local16){
                        if (_local14.left < _local10){
                            this.horizontalScrollPosition = (_local14.left + this._compositionWidth);
                        };
                        if (_local14.right > _local12){
                            this.horizontalScrollPosition = _local14.right;
                        };
                    };
                    if (_local14.top < _local11){
                        this.verticalScrollPosition = _local14.top;
                    };
                    if (_arg1 == _arg2){
                        _local14.bottom = (_local14.bottom + 2);
                    };
                    if (_local14.bottom > _local13){
                        this.verticalScrollPosition = (_local14.bottom - this._compositionHeight);
                    };
                } else {
                    _local17 = (((_local14.top > _local11)) || ((_local14.bottom < _local13)));
                    if (_local17){
                        if (_local14.top < _local11){
                            this.verticalScrollPosition = _local14.top;
                        };
                        if (_local14.bottom > _local13){
                            this.verticalScrollPosition = (_local14.bottom - this._compositionHeight);
                        };
                    };
                    if (_arg1 == _arg2){
                        _local14.right = (_local14.right + 2);
                    };
                    _local16 = (((_local14.left > _local10)) || ((_local14.right < _local12)));
                    if (((_local16) && ((_local14.left < _local10)))){
                        this.horizontalScrollPosition = (_local14.left - (this._compositionWidth / 2));
                    };
                    if (((_local16) && ((_local14.right > _local12)))){
                        this.horizontalScrollPosition = (_local14.right - (this._compositionWidth / 2));
                    };
                };
            };
        }
        private function rangeToRectangle(_arg1:int, _arg2:int, _arg3:int, _arg4:int):Rectangle{
            var _local5:Rectangle;
            var _local8:TextFlowLine;
            var _local9:TextLine;
            var _local10:int;
            var _local11:Boolean;
            var _local12:int;
            var _local13:int;
            var _local14:FlowLeafElement;
            var _local15:int;
            var _local16:int;
            var _local17:int;
            var _local18:TextFlowLine;
            var _local19:TextFlowLine;
            var _local6:String = this.effectiveBlockProgression;
            var _local7:IFlowComposer = this.textFlow.flowComposer;
            if (((!(this.container)) || (!(_local7)))){
                return (null);
            };
            if (_arg3 == _arg4){
                _local8 = _local7.getLineAt(_arg3);
                if (_local8.isDamaged()){
                    return (null);
                };
                _local9 = _local8.getTextLine(true);
                _local10 = _local8.paragraph.getAbsoluteStart();
                _local11 = false;
                if (_local6 == BlockProgression.RL){
                    _local14 = this._rootElement.getTextFlow().findLeaf(_arg1);
                    _local11 = !((_local14.getParentByType(TCYElement) == null));
                };
                _local12 = _local9.atomCount;
                _local13 = 0;
                if (_arg1 == _arg2){
                    _local12 = _local9.getAtomIndexAtCharIndex((_arg1 - _local10));
                    _local13 = _local12;
                } else {
                    _local16 = (_arg2 - _local10);
                    _local17 = (_arg1 - _local10);
                    while (_local17 < _local16) {
                        _local15 = _local9.getAtomIndexAtCharIndex(_local17);
                        if (_local15 < _local12){
                            _local12 = _local15;
                        };
                        if (_local15 > _local13){
                            _local13 = _local15;
                        };
                        _local17++;
                    };
                };
                _local5 = this.atomToRectangle(_local12, _local8, _local9, _local6, _local11);
                if (_local12 != _local13){
                    _local5 = _local5.union(this.atomToRectangle(_local13, _local8, _local9, _local6, _local11));
                };
            } else {
                _local5 = new Rectangle(this._contentLeft, this._contentTop, this._contentWidth, this._contentHeight);
                _local18 = _local7.getLineAt(_arg3);
                _local19 = _local7.getLineAt(_arg4);
                if (_local6 == BlockProgression.TB){
                    _local5.top = _local18.y;
                    _local5.bottom = (_local19.y + _local19.textHeight);
                } else {
                    _local5.right = (_local18.x + _local18.textHeight);
                    _local5.left = _local19.x;
                };
            };
            return (_local5);
        }
        private function atomToRectangle(_arg1:int, _arg2:TextFlowLine, _arg3:TextLine, _arg4:String, _arg5:Boolean):Rectangle{
            var _local6:Rectangle;
            if (_arg1 > -1){
                _local6 = _arg3.getAtomBounds(_arg1);
            };
            if (_arg4 == BlockProgression.RL){
                if (_arg5){
                    return (new Rectangle((_arg2.x + _local6.x), (_arg2.y + _local6.y), _local6.width, _local6.height));
                };
                return (new Rectangle(_arg2.x, (_arg2.y + _local6.y), _arg2.height, _local6.height));
            };
            return (new Rectangle((_arg2.x + _local6.x), ((_arg2.y - _arg2.height) + _arg2.ascent), _local6.width, (_arg2.height + _arg3.descent)));
        }
        tlf_internal function resetColumnState():void{
            if (this._rootElement){
                this._columnState.updateInputs(this.effectiveBlockProgression, this._rootElement.computedFormat.direction, this, this._compositionWidth, this._compositionHeight);
            };
        }
        public function invalidateContents():void{
            if (this.textFlow){
                this.textFlow.damage(this.absoluteStart, Math.min(this._textLength, 1), FlowDamageType.GEOMETRY, false);
            };
        }
        tlf_internal function attachTransparentBackgroundForHit(_arg1:Boolean):void{
            var _local2:Sprite;
            var _local3:Number;
            var _local4:Number;
            var _local5:Boolean;
            var _local6:Number;
            var _local7:Number;
            if (((((this._minListenersAttached) || (this._mouseWheelListenerAttached))) && (this.attachTransparentBackground))){
                _local2 = this._container;
                if (_local2){
                    if (_arg1){
                        _local2.graphics.clear();
                        this._transparentBGX = (this._transparentBGY = (this._transparentBGWidth = (this._transparentBGHeight = NaN)));
                    } else {
                        _local3 = ((this._measureWidth) ? this._contentWidth : this._compositionWidth);
                        _local4 = ((this._measureHeight) ? this._contentHeight : this._compositionHeight);
                        _local5 = (((this.effectiveBlockProgression == BlockProgression.RL)) && (!((this._horizontalScrollPolicy == ScrollPolicy.OFF))));
                        _local6 = ((_local5) ? (this._xScroll - _local3) : this._xScroll);
                        _local7 = this._yScroll;
                        if (((((((!((_local6 == this._transparentBGX))) || (!((_local7 == this._transparentBGY))))) || (!((_local3 == this._transparentBGWidth))))) || (!((_local4 == this._transparentBGHeight))))){
                            _local2.graphics.clear();
                            if (((!((_local3 == 0))) && (!((_local4 == 0))))){
                                _local2.graphics.beginFill(0, 0);
                                _local2.graphics.drawRect(_local6, _local7, _local3, _local4);
                                _local2.graphics.endFill();
                            };
                            this._transparentBGX = _local6;
                            this._transparentBGY = _local7;
                            this._transparentBGWidth = _local3;
                            this._transparentBGHeight = _local4;
                        };
                    };
                };
            };
        }
        tlf_internal function interactionManagerChanged(_arg1:ISelectionManager):void{
            if (!_arg1){
                this.detachContainer();
            };
            this.attachContainer();
            this.checkScrollBounds();
            if (this._mouseEventManager){
                this._mouseEventManager.needsCtrlKey = ((!((this.interactionManager == null))) && ((this.interactionManager.editingMode == EditingMode.READ_WRITE)));
            };
            if (((this._container) && (Configuration.playerEnablesSpicyFeatures))){
                this._container["needsSoftKeyboard"] = ((this.interactionManager) && ((this.interactionManager.editingMode == EditingMode.READ_WRITE)));
            };
        }
        tlf_internal function attachContainer():void{
            if (((((!(this._minListenersAttached)) && (this.textFlow))) && (this.textFlow.interactionManager))){
                this._minListenersAttached = true;
                if (this._container){
                    this._container.addEventListener(FocusEvent.FOCUS_IN, this.requiredFocusInHandler);
                    this._container.addEventListener(MouseEvent.MOUSE_OVER, this.requiredMouseOverHandler);
                    this.attachTransparentBackgroundForHit(false);
                    if (((this._container.stage) && ((this._container.stage.focus == this._container)))){
                        this.attachAllListeners();
                    };
                };
            };
        }
        tlf_internal function attachInteractionHandlers():void{
            var _local1:IInteractionEventHandler = this.getInteractionHandler();
            this._container.addEventListener(MouseEvent.MOUSE_DOWN, this.requiredMouseDownHandler);
            this._container.addEventListener(FocusEvent.FOCUS_OUT, this.requiredFocusOutHandler);
            this._container.addEventListener(MouseEvent.DOUBLE_CLICK, _local1.mouseDoubleClickHandler);
            this._container.addEventListener(Event.ACTIVATE, _local1.activateHandler);
            this._container.addEventListener(FocusEvent.MOUSE_FOCUS_CHANGE, _local1.focusChangeHandler);
            this._container.addEventListener(FocusEvent.KEY_FOCUS_CHANGE, _local1.focusChangeHandler);
            this._container.addEventListener(TextEvent.TEXT_INPUT, _local1.textInputHandler);
            this._container.addEventListener(MouseEvent.MOUSE_OUT, _local1.mouseOutHandler);
            this.addMouseWheelListener();
            this._container.addEventListener(Event.DEACTIVATE, _local1.deactivateHandler);
            this._container.addEventListener("imeStartComposition", _local1.imeStartCompositionHandler);
            if (this._container.contextMenu){
                this._container.contextMenu.addEventListener(ContextMenuEvent.MENU_SELECT, _local1.menuSelectHandler);
            };
            this._container.addEventListener(Event.COPY, _local1.editHandler);
            this._container.addEventListener(Event.SELECT_ALL, _local1.editHandler);
            this._container.addEventListener(Event.CUT, _local1.editHandler);
            this._container.addEventListener(Event.PASTE, _local1.editHandler);
            this._container.addEventListener(Event.CLEAR, _local1.editHandler);
        }
        tlf_internal function removeInteractionHandlers():void{
            var _local1:IInteractionEventHandler = this.getInteractionHandler();
            this._container.removeEventListener(MouseEvent.MOUSE_DOWN, this.requiredMouseDownHandler);
            this._container.removeEventListener(FocusEvent.FOCUS_OUT, this.requiredFocusOutHandler);
            this._container.removeEventListener(MouseEvent.DOUBLE_CLICK, _local1.mouseDoubleClickHandler);
            this._container.removeEventListener(Event.ACTIVATE, _local1.activateHandler);
            this._container.removeEventListener(FocusEvent.MOUSE_FOCUS_CHANGE, _local1.focusChangeHandler);
            this._container.removeEventListener(FocusEvent.KEY_FOCUS_CHANGE, _local1.focusChangeHandler);
            this._container.removeEventListener(TextEvent.TEXT_INPUT, _local1.textInputHandler);
            this._container.removeEventListener(MouseEvent.MOUSE_OUT, _local1.mouseOutHandler);
            this.removeMouseWheelListener();
            this._container.removeEventListener(Event.DEACTIVATE, _local1.deactivateHandler);
            this._container.removeEventListener("imeStartComposition", _local1.imeStartCompositionHandler);
            if (this._container.contextMenu){
                this._container.contextMenu.removeEventListener(ContextMenuEvent.MENU_SELECT, _local1.menuSelectHandler);
            };
            this._container.removeEventListener(Event.COPY, _local1.editHandler);
            this._container.removeEventListener(Event.SELECT_ALL, _local1.editHandler);
            this._container.removeEventListener(Event.CUT, _local1.editHandler);
            this._container.removeEventListener(Event.PASTE, _local1.editHandler);
            this._container.removeEventListener(Event.CLEAR, _local1.editHandler);
            this.clearSelectHandlers();
        }
        private function detachContainer():void{
            if (this._minListenersAttached){
                if (this._container){
                    this._container.removeEventListener(FocusEvent.FOCUS_IN, this.requiredFocusInHandler);
                    this._container.removeEventListener(MouseEvent.MOUSE_OVER, this.requiredMouseOverHandler);
                    if (this._allListenersAttached){
                        this.removeInteractionHandlers();
                        this.removeContextMenu();
                        this.attachTransparentBackgroundForHit(true);
                        this._allListenersAttached = false;
                    };
                };
                this._minListenersAttached = false;
            };
            this.removeMouseWheelListener();
        }
        private function attachAllListeners():void{
            if (((((!(this._allListenersAttached)) && (this.textFlow))) && (this.textFlow.interactionManager))){
                this._allListenersAttached = true;
                if (this._container){
                    this.attachContextMenu();
                    this.attachInteractionHandlers();
                };
            };
        }
        tlf_internal function addMouseWheelListener():void{
            if (!this._mouseWheelListenerAttached){
                this._container.addEventListener(MouseEvent.MOUSE_WHEEL, this.getInteractionHandler().mouseWheelHandler);
                this._mouseWheelListenerAttached = true;
            };
        }
        tlf_internal function removeMouseWheelListener():void{
            if (this._mouseWheelListenerAttached){
                this._container.removeEventListener(MouseEvent.MOUSE_WHEEL, this.getInteractionHandler().mouseWheelHandler);
                this._mouseWheelListenerAttached = false;
            };
        }
        tlf_internal function attachContextMenu():void{
            this._container.contextMenu = this.createContextMenu();
        }
        tlf_internal function removeContextMenu():void{
            this._container.contextMenu = null;
        }
        protected function createContextMenu():ContextMenu{
            return (createDefaultContextMenu());
        }
        tlf_internal function scrollTimerHandler(_arg1:Event):void{
            var containerPoint:* = null;
            var scrollChange:* = 0;
            var mouseEvent:* = null;
            var stashedScrollTimer:* = null;
            var event:* = _arg1;
            if (!this._scrollTimer){
                return;
            };
            if ((((((this.textFlow.interactionManager == null)) || ((this.textFlow.interactionManager.activePosition < this.absoluteStart)))) || ((this.textFlow.interactionManager.activePosition > (this.absoluteStart + this.textLength))))){
                event = null;
            };
            if ((event is MouseEvent)){
                this._scrollTimer.stop();
                this._scrollTimer.removeEventListener(TimerEvent.TIMER, this.scrollTimerHandler);
                event.currentTarget.removeEventListener(MouseEvent.MOUSE_UP, this.scrollTimerHandler);
                this._scrollTimer = null;
            } else {
                if (!event){
                    this._scrollTimer.stop();
                    this._scrollTimer.removeEventListener(TimerEvent.TIMER, this.scrollTimerHandler);
                    if (this.getContainerRoot()){
                        this.getContainerRoot().removeEventListener(MouseEvent.MOUSE_UP, this.scrollTimerHandler);
                    };
                    this._scrollTimer = null;
                } else {
                    if (this._container.stage){
                        containerPoint = new Point(this._container.stage.mouseX, this._container.stage.mouseY);
                        containerPoint = this._container.globalToLocal(containerPoint);
                        scrollChange = this.autoScrollIfNecessaryInternal(containerPoint);
                        if (((!((scrollChange == 0))) && (this.interactionManager))){
                            mouseEvent = new PsuedoMouseEvent(MouseEvent.MOUSE_MOVE, false, false, this._container.stage.mouseX, this._container.stage.mouseY, this._container.stage, false, false, false, true);
                            stashedScrollTimer = this._scrollTimer;
                            try {
                                this._scrollTimer = null;
                                this.interactionManager.mouseMoveHandler(mouseEvent);
                            } catch(e:Error) {
                                throw (e);
                            } finally {
                                this._scrollTimer = stashedScrollTimer;
                            };
                        };
                    };
                };
            };
        }
        public function autoScrollIfNecessary(_arg1:int, _arg2:int):void{
            var _local4:Boolean;
            var _local5:ContainerController;
            var _local6:Rectangle;
            if (this.flowComposer.getControllerAt((this.flowComposer.numControllers - 1)) != this){
                _local4 = (this.effectiveBlockProgression == BlockProgression.RL);
                _local5 = this.flowComposer.getControllerAt((this.flowComposer.numControllers - 1));
                if (((((_local4) && ((this._horizontalScrollPolicy == ScrollPolicy.OFF)))) || (((!(_local4)) && ((this._verticalScrollPolicy == ScrollPolicy.OFF)))))){
                    return;
                };
                _local6 = _local5.container.getBounds(this._container.stage);
                if (_local4){
                    if ((((_arg2 >= _local6.top)) && ((_arg2 <= _local6.bottom)))){
                        _local5.autoScrollIfNecessary(_arg1, _arg2);
                    };
                } else {
                    if ((((_arg1 >= _local6.left)) && ((_arg1 <= _local6.right)))){
                        _local5.autoScrollIfNecessary(_arg1, _arg2);
                    };
                };
            };
            if (!this._hasScrollRect){
                return;
            };
            var _local3:Point = new Point(_arg1, _arg2);
            _local3 = this._container.globalToLocal(_local3);
            this.autoScrollIfNecessaryInternal(_local3);
        }
        private function autoScrollIfNecessaryInternal(_arg1:Point):int{
            var _local2:int;
            if ((_arg1.y - this.containerScrollRectBottom) > 0){
                this.verticalScrollPosition = (this.verticalScrollPosition + this.textFlow.configuration.scrollDragPixels);
                _local2 = 1;
            } else {
                if ((_arg1.y - this.containerScrollRectTop) < 0){
                    this.verticalScrollPosition = (this.verticalScrollPosition - this.textFlow.configuration.scrollDragPixels);
                    _local2 = -1;
                };
            };
            if ((_arg1.x - this.containerScrollRectRight) > 0){
                this.horizontalScrollPosition = (this.horizontalScrollPosition + this.textFlow.configuration.scrollDragPixels);
                _local2 = -1;
            } else {
                if ((_arg1.x - this.containerScrollRectLeft) < 0){
                    this.horizontalScrollPosition = (this.horizontalScrollPosition - this.textFlow.configuration.scrollDragPixels);
                    _local2 = 1;
                };
            };
            if (((!((_local2 == 0))) && (!(this._scrollTimer)))){
                this._scrollTimer = new Timer(this.textFlow.configuration.scrollDragDelay);
                this._scrollTimer.addEventListener(TimerEvent.TIMER, this.scrollTimerHandler, false, 0, true);
                if (this.getContainerRoot()){
                    this.getContainerRoot().addEventListener(MouseEvent.MOUSE_UP, this.scrollTimerHandler, false, 0, true);
                    this.beginMouseCapture();
                };
                this._scrollTimer.start();
            };
            return (_local2);
        }
        tlf_internal function getFirstVisibleLine():TextFlowLine{
            return (((this._shapeChildren.length) ? this._shapeChildren[0].userData : null));
        }
        tlf_internal function getLastVisibleLine():TextFlowLine{
            return (((this._shapeChildren.length) ? this._shapeChildren[(this._shapeChildren.length - 1)].userData : null));
        }
        public function getScrollDelta(_arg1:int):Number{
            var _local5:int;
            var _local6:int;
            var _local9:Number;
            var _local10:TextLine;
            var _local11:int;
            var _local12:FlowLeafElement;
            var _local13:ParagraphElement;
            var _local2:IFlowComposer = this.textFlow.flowComposer;
            if (_local2.numLines == 0){
                return (0);
            };
            var _local3:TextFlowLine = this.getFirstVisibleLine();
            if (!_local3){
                return (0);
            };
            var _local4:TextFlowLine = this.getLastVisibleLine();
            if (_arg1 > 0){
                _local6 = _local2.findLineIndexAtPosition(_local4.absoluteStart);
                _local10 = _local4.getTextLine(true);
                if (this.effectiveBlockProgression == BlockProgression.TB){
                    if (((_local10.y + _local10.descent) - this.containerScrollRectBottom) > 2){
                        _local6--;
                    };
                } else {
                    if ((this.containerScrollRectLeft - (_local10.x - _local10.descent)) > 2){
                        _local6--;
                    };
                };
                while (((((_local6 + _arg1) > (_local2.numLines - 1))) && ((_local2.damageAbsoluteStart < this.textFlow.textLength)))) {
                    _local11 = _local2.damageAbsoluteStart;
                    _local2.composeToPosition((_local2.damageAbsoluteStart + 1000));
                    if (_local2.damageAbsoluteStart == _local11){
                        return (0);
                    };
                };
                _local5 = Math.min((_local2.numLines - 1), (_local6 + _arg1));
            };
            if (_arg1 < 0){
                _local6 = _local2.findLineIndexAtPosition(_local3.absoluteStart);
                if (this.effectiveBlockProgression == BlockProgression.TB){
                    if ((_local3.y + 2) < this.containerScrollRectTop){
                        _local6++;
                    };
                } else {
                    if ((_local3.x + _local3.ascent) > (this.containerScrollRectRight + 2)){
                        _local6++;
                    };
                };
                _local5 = Math.max(0, (_local6 + _arg1));
            };
            var _local7:TextFlowLine = _local2.getLineAt(_local5);
            if (_local7.absoluteStart < this.absoluteStart){
                return (0);
            };
            if (_local7.validity != TextLineValidity.VALID){
                _local12 = this.textFlow.findLeaf(_local7.absoluteStart);
                _local13 = _local12.getParagraph();
                this.textFlow.flowComposer.composeToPosition((_local13.getAbsoluteStart() + _local13.textLength));
                _local7 = _local2.getLineAt(_local5);
            };
            var _local8 = (this.effectiveBlockProgression == BlockProgression.RL);
            if (_local8){
                _local9 = (((_arg1 < 0)) ? (_local7.x + _local7.textHeight) : ((_local7.x - _local7.descent) + this._compositionWidth));
                return ((_local9 - this.horizontalScrollPosition));
            };
            _local9 = (((_arg1 < 0)) ? _local7.y : ((_local7.y + _local7.textHeight) - this._compositionHeight));
            return ((_local9 - this.verticalScrollPosition));
        }
        public function mouseOverHandler(_arg1:MouseEvent):void{
            if (((this.interactionManager) && (!(_arg1.isDefaultPrevented())))){
                this.interactionManager.mouseOverHandler(_arg1);
            };
        }
        tlf_internal function requiredMouseOverHandler(_arg1:MouseEvent):void{
            this.attachAllListeners();
            this.getInteractionHandler().mouseOverHandler(_arg1);
        }
        public function mouseOutHandler(_arg1:MouseEvent):void{
            if (((this.interactionManager) && (!(_arg1.isDefaultPrevented())))){
                this.interactionManager.mouseOutHandler(_arg1);
            };
        }
        public function mouseWheelHandler(_arg1:MouseEvent):void{
            if (_arg1.isDefaultPrevented()){
                return;
            };
            var _local2 = (this.effectiveBlockProgression == BlockProgression.RL);
            if (_local2){
                if ((((this.contentWidth > this._compositionWidth)) && (!(this._measureWidth)))){
                    this.horizontalScrollPosition = (this.horizontalScrollPosition + (_arg1.delta * this.textFlow.configuration.scrollMouseWheelMultiplier));
                    _arg1.preventDefault();
                };
            } else {
                if ((((this.contentHeight > this._compositionHeight)) && (!(this._measureHeight)))){
                    this.verticalScrollPosition = (this.verticalScrollPosition - (_arg1.delta * this.textFlow.configuration.scrollMouseWheelMultiplier));
                    _arg1.preventDefault();
                };
            };
        }
        public function mouseDownHandler(_arg1:MouseEvent):void{
            if (((this.interactionManager) && (!(_arg1.isDefaultPrevented())))){
                this.interactionManager.mouseDownHandler(_arg1);
                if (this.interactionManager.hasSelection()){
                    this.setFocus();
                };
            };
        }
        tlf_internal function requiredMouseDownHandler(_arg1:MouseEvent):void{
            var _local2:DisplayObject;
            if (!this._selectListenersAttached){
                _local2 = this.getContainerRoot();
                if (_local2){
                    _local2.addEventListener(MouseEvent.MOUSE_MOVE, this.rootMouseMoveHandler, false, 0, true);
                    _local2.addEventListener(MouseEvent.MOUSE_UP, this.rootMouseUpHandler, false, 0, true);
                    this.beginMouseCapture();
                    this._selectListenersAttached = true;
                };
            };
            this.getInteractionHandler().mouseDownHandler(_arg1);
        }
        public function mouseUpHandler(_arg1:MouseEvent):void{
            if (((((this.interactionManager) && (_arg1))) && (!(_arg1.isDefaultPrevented())))){
                this.interactionManager.mouseUpHandler(_arg1);
            };
        }
        tlf_internal function rootMouseUpHandler(_arg1:MouseEvent):void{
            this.clearSelectHandlers();
            this.getInteractionHandler().mouseUpHandler(_arg1);
        }
        private function clearSelectHandlers():void{
            if (this._selectListenersAttached){
                this.getContainerRoot().removeEventListener(MouseEvent.MOUSE_MOVE, this.rootMouseMoveHandler);
                this.getContainerRoot().removeEventListener(MouseEvent.MOUSE_UP, this.rootMouseUpHandler);
                this.endMouseCapture();
                this._selectListenersAttached = false;
            };
        }
        public function beginMouseCapture():void{
            var _local1:ISandboxSupport = (this.getInteractionHandler() as ISandboxSupport);
            if (((_local1) && (!((_local1 == this))))){
                _local1.beginMouseCapture();
            };
        }
        public function endMouseCapture():void{
            var _local1:ISandboxSupport = (this.getInteractionHandler() as ISandboxSupport);
            if (((_local1) && (!((_local1 == this))))){
                _local1.endMouseCapture();
            };
        }
        public function mouseUpSomewhere(_arg1:Event):void{
            this.rootMouseUpHandler(null);
            this.scrollTimerHandler(null);
        }
        public function mouseMoveSomewhere(_arg1:Event):void{
        }
        private function hitOnMyFlowExceptLastContainer(_arg1:MouseEvent):Boolean{
            var _local2:TextFlowLine;
            var _local3:ParagraphElement;
            var _local4:int;
            if ((_arg1.target is TextLine)){
                _local2 = (TextLine(_arg1.target).userData as TextFlowLine);
                if (_local2){
                    _local3 = _local2.paragraph;
                    if (_local3.getTextFlow() == this.textFlow){
                        return (true);
                    };
                };
            } else {
                if ((_arg1.target is Sprite)){
                    _local4 = 0;
                    while (_local4 < (this.textFlow.flowComposer.numControllers - 1)) {
                        if (this.textFlow.flowComposer.getControllerAt(_local4).container == _arg1.target){
                            return (true);
                        };
                        _local4++;
                    };
                };
            };
            return (false);
        }
        public function mouseMoveHandler(_arg1:MouseEvent):void{
            if (((this.interactionManager) && (!(_arg1.isDefaultPrevented())))){
                if (((_arg1.buttonDown) && (!(this.hitOnMyFlowExceptLastContainer(_arg1))))){
                    this.autoScrollIfNecessary(_arg1.stageX, _arg1.stageY);
                };
                this.interactionManager.mouseMoveHandler(_arg1);
            };
        }
        tlf_internal function rootMouseMoveHandler(_arg1:MouseEvent):void{
            this.getInteractionHandler().mouseMoveHandler(_arg1);
        }
        public function mouseDoubleClickHandler(_arg1:MouseEvent):void{
            if (((this.interactionManager) && (!(_arg1.isDefaultPrevented())))){
                this.interactionManager.mouseDoubleClickHandler(_arg1);
                if (this.interactionManager.hasSelection()){
                    this.setFocus();
                };
            };
        }
        tlf_internal function setFocus():void{
            if (this._container.stage){
                this._container.stage.focus = this._container;
            };
        }
        tlf_internal function getContainerController(_arg1:DisplayObject):ContainerController{
            var flowComposer:* = null;
            var i:* = 0;
            var controller:* = null;
            var container:* = _arg1;
            try {
                while (container) {
                    flowComposer = this.flowComposer;
                    i = 0;
                    while (i < flowComposer.numControllers) {
                        controller = flowComposer.getControllerAt(i);
                        if (controller.container == container){
                            return (controller);
                        };
                        i = (i + 1);
                    };
                    container = container.parent;
                };
            } catch(e:Error) {
            };
            return (null);
        }
        public function focusChangeHandler(_arg1:FocusEvent):void{
            var _local2:ContainerController = this.getContainerController(DisplayObject(_arg1.target));
            var _local3:ContainerController = this.getContainerController(_arg1.relatedObject);
            if (_local3 == _local2){
                _arg1.preventDefault();
            };
        }
        public function focusInHandler(_arg1:FocusEvent):void{
            var _local2:int;
            if (this.interactionManager){
                this.interactionManager.focusInHandler(_arg1);
                if (this.interactionManager.editingMode == EditingMode.READ_WRITE){
                    _local2 = this.interactionManager.focusedSelectionFormat.pointBlinkRate;
                };
            };
            this.setBlinkInterval(_local2);
        }
        tlf_internal function requiredFocusInHandler(_arg1:FocusEvent):void{
            this.attachAllListeners();
            this._container.addEventListener(KeyboardEvent.KEY_DOWN, this.getInteractionHandler().keyDownHandler);
            this._container.addEventListener(KeyboardEvent.KEY_UP, this.getInteractionHandler().keyUpHandler);
            this._container.addEventListener(FocusEvent.KEY_FOCUS_CHANGE, this.getInteractionHandler().keyFocusChangeHandler);
            if (((Configuration.playerEnablesSpicyFeatures) && (Configuration.hasTouchScreen))){
                this._container.addEventListener("softKeyboardActivating", this.getInteractionHandler().softKeyboardActivatingHandler);
            };
            this.getInteractionHandler().focusInHandler(_arg1);
        }
        public function focusOutHandler(_arg1:FocusEvent):void{
            if (this.interactionManager){
                this.interactionManager.focusOutHandler(_arg1);
                this.setBlinkInterval(this.interactionManager.unfocusedSelectionFormat.pointBlinkRate);
            } else {
                this.setBlinkInterval(0);
            };
        }
        tlf_internal function requiredFocusOutHandler(_arg1:FocusEvent):void{
            this._container.removeEventListener(KeyboardEvent.KEY_DOWN, this.getInteractionHandler().keyDownHandler);
            this._container.removeEventListener(KeyboardEvent.KEY_UP, this.getInteractionHandler().keyUpHandler);
            this._container.removeEventListener(FocusEvent.KEY_FOCUS_CHANGE, this.getInteractionHandler().keyFocusChangeHandler);
            if (((Configuration.playerEnablesSpicyFeatures) && (Configuration.hasTouchScreen))){
                this._container.removeEventListener("softKeyboardActivating", this.getInteractionHandler().softKeyboardActivatingHandler);
            };
            this.getInteractionHandler().focusOutHandler(_arg1);
        }
        public function activateHandler(_arg1:Event):void{
            if (this.interactionManager){
                this.interactionManager.activateHandler(_arg1);
            };
        }
        public function deactivateHandler(_arg1:Event):void{
            if (this.interactionManager){
                this.interactionManager.deactivateHandler(_arg1);
            };
        }
        public function keyDownHandler(_arg1:KeyboardEvent):void{
            if (((this.interactionManager) && (!(_arg1.isDefaultPrevented())))){
                this.interactionManager.keyDownHandler(_arg1);
            };
        }
        public function keyUpHandler(_arg1:KeyboardEvent):void{
            if (((this.interactionManager) && (!(_arg1.isDefaultPrevented())))){
                this.interactionManager.keyUpHandler(_arg1);
            };
        }
        public function keyFocusChangeHandler(_arg1:FocusEvent):void{
            if (this.interactionManager){
                this.interactionManager.keyFocusChangeHandler(_arg1);
            };
        }
        public function textInputHandler(_arg1:TextEvent):void{
            if (((this.interactionManager) && (!(_arg1.isDefaultPrevented())))){
                this.interactionManager.textInputHandler(_arg1);
            };
        }
        public function softKeyboardActivatingHandler(_arg1:Event):void{
            if (this.interactionManager){
                this.interactionManager.softKeyboardActivatingHandler(_arg1);
            };
        }
        public function imeStartCompositionHandler(_arg1:IMEEvent):void{
            if (this.interactionManager){
                this.interactionManager.imeStartCompositionHandler(_arg1);
            };
        }
        public function menuSelectHandler(_arg1:ContextMenuEvent):void{
            var _local2:ContextMenu;
            var _local3:ContextMenuClipboardItems;
            if (this.interactionManager){
                this.interactionManager.menuSelectHandler(_arg1);
            } else {
                _local2 = this._container.contextMenu;
                if (_local2){
                    _local3 = _local2.clipboardItems;
                    _local3.copy = false;
                    _local3.cut = false;
                    _local3.paste = false;
                    _local3.selectAll = false;
                    _local3.clear = false;
                };
            };
        }
        public function editHandler(_arg1:Event):void{
            if (((this.interactionManager) && (!(_arg1.isDefaultPrevented())))){
                this.interactionManager.editHandler(_arg1);
            };
            var _local2:ContextMenu = this._container.contextMenu;
            if (_local2){
                _local2.clipboardItems.clear = true;
                _local2.clipboardItems.copy = true;
                _local2.clipboardItems.cut = true;
                _local2.clipboardItems.paste = true;
                _local2.clipboardItems.selectAll = true;
            };
        }
        public function selectRange(_arg1:int, _arg2:int):void{
            if (((this.interactionManager) && (!((this.interactionManager.editingMode == EditingMode.READ_ONLY))))){
                this.interactionManager.selectRange(_arg1, _arg2);
            };
        }
        private function startBlinkingCursor(_arg1:DisplayObject, _arg2:int):void{
            if (!this.blinkTimer){
                this.blinkTimer = new Timer(_arg2, 0);
            };
            this.blinkObject = _arg1;
            this.blinkTimer.addEventListener(TimerEvent.TIMER, this.blinkTimerHandler, false, 0, true);
            this.blinkTimer.start();
        }
        protected function stopBlinkingCursor():void{
            if (this.blinkTimer){
                this.blinkTimer.stop();
            };
            this.blinkObject = null;
        }
        private function blinkTimerHandler(_arg1:TimerEvent):void{
            this.blinkObject.alpha = ((this.blinkObject.alpha)==1) ? 0 : 1;
        }
        protected function setBlinkInterval(_arg1:int):void{
            var _local2:int = _arg1;
            if (_local2 == 0){
                if (this.blinkTimer){
                    this.blinkTimer.stop();
                };
                if (this.blinkObject){
                    this.blinkObject.alpha = 1;
                };
            } else {
                if (this.blinkTimer){
                    this.blinkTimer.delay = _local2;
                    if (this.blinkObject){
                        this.blinkTimer.start();
                    };
                };
            };
        }
        tlf_internal function drawPointSelection(_arg1:SelectionFormat, _arg2:Number, _arg3:Number, _arg4:Number, _arg5:Number):void{
            var _local6:Shape = new Shape();
            if (this._hasScrollRect){
                if (this.effectiveBlockProgression == BlockProgression.TB){
                    if (_arg2 >= this.containerScrollRectRight){
                        _arg2 = (_arg2 - _arg4);
                    };
                } else {
                    if (_arg3 >= this.containerScrollRectBottom){
                        _arg3 = (_arg3 - _arg5);
                    };
                };
            };
            _local6.graphics.beginFill(_arg1.pointColor);
            _local6.graphics.drawRect(int(_arg2), int(_arg3), _arg4, _arg5);
            _local6.graphics.endFill();
            if (((!((_arg1.pointBlinkRate == 0))) && ((this.interactionManager.editingMode == EditingMode.READ_WRITE)))){
                this.startBlinkingCursor(_local6, _arg1.pointBlinkRate);
            };
            this.addSelectionChild(_local6);
        }
        tlf_internal function addSelectionShapes(_arg1:SelectionFormat, _arg2:int, _arg3:int):void{
            var _local4:TextFlowLine;
            var _local5:TextFlowLine;
            var _local6:int;
            var _local7:int;
            var _local8:int;
            var _local9:int;
            var _local10:Shape;
            var _local11:TextFlowLine;
            var _local12:int;
            var _local13:TextFlowLine;
            var _local14:int;
            if (((((((!(this.interactionManager)) || ((this._textLength == 0)))) || ((_arg2 == -1)))) || ((_arg3 == -1)))){
                return;
            };
            if (_arg2 != _arg3){
                _local6 = this.absoluteStart;
                _local7 = (this.absoluteStart + this.textLength);
                if (_arg2 < _local6){
                    _arg2 = _local6;
                } else {
                    if (_arg2 >= _local7){
                        return;
                    };
                };
                if (_arg3 > _local7){
                    _arg3 = _local7;
                } else {
                    if (_arg3 < _local6){
                        return;
                    };
                };
                _local8 = this.flowComposer.findLineIndexAtPosition(_arg2);
                _local9 = (((_arg2 == _arg3)) ? _local8 : this.flowComposer.findLineIndexAtPosition(_arg3));
                if (_local9 >= this.flowComposer.numLines){
                    _local9 = (this.flowComposer.numLines - 1);
                };
                _local10 = new Shape();
                _local4 = ((_local8) ? this.flowComposer.getLineAt((_local8 - 1)) : null);
                _local11 = this.flowComposer.getLineAt(_local8);
                _local12 = _local8;
                while (_local12 <= _local9) {
                    _local5 = ((_local12)!=(this.flowComposer.numLines - 1)) ? this.flowComposer.getLineAt((_local12 + 1)) : null;
                    _local11.hiliteBlockSelection(_local10, _arg1, this._container, (((_arg2 < _local11.absoluteStart)) ? _local11.absoluteStart : _arg2), (((_arg3 > (_local11.absoluteStart + _local11.textLength))) ? (_local11.absoluteStart + _local11.textLength) : _arg3), _local4, _local5);
                    _local13 = _local11;
                    _local11 = _local5;
                    _local4 = _local13;
                    _local12++;
                };
                this.addSelectionChild(_local10);
            } else {
                _local14 = this.flowComposer.findLineIndexAtPosition(_arg2);
                if (_local14 == this.flowComposer.numLines){
                    _local14--;
                };
                if (this.flowComposer.getLineAt(_local14).controller == this){
                    _local4 = ((_local14)!=0) ? this.flowComposer.getLineAt((_local14 - 1)) : null;
                    _local5 = ((_local14)!=(this.flowComposer.numLines - 1)) ? this.flowComposer.getLineAt((_local14 + 1)) : null;
                    this.flowComposer.getLineAt(_local14).hilitePointSelection(_arg1, _arg2, this._container, _local4, _local5);
                };
            };
        }
        tlf_internal function clearSelectionShapes():void{
            this.stopBlinkingCursor();
            var _local1:DisplayObjectContainer = this.getSelectionSprite(false);
            if (_local1 != null){
                if (_local1.parent){
                    this.removeSelectionContainer(_local1);
                };
                while (_local1.numChildren > 0) {
                    _local1.removeChildAt(0);
                };
                return;
            };
        }
        tlf_internal function addSelectionChild(_arg1:DisplayObject):void{
            var _local2:DisplayObjectContainer = this.getSelectionSprite(true);
            if (_local2 == null){
                return;
            };
            var _local3:SelectionFormat = this.interactionManager.currentSelectionFormat;
            var _local4:String = ((this.interactionManager.activePosition)==this.interactionManager.anchorPosition) ? _local3.pointBlendMode : _local3.rangeBlendMode;
            var _local5:Number = ((this.interactionManager.activePosition)==this.interactionManager.anchorPosition) ? _local3.pointAlpha : _local3.rangeAlpha;
            if (_local2.blendMode != _local4){
                _local2.blendMode = _local4;
            };
            if (_local2.alpha != _local5){
                _local2.alpha = _local5;
            };
            if (_local2.numChildren == 0){
                this.addSelectionContainer(_local2);
            };
            _local2.addChild(_arg1);
        }
        tlf_internal function containsSelectionChild(_arg1:DisplayObject):Boolean{
            var _local2:DisplayObjectContainer = this.getSelectionSprite(false);
            if (_local2 == null){
                return (false);
            };
            return (_local2.contains(_arg1));
        }
        tlf_internal function getBackgroundShape():Shape{
            if (!this._backgroundShape){
                this._backgroundShape = new Shape();
                this.addBackgroundShape(this._backgroundShape);
            };
            return (this._backgroundShape);
        }
        tlf_internal function getEffectivePaddingLeft():Number{
            return ((((this.computedFormat.paddingLeft == FormatValue.AUTO)) ? 0 : this.computedFormat.paddingLeft));
        }
        tlf_internal function getEffectivePaddingRight():Number{
            return ((((this.computedFormat.paddingRight == FormatValue.AUTO)) ? 0 : this.computedFormat.paddingRight));
        }
        tlf_internal function getEffectivePaddingTop():Number{
            return ((((this.computedFormat.paddingTop == FormatValue.AUTO)) ? 0 : this.computedFormat.paddingTop));
        }
        tlf_internal function getEffectivePaddingBottom():Number{
            return ((((this.computedFormat.paddingBottom == FormatValue.AUTO)) ? 0 : this.computedFormat.paddingBottom));
        }
        tlf_internal function getTotalPaddingLeft():Number{
            return ((this.getEffectivePaddingLeft() + ((this._rootElement) ? this._rootElement.getEffectivePaddingLeft() : 0)));
        }
        tlf_internal function getTotalPaddingRight():Number{
            return ((this.getEffectivePaddingRight() + ((this._rootElement) ? this._rootElement.getEffectivePaddingRight() : 0)));
        }
        tlf_internal function getTotalPaddingTop():Number{
            return ((this.getEffectivePaddingTop() + ((this._rootElement) ? this._rootElement.getEffectivePaddingTop() : 0)));
        }
        tlf_internal function getTotalPaddingBottom():Number{
            return ((this.getEffectivePaddingBottom() + ((this._rootElement) ? this._rootElement.getEffectivePaddingBottom() : 0)));
        }
        tlf_internal function getSelectionSprite(_arg1:Boolean):DisplayObjectContainer{
            if (_arg1){
                if (this._selectionSprite == null){
                    this._selectionSprite = new Sprite();
                    this._selectionSprite.mouseEnabled = false;
                    this._selectionSprite.mouseChildren = false;
                };
            };
            return (this._selectionSprite);
        }
        protected function get attachTransparentBackground():Boolean{
            return (true);
        }
        tlf_internal function clearCompositionResults():void{
            var _local1:TextLine;
            this.setTextLength(0);
            for each (_local1 in this._shapeChildren) {
                this.removeTextLine(_local1);
            };
            this._shapeChildren.length = 0;
            this._linesInView.length = 0;
            if (this._floatsInContainer){
                this._floatsInContainer.length = 0;
            };
            if (this._composedFloats){
                this._composedFloats.length = 0;
            };
        }
        tlf_internal function updateCompositionShapes():void{
            var _local13:TextLine;
            var _local14:TextFlowLine;
            var _local15:TextFlowLine;
            var _local16:TextLine;
            var _local17:TextLine;
            var _local18:int;
            if (!this.shapesInvalid){
                return;
            };
            var _local1:Number = this._yScroll;
            if (((!((this.verticalScrollPolicy == ScrollPolicy.OFF))) && (!(this._measureHeight)))){
                this._yScroll = this.computeVerticalScrollPosition(this._yScroll, false);
            };
            var _local2:Number = this._xScroll;
            if (((!((this.horizontalScrollPolicy == ScrollPolicy.OFF))) && (!(this._measureWidth)))){
                this._xScroll = this.computeHorizontalScrollPosition(this._xScroll, false);
            };
            var _local3:Boolean = ((!((_local1 == this._yScroll))) || (!((_local2 == this._xScroll))));
            if (_local3){
                this._linesInView.length = 0;
            };
            this.fillShapeChildren();
            var _local4:Array = this._linesInView;
            var _local5:int = this.getFirstTextLineChildIndex();
            var _local6:int;
            var _local7:int;
            if ((((this._updateStart > this.absoluteStart)) && ((_local4.length > 0)))){
                _local13 = _local4[0];
                _local14 = TextFlowLine(_local13.userData);
                _local15 = this.flowComposer.findLineAtPosition((_local14.absoluteStart - 1));
                _local16 = _local15.peekTextLine();
                _local7 = this._shapeChildren.indexOf(_local16);
                if (_local7 >= 0){
                    _local7++;
                    _local5 = (_local5 + _local7);
                } else {
                    _local7 = 0;
                };
            };
            var _local8:int = _local7;
            while (_local6 != _local4.length) {
                _local17 = _local4[_local6];
                if (_local17 == this._shapeChildren[_local8]){
                    _local5++;
                    _local6++;
                    _local8++;
                } else {
                    _local18 = this._shapeChildren.indexOf(_local17);
                    if (_local18 == -1){
                        var _temp1 = _local5;
                        _local5 = (_local5 + 1);
                        this.addTextLine(_local17, _temp1);
                        _local6++;
                    } else {
                        this.removeAndRecycleTextLines(_local8, _local18);
                        _local8 = _local18;
                    };
                };
            };
            this.removeAndRecycleTextLines(_local8, this._shapeChildren.length);
            if (_local7 > 0){
                this._shapeChildren.length = _local7;
                this._shapeChildren = this._shapeChildren.concat(this._linesInView);
                this._linesInView.length = 0;
            } else {
                this._linesInView = this._shapeChildren;
                this._linesInView.length = 0;
                this._shapeChildren = _local4;
            };
            if (((((this._floatsInContainer) && ((this._floatsInContainer.length > 0)))) || (((this._composedFloats) && ((this._composedFloats.length > 0)))))){
                this.updateGraphics(this._updateStart);
            };
            this.shapesInvalid = false;
            this.updateVisibleRectangle();
            var _local9:TextFlow = this.textFlow;
            var _local10:Boolean = ((!((this.interactionManager == null))) && ((this.interactionManager.editingMode == EditingMode.READ_WRITE)));
            var _local11:TextFlowLine = this.getFirstVisibleLine();
            var _local12:TextFlowLine = this.getLastVisibleLine();
            scratchRectangle.left = this._contentLeft;
            scratchRectangle.top = this._contentTop;
            scratchRectangle.width = this._contentWidth;
            scratchRectangle.height = this._contentHeight;
            this._mouseEventManager.updateHitTests((((((this.effectiveBlockProgression == BlockProgression.RL)) && (this._hasScrollRect))) ? this._contentWidth : 0), scratchRectangle, _local9, ((_local11) ? _local11.absoluteStart : this._absoluteStart), ((_local12) ? ((_local12.absoluteStart + _local12.textLength) - 1) : this._absoluteStart), _local10);
            this._updateStart = this._rootElement.textLength;
            if (((this._measureWidth) || (this._measureHeight))){
                this.attachTransparentBackgroundForHit(false);
            };
            if (_local9.backgroundManager){
                _local9.backgroundManager.onUpdateComplete(this);
            };
            if (((_local3) && (_local9.hasEventListener(TextLayoutEvent.SCROLL)))){
                if (_local1 != this._yScroll){
                    _local9.dispatchEvent(new ScrollEvent(TextLayoutEvent.SCROLL, false, false, ScrollEventDirection.VERTICAL, (this._yScroll - _local1)));
                };
                if (_local2 != this._xScroll){
                    _local9.dispatchEvent(new ScrollEvent(TextLayoutEvent.SCROLL, false, false, ScrollEventDirection.HORIZONTAL, (this._xScroll - _local2)));
                };
            };
            if (_local9.hasEventListener(UpdateCompleteEvent.UPDATE_COMPLETE)){
                _local9.dispatchEvent(new UpdateCompleteEvent(UpdateCompleteEvent.UPDATE_COMPLETE, false, false, _local9, this));
            };
        }
        tlf_internal function updateGraphics(_arg1:int):void{
            var _local2:DisplayObjectContainer;
            var _local4:FloatCompositionData;
            var _local5:DisplayObject;
            var _local23:int;
            var _local24:DisplayObjectContainer;
            var _local25:Boolean;
            var _local26:int;
            var _local27:TextLine;
            var _local28:TextFlowLine;
            var _local29:int;
            var _local30:DisplayObject;
            var _local3:Array = [];
            var _local6:TextFlowLine = this.getFirstVisibleLine();
            var _local7:TextFlowLine = this.getLastVisibleLine();
            var _local8:int = ((_local6) ? _local6.absoluteStart : this.absoluteStart);
            var _local9:int = ((_local7) ? (_local7.absoluteStart + _local7.textLength) : (this.absoluteStart + this.textLength));
            var _local10:TextFlowLine = this.flowComposer.findLineAtPosition(_local9);
            var _local11:int = ((_local10) ? (_local10.absoluteStart + _local10.textLength) : (this.absoluteStart + this.textLength));
            _local11 = Math.min(_local11, (this.absoluteStart + this.textLength));
            _local11 = Math.min(_local11, (_local9 + 2000));
            _local11 = Math.min(_local11, this.flowComposer.damageAbsoluteStart);
            var _local12:String = this.effectiveBlockProgression;
            var _local13:Number = ((this._measureWidth) ? this._contentWidth : this._compositionWidth);
            var _local14:Number = ((this._measureHeight) ? this._contentHeight : this._compositionHeight);
            var _local15:Number = ((_local12)==BlockProgression.RL) ? (this._xScroll - _local13) : this._xScroll;
            var _local16:Number = this._yScroll;
            var _local17:int = this.findFloatIndexAtOrAfter(_arg1);
            var _local18:int;
            var _local19:int = this.getFirstTextLineChildIndex();
            if (_local17 > 0){
                _local4 = this._composedFloats[(_local17 - 1)];
                _local18 = this._floatsInContainer.indexOf(_local4.graphic);
                while ((((_local18 == -1)) && ((_local17 > 0)))) {
                    _local17--;
                    _local4 = this._composedFloats[(_local17 - 1)];
                    _local18 = this._floatsInContainer.indexOf(_local4.graphic);
                };
                _local18++;
                _local23 = 0;
                while (_local23 < _local17) {
                    if (this._composedFloats[_local23].absolutePosition >= this.absoluteStart){
                        _local3.push(this._composedFloats[_local23].graphic);
                    };
                    _local23++;
                };
            };
            var _local20:int = _local18;
            if (!this._floatsInContainer){
                this._floatsInContainer = [];
            };
            var _local21:int = this._floatsInContainer.length;
            var _local22:int = this._composedFloats.length;
            while (_local17 < _local22) {
                _local4 = this._composedFloats[_local17];
                _local5 = _local4.graphic;
                _local24 = _local4.parent;
                if (!_local5){
                    _local25 = false;
                } else {
                    if (_local4.floatType == Float.NONE){
                        _local25 = (((_local4.absolutePosition >= _local8)) && ((_local4.absolutePosition < _local9)));
                    } else {
                        _local25 = ((((this.floatIsVisible(_local12, _local15, _local16, _local13, _local14, _local4)) && ((_local4.absolutePosition < _local11)))) && ((_local4.absolutePosition >= this.absoluteStart)));
                    };
                };
                if (!_local25){
                    if (_local4.absolutePosition >= _local11){
                        break;
                    };
                    _local17++;
                } else {
                    if (_local3.indexOf(_local5) < 0){
                        _local3.push(_local5);
                    };
                    if (_local4.floatType == Float.NONE){
                        _local27 = (_local24 as TextLine);
                        if (_local27){
                            _local28 = (_local27.userData as TextFlowLine);
                            if (((((((((!(_local28)) || ((_local4.absolutePosition < _local28.absoluteStart)))) || ((_local4.absolutePosition >= (_local28.absoluteStart + _local28.textLength))))) || ((_local27.parent == null)))) || ((_local27.validity == TextLineValidity.INVALID)))){
                                _local28 = this.flowComposer.findLineAtPosition(_local4.absolutePosition);
                                _local29 = 0;
                                while (_local29 < this._shapeChildren.length) {
                                    if ((this._shapeChildren[_local29] as TextLine).userData == _local28){
                                        break;
                                    };
                                    _local29++;
                                };
                                _local24 = ((_local29)<this._shapeChildren.length) ? this._shapeChildren[_local29] : null;
                            };
                        };
                    };
                    _local2 = _local5.parent;
                    if ((((((((((_local18 < _local21)) && ((_local4.parent == this._container)))) && (_local2))) && ((_local2.parent == this._container)))) && ((_local5 == this._floatsInContainer[_local18])))){
                        if (_local4.matrix){
                            _local2.transform.matrix = _local4.matrix;
                        } else {
                            _local2.x = 0;
                            _local2.y = 0;
                        };
                        _local2.alpha = _local4.alpha;
                        _local2.x = (_local2.x + _local4.x);
                        _local2.y = (_local2.y + _local4.y);
                        _local17++;
                        _local18++;
                    } else {
                        _local26 = this._floatsInContainer.indexOf(_local5);
                        if ((((_local26 > _local18)) && ((_local24 == this._container)))){
                            var _temp1 = _local18;
                            _local18 = (_local18 + 1);
                            _local30 = this._floatsInContainer[_temp1];
                            if (_local30.parent){
                                this.removeInlineGraphicElement(this._container, _local30.parent);
                            };
                        } else {
                            if ((((_local18 < _local21)) && ((_local5 == this._floatsInContainer[_local18])))){
                                _local18++;
                            };
                            _local2 = new Sprite();
                            if (_local4.matrix){
                                _local2.transform.matrix = _local4.matrix;
                            };
                            _local2.alpha = _local4.alpha;
                            _local2.x = (_local2.x + _local4.x);
                            _local2.y = (_local2.y + _local4.y);
                            _local2.addChild(_local5);
                            if (_local24 == this._container){
                                _local19 = Math.min(_local19, this._container.numChildren);
                                var _temp2 = _local19;
                                _local19 = (_local19 + 1);
                                this.addInlineGraphicElement(this._container, _local2, _temp2);
                            } else {
                                this.addInlineGraphicElement(_local24, _local2, 0);
                            };
                            _local17++;
                        };
                    };
                };
            };
            while (_local18 < this._floatsInContainer.length) {
                var _temp3 = _local18;
                _local18 = (_local18 + 1);
                _local5 = this._floatsInContainer[_temp3];
                if (_local5.parent){
                    this.removeInlineGraphicElement(this._container, _local5.parent);
                };
            };
            this._floatsInContainer = _local3;
        }
        private function floatIsVisible(_arg1:String, _arg2:Number, _arg3:Number, _arg4:Number, _arg5:Number, _arg6:FloatCompositionData):Boolean{
            var _local7:InlineGraphicElement = (this.textFlow.findLeaf(_arg6.absolutePosition) as InlineGraphicElement);
            return (((_arg1)==BlockProgression.TB) ? ((((_arg6.y + _local7.elementHeight) >= _arg3)) && ((_arg6.y <= (_arg3 + _arg5)))) : ((((_arg6.x + _local7.elementWidth) >= _arg2)) && ((_arg6.x <= (_arg2 + _arg4)))));
        }
        private function releaseLinesInBlock(_arg1:TextBlock):void{
            var _local3:ParagraphElement;
            var _local4:TextFlowLine;
            var _local2:TextLine = _arg1.firstLine;
            while (((_local2) && ((_local2.parent == null)))) {
                _local2 = _local2.nextLine;
            };
            if (((!(_local2)) && (_arg1.firstLine))){
                _local4 = (_arg1.firstLine.userData as TextFlowLine);
                if (_local4){
                    _local3 = _local4.paragraph;
                };
                _arg1.releaseLines(_arg1.firstLine, _arg1.lastLine);
                if (_local3){
                    _local3.releaseTextBlock();
                };
            };
        }
        private function removeAndRecycleTextLines(_arg1:int, _arg2:int):void{
            var _local4:TextLine;
            var _local5:TextBlock;
            var _local7:TextFlowLine;
            var _local3:BackgroundManager = this.textFlow.backgroundManager;
            var _local6:int = _arg1;
            while (_local6 < _arg2) {
                _local4 = this._shapeChildren[_local6];
                this.removeTextLine(_local4);
                if (_local4.textBlock != _local5){
                    if (_local5){
                        this.releaseLinesInBlock(_local5);
                    };
                    _local5 = _local4.textBlock;
                };
                _local6++;
            };
            if (_local5){
                this.releaseLinesInBlock(_local5);
            };
            if (TextLineRecycler.textLineRecyclerEnabled){
                while (_arg1 < _arg2) {
                    var _temp1 = _arg1;
                    _arg1 = (_arg1 + 1);
                    _local4 = this._shapeChildren[_temp1];
                    if (!_local4.parent){
                        if (_local4.userData == null){
                            TextLineRecycler.addLineForReuse(_local4);
                            if (_local3){
                                _local3.removeLineFromCache(_local4);
                            };
                        } else {
                            _local7 = (_local4.userData as TextFlowLine);
                            if (((_local7) && (!((_local7.controller == this))))){
                            } else {
                                if ((((_local4.validity == TextLineValidity.INVALID)) || ((((((_local4.nextLine == null)) && ((_local4.previousLine == null)))) && (((!(_local4.textBlock)) || (!((_local4.textBlock.firstLine == _local4))))))))){
                                    _local4.userData = null;
                                    TextLineRecycler.addLineForReuse(_local4);
                                    if (_local3){
                                        _local3.removeLineFromCache(_local4);
                                    };
                                };
                            };
                        };
                    };
                };
            };
        }
        protected function getFirstTextLineChildIndex():int{
            var _local1:int;
            _local1 = 0;
            while (_local1 < this._container.numChildren) {
                if ((this._container.getChildAt(_local1) is TextLine)){
                    break;
                };
                _local1++;
            };
            return (_local1);
        }
        protected function addTextLine(_arg1:TextLine, _arg2:int):void{
            this._container.addChildAt(_arg1, _arg2);
        }
        protected function removeTextLine(_arg1:TextLine):void{
            if (this._container.contains(_arg1)){
                this._container.removeChild(_arg1);
            };
        }
        protected function addBackgroundShape(_arg1:Shape):void{
            this._container.addChildAt(this._backgroundShape, this.getFirstTextLineChildIndex());
        }
        protected function removeBackgroundShape(_arg1:Shape):void{
            if (_arg1.parent){
                _arg1.parent.removeChild(_arg1);
            };
        }
        protected function addSelectionContainer(_arg1:DisplayObjectContainer):void{
            if ((((_arg1.blendMode == BlendMode.NORMAL)) && ((_arg1.alpha == 1)))){
                this._container.addChildAt(_arg1, this.getFirstTextLineChildIndex());
            } else {
                this._container.addChild(_arg1);
            };
        }
        protected function removeSelectionContainer(_arg1:DisplayObjectContainer):void{
            _arg1.parent.removeChild(_arg1);
        }
        protected function addInlineGraphicElement(_arg1:DisplayObjectContainer, _arg2:DisplayObject, _arg3:int):void{
            _arg1.addChildAt(_arg2, _arg3);
        }
        protected function removeInlineGraphicElement(_arg1:DisplayObjectContainer, _arg2:DisplayObject):void{
            if (_arg2.parent == _arg1){
                _arg1.removeChild(_arg2);
            };
        }
        tlf_internal function get textLines():Array{
            return (this._shapeChildren);
        }
        protected function updateVisibleRectangle():void{
            var _local1:Number;
            var _local2:Number;
            var _local3:Number;
            var _local4:Number;
            var _local5:Number;
            var _local6:Number;
            var _local7:Number;
            var _local8:int;
            var _local9:int;
            var _local10:Rectangle;
            if ((((this.horizontalScrollPolicy == ScrollPolicy.OFF)) && ((this.verticalScrollPolicy == ScrollPolicy.OFF)))){
                if (this._hasScrollRect){
                    this._container.scrollRect = null;
                    this._hasScrollRect = false;
                };
            } else {
                _local1 = (this._contentLeft + this.contentWidth);
                _local2 = (this._contentTop + this.contentHeight);
                if (this._measureWidth){
                    _local3 = this.contentWidth;
                    _local4 = (this._contentLeft + _local3);
                } else {
                    _local3 = this._compositionWidth;
                    _local4 = _local3;
                };
                if (this._measureHeight){
                    _local5 = this.contentHeight;
                    _local6 = (this._contentTop + _local5);
                } else {
                    _local5 = this._compositionHeight;
                    _local6 = _local5;
                };
                _local7 = ((this.effectiveBlockProgression)==BlockProgression.RL) ? -(_local3) : 0;
                _local8 = (this.horizontalScrollPosition + _local7);
                _local9 = this.verticalScrollPosition;
                if ((((this.textLength == 0)) || ((((((((((((_local8 == 0)) && ((_local9 == 0)))) && ((this._contentLeft >= _local7)))) && ((this._contentTop >= 0)))) && ((_local1 <= _local4)))) && ((_local2 <= _local6)))))){
                    if (this._hasScrollRect){
                        this._container.scrollRect = null;
                        this._hasScrollRect = false;
                    };
                } else {
                    _local10 = this._container.scrollRect;
                    if (((((((((!(_local10)) || (!((_local10.x == _local8))))) || (!((_local10.y == _local9))))) || (!((_local10.width == _local3))))) || (!((_local10.height == _local5))))){
                        this._container.scrollRect = new Rectangle(_local8, _local9, _local3, _local5);
                        this._hasScrollRect = true;
                    };
                };
            };
            this.attachTransparentBackgroundForHit(false);
        }
        public function get color(){
            return (((this._format) ? this._format.color : undefined));
        }
        public function set color(_arg1):void{
            this.writableTextLayoutFormat().color = _arg1;
            this.formatChanged();
        }
        public function get backgroundColor(){
            return (((this._format) ? this._format.backgroundColor : undefined));
        }
        public function set backgroundColor(_arg1):void{
            this.writableTextLayoutFormat().backgroundColor = _arg1;
            this.formatChanged();
        }
        public function get lineThrough(){
            return (((this._format) ? this._format.lineThrough : undefined));
        }
        public function set lineThrough(_arg1):void{
            this.writableTextLayoutFormat().lineThrough = _arg1;
            this.formatChanged();
        }
        public function get textAlpha(){
            return (((this._format) ? this._format.textAlpha : undefined));
        }
        public function set textAlpha(_arg1):void{
            this.writableTextLayoutFormat().textAlpha = _arg1;
            this.formatChanged();
        }
        public function get backgroundAlpha(){
            return (((this._format) ? this._format.backgroundAlpha : undefined));
        }
        public function set backgroundAlpha(_arg1):void{
            this.writableTextLayoutFormat().backgroundAlpha = _arg1;
            this.formatChanged();
        }
        public function get fontSize(){
            return (((this._format) ? this._format.fontSize : undefined));
        }
        public function set fontSize(_arg1):void{
            this.writableTextLayoutFormat().fontSize = _arg1;
            this.formatChanged();
        }
        public function get baselineShift(){
            return (((this._format) ? this._format.baselineShift : undefined));
        }
        public function set baselineShift(_arg1):void{
            this.writableTextLayoutFormat().baselineShift = _arg1;
            this.formatChanged();
        }
        public function get trackingLeft(){
            return (((this._format) ? this._format.trackingLeft : undefined));
        }
        public function set trackingLeft(_arg1):void{
            this.writableTextLayoutFormat().trackingLeft = _arg1;
            this.formatChanged();
        }
        public function get trackingRight(){
            return (((this._format) ? this._format.trackingRight : undefined));
        }
        public function set trackingRight(_arg1):void{
            this.writableTextLayoutFormat().trackingRight = _arg1;
            this.formatChanged();
        }
        public function get lineHeight(){
            return (((this._format) ? this._format.lineHeight : undefined));
        }
        public function set lineHeight(_arg1):void{
            this.writableTextLayoutFormat().lineHeight = _arg1;
            this.formatChanged();
        }
        public function get breakOpportunity(){
            return (((this._format) ? this._format.breakOpportunity : undefined));
        }
        public function set breakOpportunity(_arg1):void{
            this.writableTextLayoutFormat().breakOpportunity = _arg1;
            this.formatChanged();
        }
        public function get digitCase(){
            return (((this._format) ? this._format.digitCase : undefined));
        }
        public function set digitCase(_arg1):void{
            this.writableTextLayoutFormat().digitCase = _arg1;
            this.formatChanged();
        }
        public function get digitWidth(){
            return (((this._format) ? this._format.digitWidth : undefined));
        }
        public function set digitWidth(_arg1):void{
            this.writableTextLayoutFormat().digitWidth = _arg1;
            this.formatChanged();
        }
        public function get dominantBaseline(){
            return (((this._format) ? this._format.dominantBaseline : undefined));
        }
        public function set dominantBaseline(_arg1):void{
            this.writableTextLayoutFormat().dominantBaseline = _arg1;
            this.formatChanged();
        }
        public function get kerning(){
            return (((this._format) ? this._format.kerning : undefined));
        }
        public function set kerning(_arg1):void{
            this.writableTextLayoutFormat().kerning = _arg1;
            this.formatChanged();
        }
        public function get ligatureLevel(){
            return (((this._format) ? this._format.ligatureLevel : undefined));
        }
        public function set ligatureLevel(_arg1):void{
            this.writableTextLayoutFormat().ligatureLevel = _arg1;
            this.formatChanged();
        }
        public function get alignmentBaseline(){
            return (((this._format) ? this._format.alignmentBaseline : undefined));
        }
        public function set alignmentBaseline(_arg1):void{
            this.writableTextLayoutFormat().alignmentBaseline = _arg1;
            this.formatChanged();
        }
        public function get locale(){
            return (((this._format) ? this._format.locale : undefined));
        }
        public function set locale(_arg1):void{
            this.writableTextLayoutFormat().locale = _arg1;
            this.formatChanged();
        }
        public function get typographicCase(){
            return (((this._format) ? this._format.typographicCase : undefined));
        }
        public function set typographicCase(_arg1):void{
            this.writableTextLayoutFormat().typographicCase = _arg1;
            this.formatChanged();
        }
        public function get fontFamily(){
            return (((this._format) ? this._format.fontFamily : undefined));
        }
        public function set fontFamily(_arg1):void{
            this.writableTextLayoutFormat().fontFamily = _arg1;
            this.formatChanged();
        }
        public function get textDecoration(){
            return (((this._format) ? this._format.textDecoration : undefined));
        }
        public function set textDecoration(_arg1):void{
            this.writableTextLayoutFormat().textDecoration = _arg1;
            this.formatChanged();
        }
        public function get fontWeight(){
            return (((this._format) ? this._format.fontWeight : undefined));
        }
        public function set fontWeight(_arg1):void{
            this.writableTextLayoutFormat().fontWeight = _arg1;
            this.formatChanged();
        }
        public function get fontStyle(){
            return (((this._format) ? this._format.fontStyle : undefined));
        }
        public function set fontStyle(_arg1):void{
            this.writableTextLayoutFormat().fontStyle = _arg1;
            this.formatChanged();
        }
        public function get whiteSpaceCollapse(){
            return (((this._format) ? this._format.whiteSpaceCollapse : undefined));
        }
        public function set whiteSpaceCollapse(_arg1):void{
            this.writableTextLayoutFormat().whiteSpaceCollapse = _arg1;
            this.formatChanged();
        }
        public function get renderingMode(){
            return (((this._format) ? this._format.renderingMode : undefined));
        }
        public function set renderingMode(_arg1):void{
            this.writableTextLayoutFormat().renderingMode = _arg1;
            this.formatChanged();
        }
        public function get cffHinting(){
            return (((this._format) ? this._format.cffHinting : undefined));
        }
        public function set cffHinting(_arg1):void{
            this.writableTextLayoutFormat().cffHinting = _arg1;
            this.formatChanged();
        }
        public function get fontLookup(){
            return (((this._format) ? this._format.fontLookup : undefined));
        }
        public function set fontLookup(_arg1):void{
            this.writableTextLayoutFormat().fontLookup = _arg1;
            this.formatChanged();
        }
        public function get textRotation(){
            return (((this._format) ? this._format.textRotation : undefined));
        }
        public function set textRotation(_arg1):void{
            this.writableTextLayoutFormat().textRotation = _arg1;
            this.formatChanged();
        }
        public function get textIndent(){
            return (((this._format) ? this._format.textIndent : undefined));
        }
        public function set textIndent(_arg1):void{
            this.writableTextLayoutFormat().textIndent = _arg1;
            this.formatChanged();
        }
        public function get paragraphStartIndent(){
            return (((this._format) ? this._format.paragraphStartIndent : undefined));
        }
        public function set paragraphStartIndent(_arg1):void{
            this.writableTextLayoutFormat().paragraphStartIndent = _arg1;
            this.formatChanged();
        }
        public function get paragraphEndIndent(){
            return (((this._format) ? this._format.paragraphEndIndent : undefined));
        }
        public function set paragraphEndIndent(_arg1):void{
            this.writableTextLayoutFormat().paragraphEndIndent = _arg1;
            this.formatChanged();
        }
        public function get paragraphSpaceBefore(){
            return (((this._format) ? this._format.paragraphSpaceBefore : undefined));
        }
        public function set paragraphSpaceBefore(_arg1):void{
            this.writableTextLayoutFormat().paragraphSpaceBefore = _arg1;
            this.formatChanged();
        }
        public function get paragraphSpaceAfter(){
            return (((this._format) ? this._format.paragraphSpaceAfter : undefined));
        }
        public function set paragraphSpaceAfter(_arg1):void{
            this.writableTextLayoutFormat().paragraphSpaceAfter = _arg1;
            this.formatChanged();
        }
        public function get textAlign(){
            return (((this._format) ? this._format.textAlign : undefined));
        }
        public function set textAlign(_arg1):void{
            this.writableTextLayoutFormat().textAlign = _arg1;
            this.formatChanged();
        }
        public function get textAlignLast(){
            return (((this._format) ? this._format.textAlignLast : undefined));
        }
        public function set textAlignLast(_arg1):void{
            this.writableTextLayoutFormat().textAlignLast = _arg1;
            this.formatChanged();
        }
        public function get textJustify(){
            return (((this._format) ? this._format.textJustify : undefined));
        }
        public function set textJustify(_arg1):void{
            this.writableTextLayoutFormat().textJustify = _arg1;
            this.formatChanged();
        }
        public function get justificationRule(){
            return (((this._format) ? this._format.justificationRule : undefined));
        }
        public function set justificationRule(_arg1):void{
            this.writableTextLayoutFormat().justificationRule = _arg1;
            this.formatChanged();
        }
        public function get justificationStyle(){
            return (((this._format) ? this._format.justificationStyle : undefined));
        }
        public function set justificationStyle(_arg1):void{
            this.writableTextLayoutFormat().justificationStyle = _arg1;
            this.formatChanged();
        }
        public function get direction(){
            return (((this._format) ? this._format.direction : undefined));
        }
        public function set direction(_arg1):void{
            this.writableTextLayoutFormat().direction = _arg1;
            this.formatChanged();
        }
        public function get wordSpacing(){
            return (((this._format) ? this._format.wordSpacing : undefined));
        }
        public function set wordSpacing(_arg1):void{
            this.writableTextLayoutFormat().wordSpacing = _arg1;
            this.formatChanged();
        }
        public function get tabStops(){
            return (((this._format) ? this._format.tabStops : undefined));
        }
        public function set tabStops(_arg1):void{
            this.writableTextLayoutFormat().tabStops = _arg1;
            this.formatChanged();
        }
        public function get leadingModel(){
            return (((this._format) ? this._format.leadingModel : undefined));
        }
        public function set leadingModel(_arg1):void{
            this.writableTextLayoutFormat().leadingModel = _arg1;
            this.formatChanged();
        }
        public function get columnGap(){
            return (((this._format) ? this._format.columnGap : undefined));
        }
        public function set columnGap(_arg1):void{
            this.writableTextLayoutFormat().columnGap = _arg1;
            this.formatChanged();
        }
        public function get paddingLeft(){
            return (((this._format) ? this._format.paddingLeft : undefined));
        }
        public function set paddingLeft(_arg1):void{
            this.writableTextLayoutFormat().paddingLeft = _arg1;
            this.formatChanged();
        }
        public function get paddingTop(){
            return (((this._format) ? this._format.paddingTop : undefined));
        }
        public function set paddingTop(_arg1):void{
            this.writableTextLayoutFormat().paddingTop = _arg1;
            this.formatChanged();
        }
        public function get paddingRight(){
            return (((this._format) ? this._format.paddingRight : undefined));
        }
        public function set paddingRight(_arg1):void{
            this.writableTextLayoutFormat().paddingRight = _arg1;
            this.formatChanged();
        }
        public function get paddingBottom(){
            return (((this._format) ? this._format.paddingBottom : undefined));
        }
        public function set paddingBottom(_arg1):void{
            this.writableTextLayoutFormat().paddingBottom = _arg1;
            this.formatChanged();
        }
        public function get columnCount(){
            return (((this._format) ? this._format.columnCount : undefined));
        }
        public function set columnCount(_arg1):void{
            this.writableTextLayoutFormat().columnCount = _arg1;
            this.formatChanged();
        }
        public function get columnWidth(){
            return (((this._format) ? this._format.columnWidth : undefined));
        }
        public function set columnWidth(_arg1):void{
            this.writableTextLayoutFormat().columnWidth = _arg1;
            this.formatChanged();
        }
        public function get firstBaselineOffset(){
            return (((this._format) ? this._format.firstBaselineOffset : undefined));
        }
        public function set firstBaselineOffset(_arg1):void{
            this.writableTextLayoutFormat().firstBaselineOffset = _arg1;
            this.formatChanged();
        }
        public function get verticalAlign(){
            return (((this._format) ? this._format.verticalAlign : undefined));
        }
        public function set verticalAlign(_arg1):void{
            this.writableTextLayoutFormat().verticalAlign = _arg1;
            this.formatChanged();
        }
        public function get blockProgression(){
            return (((this._format) ? this._format.blockProgression : undefined));
        }
        public function set blockProgression(_arg1):void{
            this.writableTextLayoutFormat().blockProgression = _arg1;
            this.formatChanged();
        }
        public function get lineBreak(){
            return (((this._format) ? this._format.lineBreak : undefined));
        }
        public function set lineBreak(_arg1):void{
            this.writableTextLayoutFormat().lineBreak = _arg1;
            this.formatChanged();
        }
        public function get listStyleType(){
            return (((this._format) ? this._format.listStyleType : undefined));
        }
        public function set listStyleType(_arg1):void{
            this.writableTextLayoutFormat().listStyleType = _arg1;
            this.formatChanged();
        }
        public function get listStylePosition(){
            return (((this._format) ? this._format.listStylePosition : undefined));
        }
        public function set listStylePosition(_arg1):void{
            this.writableTextLayoutFormat().listStylePosition = _arg1;
            this.formatChanged();
        }
        public function get listAutoPadding(){
            return (((this._format) ? this._format.listAutoPadding : undefined));
        }
        public function set listAutoPadding(_arg1):void{
            this.writableTextLayoutFormat().listAutoPadding = _arg1;
            this.formatChanged();
        }
        public function get clearFloats(){
            return (((this._format) ? this._format.clearFloats : undefined));
        }
        public function set clearFloats(_arg1):void{
            this.writableTextLayoutFormat().clearFloats = _arg1;
            this.formatChanged();
        }
        public function get styleName(){
            return (((this._format) ? this._format.styleName : undefined));
        }
        public function set styleName(_arg1):void{
            this.writableTextLayoutFormat().styleName = _arg1;
            this.styleSelectorChanged();
        }
        public function get linkNormalFormat(){
            return (((this._format) ? this._format.linkNormalFormat : undefined));
        }
        public function set linkNormalFormat(_arg1):void{
            this.writableTextLayoutFormat().linkNormalFormat = _arg1;
            this.formatChanged();
        }
        public function get linkActiveFormat(){
            return (((this._format) ? this._format.linkActiveFormat : undefined));
        }
        public function set linkActiveFormat(_arg1):void{
            this.writableTextLayoutFormat().linkActiveFormat = _arg1;
            this.formatChanged();
        }
        public function get linkHoverFormat(){
            return (((this._format) ? this._format.linkHoverFormat : undefined));
        }
        public function set linkHoverFormat(_arg1):void{
            this.writableTextLayoutFormat().linkHoverFormat = _arg1;
            this.formatChanged();
        }
        public function get listMarkerFormat(){
            return (((this._format) ? this._format.listMarkerFormat : undefined));
        }
        public function set listMarkerFormat(_arg1):void{
            this.writableTextLayoutFormat().listMarkerFormat = _arg1;
            this.formatChanged();
        }
        public function get userStyles():Object{
            return (((this._format) ? this._format.userStyles : null));
        }
        public function set userStyles(_arg1:Object):void{
            var _local2:String;
            for (_local2 in this.userStyles) {
                this.setStyle(_local2, undefined);
            };
            for (_local2 in _arg1) {
                this.setStyle(_local2, _arg1[_local2]);
            };
        }
        public function get coreStyles():Object{
            return (((this._format) ? this._format.coreStyles : null));
        }
        public function get styles():Object{
            return (((this._format) ? this._format.styles : null));
        }
        public function get format():ITextLayoutFormat{
            return (this._format);
        }
        public function set format(_arg1:ITextLayoutFormat):void{
            if (_arg1 == this._format){
                return;
            };
            var _local2:String = this.styleName;
            if (_arg1 == null){
                this._format.clearStyles();
            } else {
                this.writableTextLayoutFormat().copy(_arg1);
            };
            this.formatChanged();
            if (_local2 != this.styleName){
                this.styleSelectorChanged();
            };
        }
        private function writableTextLayoutFormat():FlowValueHolder{
            if (this._format == null){
                this._format = new FlowValueHolder();
            };
            return (this._format);
        }
        public function getStyle(_arg1:String){
            if (TextLayoutFormat.description.hasOwnProperty(_arg1)){
                return (this.computedFormat.getStyle(_arg1));
            };
            var _local2:TextFlow = this._rootElement.getTextFlow();
            if (((!(_local2)) || (!(_local2.formatResolver)))){
                return (this.computedFormat.getStyle(_arg1));
            };
            return (this.getUserStyleWorker(_arg1));
        }
        tlf_internal function getUserStyleWorker(_arg1:String){
            var _local2:* = this._format.getStyle(_arg1);
            if (_local2 !== undefined){
                return (_local2);
            };
            var _local3:TextFlow = ((this._rootElement) ? this._rootElement.getTextFlow() : null);
            if (((_local3) && (_local3.formatResolver))){
                _local2 = _local3.formatResolver.resolveUserFormat(this, _arg1);
                if (_local2 !== undefined){
                    return (_local2);
                };
            };
            return (((this._rootElement) ? this._rootElement.getUserStyleWorker(_arg1) : undefined));
        }
        public function setStyle(_arg1:String, _arg2):void{
            if (TextLayoutFormat.description[_arg1]){
                this[_arg1] = _arg2;
            } else {
                this.writableTextLayoutFormat().setStyle(_arg1, _arg2);
                this.formatChanged();
            };
        }
        public function clearStyle(_arg1:String):void{
            this.setStyle(_arg1, undefined);
        }
        public function get computedFormat():ITextLayoutFormat{
            var _local1:TextLayoutFormat;
            if (!this._computedFormat){
                _local1 = ((this._rootElement) ? TextLayoutFormat(this._rootElement.computedFormat) : null);
                this._computedFormat = FlowElement.createTextLayoutFormatPrototype(this.formatForCascade, _local1);
                this.resetColumnState();
            };
            return (this._computedFormat);
        }
        tlf_internal function get formatForCascade():ITextLayoutFormat{
            var _local1:TextFlow;
            var _local2:TextLayoutFormat;
            var _local3:ITextLayoutFormat;
            var _local4:TextLayoutFormat;
            if (this._rootElement){
                _local1 = this._rootElement.getTextFlow();
                if (_local1){
                    _local2 = _local1.getTextLayoutFormatStyle(this);
                    if (_local2){
                        _local3 = this._format;
                        if (_local3 == null){
                            return (_local2);
                        };
                        _local4 = new TextLayoutFormat(_local2);
                        _local4.apply(_local3);
                        return (_local4);
                    };
                };
            };
            return (this._format);
        }
        tlf_internal function isLineVisible(_arg1:String, _arg2:int, _arg3:int, _arg4:int, _arg5:int, _arg6:TextFlowLine, _arg7:TextLine):TextLine{
            var _local8:Rectangle;
            if (!_arg6.hasLineBounds()){
                if (!_arg7){
                    _arg7 = _arg6.getTextLine(true);
                };
                _arg6.createShape(_arg1, _arg7);
                if (_arg7.numChildren == 0){
                    if (_arg1 == BlockProgression.TB){
                        _arg6.cacheLineBounds(_arg1, _arg7.x, (_arg7.y - _arg7.ascent), _arg7.textWidth, _arg7.textHeight);
                    } else {
                        _arg6.cacheLineBounds(_arg1, (_arg7.x - _arg7.descent), _arg7.y, _arg7.textHeight, _arg7.textWidth);
                    };
                } else {
                    _local8 = this.getPlacedTextLineBounds(_arg7);
                    if (_arg7.hasGraphicElement){
                        _local8 = this.computeLineBoundsWithGraphics(_arg6, _arg7, _local8);
                    };
                    _arg6.cacheLineBounds(_arg1, _local8.x, _local8.y, _local8.width, _local8.height);
                };
            };
            if ((((((_arg1 == BlockProgression.TB)) ? this._measureHeight : this._measureWidth)) || (_arg6.isLineVisible(_arg1, _arg2, _arg3, _arg4, _arg5)))){
                return (((_arg7) ? _arg7 : _arg6.getTextLine(true)));
            };
            return (null);
        }
        private function computeLineBoundsWithGraphics(_arg1:TextFlowLine, _arg2:TextLine, _arg3:Rectangle):Rectangle{
            var _local4:int;
            var _local5:int;
            var _local6:Rectangle;
            var _local7:Point;
            var _local8:FloatCompositionData;
            var _local9:InlineGraphicElement;
            var _local10:DisplayObject;
            if (this._composedFloats){
                _local4 = this.findFloatIndexAtOrAfter(_arg1.absoluteStart);
                _local5 = this.findFloatIndexAtOrAfter((_arg1.absoluteStart + _arg1.textLength));
                _local6 = new Rectangle();
                _local7 = new Point();
                while (_local4 < _local5) {
                    _local8 = this._composedFloats[_local4];
                    if (_local8.floatType == Float.NONE){
                        _local9 = (this.textFlow.findLeaf(_local8.absolutePosition) as InlineGraphicElement);
                        _local10 = _local9.placeholderGraphic.parent;
                        if (_local10){
                            _local6.x = (_arg2.x + _local10.x);
                            _local6.y = (_arg2.y + _local10.y);
                            _local6.width = _local9.elementWidth;
                            _local6.height = _local9.elementHeight;
                            _arg3 = _arg3.union(_local6);
                        };
                    };
                    _local4++;
                };
            };
            return (_arg3);
        }
        tlf_internal function getPlacedTextLineBounds(_arg1:TextLine):Rectangle{
            var _local2:Rectangle;
            _local2 = _arg1.getBounds(_arg1);
            _local2.x = (_local2.x + _arg1.x);
            _local2.y = (_local2.y + _arg1.y);
            return (_local2);
        }
        tlf_internal function addComposedLine(_arg1:TextLine):void{
            this._linesInView.push(_arg1);
        }
        tlf_internal function get composedLines():Array{
            if (!this._linesInView){
                this._linesInView = [];
            };
            return (this._linesInView);
        }
        tlf_internal function clearComposedLines(_arg1:int):void{
            var _local3:TextLine;
            var _local4:TextFlowLine;
            var _local2:int;
            for each (_local3 in this._linesInView) {
                _local4 = (_local3.userData as TextFlowLine);
                if (_local4.absoluteStart >= _arg1){
                    break;
                };
                _local2++;
            };
            this._linesInView.length = _local2;
            this._updateStart = Math.min(this._updateStart, _arg1);
        }
        tlf_internal function get numFloats():int{
            return (((this._composedFloats) ? this._composedFloats.length : 0));
        }
        tlf_internal function getFloatAt(_arg1:int):FloatCompositionData{
            return (this._composedFloats[_arg1]);
        }
        tlf_internal function getFloatAtPosition(_arg1:int):FloatCompositionData{
            if (!this._composedFloats){
                return (null);
            };
            var _local2:int = this.findFloatIndexAtOrAfter(_arg1);
            return (((_local2)<this._composedFloats.length) ? this._composedFloats[_local2] : null);
        }
        tlf_internal function addFloatAt(_arg1:int, _arg2:DisplayObject, _arg3:String, _arg4:Number, _arg5:Number, _arg6:Number, _arg7:Matrix, _arg8:Number, _arg9:Number, _arg10:int, _arg11:DisplayObjectContainer):void{
            var _local13:int;
            if (!this._composedFloats){
                this._composedFloats = [];
            };
            var _local12:FloatCompositionData = new FloatCompositionData(_arg1, _arg2, _arg3, _arg4, _arg5, _arg6, _arg7, _arg8, _arg9, _arg10, _arg11);
            if ((((this._composedFloats.length > 0)) && ((this._composedFloats[(this._composedFloats.length - 1)] < _arg1)))){
                this._composedFloats.push(_local12);
            } else {
                _local13 = this.findFloatIndexAtOrAfter(_arg1);
                this._composedFloats.splice(_local13, 0, _local12);
            };
        }
        tlf_internal function clearFloatsAt(_arg1:int):void{
            if (this._composedFloats){
                if (_arg1 == this.absoluteStart){
                    this._composedFloats.length = 0;
                } else {
                    this._composedFloats.length = this.findFloatIndexAtOrAfter(_arg1);
                };
            };
        }
        tlf_internal function findFloatIndexAfter(_arg1:int):int{
            var _local2:int;
            while ((((_local2 < this._composedFloats.length)) && ((this._composedFloats[_local2].absolutePosition <= _arg1)))) {
                _local2++;
            };
            return (_local2);
        }
        tlf_internal function findFloatIndexAtOrAfter(_arg1:int):int{
            var _local2:int;
            while ((((_local2 < this._composedFloats.length)) && ((this._composedFloats[_local2].absolutePosition < _arg1)))) {
                _local2++;
            };
            return (_local2);
        }
        tlf_internal function getInteractionHandler():IInteractionEventHandler{
            return (this);
        }

    }
}//package flashx.textLayout.container 

import flash.display.*;
import flash.events.*;

class PsuedoMouseEvent extends MouseEvent {

    public function PsuedoMouseEvent(_arg1:String, _arg2:Boolean=true, _arg3:Boolean=false, _arg4:Number=NaN, _arg5:Number=NaN, _arg6:InteractiveObject=null, _arg7:Boolean=false, _arg8:Boolean=false, _arg9:Boolean=false, _arg10:Boolean=false){
        super(_arg1, _arg2, _arg3, _arg4, _arg5, _arg6, _arg7, _arg8, _arg9, _arg10);
    }
    override public function get currentTarget():Object{
        return (relatedObject);
    }
    override public function get target():Object{
        return (relatedObject);
    }

}
﻿package flashx.textLayout.container {
    import flashx.textLayout.property.*;
    import flashx.textLayout.*;

    public final class ScrollPolicy {

        public static const AUTO:String = "auto";
        public static const OFF:String = "off";
        public static const ON:String = "on";
        tlf_internal static const scrollPolicyPropertyDefinition:Property = Property.NewEnumStringProperty("scrollPolicy", ScrollPolicy.AUTO, false, null, ScrollPolicy.AUTO, ScrollPolicy.OFF, ScrollPolicy.ON);

    }
}//package flashx.textLayout.container 
﻿package flashx.textLayout.container {
    import flash.display.*;
    import flash.utils.*;
    import flash.text.engine.*;
    import flash.events.*;
    import flash.geom.*;
    import flashx.textLayout.property.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.compose.*;
    import flashx.textLayout.factory.*;
    import flashx.undo.*;
    import flash.ui.*;
    import flashx.textLayout.events.*;
    import flashx.textLayout.*;

    public class TextContainerManager extends EventDispatcher implements ISWFContext, IInteractionEventHandler, ISandboxSupport {

        private static const eventList:Array = [FlowOperationEvent.FLOW_OPERATION_BEGIN, FlowOperationEvent.FLOW_OPERATION_END, FlowOperationEvent.FLOW_OPERATION_COMPLETE, SelectionEvent.SELECTION_CHANGE, CompositionCompleteEvent.COMPOSITION_COMPLETE, MouseEvent.CLICK, MouseEvent.MOUSE_DOWN, MouseEvent.MOUSE_OUT, MouseEvent.MOUSE_UP, MouseEvent.MOUSE_OVER, MouseEvent.MOUSE_OUT, StatusChangeEvent.INLINE_GRAPHIC_STATUS_CHANGE, TextLayoutEvent.SCROLL, DamageEvent.DAMAGE, UpdateCompleteEvent.UPDATE_COMPLETE];
        tlf_internal static const editingModePropertyDefinition:Property = Property.NewEnumStringProperty("editingMode", EditingMode.READ_WRITE, false, null, EditingMode.READ_WRITE, EditingMode.READ_ONLY, EditingMode.READ_SELECT);
        tlf_internal static const SOURCE_STRING:int = 0;
        tlf_internal static const SOURCE_TEXTFLOW:int = 1;
        tlf_internal static const COMPOSE_FACTORY:int = 0;
        tlf_internal static const COMPOSE_COMPOSER:int = 1;
        tlf_internal static const HANDLERS_NOTADDED:int = 0;
        tlf_internal static const HANDLERS_NONE:int = 1;
        tlf_internal static const HANDLERS_CREATION:int = 2;
        tlf_internal static const HANDLERS_ACTIVE:int = 3;
        tlf_internal static const HANDLERS_MOUSEWHEEL:int = 4;

        private static var _defaultConfiguration:IConfiguration = null;
        private static var _inputManagerTextFlowFactory:TCMTextFlowTextLineFactory;
        private static var stringFactoryDictionary:Dictionary;
        private static var _expectedFactoryCompose:SimpleCompose;

        private var _container:Sprite;
        private var _compositionWidth:Number;
        private var _compositionHeight:Number;
        private var _text:String;
        private var _textDamaged:Boolean;
        private var _lastSeparator:String;
        private var _hostFormat:ITextLayoutFormat;
        private var _stringFactoryTextFlowFormat:ITextLayoutFormat;
        private var _contentTop:Number;
        private var _contentLeft:Number;
        private var _contentHeight:Number;
        private var _contentWidth:Number;
        private var _horizontalScrollPolicy:String;
        private var _verticalScrollPolicy:String;
        private var _swfContext:ISWFContext;
        private var _config:IConfiguration;
        private var _sourceState:int;
        private var _composeState:int;
        private var _handlersState:int;
        private var _hasFocus:Boolean;
        private var _editingMode:String;
        private var _ibeamCursorSet:Boolean;
        private var _interactionCount:int;
        private var _damaged:Boolean;
        private var _textFlow:TextFlow;
        private var _needsRedraw:Boolean;
        tlf_internal var _composedLines:Array;
        private var _composeRecycledInPlaceLines:int;
        private var _composePushedLines:int;
        private var _contextMenu;
        private var _hasScrollRect:Boolean = false;

        public function TextContainerManager(_arg1:Sprite, _arg2:IConfiguration=null){
            this._composedLines = [];
            super();
            this._container = _arg1;
            this._compositionWidth = 100;
            this._compositionHeight = 100;
            this._config = ((_arg2) ? customizeConfiguration(_arg2) : defaultConfiguration);
            this._config = (this._config as Configuration).getImmutableClone();
            this._horizontalScrollPolicy = (this._verticalScrollPolicy = String(ScrollPolicy.scrollPolicyPropertyDefinition.defaultValue));
            this._damaged = true;
            this._needsRedraw = false;
            this._text = "";
            this._textDamaged = false;
            this._sourceState = SOURCE_STRING;
            this._composeState = COMPOSE_FACTORY;
            this._handlersState = HANDLERS_NOTADDED;
            this._hasFocus = false;
            this._editingMode = (editingModePropertyDefinition.defaultValue as String);
            this._ibeamCursorSet = false;
            this._interactionCount = 0;
            if ((this._container is InteractiveObject)){
                this._container.doubleClickEnabled = true;
                this._container.mouseChildren = false;
                this._container.focusRect = false;
            };
        }
        public static function get defaultConfiguration():IConfiguration{
            if (_defaultConfiguration == null){
                _defaultConfiguration = customizeConfiguration(null);
            };
            return (_defaultConfiguration);
        }
        tlf_internal static function customizeConfiguration(_arg1:IConfiguration):IConfiguration{
            var _local2:Configuration;
            if (_arg1){
                if (_arg1.flowComposerClass == TextLineFactoryBase.getDefaultFlowComposerClass()){
                    return (_arg1);
                };
                _local2 = (_arg1 as Configuration).clone();
            } else {
                _local2 = new Configuration();
            };
            _local2.flowComposerClass = TextLineFactoryBase.getDefaultFlowComposerClass();
            return (_local2);
        }
        private static function inputManagerTextFlowFactory():TCMTextFlowTextLineFactory{
            if (!_inputManagerTextFlowFactory){
                _inputManagerTextFlowFactory = new TCMTextFlowTextLineFactory();
            };
            return (_inputManagerTextFlowFactory);
        }
        private static function inputManagerStringFactory(_arg1:IConfiguration):StringTextLineFactory{
            if (!stringFactoryDictionary){
                stringFactoryDictionary = new Dictionary(true);
            };
            var _local2:StringTextLineFactory = stringFactoryDictionary[_arg1];
            if (_local2 == null){
                _local2 = new StringTextLineFactory(_arg1);
                stringFactoryDictionary[_arg1] = _local2;
            };
            return (_local2);
        }
        tlf_internal static function releaseReferences():void{
            stringFactoryDictionary = null;
            _inputManagerTextFlowFactory = null;
        }

        tlf_internal function get sourceState():int{
            return (this._sourceState);
        }
        tlf_internal function get composeState():int{
            return (this._composeState);
        }
        tlf_internal function get handlersState():int{
            return (this._handlersState);
        }
        public function get container():Sprite{
            return (this._container);
        }
        public function isDamaged():Boolean{
            return ((((this._composeState == COMPOSE_FACTORY)) ? this._damaged : this._textFlow.flowComposer.isDamaged(this._textFlow.textLength)));
        }
        public function get editingMode():String{
            return (this._editingMode);
        }
        public function set editingMode(_arg1:String):void{
            var _local2:String = (editingModePropertyDefinition.setHelper(this._editingMode, _arg1) as String);
            if (_local2 != this._editingMode){
                if (this.composeState == COMPOSE_COMPOSER){
                    this._editingMode = _local2;
                    this.invalidateInteractionManager();
                } else {
                    this.removeActivationEventListeners();
                    this._editingMode = _local2;
                    if (this._editingMode == EditingMode.READ_ONLY){
                        this.removeIBeamCursor();
                    };
                    this.addActivationEventListeners();
                };
            };
        }
        public function getText(_arg1:String=" "):String{
            var _local2:FlowLeafElement;
            var _local3:ParagraphElement;
            var _local4:ParagraphElement;
            if (this._sourceState == SOURCE_STRING){
                return (this._text);
            };
            if (((this._textDamaged) || (!((this._lastSeparator == _arg1))))){
                this._text = "";
                _local2 = this._textFlow.getFirstLeaf();
                if (_local2 != null){
                    _local3 = _local2.getParagraph();
                    while (_local3) {
                        _local4 = _local3.getNextParagraph();
                        this._text = (this._text + _local3.getText());
                        this._text = (this._text + ((_local4) ? _arg1 : ""));
                        _local3 = _local4;
                    };
                };
                this._textDamaged = false;
                this._lastSeparator = _arg1;
            };
            return (this._text);
        }
        public function setText(_arg1:String):void{
            var _local2:Boolean;
            if (this._sourceState == SOURCE_TEXTFLOW){
                if (((this._textFlow.interactionManager) && (this._textFlow.interactionManager.hasSelection()))){
                    _local2 = true;
                };
                this.removeTextFlowListeners();
                if (this._textFlow.flowComposer){
                    this._textFlow.flowComposer.removeAllControllers();
                };
                this._textFlow.unloadGraphics();
                this._textFlow = null;
                this._sourceState = SOURCE_STRING;
                this._composeState = COMPOSE_FACTORY;
                if ((this._container is InteractiveObject)){
                    this._container.mouseChildren = false;
                };
                this.addActivationEventListeners();
            };
            this._text = ((_arg1) ? _arg1 : "");
            this._damaged = true;
            this._textDamaged = false;
            if (hasEventListener(DamageEvent.DAMAGE)){
                this.dispatchEvent(new DamageEvent(DamageEvent.DAMAGE, false, false, null, 0, this._text.length));
            };
            if (((_local2) && (hasEventListener(SelectionEvent.SELECTION_CHANGE)))){
                this.dispatchEvent(new SelectionEvent(SelectionEvent.SELECTION_CHANGE, false, false, null));
            };
            if (this._hasFocus){
                this.requiredFocusInHandler(null);
            };
        }
        public function get hostFormat():ITextLayoutFormat{
            return (this._hostFormat);
        }
        public function set hostFormat(_arg1:ITextLayoutFormat):void{
            this._hostFormat = _arg1;
            this._stringFactoryTextFlowFormat = null;
            if (this._sourceState == SOURCE_TEXTFLOW){
                this._textFlow.hostFormat = this._hostFormat;
            };
            if (this._composeState == COMPOSE_FACTORY){
                this._damaged = true;
            };
        }
        public function get compositionWidth():Number{
            return (this._compositionWidth);
        }
        public function set compositionWidth(_arg1:Number):void{
            if ((((this._compositionWidth == _arg1)) || (((isNaN(this._compositionWidth)) && (isNaN(_arg1)))))){
                return;
            };
            this._compositionWidth = _arg1;
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().setCompositionSize(this._compositionWidth, this._compositionHeight);
            } else {
                this._damaged = true;
            };
        }
        public function get compositionHeight():Number{
            return (this._compositionHeight);
        }
        public function set compositionHeight(_arg1:Number):void{
            if ((((this._compositionHeight == _arg1)) || (((isNaN(this._compositionHeight)) && (isNaN(_arg1)))))){
                return;
            };
            this._compositionHeight = _arg1;
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().setCompositionSize(this._compositionWidth, this._compositionHeight);
            } else {
                this._damaged = true;
            };
        }
        public function get configuration():IConfiguration{
            return (this._config);
        }
        public function getContentBounds():Rectangle{
            if (this._composeState == COMPOSE_FACTORY){
                return (new Rectangle(this._contentLeft, this._contentTop, this._contentWidth, this._contentHeight));
            };
            var _local1:ContainerController = this.getController();
            return (_local1.getContentBounds());
        }
        public function getTextFlow():TextFlow{
            var _local1:Boolean;
            if (this._sourceState != SOURCE_TEXTFLOW){
                _local1 = this.isDamaged();
                this.convertToTextFlow();
                if (!_local1){
                    this.updateContainer();
                };
            };
            return (this._textFlow);
        }
        public function setTextFlow(_arg1:TextFlow):void{
            var _local2:TMContainerController;
            if (_arg1 == this._textFlow){
                return;
            };
            if (_arg1 == null){
                this.setText(null);
                return;
            };
            if (((((_arg1.flowComposer) && ((_arg1.flowComposer.numControllers > 0)))) && ((_arg1.flowComposer.getControllerAt(0) is TMContainerController)))){
                _local2 = (_arg1.flowComposer.getControllerAt(0) as TMContainerController);
                if (((_local2.textContainerManager) && ((_local2.textContainerManager.getTextFlow() == _arg1)))){
                    _local2.textContainerManager.setTextFlow(null);
                };
            };
            if (this._sourceState == SOURCE_TEXTFLOW){
                this.removeTextFlowListeners();
                if (this._textFlow.flowComposer){
                    this._textFlow.flowComposer.removeAllControllers();
                };
                this._textFlow.unloadGraphics();
                this._textFlow = null;
            };
            this._textFlow = _arg1;
            this._textFlow.hostFormat = this.hostFormat;
            this._sourceState = SOURCE_TEXTFLOW;
            this._composeState = ((((_arg1.interactionManager) || (_arg1.mustUseComposer()))) ? COMPOSE_COMPOSER : COMPOSE_FACTORY);
            this._textDamaged = true;
            this.addTextFlowListeners();
            if (this._composeState == COMPOSE_COMPOSER){
                this._container.mouseChildren = true;
                this.clearContainerChildren(true);
                this.clearComposedLines();
                this._textFlow.flowComposer = new StandardFlowComposer();
                this._textFlow.flowComposer.swfContext = this._swfContext;
                this._textFlow.flowComposer.addController(new TMContainerController(this._container, this._compositionWidth, this._compositionHeight, this));
                this.invalidateInteractionManager();
                if (this._textFlow.interactionManager){
                    this._textFlow.interactionManager.selectRange(-1, -1);
                };
            } else {
                this._damaged = true;
            };
            if (this._hasFocus){
                this.requiredFocusInHandler(null);
            };
            this.addActivationEventListeners();
        }
        public function get horizontalScrollPolicy():String{
            return (this._horizontalScrollPolicy);
        }
        public function set horizontalScrollPolicy(_arg1:String):void{
            this._horizontalScrollPolicy = (ScrollPolicy.scrollPolicyPropertyDefinition.setHelper(this._horizontalScrollPolicy, _arg1) as String);
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().horizontalScrollPolicy = this._horizontalScrollPolicy;
            } else {
                this._damaged = true;
            };
        }
        public function get verticalScrollPolicy():String{
            return (this._verticalScrollPolicy);
        }
        public function set verticalScrollPolicy(_arg1:String):void{
            this._verticalScrollPolicy = (ScrollPolicy.scrollPolicyPropertyDefinition.setHelper(this._verticalScrollPolicy, _arg1) as String);
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().verticalScrollPolicy = this._verticalScrollPolicy;
            } else {
                this._damaged = true;
            };
        }
        public function get horizontalScrollPosition():Number{
            return ((((this._composeState == COMPOSE_COMPOSER)) ? this.getController().horizontalScrollPosition : 0));
        }
        public function set horizontalScrollPosition(_arg1:Number):void{
            if ((((_arg1 == 0)) && ((this._composeState == COMPOSE_FACTORY)))){
                return;
            };
            if (this._composeState != COMPOSE_COMPOSER){
                this.convertToTextFlowWithComposer();
            };
            this.getController().horizontalScrollPosition = _arg1;
        }
        public function get verticalScrollPosition():Number{
            return ((((this._composeState == COMPOSE_COMPOSER)) ? this.getController().verticalScrollPosition : 0));
        }
        public function set verticalScrollPosition(_arg1:Number):void{
            if ((((_arg1 == 0)) && ((this._composeState == COMPOSE_FACTORY)))){
                return;
            };
            if (this._composeState != COMPOSE_COMPOSER){
                this.convertToTextFlowWithComposer();
            };
            this.getController().verticalScrollPosition = _arg1;
        }
        public function getScrollDelta(_arg1:int):Number{
            if (this._composeState != COMPOSE_COMPOSER){
                this.convertToTextFlowWithComposer();
            };
            return (this.getController().getScrollDelta(_arg1));
        }
        public function scrollToRange(_arg1:int, _arg2:int):void{
            if (this._composeState != COMPOSE_COMPOSER){
                this.convertToTextFlowWithComposer();
            };
            this.getController().scrollToRange(_arg1, _arg2);
        }
        public function get swfContext():ISWFContext{
            return (this._swfContext);
        }
        public function set swfContext(_arg1:ISWFContext):void{
            this._swfContext = _arg1;
            if (this._composeState == COMPOSE_COMPOSER){
                this._textFlow.flowComposer.swfContext = this._swfContext;
            } else {
                this._damaged = true;
            };
        }
        public function getBaseSWFContext():ISWFContext{
            return (this._swfContext);
        }
        public function callInContext(_arg1:Function, _arg2:Object, _arg3:Array, _arg4:Boolean=true){
            var _local5:TextBlock = (_arg2 as TextBlock);
            if (((_local5) && ((_expectedFactoryCompose == TextLineFactoryBase._factoryComposer)))){
                if (_arg1 == _local5.createTextLine){
                    return (this.createTextLine(_local5, _arg3));
                };
                if (((Configuration.playerEnablesArgoFeatures) && ((_arg1 == _arg2["recreateTextLine"])))){
                    return (this.recreateTextLine(_local5, _arg3));
                };
            };
            var _local6:ISWFContext = ((this._swfContext) ? this._swfContext : BaseCompose.globalSWFContext);
            if (_arg4){
                return (_local6.callInContext(_arg1, _arg2, _arg3, _arg4));
            };
            _local6.callInContext(_arg1, _arg2, _arg3, _arg4);
        }
        public function resetLine(_arg1:TextLine):void{
            if (_arg1 == this._composedLines[(this._composeRecycledInPlaceLines - 1)]){
                this._composeRecycledInPlaceLines--;
            };
        }
        private function createTextLine(_arg1:TextBlock, _arg2:Array):TextLine{
            var _local4:TextLine;
            var _local3:ISWFContext = ((this._swfContext) ? this._swfContext : BaseCompose.globalSWFContext);
            if ((((this._composeRecycledInPlaceLines < this._composedLines.length)) && ((_expectedFactoryCompose == TextLineFactoryBase._factoryComposer)))){
                _local4 = this._composedLines[this._composeRecycledInPlaceLines++];
                _arg2.splice(0, 0, _local4);
                return (_local3.callInContext(_arg1["recreateTextLine"], _arg1, _arg2));
            };
            return (_local3.callInContext(_arg1.createTextLine, _arg1, _arg2));
        }
        private function recreateTextLine(_arg1:TextBlock, _arg2:Array):TextLine{
            var _local3:ISWFContext = ((this._swfContext) ? this._swfContext : BaseCompose.globalSWFContext);
            if (this._composeRecycledInPlaceLines < this._composedLines.length){
                TextLineRecycler.addLineForReuse(_arg2[0]);
                _arg2[0] = this._composedLines[this._composeRecycledInPlaceLines++];
            };
            return (_local3.callInContext(_arg1["recreateTextLine"], _arg1, _arg2));
        }
        public function beginInteraction():ISelectionManager{
            this._interactionCount++;
            if (this._composeState != COMPOSE_COMPOSER){
                this.convertToTextFlowWithComposer();
            };
            return (this._textFlow.interactionManager);
        }
        public function endInteraction():void{
            this._interactionCount--;
        }
        public function invalidateUndoManager():void{
            if (this._editingMode == EditingMode.READ_WRITE){
                this.invalidateInteractionManager(true);
            };
        }
        public function invalidateSelectionFormats():void{
            this.invalidateInteractionManager();
        }
        private function invalidateInteractionManager(_arg1:Boolean=false):void{
            var _local2:ISelectionManager;
            var _local3:int;
            var _local4:int;
            if (this._composeState == COMPOSE_COMPOSER){
                _local2 = this._textFlow.interactionManager;
                _local3 = ((_local2) ? _local2.activePosition : -1);
                _local4 = ((_local2) ? _local2.anchorPosition : -1);
                if (this._editingMode == EditingMode.READ_ONLY){
                    if (_local2){
                        this._textFlow.interactionManager = null;
                    };
                } else {
                    if (this._editingMode == EditingMode.READ_WRITE){
                        if (((((_arg1) || ((_local2 == null)))) || ((_local2.editingMode == EditingMode.READ_SELECT)))){
                            this._textFlow.interactionManager = this.createEditManager(this.getUndoManager());
                            if ((this._textFlow.interactionManager is SelectionManager)){
                                SelectionManager(this._textFlow.interactionManager).cloneSelectionFormatState(_local2);
                            };
                        };
                    } else {
                        if (this._editingMode == EditingMode.READ_SELECT){
                            if (((((_arg1) || ((_local2 == null)))) || ((_local2.editingMode == EditingMode.READ_WRITE)))){
                                this._textFlow.interactionManager = this.createSelectionManager();
                                if ((this._textFlow.interactionManager is SelectionManager)){
                                    SelectionManager(this._textFlow.interactionManager).cloneSelectionFormatState(_local2);
                                };
                            };
                        };
                    };
                };
                _local2 = this._textFlow.interactionManager;
                if (_local2){
                    _local2.unfocusedSelectionFormat = this.getUnfocusedSelectionFormat();
                    _local2.focusedSelectionFormat = this.getFocusedSelectionFormat();
                    _local2.inactiveSelectionFormat = this.getInactiveSelectionFormat();
                    _local2.selectRange(_local4, _local3);
                };
            };
        }
        protected function createSelectionManager():ISelectionManager{
            return (new SelectionManager());
        }
        protected function createEditManager(_arg1:IUndoManager):IEditManager{
            return (new EditManager(_arg1));
        }
        private function getController():TMContainerController{
            return ((this._textFlow.flowComposer.getControllerAt(0) as TMContainerController));
        }
        public function getLineAt(_arg1:int):TextLine{
            if (this._composeState == COMPOSE_FACTORY){
                if ((((((((this._sourceState == SOURCE_STRING)) && ((this._text.length == 0)))) && (!(this._damaged)))) && ((this._composedLines.length == 0)))){
                    if (this._needsRedraw){
                        this.compose();
                    } else {
                        this.updateContainer();
                    };
                };
                return (this._composedLines[_arg1]);
            };
            var _local2:TextFlowLine = this._textFlow.flowComposer.getLineAt(_arg1);
            return (((_local2) ? _local2.getTextLine(true) : null));
        }
        public function get numLines():int{
            if (this._composeState == COMPOSE_COMPOSER){
                return (this._textFlow.flowComposer.numLines);
            };
            if ((((this._sourceState == SOURCE_STRING)) && ((this._text.length == 0)))){
                return (1);
            };
            return (this._composedLines.length);
        }
        tlf_internal function getActualNumLines():int{
            if (this._composeState != COMPOSE_COMPOSER){
                this.convertToTextFlowWithComposer();
            };
            this._textFlow.flowComposer.composeToPosition();
            return (this._textFlow.flowComposer.numLines);
        }
        tlf_internal function clearComposedLines():void{
            if (this._composedLines){
                this._composedLines.length = 0;
            };
        }
        private function populateComposedLines(_arg1:DisplayObject):void{
            this._composedLines.push(_arg1);
        }
        private function populateAndRecycleComposedLines(_arg1:DisplayObject):void{
            var _local2:TextLine = (_arg1 as TextLine);
            if (_local2){
                if (this._composePushedLines >= this._composedLines.length){
                    this._composedLines.push(_local2);
                };
            } else {
                this._composedLines.splice(0, 0, _arg1);
            };
            this._composePushedLines++;
        }
        public function compose():void{
            var _local1:Function;
            var _local2:TextLineFactoryBase;
            var _local3:Rectangle;
            var _local4:Object;
            var _local5:StringTextLineFactory;
            var _local6:TextLayoutFormat;
            var _local7:Object;
            var _local8:String;
            var _local9:*;
            var _local10:TCMTextFlowTextLineFactory;
            if (this._composeState == COMPOSE_COMPOSER){
                this._textFlow.flowComposer.compose();
            } else {
                if (this._damaged){
                    if ((((this._sourceState == SOURCE_TEXTFLOW)) && (this._textFlow.mustUseComposer()))){
                        this.convertToTextFlowWithComposer(false);
                        this._textFlow.flowComposer.compose();
                        return;
                    };
                    if (Configuration.playerEnablesArgoFeatures){
                        while (true) {
                            _local4 = this._composedLines[0];
                            if ((((_local4 == null)) || ((_local4 is TextLine)))){
                                break;
                            };
                            this._composedLines.splice(0, 1);
                        };
                        this._composeRecycledInPlaceLines = 0;
                        this._composePushedLines = 0;
                        _local1 = this.populateAndRecycleComposedLines;
                    } else {
                        this.clearComposedLines();
                        _local1 = this.populateComposedLines;
                    };
                    _local2 = ((this._sourceState)==SOURCE_STRING) ? inputManagerStringFactory(this._config) : inputManagerTextFlowFactory();
                    _local2.verticalScrollPolicy = this._verticalScrollPolicy;
                    _local2.horizontalScrollPolicy = this._horizontalScrollPolicy;
                    _local2.compositionBounds = new Rectangle(0, 0, this._compositionWidth, this._compositionHeight);
                    _local2.swfContext = ((Configuration.playerEnablesArgoFeatures) ? this : this._swfContext);
                    _expectedFactoryCompose = TextLineFactoryBase.peekFactoryCompose();
                    if (this._sourceState == SOURCE_STRING){
                        _local5 = (_local2 as StringTextLineFactory);
                        if (!this._stringFactoryTextFlowFormat){
                            if (this._hostFormat == null){
                                this._stringFactoryTextFlowFormat = this._config.textFlowInitialFormat;
                            } else {
                                _local6 = new TextLayoutFormat(this._hostFormat);
                                TextLayoutFormat.resetModifiedNoninheritedStyles(_local6);
                                _local7 = (this._config.textFlowInitialFormat as TextLayoutFormat).getStyles();
                                for (_local8 in _local7) {
                                    _local9 = _local7[_local8];
                                    _local6[_local8] = ((_local9)!==FormatValue.INHERIT) ? _local9 : this._hostFormat[_local8];
                                };
                                this._stringFactoryTextFlowFormat = _local6;
                            };
                        };
                        if (!TextLayoutFormat.isEqual(_local5.textFlowFormat, this._stringFactoryTextFlowFormat)){
                            _local5.textFlowFormat = this._stringFactoryTextFlowFormat;
                        };
                        _local5.text = this._text;
                        _local5.createTextLines(_local1);
                    } else {
                        _local10 = (_local2 as TCMTextFlowTextLineFactory);
                        _local10.tcm = this;
                        _local10.createTextLines(_local1, this._textFlow);
                        _local10.tcm = null;
                    };
                    _local2.swfContext = null;
                    _expectedFactoryCompose = null;
                    if (Configuration.playerEnablesArgoFeatures){
                        this._composedLines.length = this._composePushedLines;
                    };
                    _local3 = _local2.getContentBounds();
                    this._contentLeft = _local3.x;
                    this._contentTop = _local3.y;
                    this._contentWidth = _local3.width;
                    this._contentHeight = _local3.height;
                    this._damaged = false;
                    if (hasEventListener(CompositionCompleteEvent.COMPOSITION_COMPLETE)){
                        this.dispatchEvent(new CompositionCompleteEvent(CompositionCompleteEvent.COMPOSITION_COMPLETE, false, false, this._textFlow, 0, -1));
                    };
                    this._needsRedraw = true;
                };
            };
        }
        public function updateContainer():Boolean{
            if (this._composeState == COMPOSE_COMPOSER){
                return (this._textFlow.flowComposer.updateAllControllers());
            };
            this.compose();
            if (this._composeState == COMPOSE_COMPOSER){
                this._textFlow.flowComposer.updateAllControllers();
                return (true);
            };
            if (!this._needsRedraw){
                return (false);
            };
            this.factoryUpdateContainerChildren();
            this.drawBackgroundAndSetScrollRect(0, 0);
            if (this._handlersState == HANDLERS_NOTADDED){
                this.addActivationEventListeners();
            };
            if (hasEventListener(UpdateCompleteEvent.UPDATE_COMPLETE)){
                this.dispatchEvent(new UpdateCompleteEvent(UpdateCompleteEvent.UPDATE_COMPLETE, false, false, null));
            };
            this._needsRedraw = false;
            return (true);
        }
        tlf_internal function factoryUpdateContainerChildren():void{
            var _local1:DisplayObject;
            var _local2:int;
            var _local3:TextLine;
            if (Configuration.playerEnablesArgoFeatures){
                while (this._container.numChildren != 0) {
                    _local1 = this._container.getChildAt(0);
                    if ((_local1 is TextLine)){
                        break;
                    };
                    this._container.removeChildAt(0);
                };
                _local2 = 0;
                while (_local2 < this._composedLines.length) {
                    _local1 = this._composedLines[_local2];
                    if ((_local1 is TextLine)){
                        break;
                    };
                    this._container.addChildAt(_local1, _local2);
                    _local2++;
                };
                while (this._container.numChildren < this._composedLines.length) {
                    this._container.addChild(this._composedLines[this._container.numChildren]);
                };
                while (this._container.numChildren > this._composedLines.length) {
                    _local3 = (this._container.getChildAt(this._composedLines.length) as TextLine);
                    this._container.removeChildAt(this._composedLines.length);
                    if (_local3){
                        if (_local3.validity == TextLineValidity.VALID){
                            _local3.textBlock.releaseLines(_local3, _local3.textBlock.lastLine);
                        };
                        _local3.userData = null;
                        TextLineRecycler.addLineForReuse(_local3);
                    };
                };
            } else {
                this.clearContainerChildren(false);
                for each (_local1 in this._composedLines) {
                    this._container.addChild(_local1);
                };
                this.clearComposedLines();
            };
        }
        private function addActivationEventListeners():void{
            var _local1:int = HANDLERS_NONE;
            if (this._composeState == COMPOSE_FACTORY){
                if (this._editingMode == EditingMode.READ_ONLY){
                    _local1 = HANDLERS_MOUSEWHEEL;
                } else {
                    _local1 = (((this._handlersState == HANDLERS_NOTADDED)) ? HANDLERS_CREATION : HANDLERS_ACTIVE);
                };
            };
            if (_local1 == this._handlersState){
                return;
            };
            this.removeActivationEventListeners();
            if (_local1 == HANDLERS_CREATION){
                this._container.addEventListener(FocusEvent.FOCUS_IN, this.requiredFocusInHandler);
                this._container.addEventListener(MouseEvent.MOUSE_OVER, this.requiredMouseOverHandler);
            } else {
                if (_local1 == HANDLERS_ACTIVE){
                    this._container.addEventListener(FocusEvent.FOCUS_IN, this.requiredFocusInHandler);
                    this._container.addEventListener(MouseEvent.MOUSE_OVER, this.requiredMouseOverHandler);
                    this._container.addEventListener(MouseEvent.MOUSE_DOWN, this.mouseDownHandler);
                    this._container.addEventListener(MouseEvent.MOUSE_OUT, this.mouseOutHandler);
                    this._container.addEventListener(MouseEvent.MOUSE_WHEEL, this.mouseWheelHandler);
                    this._container.addEventListener("imeStartComposition", this.imeStartCompositionHandler);
                    if (this.getContextMenu() != null){
                        this._container.contextMenu = this._contextMenu;
                    };
                    if (this._container.contextMenu){
                        this._container.contextMenu.addEventListener(ContextMenuEvent.MENU_SELECT, this.menuSelectHandler);
                    };
                    this._container.addEventListener(Event.SELECT_ALL, this.editHandler);
                } else {
                    if (_local1 == HANDLERS_MOUSEWHEEL){
                        this._container.addEventListener(MouseEvent.MOUSE_WHEEL, this.mouseWheelHandler);
                    };
                };
            };
            this._handlersState = _local1;
        }
        tlf_internal function getContextMenu():ContextMenu{
            if (this._contextMenu === undefined){
                this._contextMenu = this.createContextMenu();
            };
            return (this._contextMenu);
        }
        private function removeActivationEventListeners():void{
            if (this._handlersState == HANDLERS_CREATION){
                this._container.removeEventListener(FocusEvent.FOCUS_IN, this.requiredFocusInHandler);
                this._container.removeEventListener(MouseEvent.MOUSE_OVER, this.requiredMouseOverHandler);
            } else {
                if (this._handlersState == HANDLERS_ACTIVE){
                    this._container.removeEventListener(FocusEvent.FOCUS_IN, this.requiredFocusInHandler);
                    this._container.removeEventListener(MouseEvent.MOUSE_OVER, this.requiredMouseOverHandler);
                    this._container.removeEventListener(MouseEvent.MOUSE_DOWN, this.mouseDownHandler);
                    this._container.removeEventListener(MouseEvent.MOUSE_OUT, this.mouseOutHandler);
                    this._container.removeEventListener(MouseEvent.MOUSE_WHEEL, this.mouseWheelHandler);
                    this._container.removeEventListener("imeStartComposition", this.imeStartCompositionHandler);
                    if (this._container.contextMenu){
                        this._container.contextMenu.removeEventListener(ContextMenuEvent.MENU_SELECT, this.menuSelectHandler);
                    };
                    if (this._contextMenu){
                        this._container.contextMenu = null;
                    };
                    this._container.removeEventListener(Event.SELECT_ALL, this.editHandler);
                } else {
                    if (this._handlersState == HANDLERS_MOUSEWHEEL){
                        this._container.removeEventListener(MouseEvent.MOUSE_WHEEL, this.mouseWheelHandler);
                    };
                };
            };
            this._handlersState = HANDLERS_NOTADDED;
        }
        private function addTextFlowListeners():void{
            var _local1:String;
            for each (_local1 in eventList) {
                this._textFlow.addEventListener(_local1, this.dispatchEvent);
            };
        }
        private function removeTextFlowListeners():void{
            var _local1:String;
            for each (_local1 in eventList) {
                this._textFlow.removeEventListener(_local1, this.dispatchEvent);
            };
            this._handlersState = HANDLERS_NONE;
        }
        override public function dispatchEvent(_arg1:Event):Boolean{
            if (_arg1.type == DamageEvent.DAMAGE){
                this._textDamaged = true;
                if (this._composeState == COMPOSE_FACTORY){
                    this._damaged = true;
                };
            } else {
                if (_arg1.type == FlowOperationEvent.FLOW_OPERATION_BEGIN){
                    if (this._container.mouseChildren == false){
                        this._container.mouseChildren = true;
                    };
                };
            };
            var _local2:Boolean = super.dispatchEvent(_arg1);
            if (!_local2){
                _arg1.preventDefault();
            };
            return (_local2);
        }
        tlf_internal function clearContainerChildren(_arg1:Boolean):void{
            var _local2:TextLine;
            var _local3:TextBlock;
            while (this._container.numChildren) {
                _local2 = (this._container.getChildAt(0) as TextLine);
                this._container.removeChildAt(0);
                if (_local2){
                    if (((!((_local2.validity == TextLineValidity.INVALID))) && (!((_local2.validity == TextLineValidity.STATIC))))){
                        _local3 = _local2.textBlock;
                        _local3.releaseLines(_local3.firstLine, _local3.lastLine);
                    };
                    if (_arg1){
                        _local2.userData = null;
                        TextLineRecycler.addLineForReuse(_local2);
                    };
                };
            };
        }
        private function convertToTextFlow():void{
            this._textFlow = new TextFlow(this._config);
            this._textFlow.hostFormat = this._hostFormat;
            if (this._swfContext){
                this._textFlow.flowComposer.swfContext = this._swfContext;
            };
            var _local1:ParagraphElement = new ParagraphElement();
            this._textFlow.addChild(_local1);
            var _local2:SpanElement = new SpanElement();
            _local2.text = this._text;
            _local1.addChild(_local2);
            this._sourceState = SOURCE_TEXTFLOW;
            this.addTextFlowListeners();
        }
        tlf_internal function convertToTextFlowWithComposer(_arg1:Boolean=true):void{
            var _local2:TMContainerController;
            this.removeActivationEventListeners();
            if (this._sourceState != SOURCE_TEXTFLOW){
                this.convertToTextFlow();
            };
            if (this._composeState != COMPOSE_COMPOSER){
                this.clearContainerChildren(true);
                this.clearComposedLines();
                _local2 = new TMContainerController(this._container, this._compositionWidth, this._compositionHeight, this);
                this._textFlow.flowComposer = new StandardFlowComposer();
                this._textFlow.flowComposer.addController(_local2);
                this._textFlow.flowComposer.swfContext = this._swfContext;
                this._composeState = COMPOSE_COMPOSER;
                this.invalidateInteractionManager();
                if (_arg1){
                    this.updateContainer();
                };
            };
        }
        private function get effectiveBlockProgression():String{
            if (this._textFlow){
                return (this._textFlow.computedFormat.blockProgression);
            };
            return (((((((this._hostFormat) && (this._hostFormat.blockProgression))) && (!((this._hostFormat.blockProgression == FormatValue.INHERIT))))) ? this._hostFormat.blockProgression : BlockProgression.TB));
        }
        private function removeIBeamCursor():void{
            if (this._ibeamCursorSet){
                Mouse.cursor = MouseCursor.AUTO;
                this._ibeamCursorSet = false;
            };
        }
        private function get hasScrollRect():Boolean{
            return (this._hasScrollRect);
        }
        private function set hasScrollRect(_arg1:Boolean):void{
            this._hasScrollRect = _arg1;
        }
        public function drawBackgroundAndSetScrollRect(_arg1:Number, _arg2:Number):Boolean{
            var _local4:Number;
            var _local5:Number;
            var _local6:Number;
            var _local7:Number;
            var _local9:ContainerController;
            var _local10:Number;
            var _local11:Number;
            var _local3:Sprite = this.container;
            if (this._composeState == COMPOSE_FACTORY){
                _local4 = this._contentWidth;
                _local5 = this._contentHeight;
            } else {
                _local9 = this.getController();
                _local4 = _local9.contentWidth;
                _local5 = _local9.contentHeight;
            };
            if (isNaN(this.compositionWidth)){
                _local10 = ((this._composeState)==COMPOSE_FACTORY) ? this._contentLeft : _local9.contentLeft;
                _local6 = ((_local10 + _local4) - _arg1);
            } else {
                _local6 = this.compositionWidth;
            };
            if (isNaN(this.compositionHeight)){
                _local11 = ((this._composeState)==COMPOSE_FACTORY) ? this._contentTop : _local9.contentTop;
                _local7 = ((_local11 + _local5) - _arg2);
            } else {
                _local7 = this.compositionHeight;
            };
            if ((((((((_arg1 == 0)) && ((_arg2 == 0)))) && ((_local4 <= _local6)))) && ((_local5 <= _local7)))){
                if (this._hasScrollRect){
                    _local3.scrollRect = null;
                    this._hasScrollRect = false;
                };
            } else {
                _local3.scrollRect = new Rectangle(_arg1, _arg2, _local6, _local7);
                this._hasScrollRect = true;
                _arg1 = _local3.scrollRect.x;
                _arg2 = _local3.scrollRect.y;
                _local6 = _local3.scrollRect.width;
                _local7 = _local3.scrollRect.height;
            };
            var _local8:Sprite = (_local3 as Sprite);
            if (_local8){
                _local8.graphics.clear();
                _local8.graphics.beginFill(0, 0);
                _local8.graphics.drawRect(_arg1, _arg2, _local6, _local7);
                _local8.graphics.endFill();
            };
            return (this._hasScrollRect);
        }
        protected function getFocusedSelectionFormat():SelectionFormat{
            return (this._config.focusedSelectionFormat);
        }
        protected function getInactiveSelectionFormat():SelectionFormat{
            return (this._config.inactiveSelectionFormat);
        }
        protected function getUnfocusedSelectionFormat():SelectionFormat{
            return (this._config.unfocusedSelectionFormat);
        }
        protected function getUndoManager():IUndoManager{
            return (new UndoManager());
        }
        protected function createContextMenu():ContextMenu{
            return (ContainerController.createDefaultContextMenu());
        }
        public function editHandler(_arg1:Event):void{
            if (this._composeState == COMPOSE_FACTORY){
                this.convertToTextFlowWithComposer();
                this.getController().editHandler(_arg1);
                this._textFlow.interactionManager.setFocus();
            } else {
                this.getController().editHandler(_arg1);
            };
        }
        public function keyDownHandler(_arg1:KeyboardEvent):void{
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().keyDownHandler(_arg1);
            };
        }
        public function keyUpHandler(_arg1:KeyboardEvent):void{
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().keyUpHandler(_arg1);
            };
        }
        public function keyFocusChangeHandler(_arg1:FocusEvent):void{
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().keyFocusChangeHandler(_arg1);
            };
        }
        public function textInputHandler(_arg1:TextEvent):void{
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().textInputHandler(_arg1);
            };
        }
        public function imeStartCompositionHandler(_arg1:IMEEvent):void{
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().imeStartCompositionHandler(_arg1);
            };
        }
        public function softKeyboardActivatingHandler(_arg1:Event):void{
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().softKeyboardActivatingHandler(_arg1);
            };
        }
        public function mouseDownHandler(_arg1:MouseEvent):void{
            if (this._composeState == COMPOSE_FACTORY){
                this.convertToTextFlowWithComposer();
                this.getController().requiredFocusInHandler(null);
                this.getController().requiredMouseOverHandler(((_arg1.target)!=this.container) ? new RemappedMouseEvent(_arg1) : _arg1);
                if (this._hasFocus){
                    this.getController().requiredFocusInHandler(null);
                };
                this.getController().requiredMouseDownHandler(_arg1);
            } else {
                this.getController().mouseDownHandler(_arg1);
            };
        }
        public function mouseMoveHandler(_arg1:MouseEvent):void{
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().mouseMoveHandler(_arg1);
            };
        }
        public function mouseUpHandler(_arg1:MouseEvent):void{
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().mouseUpHandler(_arg1);
            };
        }
        public function mouseDoubleClickHandler(_arg1:MouseEvent):void{
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().mouseDoubleClickHandler(_arg1);
            };
        }
        final tlf_internal function requiredMouseOverHandler(_arg1:MouseEvent):void{
            if (this._composeState == COMPOSE_FACTORY){
                this.mouseOverHandler(_arg1);
            };
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().requiredMouseOverHandler(_arg1);
            };
        }
        public function mouseOverHandler(_arg1:MouseEvent):void{
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().mouseOverHandler(_arg1);
            } else {
                if (this.effectiveBlockProgression != BlockProgression.RL){
                    Mouse.cursor = MouseCursor.IBEAM;
                    this._ibeamCursorSet = true;
                };
                this.addActivationEventListeners();
            };
        }
        public function mouseOutHandler(_arg1:MouseEvent):void{
            if (this._composeState == COMPOSE_FACTORY){
                this.removeIBeamCursor();
            } else {
                this.getController().mouseOutHandler(_arg1);
            };
        }
        public function focusInHandler(_arg1:FocusEvent):void{
            this._hasFocus = true;
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().focusInHandler(_arg1);
            };
        }
        tlf_internal function requiredFocusOutHandler(_arg1:FocusEvent):void{
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().requiredFocusOutHandler(_arg1);
            };
        }
        public function focusOutHandler(_arg1:FocusEvent):void{
            this._hasFocus = false;
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().focusOutHandler(_arg1);
            };
        }
        public function activateHandler(_arg1:Event):void{
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().activateHandler(_arg1);
            };
        }
        public function deactivateHandler(_arg1:Event):void{
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().deactivateHandler(_arg1);
            };
        }
        public function focusChangeHandler(_arg1:FocusEvent):void{
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().focusChangeHandler(_arg1);
            };
        }
        public function menuSelectHandler(_arg1:ContextMenuEvent):void{
            var _local2:ContextMenu;
            var _local3:ContextMenuClipboardItems;
            if (this._composeState == COMPOSE_FACTORY){
                _local2 = (this._container.contextMenu as ContextMenu);
                if (_local2){
                    _local3 = _local2.clipboardItems;
                    _local3.selectAll = !((this._editingMode == EditingMode.READ_ONLY));
                    _local3.clear = false;
                    _local3.copy = false;
                    _local3.cut = false;
                    _local3.paste = false;
                };
            } else {
                this.getController().menuSelectHandler(_arg1);
            };
        }
        public function mouseWheelHandler(_arg1:MouseEvent):void{
            if (_arg1.isDefaultPrevented()){
                return;
            };
            if (this._composeState == COMPOSE_FACTORY){
                this.convertToTextFlowWithComposer();
                this.getController().requiredMouseOverHandler(_arg1);
            };
            this.getController().mouseWheelHandler(_arg1);
        }
        final tlf_internal function requiredFocusInHandler(_arg1:FocusEvent):void{
            if (this._composeState == COMPOSE_FACTORY){
                this.addActivationEventListeners();
                this.focusInHandler(_arg1);
            };
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().requiredFocusInHandler(_arg1);
            };
        }
        public function beginMouseCapture():void{
        }
        public function endMouseCapture():void{
        }
        public function mouseUpSomewhere(_arg1:Event):void{
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().mouseUpSomewhere(_arg1);
            };
        }
        public function mouseMoveSomewhere(_arg1:Event):void{
            if (this._composeState == COMPOSE_COMPOSER){
                this.getController().mouseUpSomewhere(_arg1);
            };
        }
        tlf_internal function getFirstTextLineChildIndex():int{
            var _local1:int;
            _local1 = 0;
            while (_local1 < this._container.numChildren) {
                if ((this._container.getChildAt(_local1) is TextLine)){
                    break;
                };
                _local1++;
            };
            return (_local1);
        }
        tlf_internal function addTextLine(_arg1:TextLine, _arg2:int):void{
            this._container.addChildAt(_arg1, _arg2);
        }
        tlf_internal function removeTextLine(_arg1:TextLine):void{
            if (this._container.contains(_arg1)){
                this._container.removeChild(_arg1);
            };
        }
        tlf_internal function addBackgroundShape(_arg1:Shape):void{
            this._container.addChildAt(_arg1, this.getFirstTextLineChildIndex());
        }
        tlf_internal function removeBackgroundShape(_arg1:Shape):void{
            if (_arg1.parent){
                _arg1.parent.removeChild(_arg1);
            };
        }
        tlf_internal function addSelectionContainer(_arg1:DisplayObjectContainer):void{
            if ((((_arg1.blendMode == BlendMode.NORMAL)) && ((_arg1.alpha == 1)))){
                this._container.addChildAt(_arg1, this.getFirstTextLineChildIndex());
            } else {
                this._container.addChild(_arg1);
            };
        }
        tlf_internal function removeSelectionContainer(_arg1:DisplayObjectContainer):void{
            _arg1.parent.removeChild(_arg1);
        }
        tlf_internal function addInlineGraphicElement(_arg1:DisplayObjectContainer, _arg2:DisplayObject, _arg3:int):void{
            _arg1.addChildAt(_arg2, _arg3);
        }
        tlf_internal function removeInlineGraphicElement(_arg1:DisplayObjectContainer, _arg2:DisplayObject):void{
            if (_arg2.parent == _arg1){
                _arg1.removeChild(_arg2);
            };
        }

    }
}//package flashx.textLayout.container 

import flash.display.*;
import flash.text.engine.*;
import flash.events.*;
import flash.geom.*;
import flashx.textLayout.formats.*;
import flashx.textLayout.edit.*;
import flashx.textLayout.compose.*;
import flashx.textLayout.factory.*;
import flash.ui.*;
import flashx.textLayout.*;

class TMContainerController extends ContainerController {

    private var _inputManager:TextContainerManager;

    public function TMContainerController(_arg1:Sprite, _arg2:Number, _arg3:Number, _arg4:TextContainerManager){
        super(_arg1, _arg2, _arg3);
        this._inputManager = _arg4;
        verticalScrollPolicy = _arg4.verticalScrollPolicy;
        horizontalScrollPolicy = _arg4.horizontalScrollPolicy;
    }
    public function get textContainerManager():TextContainerManager{
        return (this._inputManager);
    }
    override protected function createContextMenu():ContextMenu{
        return (this._inputManager.getContextMenu());
    }
    override protected function get attachTransparentBackground():Boolean{
        return (false);
    }
    tlf_internal function doUpdateVisibleRectangle():void{
        this.updateVisibleRectangle();
    }
    override protected function updateVisibleRectangle():void{
        var _local1:Number;
        var _local2:Number;
        _local1 = horizontalScrollPosition;
        if ((((effectiveBlockProgression == BlockProgression.RL)) && (((!((verticalScrollPolicy == ScrollPolicy.OFF))) || (!((horizontalScrollPolicy == ScrollPolicy.OFF))))))){
            _local1 = (_local1 - ((isNaN(compositionWidth)) ? contentWidth : compositionWidth));
        };
        _local2 = verticalScrollPosition;
        _hasScrollRect = this._inputManager.drawBackgroundAndSetScrollRect(_local1, _local2);
    }
    override tlf_internal function getInteractionHandler():IInteractionEventHandler{
        return (this._inputManager);
    }
    override tlf_internal function attachContextMenu():void{
        if (this._inputManager.getContextMenu() != null){
            super.attachContextMenu();
        };
    }
    override tlf_internal function removeContextMenu():void{
        if (this._inputManager.getContextMenu()){
            super.removeContextMenu();
        };
    }
    override protected function getFirstTextLineChildIndex():int{
        return (this._inputManager.getFirstTextLineChildIndex());
    }
    override protected function addTextLine(_arg1:TextLine, _arg2:int):void{
        this._inputManager.addTextLine(_arg1, _arg2);
    }
    override protected function removeTextLine(_arg1:TextLine):void{
        this._inputManager.removeTextLine(_arg1);
    }
    override protected function addBackgroundShape(_arg1:Shape):void{
        this._inputManager.addBackgroundShape(_arg1);
    }
    override protected function removeBackgroundShape(_arg1:Shape):void{
        this._inputManager.removeBackgroundShape(_arg1);
    }
    override protected function addSelectionContainer(_arg1:DisplayObjectContainer):void{
        this._inputManager.addSelectionContainer(_arg1);
    }
    override protected function removeSelectionContainer(_arg1:DisplayObjectContainer):void{
        this._inputManager.removeSelectionContainer(_arg1);
    }
    override protected function addInlineGraphicElement(_arg1:DisplayObjectContainer, _arg2:DisplayObject, _arg3:int):void{
        this._inputManager.addInlineGraphicElement(_arg1, _arg2, _arg3);
    }
    override protected function removeInlineGraphicElement(_arg1:DisplayObjectContainer, _arg2:DisplayObject):void{
        this._inputManager.removeInlineGraphicElement(_arg1, _arg2);
    }

}
class RemappedMouseEvent extends MouseEvent {

    private var _event:MouseEvent;

    public function RemappedMouseEvent(_arg1:MouseEvent, _arg2:Boolean=false){
        var _local3:Point;
        if (!_arg2){
            _local3 = DisplayObject(_arg1.target).localToGlobal(new Point(_arg1.localX, _arg1.localY));
            _local3 = DisplayObject(_arg1.currentTarget).globalToLocal(_local3);
        } else {
            _local3 = new Point();
        };
        super(_arg1.type, _arg1.bubbles, _arg1.cancelable, _local3.x, _local3.y, _arg1.relatedObject, _arg1.ctrlKey, _arg1.altKey, _arg1.shiftKey, _arg1.buttonDown, _arg1.delta);
        this._event = _arg1;
    }
    override public function get target():Object{
        return (this._event.currentTarget);
    }
    override public function get currentTarget():Object{
        return (this._event.currentTarget);
    }
    override public function get eventPhase():uint{
        return (this._event.eventPhase);
    }
    override public function get isRelatedObjectInaccessible():Boolean{
        return (this._event.isRelatedObjectInaccessible);
    }
    override public function get stageX():Number{
        return (this._event.stageX);
    }
    override public function get stageY():Number{
        return (this._event.stageY);
    }
    override public function clone():Event{
        var _local1:RemappedMouseEvent = new RemappedMouseEvent(this._event, true);
        _local1.localX = localX;
        _local1.localY = localY;
        return (_local1);
    }
    override public function updateAfterEvent():void{
        this._event.updateAfterEvent();
    }
    override public function isDefaultPrevented():Boolean{
        return (this._event.isDefaultPrevented());
    }
    override public function preventDefault():void{
        this._event.preventDefault();
    }
    override public function stopImmediatePropagation():void{
        this._event.stopImmediatePropagation();
    }
    override public function stopPropagation():void{
        this._event.stopPropagation();
    }

}
class TCMTextFlowTextLineFactory extends TextFlowTextLineFactory {

    private var _tcm:TextContainerManager;

    public function TCMTextFlowTextLineFactory(){
    }
    override tlf_internal function createFlowComposer():IFlowComposer{
        return (new TCMFactoryDisplayComposer(this._tcm));
    }
    public function get tcm():TextContainerManager{
        return (this._tcm);
    }
    public function set tcm(_arg1:TextContainerManager):void{
        this._tcm = _arg1;
    }

}
class TCMFactoryDisplayComposer extends FactoryDisplayComposer {

    tlf_internal var _tcm:TextContainerManager;

    public function TCMFactoryDisplayComposer(_arg1:TextContainerManager){
        this._tcm = _arg1;
    }
    override tlf_internal function callTheComposer(_arg1:int, _arg2:int):ContainerController{
        clearCompositionResults();
        var _local3:SimpleCompose = TextLineFactoryBase._factoryComposer;
        _local3.resetLineHandler = this._tcm.resetLine;
        _local3.composeTextFlow(textFlow, -1, -1);
        _local3.releaseAnyReferences();
        return (getControllerAt(0));
    }

}
﻿package flashx.textLayout {

    public class TextLayoutVersion {

        public static const CURRENT_VERSION:uint = 33554432;
        public static const VERSION_2_0:uint = 33554432;
        public static const VERSION_1_0:uint = 16777216;
        public static const VERSION_1_1:uint = 16842752;
        tlf_internal static const BUILD_NUMBER:String = "232 (759049)";
        tlf_internal static const BRANCH:String = "2.0";
        public static const AUDIT_ID:String = "<AdobeIP 0000486>";

        tlf_internal static function getVersionString(_arg1:uint):String{
            var _local2:uint = ((_arg1 >> 24) & 0xFF);
            var _local3:uint = ((_arg1 >> 16) & 0xFF);
            var _local4:uint = (_arg1 & 0xFFFF);
            return (((((_local2.toString() + ".") + _local3.toString()) + ".") + _local4.toString()));
        }

        public function dontStripAuditID():String{
            return (AUDIT_ID);
        }

    }
}//package flashx.textLayout 
﻿package flashx.textLayout.conversion {
    import flash.utils.*;
    import flashx.textLayout.property.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.*;

    public class TextLayoutImporter extends BaseTextLayoutImporter implements ITextLayoutImporter {

        private static const _formatImporter:TLFormatImporter = new TLFormatImporter(TextLayoutFormat, TextLayoutFormat.description);
        private static const _idImporter:SingletonAttributeImporter = new SingletonAttributeImporter("id");
        private static const _typeNameImporter:SingletonAttributeImporter = new SingletonAttributeImporter("typeName");
        private static const _customFormatImporter:CustomFormatImporter = new CustomFormatImporter();
        private static const _flowElementFormatImporters:Array = [_formatImporter, _idImporter, _typeNameImporter, _customFormatImporter];
        static const _linkDescription:Object = {
            href:Property.NewStringProperty("href", null, false, null),
            target:Property.NewStringProperty("target", null, false, null)
        };
        private static const _linkFormatImporter:TLFormatImporter = new TLFormatImporter(Dictionary, _linkDescription);
        private static const _linkElementFormatImporters:Array = [_linkFormatImporter, _formatImporter, _idImporter, _typeNameImporter, _customFormatImporter];
        private static const _imageDescription:Object = {
            height:InlineGraphicElement.heightPropertyDefinition,
            width:InlineGraphicElement.widthPropertyDefinition,
            source:Property.NewStringProperty("source", null, false, null),
            float:Property.NewStringProperty("float", null, false, null),
            rotation:InlineGraphicElement.rotationPropertyDefinition
        };
        private static const _ilgFormatImporter:TLFormatImporter = new TLFormatImporter(Dictionary, _imageDescription);
        private static const _ilgElementFormatImporters:Array = [_ilgFormatImporter, _formatImporter, _idImporter, _typeNameImporter, _customFormatImporter];

        private static var _defaultConfiguration:ImportExportConfiguration;

        private var _imageSourceResolveFunction:Function;

        public function TextLayoutImporter(){
            super(new Namespace("flow", "http://ns.adobe.com/textLayout/2008"), defaultConfiguration);
        }
        public static function get defaultConfiguration():ImportExportConfiguration{
            if (!_defaultConfiguration){
                _defaultConfiguration = new ImportExportConfiguration();
                _defaultConfiguration.addIEInfo("TextFlow", TextFlow, BaseTextLayoutImporter.parseTextFlow, BaseTextLayoutExporter.exportTextFlow);
                _defaultConfiguration.addIEInfo("br", BreakElement, BaseTextLayoutImporter.parseBreak, BaseTextLayoutExporter.exportFlowElement);
                _defaultConfiguration.addIEInfo("p", ParagraphElement, BaseTextLayoutImporter.parsePara, BaseTextLayoutExporter.exportParagraphFormattedElement);
                _defaultConfiguration.addIEInfo("span", SpanElement, BaseTextLayoutImporter.parseSpan, BaseTextLayoutExporter.exportSpan);
                _defaultConfiguration.addIEInfo("tab", TabElement, BaseTextLayoutImporter.parseTab, BaseTextLayoutExporter.exportFlowElement);
                _defaultConfiguration.addIEInfo("list", ListElement, BaseTextLayoutImporter.parseList, BaseTextLayoutExporter.exportList);
                _defaultConfiguration.addIEInfo("li", ListItemElement, BaseTextLayoutImporter.parseListItem, BaseTextLayoutExporter.exportListItem);
                _defaultConfiguration.addIEInfo("g", SubParagraphGroupElement, TextLayoutImporter.parseSPGE, TextLayoutExporter.exportSPGE);
                _defaultConfiguration.addIEInfo("tcy", TCYElement, TextLayoutImporter.parseTCY, TextLayoutExporter.exportTCY);
                _defaultConfiguration.addIEInfo("a", LinkElement, TextLayoutImporter.parseLink, TextLayoutExporter.exportLink);
                _defaultConfiguration.addIEInfo("div", DivElement, TextLayoutImporter.parseDivElement, TextLayoutExporter.exportDiv);
                _defaultConfiguration.addIEInfo("img", InlineGraphicElement, TextLayoutImporter.parseInlineGraphic, TextLayoutExporter.exportImage);
                _defaultConfiguration.addIEInfo(LinkElement.LINK_NORMAL_FORMAT_NAME, null, TextLayoutImporter.parseLinkNormalFormat, null);
                _defaultConfiguration.addIEInfo(LinkElement.LINK_ACTIVE_FORMAT_NAME, null, TextLayoutImporter.parseLinkActiveFormat, null);
                _defaultConfiguration.addIEInfo(LinkElement.LINK_HOVER_FORMAT_NAME, null, TextLayoutImporter.parseLinkHoverFormat, null);
                _defaultConfiguration.addIEInfo(ListElement.LIST_MARKER_FORMAT_NAME, null, TextLayoutImporter.parseListMarkerFormat, null);
            };
            return (_defaultConfiguration);
        }
        public static function restoreDefaults():void{
            _defaultConfiguration = null;
        }
        public static function parseSPGE(_arg1:BaseTextLayoutImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:SubParagraphGroupElement = TextLayoutImporter(_arg1).createSubParagraphGroupFromXML(_arg2);
            if (_arg1.addChild(_arg3, _local4)){
                _arg1.parseFlowGroupElementChildren(_arg2, _local4);
                if (_local4.numChildren == 0){
                    _local4.addChild(new SpanElement());
                };
            };
        }
        public static function parseTCY(_arg1:BaseTextLayoutImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:TCYElement = TextLayoutImporter(_arg1).createTCYFromXML(_arg2);
            if (_arg1.addChild(_arg3, _local4)){
                _arg1.parseFlowGroupElementChildren(_arg2, _local4);
                if (_local4.numChildren == 0){
                    _local4.addChild(new SpanElement());
                };
            };
        }
        public static function parseLink(_arg1:BaseTextLayoutImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:LinkElement = TextLayoutImporter(_arg1).createLinkFromXML(_arg2);
            if (_arg1.addChild(_arg3, _local4)){
                _arg1.parseFlowGroupElementChildren(_arg2, _local4);
                if (_local4.numChildren == 0){
                    _local4.addChild(new SpanElement());
                };
            };
        }
        public static function parseLinkNormalFormat(_arg1:BaseTextLayoutImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            _arg3.linkNormalFormat = TextLayoutImporter(_arg1).createDictionaryFromXML(_arg2);
        }
        public static function parseLinkActiveFormat(_arg1:BaseTextLayoutImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            _arg3.linkActiveFormat = TextLayoutImporter(_arg1).createDictionaryFromXML(_arg2);
        }
        public static function parseLinkHoverFormat(_arg1:BaseTextLayoutImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            _arg3.linkHoverFormat = TextLayoutImporter(_arg1).createDictionaryFromXML(_arg2);
        }
        public static function parseListMarkerFormat(_arg1:BaseTextLayoutImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            _arg3.listMarkerFormat = TextLayoutImporter(_arg1).createListMarkerFormatDictionaryFromXML(_arg2);
        }
        public static function parseDivElement(_arg1:BaseTextLayoutImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:DivElement = TextLayoutImporter(_arg1).createDivFromXML(_arg2);
            if (_arg1.addChild(_arg3, _local4)){
                _arg1.parseFlowGroupElementChildren(_arg2, _local4);
                if (_local4.numChildren == 0){
                    _local4.addChild(new ParagraphElement());
                };
            };
        }
        public static function parseInlineGraphic(_arg1:BaseTextLayoutImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:InlineGraphicElement = TextLayoutImporter(_arg1).createInlineGraphicFromXML(_arg2);
            _arg1.addChild(_arg3, _local4);
        }

        public function get imageSourceResolveFunction():Function{
            return (this._imageSourceResolveFunction);
        }
        public function set imageSourceResolveFunction(_arg1:Function):void{
            this._imageSourceResolveFunction = _arg1;
        }
        override protected function parseContent(_arg1:XML):TextFlow{
            var _local2:String = _arg1.name().localName;
            var _local3:XML = (((_local2 == "TextFlow")) ? _arg1 : _arg1..TextFlow[0]);
            if (!_local3){
                reportError(GlobalSettings.resourceStringFunction("missingTextFlow"));
                return (null);
            };
            if (!checkNamespace(_local3)){
                return (null);
            };
            return (parseTextFlow(this, _local3));
        }
        private function parseStandardFlowElementAttributes(_arg1:FlowElement, _arg2:XML, _arg3:Array=null):void{
            var _local5:String;
            if (_arg3 == null){
                _arg3 = _flowElementFormatImporters;
            };
            parseAttributes(_arg2, _arg3);
            var _local4:TextLayoutFormat = (this.extractTextFormatAttributesHelper(_arg1.format, _formatImporter) as TextLayoutFormat);
            if (_local4){
                _arg1.format = _local4;
            };
            if (_idImporter.result){
                _arg1.id = (_idImporter.result as String);
            };
            if (_typeNameImporter.result){
                _arg1.typeName = (_typeNameImporter.result as String);
            };
            if (_customFormatImporter.result){
                for (_local5 in _customFormatImporter.result) {
                    _arg1.setStyle(_local5, _customFormatImporter.result[_local5]);
                };
            };
        }
        override public function createTextFlowFromXML(_arg1:XML, _arg2:TextFlow=null):TextFlow{
            var _local4:String;
            var _local3:TextFlow;
            if (!checkNamespace(_arg1)){
                return (_local3);
            };
            if (_arg1.hasOwnProperty("@version")){
                _local4 = _arg1.@["version"];
                if (_local4 == "2.0.0"){
                    _importVersion = TextLayoutVersion.VERSION_2_0;
                } else {
                    if ((((_local4 == "1.1.0")) || ((_local4 == "1.0.0")))){
                        _importVersion = TextLayoutVersion.VERSION_1_0;
                    } else {
                        reportError(GlobalSettings.resourceStringFunction("unsupportedVersion", [_arg1.@["version"]]));
                        _importVersion = TextLayoutVersion.CURRENT_VERSION;
                    };
                };
            } else {
                _importVersion = TextLayoutVersion.VERSION_1_0;
            };
            if (!_local3){
                _local3 = new TextFlow(_textFlowConfiguration);
            };
            this.parseStandardFlowElementAttributes(_local3, _arg1);
            parseFlowGroupElementChildren(_arg1, _local3);
            _local3.normalize();
            _local3.applyWhiteSpaceCollapse(null);
            return (_local3);
        }
        public function createDivFromXML(_arg1:XML):DivElement{
            var _local2:DivElement = new DivElement();
            this.parseStandardFlowElementAttributes(_local2, _arg1);
            return (_local2);
        }
        override public function createParagraphFromXML(_arg1:XML):ParagraphElement{
            var _local2:ParagraphElement = new ParagraphElement();
            this.parseStandardFlowElementAttributes(_local2, _arg1);
            return (_local2);
        }
        public function createSubParagraphGroupFromXML(_arg1:XML):SubParagraphGroupElement{
            var _local2:SubParagraphGroupElement = new SubParagraphGroupElement();
            this.parseStandardFlowElementAttributes(_local2, _arg1);
            return (_local2);
        }
        public function createTCYFromXML(_arg1:XML):TCYElement{
            var _local2:TCYElement = new TCYElement();
            this.parseStandardFlowElementAttributes(_local2, _arg1);
            return (_local2);
        }
        public function createLinkFromXML(_arg1:XML):LinkElement{
            var _local2:LinkElement = new LinkElement();
            this.parseStandardFlowElementAttributes(_local2, _arg1, _linkElementFormatImporters);
            if (_linkFormatImporter.result){
                _local2.href = (_linkFormatImporter.result["href"] as String);
                _local2.target = (_linkFormatImporter.result["target"] as String);
            };
            return (_local2);
        }
        override public function createSpanFromXML(_arg1:XML):SpanElement{
            var _local2:SpanElement = new SpanElement();
            this.parseStandardFlowElementAttributes(_local2, _arg1);
            return (_local2);
        }
        public function createInlineGraphicFromXML(_arg1:XML):InlineGraphicElement{
            var _local3:String;
            var _local2:InlineGraphicElement = new InlineGraphicElement();
            this.parseStandardFlowElementAttributes(_local2, _arg1, _ilgElementFormatImporters);
            if (_ilgFormatImporter.result){
                _local3 = _ilgFormatImporter.result["source"];
                _local2.source = ((this._imageSourceResolveFunction)!=null) ? this._imageSourceResolveFunction(_local3) : _local3;
                _local2.height = _ilgFormatImporter.result["height"];
                _local2.width = _ilgFormatImporter.result["width"];
                _local2.float = _ilgFormatImporter.result["float"];
            };
            return (_local2);
        }
        override public function createListFromXML(_arg1:XML):ListElement{
            var _local2:ListElement = new ListElement();
            this.parseStandardFlowElementAttributes(_local2, _arg1);
            return (_local2);
        }
        override public function createListItemFromXML(_arg1:XML):ListItemElement{
            var _local2:ListItemElement = new ListItemElement();
            this.parseStandardFlowElementAttributes(_local2, _arg1);
            return (_local2);
        }
        public function extractTextFormatAttributesHelper(_arg1:Object, _arg2:TLFormatImporter):Object{
            return (extractAttributesHelper(_arg1, _arg2));
        }
        public function createDictionaryFromXML(_arg1:XML):Dictionary{
            var _local2:Array = [_customFormatImporter];
            var _local3:XMLList = _arg1..TextLayoutFormat;
            if (_local3.length() != 1){
                reportError(GlobalSettings.resourceStringFunction("expectedExactlyOneTextLayoutFormat", [_arg1.name()]));
            };
            var _local4:XML = (((_local3.length() > 0)) ? _local3[0] : _arg1);
            parseAttributes(_local4, _local2);
            return ((_customFormatImporter.result as Dictionary));
        }
        public function createListMarkerFormatDictionaryFromXML(_arg1:XML):Dictionary{
            var _local2:Array = [_customFormatImporter];
            var _local3:XMLList = _arg1..ListMarkerFormat;
            if (_local3.length() != 1){
                reportError(GlobalSettings.resourceStringFunction("expectedExactlyOneListMarkerFormat", [_arg1.name()]));
            };
            var _local4:XML = (((_local3.length() > 0)) ? _local3[0] : _arg1);
            parseAttributes(_local4, _local2);
            return ((_customFormatImporter.result as Dictionary));
        }

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {
    import __AS3__.vec.*;
    import flashx.textLayout.elements.*;

    public interface ITextExporter {

        function export(_arg1:TextFlow, _arg2:String):Object;
        function get errors():Vector.<String>;
        function get throwOnError():Boolean;
        function set throwOnError(_arg1:Boolean):void;
        function get useClipboardAnnotations():Boolean;
        function set useClipboardAnnotations(_arg1:Boolean):void;

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {

    public interface IFormatImporter {

        function reset():void;
        function get result():Object;
        function importOneFormat(_arg1:String, _arg2:String):Boolean;

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {
    import flash.utils.*;
    import flash.text.engine.*;
    import flashx.textLayout.property.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flash.system.*;
    import flashx.textLayout.*;

    public class TextFieldHtmlImporter extends BaseTextLayoutImporter implements IHTMLImporter {

        tlf_internal static const _fontDescription:Object = {
            color:TextLayoutFormat.colorProperty,
            trackingRight:TextLayoutFormat.trackingRightProperty,
            fontFamily:TextLayoutFormat.fontFamilyProperty
        };
        tlf_internal static const _fontMiscDescription:Object = {
            size:Property.NewStringProperty("size", null, false, null),
            kerning:Property.NewStringProperty("kerning", null, false, null)
        };
        tlf_internal static const _textFormatDescription:Object = {
            paragraphStartIndent:TextLayoutFormat.paragraphStartIndentProperty,
            paragraphEndIndent:TextLayoutFormat.paragraphEndIndentProperty,
            textIndent:TextLayoutFormat.textIndentProperty,
            lineHeight:TextLayoutFormat.lineHeightProperty,
            tabStops:TextLayoutFormat.tabStopsProperty
        };
        tlf_internal static const _textFormatMiscDescription:Object = {blockIndent:Property.NewStringProperty("blockIndent", null, false, null)};
        tlf_internal static const _paragraphFormatDescription:Object = {textAlign:TextLayoutFormat.textAlignProperty};
        tlf_internal static const _linkHrefDescription:Object = {href:Property.NewStringProperty("href", null, false, null)};
        tlf_internal static const _linkTargetDescription:Object = {target:Property.NewStringProperty("target", null, false, null)};
        tlf_internal static const _imageDescription:Object = {
            height:InlineGraphicElement.heightPropertyDefinition,
            width:InlineGraphicElement.widthPropertyDefinition
        };
        tlf_internal static const _imageMiscDescription:Object = {
            src:Property.NewStringProperty("src", null, false, null),
            align:Property.NewStringProperty("align", null, false, null)
        };
        tlf_internal static const _classAndIdDescription:Object = {id:Property.NewStringProperty("ID", null, false, null)};
        tlf_internal static const stripRegex:RegExp = /<!--.*?-->|<\?(".*?"|'.*?'|[^>"']+)*>|<!(".*?"|'.*?'|[^>"']+)*>/sg;
        tlf_internal static const tagRegex:RegExp = /<(\/?)(\w+)((?:\s+\w+(?:\s*=\s*(?:".*?"|'.*?'|[\w\.]+))?)*)\s*(\/?)>/sg;
        tlf_internal static const attrRegex:RegExp = /\s+(\w+)(?:\s*=\s*(".*?"|'.*?'|[\w\.]+))?/sg;
        tlf_internal static const anyPrintChar:RegExp = /[^	

 ]/g;

        tlf_internal static var _fontImporter:FontImporter;
        tlf_internal static var _fontMiscImporter:CaseInsensitiveTLFFormatImporter;
        tlf_internal static var _textFormatImporter:TextFormatImporter;
        tlf_internal static var _textFormatMiscImporter:CaseInsensitiveTLFFormatImporter;
        tlf_internal static var _paragraphFormatImporter:HtmlCustomParaFormatImporter;
        tlf_internal static var _linkHrefImporter:CaseInsensitiveTLFFormatImporter;
        tlf_internal static var _linkTargetImporter:CaseInsensitiveTLFFormatImporter;
        tlf_internal static var _ilgFormatImporter:CaseInsensitiveTLFFormatImporter;
        tlf_internal static var _ilgMiscFormatImporter:CaseInsensitiveTLFFormatImporter;
        tlf_internal static var _classAndIdImporter:CaseInsensitiveTLFFormatImporter;
        tlf_internal static var _activeFormat:TextLayoutFormat = new TextLayoutFormat();
        tlf_internal static var _activeParaFormat:TextLayoutFormat = new TextLayoutFormat();
        tlf_internal static var _activeImpliedParaFormat:TextLayoutFormat = null;
        tlf_internal static var _htmlImporterConfig:ImportExportConfiguration;

        tlf_internal var _baseFontSize:Number;
        private var _imageSourceResolveFunction:Function;
        private var _preserveBodyElement:Boolean = false;
        private var _importHtmlElement:Boolean = false;

        public function TextFieldHtmlImporter(){
            createConfig();
            super(null, _htmlImporterConfig);
        }
        tlf_internal static function createConfig():void{
            if (!_htmlImporterConfig){
                _htmlImporterConfig = new ImportExportConfiguration();
                _htmlImporterConfig.addIEInfo("BR", BreakElement, BaseTextLayoutImporter.parseBreak, null);
                _htmlImporterConfig.addIEInfo("P", ParagraphElement, TextFieldHtmlImporter.parsePara, null);
                _htmlImporterConfig.addIEInfo("SPAN", SpanElement, TextFieldHtmlImporter.parseSpan, null);
                _htmlImporterConfig.addIEInfo("A", LinkElement, TextFieldHtmlImporter.parseLink, null);
                _htmlImporterConfig.addIEInfo("IMG", InlineGraphicElement, TextFieldHtmlImporter.parseInlineGraphic, null);
                _htmlImporterConfig.addIEInfo("DIV", DivElement, TextFieldHtmlImporter.parseDiv, null);
                _htmlImporterConfig.addIEInfo("HTML", null, TextFieldHtmlImporter.parseHtmlElement, null);
                _htmlImporterConfig.addIEInfo("BODY", null, TextFieldHtmlImporter.parseBody, null);
                _htmlImporterConfig.addIEInfo("FONT", null, TextFieldHtmlImporter.parseFont, null);
                _htmlImporterConfig.addIEInfo("TEXTFORMAT", null, TextFieldHtmlImporter.parseTextFormat, null);
                _htmlImporterConfig.addIEInfo("U", null, TextFieldHtmlImporter.parseUnderline, null);
                _htmlImporterConfig.addIEInfo("I", null, TextFieldHtmlImporter.parseItalic, null);
                _htmlImporterConfig.addIEInfo("B", null, TextFieldHtmlImporter.parseBold, null);
                _htmlImporterConfig.addIEInfo("S", null, TextFieldHtmlImporter.parseStrikeThrough, null);
                _htmlImporterConfig.addIEInfo("UL", null, BaseTextLayoutImporter.parseList, null);
                _htmlImporterConfig.addIEInfo("OL", null, BaseTextLayoutImporter.parseList, null);
                _htmlImporterConfig.addIEInfo("LI", null, TextFieldHtmlImporter.parseListItem, null);
            };
            if (_classAndIdDescription["CLASS"] === undefined){
                _classAndIdDescription["CLASS"] = Property.NewStringProperty("CLASS", null, false, null);
                _paragraphFormatImporter = new HtmlCustomParaFormatImporter(TextLayoutFormat, _paragraphFormatDescription);
                _textFormatImporter = new TextFormatImporter(TextLayoutFormat, _textFormatDescription);
                _fontImporter = new FontImporter(TextLayoutFormat, _fontDescription);
                _fontMiscImporter = new CaseInsensitiveTLFFormatImporter(Dictionary, _fontMiscDescription);
                _textFormatMiscImporter = new CaseInsensitiveTLFFormatImporter(Dictionary, _textFormatMiscDescription);
                _linkHrefImporter = new CaseInsensitiveTLFFormatImporter(Dictionary, _linkHrefDescription, false);
                _linkTargetImporter = new CaseInsensitiveTLFFormatImporter(Dictionary, _linkTargetDescription);
                _ilgFormatImporter = new CaseInsensitiveTLFFormatImporter(Dictionary, _imageDescription);
                _ilgMiscFormatImporter = new CaseInsensitiveTLFFormatImporter(Dictionary, _imageMiscDescription, false);
                _classAndIdImporter = new CaseInsensitiveTLFFormatImporter(Dictionary, _classAndIdDescription);
            };
        }
        public static function parseListItem(_arg1:TextFieldHtmlImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local5:ListElement;
            if (!(_arg3 is ListElement)){
                _local5 = _arg1.createListFromXML(null);
                _arg1.addChild(_arg3, _local5);
                _arg3 = _local5;
            };
            var _local4:ListItemElement = _arg1.createListItemFromXML(_arg2);
            if (_arg1.addChild(_arg3, _local4)){
                _arg1.parseFlowGroupElementChildren(_arg2, _local4);
                if (_local4.numChildren == 0){
                    _local4.addChild(new ParagraphElement());
                };
            };
        }
        public static function parsePara(_arg1:TextFieldHtmlImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local5:XML;
            var _local4:ParagraphElement = _arg1.createParagraphFromXML(_arg2);
            if (_arg1.addChild(_arg3, _local4)){
                _local5 = getSingleFontChild(_arg2);
                parseChildrenUnderNewActiveFormat(_arg1, ((_local5) ? _local5 : _arg2), _local4, _activeFormat, null);
                if (_local4.numChildren == 0){
                    _local4.addChild(_arg1.createImpliedSpan(""));
                };
            };
            replaceBreakElementsWithParaSplits(_local4);
        }
        public static function parseDiv(_arg1:TextFieldHtmlImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:FlowGroupElement;
            if (_arg3.canOwnFlowElement(new DivElement())){
                _local4 = _arg1.createDivFromXML(_arg2);
            } else {
                _local4 = _arg1.createSPGEFromXML(_arg2);
                _local4.typeName = "div";
            };
            _arg1.addChild(_arg3, _local4);
            _arg1.parseFlowGroupElementChildren(_arg2, _local4);
        }
        public static function parseHtmlElement(_arg1:TextFieldHtmlImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:FlowGroupElement;
            if (_arg1.preserveHTMLElement){
                if (!(_arg3 is TextFlow)){
                    _local4 = (((((_arg3 is ParagraphElement)) || ((_arg3 is SubParagraphGroupElementBase)))) ? new SubParagraphGroupElement() : new DivElement());
                    _arg3.addChild(_local4);
                    _arg3 = _local4;
                };
                _arg1.parseAttributes(_arg2, [_classAndIdImporter]);
                _arg3.typeName = "html";
                _arg3.styleName = _classAndIdImporter.getFormatValue("CLASS");
                _arg3.id = _classAndIdImporter.getFormatValue("ID");
            };
            _arg1.parseFlowGroupElementChildren(_arg2, _arg3, null, true);
        }
        public static function parseBody(_arg1:TextFieldHtmlImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:FlowGroupElement;
            if (_arg1.preserveBodyElement){
                _local4 = (((((_arg3 is ParagraphElement)) || ((_arg3 is SubParagraphGroupElementBase)))) ? new SubParagraphGroupElement() : new DivElement());
                _arg3.addChild(_local4);
                _arg3 = _local4;
                _arg1.parseAttributes(_arg2, [_classAndIdImporter]);
                _arg3.typeName = "body";
                _arg3.styleName = _classAndIdImporter.getFormatValue("CLASS");
                _arg3.id = _classAndIdImporter.getFormatValue("ID");
            };
            _arg1.parseFlowGroupElementChildren(_arg2, _arg3, null, true);
        }
        private static function getSingleFontChild(_arg1:XML):XML{
            var _local3:XML;
            var _local2:XMLList = _arg1.children();
            if (_local2.length() == 1){
                _local3 = _local2[0];
                if (_local3.name().localName.toUpperCase() == "FONT"){
                    return (_local3);
                };
            };
            return (null);
        }
        public static function parseLink(_arg1:TextFieldHtmlImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:LinkElement = _arg1.createLinkFromXML(_arg2);
            if (_arg1.addChild(_arg3, _local4)){
                parseChildrenUnderNewActiveFormat(_arg1, _arg2, _local4, _activeFormat, null);
            };
        }
        tlf_internal static function extractSimpleSpanText(_arg1:XML):String{
            var _local3:XML;
            var _local4:String;
            var _local2:XMLList = _arg1[0].children();
            if (_local2.length() == 0){
                return ("");
            };
            if (_local2.length() != 1){
                return (null);
            };
            for each (_local3 in _local2) {
                break;
            };
            _local4 = ((_local3.name()) ? _local3.name().localName : null);
            if (_local4 != null){
                return (null);
            };
            var _local5:String = _local3.toString();
            return (((_local5) ? _local5 : ""));
        }
        public static function parseSpan(_arg1:TextFieldHtmlImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local8:SubParagraphGroupElement;
            _arg1.parseAttributes(_arg2, [_classAndIdImporter]);
            var _local4:* = _classAndIdImporter.getFormatValue("CLASS");
            var _local5:* = _classAndIdImporter.getFormatValue("ID");
            var _local6:String = extractSimpleSpanText(_arg2);
            if (_local6 == null){
                if (((((!((_local4 === undefined))) || (!((_local5 === undefined))))) || (!(TextLayoutFormat.isEqual(_activeFormat, TextLayoutFormat.emptyTextLayoutFormat))))){
                    _local8 = new SubParagraphGroupElement();
                    _local8.format = _activeFormat;
                    _local8.styleName = _local4;
                    _local8.id = _local5;
                    _local8.typeName = "span";
                    _arg1.addChild(_arg3, _local8);
                    _arg3 = _local8;
                };
                parseChildrenUnderNewActiveFormat(_arg1, _arg2, _arg3, _activeFormat, null);
                return;
            };
            var _local7:SpanElement = new SpanElement();
            _local7.format = _activeFormat;
            _local7.styleName = _local4;
            _local7.id = _local5;
            _local7.text = _local6;
            _arg1.addChild(_arg3, _local7);
        }
        public static function parseInlineGraphic(_arg1:TextFieldHtmlImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:InlineGraphicElement = _arg1.createInlineGraphicFromXML(_arg2);
            _arg1.addChild(_arg3, _local4);
        }
        public static function parseFont(_arg1:TextFieldHtmlImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:ITextLayoutFormat = _arg1.parseFontAttributes(_arg2);
            parseChildrenUnderNewActiveFormatWithImpliedParaFormat(_arg1, _arg2, _arg3, _local4);
        }
        public static function parseTextFormat(_arg1:TextFieldHtmlImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local8:Number;
            var _local9:TextLayoutFormat;
            var _local4:Array = [_textFormatImporter, _textFormatMiscImporter];
            _arg1.parseAttributes(_arg2, _local4);
            var _local5:TextLayoutFormat = new TextLayoutFormat((_textFormatImporter.result as ITextLayoutFormat));
            var _local6:* = _textFormatMiscImporter.getFormatValue("BLOCKINDENT");
            if (_local6 !== undefined){
                _local6 = TextLayoutFormat.paragraphStartIndentProperty.setHelper(undefined, _local6);
                if (_local6 !== undefined){
                    _local8 = Number(_local6);
                    _local5.paragraphStartIndent = (((_local5.paragraphStartIndent === undefined)) ? _local8 : (_local5.paragraphStartIndent + _local8));
                };
            };
            var _local7:* = _activeFormat.lineHeight;
            if ((_arg3 is ParagraphElement)){
                if (_arg3.numChildren == 0){
                    _local9 = new TextLayoutFormat(_arg3.format);
                    _local9.apply(_local5);
                    if (_local9.lineHeight !== undefined){
                        _local9.leadingModel = LeadingModel.APPROXIMATE_TEXT_FIELD;
                    };
                    _arg3.format = _local9;
                    _local5.clearStyles();
                } else {
                    if (_local5.lineHeight !== undefined){
                        _activeFormat.lineHeight = _local5.lineHeight;
                    };
                };
            };
            parseChildrenUnderNewActiveFormat(_arg1, _arg2, _arg3, _activeParaFormat, _local5, true);
            _activeFormat.lineHeight = _local7;
        }
        public static function parseBold(_arg1:TextFieldHtmlImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:TextLayoutFormat = new TextLayoutFormat();
            _local4.fontWeight = FontWeight.BOLD;
            parseChildrenUnderNewActiveFormatWithImpliedParaFormat(_arg1, _arg2, _arg3, _local4);
        }
        public static function parseItalic(_arg1:TextFieldHtmlImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:TextLayoutFormat = new TextLayoutFormat();
            _local4.fontStyle = FontPosture.ITALIC;
            parseChildrenUnderNewActiveFormatWithImpliedParaFormat(_arg1, _arg2, _arg3, _local4);
        }
        public static function parseStrikeThrough(_arg1:TextFieldHtmlImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:TextLayoutFormat = new TextLayoutFormat();
            _local4.lineThrough = true;
            parseChildrenUnderNewActiveFormatWithImpliedParaFormat(_arg1, _arg2, _arg3, _local4);
        }
        public static function parseUnderline(_arg1:TextFieldHtmlImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:TextLayoutFormat = new TextLayoutFormat();
            _local4.textDecoration = TextDecoration.UNDERLINE;
            parseChildrenUnderNewActiveFormatWithImpliedParaFormat(_arg1, _arg2, _arg3, _local4);
        }
        protected static function parseChildrenUnderNewActiveFormatWithImpliedParaFormat(_arg1:TextFieldHtmlImporter, _arg2:XML, _arg3:FlowGroupElement, _arg4:ITextLayoutFormat):void{
            var importer:* = _arg1;
            var xmlToParse:* = _arg2;
            var parent:* = _arg3;
            var newFormat:* = _arg4;
            var oldActiveImpliedParaFormat:* = _activeImpliedParaFormat;
            if (_activeImpliedParaFormat == null){
                _activeImpliedParaFormat = new TextLayoutFormat(_activeFormat);
            };
            try {
                parseChildrenUnderNewActiveFormat(importer, xmlToParse, parent, _activeFormat, newFormat, true);
            } finally {
                _activeImpliedParaFormat = oldActiveImpliedParaFormat;
            };
        }
        protected static function parseChildrenUnderNewActiveFormat(_arg1:TextFieldHtmlImporter, _arg2:XML, _arg3:FlowGroupElement, _arg4:TextLayoutFormat, _arg5:ITextLayoutFormat, _arg6:Boolean=false):void{
            var beforeCount:* = 0;
            var span:* = null;
            var importer:* = _arg1;
            var xmlToParse:* = _arg2;
            var parent:* = _arg3;
            var currFormat:* = _arg4;
            var newFormat:* = _arg5;
            var chainedParent:Boolean = _arg6;
            var restoreBaseFontSize:* = importer._baseFontSize;
            var restoreStyles:* = Property.shallowCopy(currFormat.getStyles());
            if (newFormat){
                if (newFormat.fontSize !== undefined){
                    importer._baseFontSize = newFormat.fontSize;
                };
                currFormat.apply(newFormat);
            } else {
                currFormat.clearStyles();
            };
            try {
                beforeCount = parent.numChildren;
                importer.parseFlowGroupElementChildren(xmlToParse, parent, null, chainedParent);
                if (beforeCount == parent.numChildren){
                    span = importer.createImpliedSpan("");
                    importer.addChild(parent, span);
                };
            } finally {
                currFormat.setStyles(restoreStyles, false);
                importer._baseFontSize = restoreBaseFontSize;
            };
        }
        protected static function replaceBreakElementsWithParaSplits(_arg1:ParagraphElement):void{
            var _local2:Array;
            var _local3:int;
            var _local4:FlowGroupElement;
            var _local5:FlowLeafElement = _arg1.getFirstLeaf();
            while (_local5) {
                if (!(_local5 is BreakElement)){
                    _local5 = _local5.getNextLeaf(_arg1);
                } else {
                    if (!_local2){
                        _local2 = [_arg1];
                        _local4 = _arg1.parent;
                        _local3 = _local4.getChildIndex(_arg1);
                        _local4.removeChildAt(_local3);
                    };
                    _arg1 = (_arg1.splitAtPosition((_local5.getAbsoluteStart() + _local5.textLength)) as ParagraphElement);
                    _local2.push(_arg1);
                    _local5.parent.removeChild(_local5);
                    _local5 = _arg1.getFirstLeaf();
                };
            };
            if (_local2){
                _local4.replaceChildren(_local3, _local3, _local2);
            };
        }

        public function get imageSourceResolveFunction():Function{
            return (this._imageSourceResolveFunction);
        }
        public function set imageSourceResolveFunction(_arg1:Function):void{
            this._imageSourceResolveFunction = _arg1;
        }
        public function get preserveBodyElement():Boolean{
            return (this._preserveBodyElement);
        }
        public function set preserveBodyElement(_arg1:Boolean):void{
            this._preserveBodyElement = _arg1;
        }
        public function get preserveHTMLElement():Boolean{
            return (this._importHtmlElement);
        }
        public function set preserveHTMLElement(_arg1:Boolean):void{
            this._importHtmlElement = _arg1;
        }
        override protected function importFromString(_arg1:String):TextFlow{
            var _local2:TextFlow;
            var _local3:XML = this.toXML(_arg1);
            if (_local3){
                _local2 = this.importFromXML(_local3);
                if (Configuration.playerEnablesArgoFeatures){
                    var _local4 = System;
                    _local4["disposeXML"](_local3);
                };
            };
            return (_local2);
        }
        override protected function importFromXML(_arg1:XML):TextFlow{
            var _local2:TextFlow = new TextFlow(_textFlowConfiguration);
            if (this.preserveHTMLElement){
                _local2.typeName = "html";
            };
            this._baseFontSize = (((_local2.fontSize === undefined)) ? 12 : _local2.fontSize);
            this.parseObject(_arg1.name().localName, _arg1, _local2);
            resetImpliedPara();
            _local2.normalize();
            _local2.applyWhiteSpaceCollapse(null);
            return (_local2);
        }
        override tlf_internal function clear():void{
            _activeParaFormat.clearStyles();
            _activeFormat.clearStyles();
            super.clear();
        }
        override tlf_internal function createImpliedParagraph():ParagraphElement{
            var rslt:* = null;
            var savedActiveFormat:* = _activeFormat;
            if (_activeImpliedParaFormat){
                _activeFormat = _activeImpliedParaFormat;
            };
            try {
                rslt = super.createImpliedParagraph();
            } finally {
                _activeFormat = savedActiveFormat;
            };
            return (rslt);
        }
        override public function createParagraphFromXML(_arg1:XML):ParagraphElement{
            var _local2:ParagraphElement = new ParagraphElement();
            var _local3:Array = [_paragraphFormatImporter, _classAndIdImporter];
            parseAttributes(_arg1, _local3);
            var _local4:TextLayoutFormat = new TextLayoutFormat((_paragraphFormatImporter.result as ITextLayoutFormat));
            if (_activeParaFormat){
                _local4.apply(_activeParaFormat);
            };
            if (_activeFormat){
                _local4.apply(_activeFormat);
            };
            var _local5:XML = getSingleFontChild(_arg1);
            if (_local5){
                _local4.apply(this.parseFontAttributes(_local5));
            };
            if (_local4.lineHeight !== undefined){
                _local4.leadingModel = LeadingModel.APPROXIMATE_TEXT_FIELD;
            };
            _local2.format = _local4;
            _local2.styleName = _classAndIdImporter.getFormatValue("CLASS");
            _local2.id = _classAndIdImporter.getFormatValue("ID");
            return (_local2);
        }
        override public function createListFromXML(_arg1:XML):ListElement{
            parseAttributes(_arg1, [_classAndIdImporter]);
            var _local2:ListElement = new ListElement();
            _local2.paddingLeft = 36;
            var _local3:String = ((_arg1) ? _arg1.name().localName : null);
            _local2.listStyleType = (((_local3 == "OL")) ? ListStyleType.DECIMAL : ListStyleType.DISC);
            var _local4:ListMarkerFormat = new ListMarkerFormat();
            _local4.paragraphEndIndent = 14;
            _local2.listMarkerFormat = _local4;
            _local2.styleName = _classAndIdImporter.getFormatValue("CLASS");
            _local2.id = _classAndIdImporter.getFormatValue("ID");
            return (_local2);
        }
        override public function createListItemFromXML(_arg1:XML):ListItemElement{
            parseAttributes(_arg1, [_classAndIdImporter]);
            var _local2:ListItemElement = new ListItemElement();
            _local2.styleName = _classAndIdImporter.getFormatValue("CLASS");
            _local2.id = _classAndIdImporter.getFormatValue("ID");
            return (_local2);
        }
        public function createDivFromXML(_arg1:XML):DivElement{
            parseAttributes(_arg1, [_classAndIdImporter]);
            var _local2:DivElement = new DivElement();
            _local2.styleName = _classAndIdImporter.getFormatValue("CLASS");
            _local2.id = _classAndIdImporter.getFormatValue("ID");
            return (_local2);
        }
        public function createSPGEFromXML(_arg1:XML):SubParagraphGroupElement{
            parseAttributes(_arg1, [_classAndIdImporter]);
            var _local2:SubParagraphGroupElement = new SubParagraphGroupElement();
            _local2.styleName = _classAndIdImporter.getFormatValue("CLASS");
            _local2.id = _classAndIdImporter.getFormatValue("ID");
            return (_local2);
        }
        override protected function onResetImpliedPara(_arg1:ParagraphElement):void{
            replaceBreakElementsWithParaSplits(_arg1);
        }
        private function createLinkFromXML(_arg1:XML):LinkElement{
            var _local2:LinkElement = new LinkElement();
            var _local3:Array = [_linkHrefImporter, _linkTargetImporter, _classAndIdImporter];
            parseAttributes(_arg1, _local3);
            _local2.href = _linkHrefImporter.getFormatValue("HREF");
            _local2.target = _linkTargetImporter.getFormatValue("TARGET");
            if (!_local2.target){
                _local2.target = "_self";
            };
            _local2.format = _activeFormat;
            _local2.styleName = _classAndIdImporter.getFormatValue("CLASS");
            _local2.id = _classAndIdImporter.getFormatValue("ID");
            return (_local2);
        }
        override public function createImpliedSpan(_arg1:String):SpanElement{
            var _local2:SpanElement = super.createImpliedSpan(_arg1);
            _local2.format = _activeFormat;
            return (_local2);
        }
        protected function createInlineGraphicFromXML(_arg1:XML):InlineGraphicElement{
            var _local2:InlineGraphicElement = new InlineGraphicElement();
            var _local3:Array = [_ilgFormatImporter, _ilgMiscFormatImporter, _classAndIdImporter];
            parseAttributes(_arg1, _local3);
            var _local4:String = _ilgMiscFormatImporter.getFormatValue("SRC");
            _local2.source = ((this._imageSourceResolveFunction)!=null) ? this._imageSourceResolveFunction(_local4) : _local4;
            _local2.height = InlineGraphicElement.heightPropertyDefinition.setHelper(_local2.height, _ilgFormatImporter.getFormatValue("HEIGHT"));
            _local2.width = InlineGraphicElement.heightPropertyDefinition.setHelper(_local2.width, _ilgFormatImporter.getFormatValue("WIDTH"));
            var _local5:String = _ilgMiscFormatImporter.getFormatValue("ALIGN");
            if ((((_local5 == Float.LEFT)) || ((_local5 == Float.RIGHT)))){
                _local2.float = _local5;
            };
            _local2.format = _activeFormat;
            _local2.id = _classAndIdImporter.getFormatValue("ID");
            _local2.styleName = _classAndIdImporter.getFormatValue("CLASS");
            return (_local2);
        }
        override public function createTabFromXML(_arg1:XML):TabElement{
            return (null);
        }
        protected function parseFontAttributes(_arg1:XML):ITextLayoutFormat{
            var _local6:Number;
            var _local7:Number;
            var _local2:Array = [_fontImporter, _fontMiscImporter];
            parseAttributes(_arg1, _local2);
            var _local3:TextLayoutFormat = new TextLayoutFormat((_fontImporter.result as ITextLayoutFormat));
            var _local4:String = _fontMiscImporter.getFormatValue("KERNING");
            if (_local4){
                _local6 = Number(_local4);
                _local3.kerning = (((_local6 == 0)) ? Kerning.OFF : Kerning.AUTO);
            };
            var _local5:String = _fontMiscImporter.getFormatValue("SIZE");
            if (_local5){
                _local7 = TextLayoutFormat.fontSizeProperty.setHelper(NaN, _local5);
                if (!isNaN(_local7)){
                    if (_local5.search(/\s*(-|\+)/) != -1){
                        _local7 = (_local7 + this._baseFontSize);
                    };
                    _local3.fontSize = _local7;
                };
            };
            return (_local3);
        }
        override protected function handleUnknownAttribute(_arg1:String, _arg2:String):void{
        }
        override protected function handleUnknownElement(_arg1:String, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:FlowGroupElement;
            var _local8:FlowElement;
            parseAttributes(_arg2, [_classAndIdImporter]);
            var _local5:* = _classAndIdImporter.getFormatValue("CLASS");
            var _local6:* = _classAndIdImporter.getFormatValue("ID");
            if (((((((!((_local5 === undefined))) || (!((_local6 === undefined))))) || (!(TextLayoutFormat.isEqual(_activeFormat, TextLayoutFormat.emptyTextLayoutFormat))))) || ((_arg3 is ListElement)))){
                _local4 = (((((_arg3 is ParagraphElement)) || ((_arg3 is SubParagraphGroupElementBase)))) ? new SubParagraphGroupElement() : new DivElement());
                addChild(_arg3, _local4);
                _local4.format = _activeFormat;
                _local4.typeName = _arg1.toLowerCase();
                _local4.styleName = _local5;
                _local4.id = _local6;
                parseChildrenUnderNewActiveFormat(this, _arg2, _local4, _activeFormat, null);
                return;
            };
            var _local7:int = _arg3.numChildren;
            parseFlowGroupElementChildren(_arg2, _arg3, null, true);
            if (_local7 == _arg3.numChildren){
                return;
            };
            if ((_local7 + 1) == _arg3.numChildren){
                _local8 = _arg3.getChildAt(_local7);
                if ((((((_local8.id == null)) && ((_local8.styleName == null)))) && ((_local8.typeName == _local8.defaultTypeName)))){
                    _local8.typeName = _arg1.toLowerCase();
                    return;
                };
            };
            _local4 = (((((_arg3 is ParagraphElement)) || ((_arg3 is SubParagraphGroupElementBase)))) ? new SubParagraphGroupElement() : new DivElement());
            _local4.typeName = _arg1.toLowerCase();
            _local4.replaceChildren(0, 0, _arg3.mxmlChildren.slice(_local7));
            addChild(_arg3, _local4);
        }
        override tlf_internal function parseObject(_arg1:String, _arg2:XML, _arg3:FlowGroupElement, _arg4:Object=null):void{
            super.parseObject(_arg1.toUpperCase(), _arg2, _arg3, _arg4);
        }
        override protected function checkNamespace(_arg1:XML):Boolean{
            return (true);
        }
        protected function toXML(_arg1:String):XML{
            var xml:* = null;
            var source:* = _arg1;
            var originalSettings:* = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                xml = this.toXMLInternal(source);
            } finally {
                XML.setSettings(originalSettings);
            };
            return (xml);
        }
        protected function toXMLInternal(_arg1:String):XML{
            var _local5:String;
            var _local6:Object;
            var _local7:String;
            var _local8:Boolean;
            var _local9:String;
            var _local10:String;
            var _local11:Boolean;
            var _local12:Object;
            var _local13:String;
            var _local14:String;
            var _local15:String;
            var _local16:XML;
            _arg1 = _arg1.replace(stripRegex, "");
            var _local2:XML = <HTML/>
            ;
            var _local3:XML = _local2;
            var _local4:int = (tagRegex.lastIndex = 0);
            do  {
                _local6 = tagRegex.exec(_arg1);
                if (!_local6){
                    this.appendTextChild(_local3, _arg1.substring(_local4));
                    break;
                };
                if (_local6.index != _local4){
                    this.appendTextChild(_local3, _arg1.substring(_local4, _local6.index));
                };
                _local7 = _local6[0];
                _local8 = (_local6[1] == "/");
                _local9 = _local6[2].toUpperCase();
                _local10 = _local6[3];
                _local11 = (_local6[4] == "/");
                if (!_local8){
                    if ((((_local9 == "P")) && ((_local3.name().localName == "P")))){
                        _local3 = _local3.parent();
                    };
                    _local7 = ("<" + _local9);
                    do  {
                        _local12 = attrRegex.exec(_local10);
                        if (!_local12){
                            break;
                        };
                        _local13 = _local12[1].toUpperCase();
                        _local7 = (_local7 + ((" " + _local13) + "="));
                        _local14 = ((_local12[2]) ? _local12[2] : _local13);
                        _local15 = _local14.charAt(0);
                        _local7 = (_local7 + (((((_local15 == "'")) || ((_local15 == "\"")))) ? _local14 : (("\"" + _local14) + "\"")));
                    } while (true);
                    _local7 = (_local7 + "/>");
                    _local3.appendChild(new XML(_local7));
                    if (((!(_local11)) && (!(this.doesStartTagCloseElement(_local9))))){
                        _local3 = _local3.children()[(_local3.children().length() - 1)];
                    };
                } else {
                    if (((_local11) || (_local10.length))){
                        reportError(GlobalSettings.resourceStringFunction("malformedTag", [_local7]));
                    } else {
                        _local16 = _local3;
                        do  {
                            _local5 = _local16.name().localName;
                            _local16 = _local16.parent();
                            if (_local5 == _local9){
                                _local3 = _local16;
                                break;
                            };
                            if (!_local16){
                                break;
                            };
                        } while (true);
                    };
                };
                _local4 = tagRegex.lastIndex;
                if (_local4 == _arg1.length){
                    break;
                };
            } while (_local3);
            return (_local2);
        }
        protected function doesStartTagCloseElement(_arg1:String):Boolean{
            switch (_arg1){
                case "BR":
                case "IMG":
                    return (true);
                default:
                    return (false);
            };
        }
        protected function appendTextChild(_arg1:XML, _arg2:String):void{
            var xml:* = null;
            var parent:* = _arg1;
            var text:* = _arg2;
            var parentIsSpan:* = (parent.localName() == "SPAN");
            var elemName:* = ((parentIsSpan) ? "DUMMY" : "SPAN");
            var xmlText:* = (((((("<" + elemName) + ">") + text) + "</") + elemName) + ">");
            try {
                xml = new XML(xmlText);
                parent.appendChild(((parentIsSpan) ? xml.children()[0] : xml));
            } catch(e) {
                reportError(GlobalSettings.resourceStringFunction("malformedMarkup", [text]));
            };
        }

    }
}//package flashx.textLayout.conversion 

class CaseInsensitiveTLFFormatImporter extends TLFormatImporter {

    private var _convertValuesToLowerCase:Boolean;

    public function CaseInsensitiveTLFFormatImporter(_arg1:Class, _arg2:Object, _arg3:Boolean=true){
        var _local5:Object;
        this._convertValuesToLowerCase = _arg3;
        var _local4:Object = new Object();
        for (_local5 in _arg2) {
            _local4[_local5.toUpperCase()] = _arg2[_local5];
        };
        super(_arg1, _local4);
    }
    override public function importOneFormat(_arg1:String, _arg2:String):Boolean{
        return (super.importOneFormat(_arg1.toUpperCase(), ((this._convertValuesToLowerCase) ? _arg2.toLowerCase() : _arg2)));
    }
    public function getFormatValue(_arg1:String){
        return (((result) ? result[_arg1.toUpperCase()] : undefined));
    }

}
class HtmlCustomParaFormatImporter extends TLFormatImporter {

    public function HtmlCustomParaFormatImporter(_arg1:Class, _arg2:Object){
        super(_arg1, _arg2);
    }
    override public function importOneFormat(_arg1:String, _arg2:String):Boolean{
        _arg1 = _arg1.toUpperCase();
        if (_arg1 == "ALIGN"){
            _arg1 = "textAlign";
        };
        return (super.importOneFormat(_arg1, _arg2.toLowerCase()));
    }

}
class TextFormatImporter extends TLFormatImporter {

    public function TextFormatImporter(_arg1:Class, _arg2:Object){
        super(_arg1, _arg2);
    }
    override public function importOneFormat(_arg1:String, _arg2:String):Boolean{
        _arg1 = _arg1.toUpperCase();
        if (_arg1 == "LEFTMARGIN"){
            _arg1 = "paragraphStartIndent";
        } else {
            if (_arg1 == "RIGHTMARGIN"){
                _arg1 = "paragraphEndIndent";
            } else {
                if (_arg1 == "INDENT"){
                    _arg1 = "textIndent";
                } else {
                    if (_arg1 == "LEADING"){
                        _arg1 = "lineHeight";
                    } else {
                        if (_arg1 == "TABSTOPS"){
                            _arg1 = "tabStops";
                            _arg2 = _arg2.replace(/,/g, " ");
                        };
                    };
                };
            };
        };
        return (super.importOneFormat(_arg1, _arg2));
    }

}
class FontImporter extends TLFormatImporter {

    public function FontImporter(_arg1:Class, _arg2:Object){
        super(_arg1, _arg2);
    }
    override public function importOneFormat(_arg1:String, _arg2:String):Boolean{
        _arg1 = _arg1.toUpperCase();
        if (_arg1 == "LETTERSPACING"){
            _arg1 = "trackingRight";
        } else {
            if (_arg1 == "FACE"){
                _arg1 = "fontFamily";
            } else {
                if (_arg1 == "COLOR"){
                    _arg1 = "color";
                };
            };
        };
        return (super.importOneFormat(_arg1, _arg2));
    }

}
﻿package flashx.textLayout.conversion {
    import flashx.textLayout.elements.*;

    public class PlainTextExporter extends ConverterBase implements IPlainTextExporter {

        private static var _discretionaryHyphen:String = String.fromCharCode(173);

        private var _stripDiscretionaryHyphens:Boolean;
        private var _paragraphSeparator:String;

        public function PlainTextExporter(){
            this._stripDiscretionaryHyphens = true;
            this._paragraphSeparator = "\n";
        }
        public function get stripDiscretionaryHyphens():Boolean{
            return (this._stripDiscretionaryHyphens);
        }
        public function set stripDiscretionaryHyphens(_arg1:Boolean):void{
            this._stripDiscretionaryHyphens = _arg1;
        }
        public function get paragraphSeparator():String{
            return (this._paragraphSeparator);
        }
        public function set paragraphSeparator(_arg1:String):void{
            this._paragraphSeparator = _arg1;
        }
        public function export(_arg1:TextFlow, _arg2:String):Object{
            clear();
            if (_arg2 == ConversionType.STRING_TYPE){
                return (this.exportToString(_arg1));
            };
            return (null);
        }
        protected function exportToString(_arg1:TextFlow):String{
            var _local4:ParagraphElement;
            var _local5:String;
            var _local6:FlowLeafElement;
            var _local7:Array;
            var _local8:ParagraphElement;
            var _local2 = "";
            var _local3:FlowLeafElement = _arg1.getFirstLeaf();
            while (_local3) {
                _local4 = _local3.getParagraph();
                while (true) {
                    _local5 = _local3.text;
                    if (this._stripDiscretionaryHyphens){
                        _local7 = _local5.split(_discretionaryHyphen);
                        _local5 = _local7.join("");
                    };
                    _local2 = (_local2 + _local5);
                    _local6 = _local3.getNextLeaf(_local4);
                    if (!_local6){
                        break;
                    };
                    _local3 = _local6;
                };
                _local3 = _local3.getNextLeaf();
                if (_local3){
                    _local2 = (_local2 + this._paragraphSeparator);
                };
            };
            if (useClipboardAnnotations){
                _local8 = _arg1.getLastLeaf().getParagraph();
                if (_local8.getStyle(ConverterBase.MERGE_TO_NEXT_ON_PASTE) != "true"){
                    _local2 = (_local2 + this._paragraphSeparator);
                };
            };
            return (_local2);
        }

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {

    public interface ITextLayoutImporter extends ITextImporter {

        function get imageSourceResolveFunction():Function;
        function set imageSourceResolveFunction(_arg1:Function):void;

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {
    import flashx.textLayout.elements.*;
    import flashx.textLayout.conversion.*;

    class PlainTextImporter extends ConverterBase implements ITextImporter {

        private static const _newLineRegex:RegExp = /
|
?/g;

        protected var _config:IConfiguration = null;

        public function importToFlow(_arg1:Object):TextFlow{
            if ((_arg1 is String)){
                return (this.importFromString(String(_arg1)));
            };
            return (null);
        }
        public function get configuration():IConfiguration{
            return (this._config);
        }
        public function set configuration(_arg1:IConfiguration):void{
            this._config = _arg1;
        }
        protected function importFromString(_arg1:String):TextFlow{
            var _local4:String;
            var _local5:ParagraphElement;
            var _local6:SpanElement;
            var _local7:FlowLeafElement;
            var _local2:Array = _arg1.split(_newLineRegex);
            var _local3:TextFlow = new TextFlow(this._config);
            for each (_local4 in _local2) {
                _local5 = new ParagraphElement();
                _local6 = new SpanElement();
                _local6.replaceText(0, 0, _local4);
                _local5.replaceChildren(0, 0, _local6);
                _local3.replaceChildren(_local3.numChildren, _local3.numChildren, _local5);
            };
            if (((useClipboardAnnotations) && ((((_arg1.lastIndexOf("\n", (_arg1.length - 2)) < 0)) || ((_arg1.lastIndexOf("\r\n", (_arg1.length - 3)) < 0)))))){
                _local7 = _local3.getLastLeaf();
                _local7.setStyle(ConverterBase.MERGE_TO_NEXT_ON_PASTE, "true");
                _local7.parent.setStyle(ConverterBase.MERGE_TO_NEXT_ON_PASTE, "true");
                _local3.setStyle(ConverterBase.MERGE_TO_NEXT_ON_PASTE, "true");
            };
            return (_local3);
        }

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {

    public final class ConversionType {

        public static const STRING_TYPE:String = "stringType";
        public static const XML_TYPE:String = "xmlType";

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {

    public interface IHTMLImporter extends ITextImporter {

        function get imageSourceResolveFunction():Function;
        function set imageSourceResolveFunction(_arg1:Function):void;
        function get preserveBodyElement():Boolean;
        function set preserveBodyElement(_arg1:Boolean):void;
        function get preserveHTMLElement():Boolean;
        function set preserveHTMLElement(_arg1:Boolean):void;

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {
    import __AS3__.vec.*;
    import flashx.textLayout.*;

    public class ConverterBase {

        public static const MERGE_TO_NEXT_ON_PASTE:String = "mergeToNextOnPaste";

        private var _errors:Vector.<String> = null;
        private var _throwOnError:Boolean = false;
        private var _useClipboardAnnotations:Boolean = false;

        public function get errors():Vector.<String>{
            return (this._errors);
        }
        public function get throwOnError():Boolean{
            return (this._throwOnError);
        }
        public function set throwOnError(_arg1:Boolean):void{
            this._throwOnError = _arg1;
        }
        tlf_internal function clear():void{
            this._errors = null;
        }
        tlf_internal function reportError(_arg1:String):void{
            if (this._throwOnError){
                throw (new Error(_arg1));
            };
            if (!this._errors){
                this._errors = new Vector.<String>();
            };
            this._errors.push(_arg1);
        }
        public function get useClipboardAnnotations():Boolean{
            return (this._useClipboardAnnotations);
        }
        public function set useClipboardAnnotations(_arg1:Boolean):void{
            this._useClipboardAnnotations = _arg1;
        }

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {

    public class TLFormatImporter implements IFormatImporter {

        private var _classType:Class;
        private var _description:Object;
        private var _rslt:Object;

        public function TLFormatImporter(_arg1:Class, _arg2:Object){
            this._classType = _arg1;
            this._description = _arg2;
        }
        public function get classType():Class{
            return (this._classType);
        }
        public function reset():void{
            this._rslt = null;
        }
        public function get result():Object{
            return (this._rslt);
        }
        public function importOneFormat(_arg1:String, _arg2:String):Boolean{
            if (this._description.hasOwnProperty(_arg1)){
                if (this._rslt == null){
                    this._rslt = new this._classType();
                };
                this._rslt[_arg1] = this._description[_arg1].setHelper(undefined, _arg2);
                return (true);
            };
            return (false);
        }

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {
    import flashx.textLayout.property.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.conversion.*;
    import flash.system.*;
    import flashx.textLayout.*;

    class BaseTextLayoutImporter extends ConverterBase implements ITextImporter {

        private static const anyPrintChar:RegExp = /[^	

 ]/g;
        private static const dblSpacePattern:RegExp = /[ ]{2,}/g;
        private static const tabNewLinePattern:RegExp = /[	

]/g;

        private var _ns:Namespace;
        private var _textFlowNamespace:Namespace;
        protected var _config:ImportExportConfiguration;
        protected var _textFlowConfiguration:IConfiguration = null;
        protected var _importVersion:uint;
        private var _impliedPara:ParagraphElement = null;

        public function BaseTextLayoutImporter(_arg1:Namespace, _arg2:ImportExportConfiguration){
            this._ns = _arg1;
            this._config = _arg2;
        }
        protected static function stripWhitespace(_arg1:String):String{
            return (_arg1.replace(tabNewLinePattern, " "));
        }
        public static function parseTextFlow(_arg1:BaseTextLayoutImporter, _arg2:XML, _arg3:Object=null):TextFlow{
            return (_arg1.createTextFlowFromXML(_arg2, null));
        }
        public static function parsePara(_arg1:BaseTextLayoutImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:ParagraphElement = _arg1.createParagraphFromXML(_arg2);
            if (_arg1.addChild(_arg3, _local4)){
                _arg1.parseFlowGroupElementChildren(_arg2, _local4);
                if (_local4.numChildren == 0){
                    _local4.addChild(new SpanElement());
                };
            };
        }
        protected static function copyAllStyleProps(_arg1:FlowLeafElement, _arg2:FlowLeafElement):void{
            _arg1.format = _arg2.format;
            _arg1.typeName = _arg2.typeName;
            _arg1.id = _arg2.id;
        }
        public static function parseSpan(_arg1:BaseTextLayoutImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local6:XML;
            var _local7:String;
            var _local8:SpanElement;
            var _local9:BreakElement;
            var _local10:TabElement;
            var _local4:SpanElement = _arg1.createSpanFromXML(_arg2);
            var _local5:XMLList = _arg2[0].children();
            if (_local5.length() == 0){
                _arg1.addChild(_arg3, _local4);
                return;
            };
            for each (_local6 in _local5) {
                _local7 = ((_local6.name()) ? _local6.name().localName : null);
                if (_local7 == null){
                    if (_local4.parent == null){
                        _local4.text = _local6.toString();
                        _arg1.addChild(_arg3, _local4);
                    } else {
                        _local8 = new SpanElement();
                        copyAllStyleProps(_local8, _local4);
                        _local8.text = _local6.toString();
                        _arg1.addChild(_arg3, _local8);
                    };
                } else {
                    if (_local7 == "br"){
                        _local9 = _arg1.createBreakFromXML(_local6);
                        if (_local9){
                            copyAllStyleProps(_local9, _local4);
                            _arg1.addChild(_arg3, _local9);
                        } else {
                            _arg1.reportError(GlobalSettings.resourceStringFunction("unexpectedXMLElementInSpan", [_local7]));
                        };
                    } else {
                        if (_local7 == "tab"){
                            _local10 = _arg1.createTabFromXML(_local6);
                            if (_local10){
                                copyAllStyleProps(_local10, _local4);
                                _arg1.addChild(_arg3, _local10);
                            } else {
                                _arg1.reportError(GlobalSettings.resourceStringFunction("unexpectedXMLElementInSpan", [_local7]));
                            };
                        } else {
                            _arg1.reportError(GlobalSettings.resourceStringFunction("unexpectedXMLElementInSpan", [_local7]));
                        };
                    };
                };
            };
        }
        public static function parseBreak(_arg1:BaseTextLayoutImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:BreakElement = _arg1.createBreakFromXML(_arg2);
            _arg1.addChild(_arg3, _local4);
        }
        public static function parseTab(_arg1:BaseTextLayoutImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:TabElement = _arg1.createTabFromXML(_arg2);
            if (_local4){
                _arg1.addChild(_arg3, _local4);
            };
        }
        public static function parseList(_arg1:BaseTextLayoutImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:ListElement = _arg1.createListFromXML(_arg2);
            if (_arg1.addChild(_arg3, _local4)){
                _arg1.parseFlowGroupElementChildren(_arg2, _local4);
            };
        }
        public static function parseListItem(_arg1:BaseTextLayoutImporter, _arg2:XML, _arg3:FlowGroupElement):void{
            var _local4:ListItemElement = _arg1.createListItemFromXML(_arg2);
            if (_arg1.addChild(_arg3, _local4)){
                _arg1.parseFlowGroupElementChildren(_arg2, _local4);
                if (_local4.numChildren == 0){
                    _local4.addChild(new ParagraphElement());
                };
            };
        }
        protected static function extractAttributesHelper(_arg1:Object, _arg2:TLFormatImporter):Object{
            if (_arg1 == null){
                return (_arg2.result);
            };
            if (_arg2.result == null){
                return (_arg1);
            };
            var _local3:Object = new _arg2.classType(_arg1);
            _local3.apply(_arg2.result);
            return (_local3);
        }

        override tlf_internal function clear():void{
            super.clear();
            this._textFlowNamespace = null;
            this._impliedPara = null;
        }
        public function importToFlow(_arg1:Object):TextFlow{
            var source:* = _arg1;
            this.clear();
            if (throwOnError){
                return (this.importToFlowCanThrow(source));
            };
            var rslt:* = null;
            var savedErrorHandler:* = Property.errorHandler;
            try {
                Property.errorHandler = this.importPropertyErrorHandler;
                rslt = this.importToFlowCanThrow(source);
            } catch(e:Error) {
                reportError(e.toString());
            };
            Property.errorHandler = savedErrorHandler;
            return (rslt);
        }
        public function get configuration():IConfiguration{
            return (this._textFlowConfiguration);
        }
        public function set configuration(_arg1:IConfiguration):void{
            this._textFlowConfiguration = _arg1;
        }
        protected function importPropertyErrorHandler(_arg1:Property, _arg2:Object):void{
            reportError(Property.createErrorString(_arg1, _arg2));
        }
        private function importToFlowCanThrow(_arg1:Object):TextFlow{
            if ((_arg1 is String)){
                return (this.importFromString(String(_arg1)));
            };
            if ((_arg1 is XML)){
                return (this.importFromXML(XML(_arg1)));
            };
            return (null);
        }
        protected function importFromString(_arg1:String):TextFlow{
            var xmlTree:* = null;
            var source:* = _arg1;
            var originalSettings:* = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                xmlTree = new XML(source);
            } finally {
                XML.setSettings(originalSettings);
            };
            var textFlow:* = this.importFromXML(xmlTree);
            if (Configuration.playerEnablesArgoFeatures){
                var _local3 = System;
                _local3["disposeXML"](xmlTree);
            };
            return (textFlow);
        }
        protected function importFromXML(_arg1:XML):TextFlow{
            return (this.parseContent(_arg1[0]));
        }
        protected function parseContent(_arg1:XML):TextFlow{
            var _local2:XML = _arg1..TextFlow[0];
            if (_local2){
                return (parseTextFlow(this, _arg1));
            };
            return (null);
        }
        public function get ns():Namespace{
            return (this._ns);
        }
        protected function checkNamespace(_arg1:XML):Boolean{
            var _local2:Namespace = _arg1.namespace();
            if (!this._textFlowNamespace){
                if (_local2 != this.ns){
                    reportError(GlobalSettings.resourceStringFunction("unexpectedNamespace", [_local2.toString()]));
                    return (false);
                };
                this._textFlowNamespace = _local2;
            } else {
                if (_local2 != this._textFlowNamespace){
                    reportError(GlobalSettings.resourceStringFunction("unexpectedNamespace", [_local2.toString()]));
                    return (false);
                };
            };
            return (true);
        }
        public function parseAttributes(_arg1:XML, _arg2:Array):void{
            var _local3:IFormatImporter;
            var _local4:XML;
            var _local5:String;
            var _local6:String;
            var _local7:Boolean;
            for each (_local3 in _arg2) {
                _local3.reset();
            };
            if (!_arg1){
                return;
            };
            for each (_local4 in _arg1.attributes()) {
                _local5 = _local4.name().localName;
                _local6 = _local4.toString();
                _local7 = false;
                if (_arg1.localName() == "TextFlow"){
                    if (_local5 == "version"){
                        continue;
                    };
                } else {
                    if ((((this._importVersion < TextLayoutVersion.VERSION_2_0)) && ((((((((_local5 == "paddingLeft")) || ((_local5 == "paddingTop")))) || ((_local5 == "paddingRight")))) || ((_local5 == "paddingBottom")))))){
                        continue;
                    };
                };
                for each (_local3 in _arg2) {
                    if (_local3.importOneFormat(_local5, _local6)){
                        _local7 = true;
                        break;
                    };
                };
                if (!_local7){
                    this.handleUnknownAttribute(_arg1.name().localName, _local5);
                };
            };
        }
        public function createTextFlowFromXML(_arg1:XML, _arg2:TextFlow=null):TextFlow{
            return (null);
        }
        public function createParagraphFromXML(_arg1:XML):ParagraphElement{
            return (null);
        }
        public function createSpanFromXML(_arg1:XML):SpanElement{
            return (null);
        }
        public function createBreakFromXML(_arg1:XML):BreakElement{
            this.parseAttributes(_arg1, null);
            return (new BreakElement());
        }
        public function createListFromXML(_arg1:XML):ListElement{
            return (null);
        }
        public function createListItemFromXML(_arg1:XML):ListItemElement{
            return (null);
        }
        public function createTabFromXML(_arg1:XML):TabElement{
            this.parseAttributes(_arg1, null);
            return (new TabElement());
        }
        public function parseFlowChildren(_arg1:XML, _arg2:FlowGroupElement):void{
            this.parseFlowGroupElementChildren(_arg1, _arg2);
        }
        public function parseFlowGroupElementChildren(_arg1:XML, _arg2:FlowGroupElement, _arg3:Object=null, _arg4:Boolean=false):void{
            var _local5:XML;
            var _local6:String;
            var _local7:Boolean;
            for each (_local5 in _arg1.children()) {
                if (_local5.nodeKind() == "element"){
                    this.parseObject(_local5.name().localName, _local5, _arg2, _arg3);
                } else {
                    if (_local5.nodeKind() == "text"){
                        _local6 = _local5.toString();
                        _local7 = false;
                        if ((_arg2 is ContainerFormattedElement)){
                            _local7 = (_local6.search(anyPrintChar) == -1);
                        };
                        if (!_local7){
                            this.addChild(_arg2, this.createImpliedSpan(_local6));
                        };
                    };
                };
            };
            if (((!(_arg4)) && ((_arg2 is ContainerFormattedElement)))){
                this.resetImpliedPara();
            };
        }
        public function createImpliedSpan(_arg1:String):SpanElement{
            var _local2:SpanElement = new SpanElement();
            _local2.text = _arg1;
            return (_local2);
        }
        public function createParagraphFlowFromXML(_arg1:XML, _arg2:TextFlow=null):TextFlow{
            return (null);
        }
        tlf_internal function parseObject(_arg1:String, _arg2:XML, _arg3:FlowGroupElement, _arg4:Object=null):void{
            if (!this.checkNamespace(_arg2)){
                return;
            };
            var _local5:FlowElementInfo = this._config.lookup(_arg1);
            if (!_local5){
                if ((((_arg4 == null)) || ((_arg4[_arg1] === undefined)))){
                    this.handleUnknownElement(_arg1, _arg2, _arg3);
                };
            } else {
                _local5.parser(this, _arg2, _arg3);
            };
        }
        protected function handleUnknownElement(_arg1:String, _arg2:XML, _arg3:FlowGroupElement):void{
            reportError(GlobalSettings.resourceStringFunction("unknownElement", [_arg1]));
        }
        protected function handleUnknownAttribute(_arg1:String, _arg2:String):void{
            reportError(GlobalSettings.resourceStringFunction("unknownAttribute", [_arg2, _arg1]));
        }
        protected function getElementInfo(_arg1:XML):FlowElementInfo{
            return (this._config.lookup(_arg1.name().localName));
        }
        protected function GetClass(_arg1:XML):Class{
            var _local2:FlowElementInfo = this._config.lookup(_arg1.name().localName);
            return (((_local2) ? _local2.flowClass : null));
        }
        tlf_internal function createImpliedParagraph():ParagraphElement{
            return (this.createParagraphFromXML(<p/>
            ));
        }
        tlf_internal function addChild(_arg1:FlowGroupElement, _arg2:FlowElement):Boolean{
            var parent:* = _arg1;
            var child:* = _arg2;
            if ((child is ParagraphFormattedElement)){
                this.resetImpliedPara();
            } else {
                if ((parent is ContainerFormattedElement)){
                    if (!this._impliedPara){
                        this._impliedPara = this.createImpliedParagraph();
                        parent.addChild(this._impliedPara);
                    };
                    parent = this._impliedPara;
                };
            };
            if (throwOnError){
                parent.addChild(child);
            } else {
                try {
                    parent.addChild(child);
                } catch(e) {
                    reportError(e);
                    return (false);
                };
            };
            return (true);
        }
        tlf_internal function resetImpliedPara():void{
            if (this._impliedPara){
                this.onResetImpliedPara(this._impliedPara);
                this._impliedPara = null;
            };
        }
        protected function onResetImpliedPara(_arg1:ParagraphElement):void{
        }

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {
    import flash.utils.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.conversion.*;
    import flash.system.*;
    import flashx.textLayout.*;

    class BaseTextLayoutExporter extends ConverterBase implements ITextExporter {

        private static const brRegEx:RegExp = / /;

        private var _config:ImportExportConfiguration;
        private var _rootTag:XML;
        private var _ns:Namespace;

        public function BaseTextLayoutExporter(_arg1:Namespace, _arg2:XML, _arg3:ImportExportConfiguration){
            this._config = _arg3;
            this._ns = _arg1;
            this._rootTag = _arg2;
        }
        tlf_internal static function convertXMLToString(_arg1:XML):String{
            var result:* = null;
            var originalSettings:* = null;
            var xml:* = _arg1;
            originalSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                result = xml.toXMLString();
                if (Configuration.playerEnablesArgoFeatures){
                    var _local3 = System;
                    _local3["disposeXML"](xml);
                };
                XML.setSettings(originalSettings);
            } catch(e:Error) {
                XML.setSettings(originalSettings);
                throw (e);
            };
            return (result);
        }
        public static function exportFlowElement(_arg1:BaseTextLayoutExporter, _arg2:FlowElement):XMLList{
            return (_arg1.exportFlowElement(_arg2));
        }
        public static function exportSpanText(_arg1:XML, _arg2:SpanElement, _arg3:RegExp, _arg4:Function):void{
            var _local7:XML;
            var _local8:int;
            var _local9:String;
            var _local10:XML;
            var _local5:String = _arg2.text;
            var _local6:Array = _local5.match(_arg3);
            if (_local6){
                while (_local6 != null) {
                    _local8 = _local6.index;
                    _local9 = _local5.substr(0, _local8);
                    if (_local9.length > 0){
                        _local7 = <dummy/>
                        ;
                        _local7.appendChild(_local9);
                        _arg1.appendChild(_local7.text()[0]);
                    };
                    _local10 = _arg4(_local5.charAt(_local8));
                    _arg1.appendChild(_local10);
                    _local5 = _local5.slice((_local8 + 1), _local5.length);
                    _local6 = _local5.match(_arg3);
                    if (((!(_local6)) && ((_local5.length > 0)))){
                        _local7 = <dummy/>
                        ;
                        _local7.appendChild(_local5);
                        _arg1.appendChild(_local7.text()[0]);
                    };
                };
            } else {
                _arg1.appendChild(_local5);
            };
        }
        public static function exportSpan(_arg1:BaseTextLayoutExporter, _arg2:SpanElement):XMLList{
            var _local3:XMLList = exportFlowElement(_arg1, _arg2);
            exportSpanText(_local3[0], _arg2, _arg1.spanTextReplacementRegex, _arg1.getSpanTextReplacementXML);
            return (_local3);
        }
        public static function exportFlowGroupElement(_arg1:BaseTextLayoutExporter, _arg2:FlowGroupElement):XMLList{
            var _local5:FlowElement;
            var _local6:XMLList;
            var _local3:XMLList = exportFlowElement(_arg1, _arg2);
            var _local4:int;
            while (_local4 < _arg2.numChildren) {
                _local5 = _arg2.getChildAt(_local4);
                _local6 = _arg1.exportChild(_local5);
                if (_local6){
                    _local3.appendChild(_local6);
                };
                _local4++;
            };
            return (_local3);
        }
        public static function exportParagraphFormattedElement(_arg1:BaseTextLayoutExporter, _arg2:ParagraphFormattedElement):XMLList{
            return (_arg1.exportParagraphFormattedElement(_arg2));
        }
        public static function exportList(_arg1:BaseTextLayoutExporter, _arg2:ParagraphFormattedElement):XMLList{
            return (_arg1.exportList(_arg2));
        }
        public static function exportListItem(_arg1:BaseTextLayoutExporter, _arg2:ParagraphFormattedElement):XMLList{
            return (_arg1.exportListItem(_arg2));
        }
        public static function exportContainerFormattedElement(_arg1:BaseTextLayoutExporter, _arg2:ContainerFormattedElement):XMLList{
            return (_arg1.exportContainerFormattedElement(_arg2));
        }
        public static function exportTextFlow(_arg1:BaseTextLayoutExporter, _arg2:TextFlow):XMLList{
            var _local3:XMLList = exportContainerFormattedElement(_arg1, _arg2);
            _local3.@[TextLayoutFormat.whiteSpaceCollapseProperty.name] = WhiteSpaceCollapse.PRESERVE;
            _local3.@["version"] = TextLayoutVersion.getVersionString(TextLayoutVersion.CURRENT_VERSION);
            return (_local3);
        }

        public function export(_arg1:TextFlow, _arg2:String):Object{
            clear();
            var _local3:XML = this.exportToXML(_arg1);
            return ((((_arg2 == ConversionType.STRING_TYPE)) ? convertXMLToString(_local3) : _local3));
        }
        protected function exportToXML(_arg1:TextFlow):XML{
            var _local2:XML;
            if (this._rootTag){
                _local2 = new XML(this._rootTag);
                _local2.addNamespace(this._ns);
                _local2.appendChild(this.exportChild(_arg1));
            } else {
                _local2 = XML(exportTextFlow(this, _arg1));
                _local2.addNamespace(this._ns);
            };
            return (_local2);
        }
        protected function exportFlowElement(_arg1:FlowElement):XMLList{
            var _local2:String = getQualifiedClassName(_arg1);
            var _local3:String = this._config.lookupName(_local2);
            var _local4:XML = new XML((("<" + _local3) + "/>"));
            _local4.setNamespace(this._ns);
            return (XMLList(_local4));
        }
        protected function get spanTextReplacementRegex():RegExp{
            return (brRegEx);
        }
        protected function getSpanTextReplacementXML(_arg1:String):XML{
            var _local2:XML = <br/>
            ;
            _local2.setNamespace(this.flowNS);
            return (_local2);
        }
        protected function exportParagraphFormattedElement(_arg1:FlowElement):XMLList{
            var _local4:FlowElement;
            var _local2:XMLList = this.exportFlowElement(_arg1);
            var _local3:int;
            while (_local3 < ParagraphFormattedElement(_arg1).numChildren) {
                _local4 = ParagraphFormattedElement(_arg1).getChildAt(_local3);
                _local2.appendChild(this.exportChild(_local4));
                _local3++;
            };
            return (_local2);
        }
        protected function exportList(_arg1:FlowElement):XMLList{
            var _local4:FlowElement;
            var _local2:XMLList = this.exportFlowElement(_arg1);
            var _local3:int;
            while (_local3 < FlowGroupElement(_arg1).numChildren) {
                _local4 = FlowGroupElement(_arg1).getChildAt(_local3);
                _local2.appendChild(this.exportChild(_local4));
                _local3++;
            };
            return (_local2);
        }
        protected function exportListItem(_arg1:FlowElement):XMLList{
            var _local4:FlowElement;
            var _local2:XMLList = this.exportFlowElement(_arg1);
            var _local3:int;
            while (_local3 < FlowGroupElement(_arg1).numChildren) {
                _local4 = FlowGroupElement(_arg1).getChildAt(_local3);
                _local2.appendChild(this.exportChild(_local4));
                _local3++;
            };
            return (_local2);
        }
        protected function exportContainerFormattedElement(_arg1:FlowElement):XMLList{
            return (this.exportParagraphFormattedElement(_arg1));
        }
        public function exportChild(_arg1:FlowElement):XMLList{
            var _local2:String = getQualifiedClassName(_arg1);
            var _local3:FlowElementInfo = this._config.lookupByClass(_local2);
            if (_local3 != null){
                return (_local3.exporter(this, _arg1));
            };
            return (null);
        }
        protected function exportStyles(_arg1:XMLList, _arg2:Array):void{
            var _local3:Object;
            var _local4:Object;
            _arg2.sortOn("xmlName");
            for each (_local3 in _arg2) {
                _local4 = _local3.xmlVal;
                if (((!(useClipboardAnnotations)) && ((_local3.xmlName == ConverterBase.MERGE_TO_NEXT_ON_PASTE)))){
                } else {
                    if ((_local4 is String)){
                        _arg1.@[_local3.xmlName] = _local4;
                    } else {
                        if ((_local4 is XMLList)){
                            _arg1.appendChild(_local4);
                        };
                    };
                };
            };
        }
        function get flowNS():Namespace{
            return (this._ns);
        }
        protected function get formatDescription():Object{
            return (null);
        }

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {
    import flashx.textLayout.elements.*;
    import flashx.textLayout.*;

    public class TextConverter {

        public static const TEXT_FIELD_HTML_FORMAT:String = "textFieldHTMLFormat";
        public static const PLAIN_TEXT_FORMAT:String = "plainTextFormat";
        public static const TEXT_LAYOUT_FORMAT:String = "textLayoutFormat";

        tlf_internal static var _descriptors:Array = [];

        tlf_internal static function setFormatsToDefault():void{
            _descriptors = [];
            addFormat(TEXT_LAYOUT_FORMAT, TextLayoutImporter, TextLayoutExporter, TEXT_LAYOUT_FORMAT);
            addFormat(TEXT_FIELD_HTML_FORMAT, TextFieldHtmlImporter, TextFieldHtmlExporter, null);
            addFormat(PLAIN_TEXT_FORMAT, PlainTextImporter, PlainTextExporter, "air:text");
        }
        public static function importToFlow(_arg1:Object, _arg2:String, _arg3:IConfiguration=null):TextFlow{
            var _local4:ITextImporter = getImporter(_arg2, _arg3);
            if (!_local4){
                return (null);
            };
            _local4.throwOnError = false;
            return (_local4.importToFlow(_arg1));
        }
        public static function export(_arg1:TextFlow, _arg2:String, _arg3:String):Object{
            var _local4:ITextExporter = getExporter(_arg2);
            if (!_local4){
                return (null);
            };
            _local4.throwOnError = false;
            return (_local4.export(_arg1, _arg3));
        }
        public static function getImporter(_arg1:String, _arg2:IConfiguration=null):ITextImporter{
            var _local5:FormatDescriptor;
            var _local3:ITextImporter;
            var _local4:int = findFormatIndex(_arg1);
            if (_local4 >= 0){
                _local5 = _descriptors[_local4];
                if (((_local5) && (_local5.importerClass))){
                    _local3 = new _local5.importerClass();
                    _local3.configuration = _arg2;
                };
            };
            return (_local3);
        }
        public static function getExporter(_arg1:String):ITextExporter{
            var _local4:FormatDescriptor;
            var _local2:ITextExporter;
            var _local3:int = findFormatIndex(_arg1);
            if (_local3 >= 0){
                _local4 = _descriptors[_local3];
                if (((_local4) && (_local4.exporterClass))){
                    _local2 = new _local4.exporterClass();
                };
            };
            return (_local2);
        }
        public static function addFormatAt(_arg1:int, _arg2:String, _arg3:Class, _arg4:Class=null, _arg5:String=null):void{
            var _local6:FormatDescriptor = new FormatDescriptor(_arg2, _arg3, _arg4, _arg5);
            _descriptors.splice(_arg1, 0, _local6);
        }
        public static function addFormat(_arg1:String, _arg2:Class, _arg3:Class, _arg4:String):void{
            addFormatAt(_descriptors.length, _arg1, _arg2, _arg3, _arg4);
        }
        public static function removeFormatAt(_arg1:int):void{
            if ((((_arg1 >= 0)) && ((_arg1 < _descriptors.length)))){
                _descriptors.splice(_arg1, 1);
            };
        }
        private static function findFormatIndex(_arg1:String):int{
            var _local2:int;
            while (_local2 < numFormats) {
                if (_descriptors[_local2].format == _arg1){
                    return (_local2);
                };
                _local2++;
            };
            return (-1);
        }
        public static function removeFormat(_arg1:String):void{
            removeFormatAt(findFormatIndex(_arg1));
        }
        public static function getFormatAt(_arg1:int):String{
            return (_descriptors[_arg1].format);
        }
        public static function getFormatDescriptorAt(_arg1:int):FormatDescriptor{
            return (_descriptors[_arg1]);
        }
        public static function get numFormats():int{
            return (_descriptors.length);
        }

        setFormatsToDefault();
    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {
    import flash.utils.*;
    import flashx.textLayout.conversion.*;

    class CustomFormatImporter implements IFormatImporter {

        private var _rslt:Dictionary = null;

        public function reset():void{
            this._rslt = null;
        }
        public function get result():Object{
            return (this._rslt);
        }
        public function importOneFormat(_arg1:String, _arg2:String):Boolean{
            if (this._rslt == null){
                this._rslt = new Dictionary();
            };
            this._rslt[_arg1] = _arg2;
            return (true);
        }

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {
    import flash.utils.*;

    class FlowElementInfo {

        private var _flowClass:Class;
        private var _flowClassName:String;
        private var _parser:Function;
        private var _exporter:Function;

        public function FlowElementInfo(_arg1:Class, _arg2:Function, _arg3:Function){
            this._flowClass = _arg1;
            this._parser = _arg2;
            this._exporter = _arg3;
            this._flowClassName = getQualifiedClassName(_arg1);
        }
        public function get flowClass():Class{
            return (this._flowClass);
        }
        public function get flowClassName():String{
            return (this._flowClassName);
        }
        public function get parser():Function{
            return (this._parser);
        }
        public function get exporter():Function{
            return (this._exporter);
        }

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {
    import flash.utils.*;
    import flash.text.engine.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.*;

    public class TextFieldHtmlExporter extends ConverterBase implements ITextExporter {

        tlf_internal static const brRegEx:RegExp = / /;

        tlf_internal static var _config:ImportExportConfiguration;

        public function TextFieldHtmlExporter(){
            if (!_config){
                _config = new ImportExportConfiguration();
                _config.addIEInfo(null, DivElement, null, this.exportDiv);
                _config.addIEInfo(null, ParagraphElement, null, this.exportParagraph);
                _config.addIEInfo(null, LinkElement, null, this.exportLink);
                _config.addIEInfo(null, TCYElement, null, this.exportTCY);
                _config.addIEInfo(null, SubParagraphGroupElement, null, this.exportSPGE);
                _config.addIEInfo(null, SpanElement, null, this.exportSpan);
                _config.addIEInfo(null, InlineGraphicElement, null, this.exportImage);
                _config.addIEInfo(null, TabElement, null, this.exportTab);
                _config.addIEInfo(null, BreakElement, null, this.exportBreak);
                _config.addIEInfo(null, ListElement, null, this.exportList);
                _config.addIEInfo(null, ListItemElement, null, this.exportListItem);
            };
        }
        tlf_internal static function makeTaggedTypeName(_arg1:FlowElement, _arg2:String):XML{
            if (_arg1.typeName == _arg1.defaultTypeName){
                return (new XML((("<" + _arg2) + "/>")));
            };
            return (new XML((("<" + _arg1.typeName.toUpperCase()) + "/>")));
        }
        tlf_internal static function exportStyling(_arg1:FlowElement, _arg2:XML):void{
            if (_arg1.id != null){
                _arg2.@["id"] = _arg1.id;
            };
            if (_arg1.styleName != null){
                _arg2.@["class"] = _arg1.styleName;
            };
        }
        tlf_internal static function getSpanTextReplacementXML(_arg1:String):XML{
            return (<BR/>
            );
        }
        tlf_internal static function nest(_arg1:XML, _arg2:Object):XML{
            _arg1.setChildren(_arg2);
            return (_arg1);
        }

        public function export(_arg1:TextFlow, _arg2:String):Object{
            var _local3:XML = this.exportToXML(_arg1);
            return ((((_arg2 == ConversionType.STRING_TYPE)) ? BaseTextLayoutExporter.convertXMLToString(_local3) : _local3));
        }
        tlf_internal function exportToXML(_arg1:TextFlow):XML{
            var _local3:XML;
            var _local2:XML = <HTML/>
            ;
            if (_arg1.numChildren != 0){
                if (_arg1.getChildAt(0).typeName != "BODY"){
                    _local3 = <BODY/>
                    ;
                    _local2.appendChild(_local3);
                    this.exportChildren(_arg1, _local3);
                } else {
                    this.exportChildren(_arg1, _local2);
                };
            };
            return (_local2);
        }
        tlf_internal function exportChildren(_arg1:FlowGroupElement, _arg2:XML):void{
            var _local4:FlowElement;
            var _local3:int;
            while (_local3 < _arg1.numChildren) {
                _local4 = _arg1.getChildAt(_local3);
                this.exportElement(_local4, _arg2);
                _local3++;
            };
        }
        tlf_internal function exportList(_arg1:ListElement, _arg2:XML):void{
            var _local3:XML;
            var _local4:XML;
            if (_arg1.isNumberedList()){
                _local3 = <OL/>
                ;
            } else {
                _local3 = <UL/>
                ;
            };
            exportStyling(_arg1, _local3);
            this.exportChildren(_arg1, _local3);
            if (_arg1.typeName != _arg1.defaultTypeName){
                _local4 = new XML((("<" + _arg1.typeName) + "/>"));
                _local4.appendChild(_local3);
                _arg2.appendChild(_local4);
            } else {
                _arg2.appendChild(_local3);
            };
        }
        tlf_internal function exportListItem(_arg1:ListItemElement, _arg2:XML):void{
            var _local5:XML;
            var _local6:XMLList;
            var _local3:XML = <LI/>
            ;
            exportStyling(_arg1, _local3);
            this.exportChildren(_arg1, _local3);
            var _local4:XMLList = _local3.children();
            if (_local4.length() == 1){
                _local5 = _local4[0];
                if (_local5.name().localName == "P"){
                    _local6 = _local5.children();
                    if (_local6.length() == 1){
                        _local3 = <LI/>
                        ;
                        _local3.appendChild(_local6[0]);
                    };
                };
            };
            _arg2.appendChild(_local3);
        }
        tlf_internal function exportDiv(_arg1:DivElement, _arg2:XML):void{
            var _local3:XML = makeTaggedTypeName(_arg1, "DIV");
            exportStyling(_arg1, _local3);
            this.exportChildren(_arg1, _local3);
            _arg2.appendChild(_local3);
        }
        tlf_internal function exportParagraph(_arg1:ParagraphElement, _arg2:XML):void{
            var _local3:XML = makeTaggedTypeName(_arg1, "P");
            exportStyling(_arg1, _local3);
            var _local4:XML = this.exportFont(_arg1.computedFormat);
            this.exportSubParagraphChildren(_arg1, _local4);
            nest(_local3, _local4);
            _arg2.appendChild(this.exportParagraphFormat(_local3, _arg1));
        }
        tlf_internal function exportLink(_arg1:LinkElement, _arg2:XML):void{
            var _local3:XML = <A/>
            ;
            if (_arg1.href){
                _local3.@HREF = _arg1.href;
            };
            if (_arg1.target){
                _local3.@TARGET = _arg1.target;
            } else {
                _local3.@TARGET = "_blank";
            };
            this.exportSubParagraphElement(_arg1, _local3, _arg2);
        }
        tlf_internal function exportTCY(_arg1:TCYElement, _arg2:XML):void{
            var _local3:XML = <TCY/>
            ;
            this.exportSubParagraphElement(_arg1, _local3, _arg2);
        }
        tlf_internal function exportSPGE(_arg1:SubParagraphGroupElement, _arg2:XML):void{
            var _local3:XML = ((_arg1.typeName)!=_arg1.defaultTypeName) ? new XML((("<" + _arg1.typeName) + "/>")) : <SPAN/>
;
            this.exportSubParagraphElement(_arg1, _local3, _arg2, false);
        }
        tlf_internal function exportSubParagraphElement(_arg1:SubParagraphGroupElementBase, _arg2:XML, _arg3:XML, _arg4:Boolean=true):void{
            var _local9:XML;
            exportStyling(_arg1, _arg2);
            this.exportSubParagraphChildren(_arg1, _arg2);
            var _local5:ITextLayoutFormat = _arg1.computedFormat;
            var _local6:ITextLayoutFormat = _arg1.parent.computedFormat;
            var _local7:XML = this.exportFont(_local5, _local6);
            var _local8:XML = ((_local7) ? nest(_local7, _arg2) : _arg2);
            if (((_arg4) && (!((_arg1.typeName == _arg1.defaultTypeName))))){
                _local9 = new XML((("<" + _arg1.typeName) + "/>"));
                _local9.appendChild(_local8);
                _arg3.appendChild(_local9);
            } else {
                _arg3.appendChild(_local8);
            };
        }
        tlf_internal function exportSpan(_arg1:SpanElement, _arg2:XML):void{
            var _local4:Object;
            var _local3:XML = makeTaggedTypeName(_arg1, "SPAN");
            exportStyling(_arg1, _local3);
            BaseTextLayoutExporter.exportSpanText(_local3, _arg1, brRegEx, getSpanTextReplacementXML);
            if ((((((_arg1.id == null)) && ((_arg1.styleName == null)))) && ((_arg1.typeName == _arg1.defaultTypeName)))){
                _local4 = _local3.children();
                if ((((_local4.length() == 1)) && ((_local4[0].nodeKind() == "text")))){
                    _local4 = _local3.text()[0];
                };
                _arg2.appendChild(this.exportSpanFormat(_local4, _arg1));
            } else {
                _arg2.appendChild(this.exportSpanFormat(_local3, _arg1));
            };
        }
        tlf_internal function exportImage(_arg1:InlineGraphicElement, _arg2:XML):void{
            var _local4:XML;
            var _local3:XML = <IMG/>
            ;
            exportStyling(_arg1, _local3);
            if (_arg1.source){
                _local3.@SRC = _arg1.source;
            };
            if (((!((_arg1.width === undefined))) && (!((_arg1.width == FormatValue.AUTO))))){
                _local3.@WIDTH = _arg1.width;
            };
            if (((!((_arg1.height === undefined))) && (!((_arg1.height == FormatValue.AUTO))))){
                _local3.@HEIGHT = _arg1.height;
            };
            if (_arg1.computedFloat != Float.NONE){
                _local3.@ALIGN = _arg1.float;
            };
            if (_arg1.typeName != _arg1.defaultTypeName){
                _local4 = new XML((("<" + _arg1.typeName) + "/>"));
                _local4.appendChild(_local3);
                _arg2.appendChild(_local4);
            } else {
                _arg2.appendChild(_local3);
            };
        }
        tlf_internal function exportBreak(_arg1:BreakElement, _arg2:XML):void{
            _arg2.appendChild(<BR/>
            );
        }
        tlf_internal function exportTab(_arg1:TabElement, _arg2:XML):void{
            this.exportSpan(_arg1, _arg2);
        }
        tlf_internal function exportTextFormatAttribute(_arg1:XML, _arg2:String, _arg3):XML{
            if (!_arg1){
                _arg1 = <TEXTFORMAT/>
                ;
            };
            _arg1.@[_arg2] = _arg3;
            return (_arg1);
        }
        tlf_internal function exportParagraphFormat(_arg1:XML, _arg2:ParagraphElement):XML{
            var _local4:String;
            var _local5:XML;
            var _local7:FlowLeafElement;
            var _local8:Number;
            var _local9:String;
            var _local10:TabStopFormat;
            var _local3:ITextLayoutFormat = _arg2.computedFormat;
            switch (_local3.textAlign){
                case TextAlign.START:
                    _local4 = ((_local3.direction)==Direction.LTR) ? TextAlign.LEFT : TextAlign.RIGHT;
                    break;
                case TextAlign.END:
                    _local4 = ((_local3.direction)==Direction.LTR) ? TextAlign.RIGHT : TextAlign.LEFT;
                    break;
                default:
                    _local4 = _local3.textAlign;
            };
            _arg1.@ALIGN = _local4;
            if (_local3.paragraphStartIndent != 0){
                _local5 = this.exportTextFormatAttribute(_local5, (((_local3.direction == Direction.LTR)) ? "LEFTMARGIN" : "RIGHTMARGIN"), _local3.paragraphStartIndent);
            };
            if (_local3.paragraphEndIndent != 0){
                _local5 = this.exportTextFormatAttribute(_local5, (((_local3.direction == Direction.LTR)) ? "RIGHTMARGIN" : "LEFTMARGIN"), _local3.paragraphEndIndent);
            };
            if (_local3.textIndent != 0){
                _local5 = this.exportTextFormatAttribute(_local5, "INDENT", _local3.textIndent);
            };
            if (_local3.leadingModel == LeadingModel.APPROXIMATE_TEXT_FIELD){
                _local7 = _arg2.getFirstLeaf();
                if (_local7){
                    _local8 = TextLayoutFormat.lineHeightProperty.computeActualPropertyValue(_local7.computedFormat.lineHeight, _local7.getEffectiveFontSize());
                    if (_local8 != 0){
                        _local5 = this.exportTextFormatAttribute(_local5, "LEADING", _local8);
                    };
                };
            };
            var _local6:Array = _local3.tabStops;
            if (_local6){
                _local9 = "";
                for each (_local10 in _local6) {
                    if (_local10.alignment != TabAlignment.START){
                        break;
                    };
                    if (_local9.length){
                        _local9 = (_local9 + ", ");
                    };
                    _local9 = (_local9 + _local10.position);
                };
                if (_local9.length){
                    _local5 = this.exportTextFormatAttribute(_local5, "TABSTOPS", _local9);
                };
            };
            return (((_local5) ? nest(_local5, _arg1) : _arg1));
        }
        tlf_internal function exportSpanFormat(_arg1:Object, _arg2:SpanElement):Object{
            var _local3:ITextLayoutFormat = _arg2.computedFormat;
            var _local4:Object = _arg1;
            if (_local3.textDecoration.toString() == TextDecoration.UNDERLINE){
                _local4 = nest(<U/>
                , _local4);
            };
            if (_local3.fontStyle.toString() == FontPosture.ITALIC){
                _local4 = nest(<I/>
                , _local4);
            };
            if (_local3.fontWeight.toString() == FontWeight.BOLD){
                _local4 = nest(<B/>
                , _local4);
            };
            var _local5:FlowElement = _arg2.getParentByType(LinkElement);
            if (!_local5){
                _local5 = _arg2.getParagraph();
            };
            var _local6:XML = this.exportFont(_local3, _local5.computedFormat);
            if (_local6){
                _local4 = nest(_local6, _local4);
            };
            return (_local4);
        }
        tlf_internal function exportFontAttribute(_arg1:XML, _arg2:String, _arg3):XML{
            if (!_arg1){
                _arg1 = <FONT/>
                ;
            };
            _arg1.@[_arg2] = _arg3;
            return (_arg1);
        }
        tlf_internal function exportFont(_arg1:ITextLayoutFormat, _arg2:ITextLayoutFormat=null):XML{
            var _local3:XML;
            var _local4:String;
            if (((!(_arg2)) || (!((_arg2.fontFamily == _arg1.fontFamily))))){
                _local3 = this.exportFontAttribute(_local3, "FACE", _arg1.fontFamily);
            };
            if (((!(_arg2)) || (!((_arg2.fontSize == _arg1.fontSize))))){
                _local3 = this.exportFontAttribute(_local3, "SIZE", _arg1.fontSize);
            };
            if (((!(_arg2)) || (!((_arg2.color == _arg1.color))))){
                _local4 = _arg1.color.toString(16);
                while (_local4.length < 6) {
                    _local4 = ("0" + _local4);
                };
                _local4 = ("#" + _local4);
                _local3 = this.exportFontAttribute(_local3, "COLOR", _local4);
            };
            if (((!(_arg2)) || (!((_arg2.trackingRight == _arg1.trackingRight))))){
                _local3 = this.exportFontAttribute(_local3, "LETTERSPACING", _arg1.trackingRight);
            };
            if (((!(_arg2)) || (!((_arg2.kerning == _arg1.kerning))))){
                _local3 = this.exportFontAttribute(_local3, "KERNING", (((_arg1.kerning == Kerning.OFF)) ? "0" : "1"));
            };
            return (_local3);
        }
        tlf_internal function exportElement(_arg1:FlowElement, _arg2:XML):void{
            var _local5:XML;
            var _local3:String = getQualifiedClassName(_arg1);
            var _local4:FlowElementInfo = _config.lookupByClass(_local3);
            if (_local4){
                _local4.exporter(_arg1, _arg2);
            } else {
                _local5 = new XML((("<" + _arg1.typeName.toUpperCase()) + "/>"));
                this.exportChildren((_arg1 as FlowGroupElement), _local5);
                _arg2.appendChild(_local5);
            };
        }
        tlf_internal function exportSubParagraphChildren(_arg1:FlowGroupElement, _arg2:XML):void{
            var _local3:int;
            while (_local3 < _arg1.numChildren) {
                this.exportElement(_arg1.getChildAt(_local3), _arg2);
                _local3++;
            };
        }

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {
    import flashx.textLayout.*;

    public class ImportExportConfiguration {

        tlf_internal var flowElementInfoList:Object;
        tlf_internal var flowElementClassList:Object;
        tlf_internal var classToNameMap:Object;

        public function ImportExportConfiguration(){
            this.flowElementInfoList = {};
            this.flowElementClassList = {};
            this.classToNameMap = {};
            super();
        }
        public function addIEInfo(_arg1:String, _arg2:Class, _arg3:Function, _arg4:Function):void{
            var _local5:FlowElementInfo = new FlowElementInfo(_arg2, _arg3, _arg4);
            if (_arg1){
                this.flowElementInfoList[_arg1] = _local5;
            };
            if (_arg2){
                this.flowElementClassList[_local5.flowClassName] = _local5;
            };
            if (((_arg1) && (_arg2))){
                this.classToNameMap[_local5.flowClassName] = _arg1;
            };
        }
        public function lookup(_arg1:String):FlowElementInfo{
            return (this.flowElementInfoList[_arg1]);
        }
        public function lookupName(_arg1:String):String{
            return (this.classToNameMap[_arg1]);
        }
        public function lookupByClass(_arg1:String):FlowElementInfo{
            return (this.flowElementClassList[_arg1]);
        }

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {
    import flashx.textLayout.conversion.*;

    class SingletonAttributeImporter implements IFormatImporter {

        private var _keyToMatch:String;
        private var _rslt:String = null;

        public function SingletonAttributeImporter(_arg1:String){
            this._keyToMatch = _arg1;
        }
        public function reset():void{
            this._rslt = null;
        }
        public function get result():Object{
            return (this._rslt);
        }
        public function importOneFormat(_arg1:String, _arg2:String):Boolean{
            if (_arg1 == this._keyToMatch){
                this._rslt = _arg2;
                return (true);
            };
            return (false);
        }

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {

    public interface IPlainTextExporter extends ITextExporter {

        function get paragraphSeparator():String;
        function set paragraphSeparator(_arg1:String):void;
        function get stripDiscretionaryHyphens():Boolean;
        function set stripDiscretionaryHyphens(_arg1:Boolean):void;

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {

    public class FormatDescriptor {

        private var _format:String;
        private var _clipboardFormat:String;
        private var _importerClass:Class;
        private var _exporterClass:Class;

        public function FormatDescriptor(_arg1:String, _arg2:Class, _arg3:Class, _arg4:String){
            this._format = _arg1;
            this._clipboardFormat = _arg4;
            this._importerClass = _arg2;
            this._exporterClass = _arg3;
        }
        public function get format():String{
            return (this._format);
        }
        public function get clipboardFormat():String{
            return (this._clipboardFormat);
        }
        public function get importerClass():Class{
            return (this._importerClass);
        }
        public function get exporterClass():Class{
            return (this._exporterClass);
        }

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {
    import __AS3__.vec.*;
    import flashx.textLayout.elements.*;

    public interface ITextImporter {

        function importToFlow(_arg1:Object):TextFlow;
        function get errors():Vector.<String>;
        function get throwOnError():Boolean;
        function set throwOnError(_arg1:Boolean):void;
        function get useClipboardAnnotations():Boolean;
        function set useClipboardAnnotations(_arg1:Boolean):void;
        function get configuration():IConfiguration;
        function set configuration(_arg1:IConfiguration):void;

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout.conversion {
    import flashx.textLayout.property.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.conversion.*;
    import flashx.textLayout.*;

    class TextLayoutExporter extends BaseTextLayoutExporter {

        private static const brTabRegEx:RegExp = new RegExp(((("[" + " ") + "\t") + "]"));

        private static var _formatDescription:Object = TextLayoutFormat.description;

        public function TextLayoutExporter(){
            super(new Namespace("http://ns.adobe.com/textLayout/2008"), null, TextLayoutImporter.defaultConfiguration);
        }
        public static function exportImage(_arg1:BaseTextLayoutExporter, _arg2:InlineGraphicElement):XMLList{
            var _local3:XMLList = exportFlowElement(_arg1, _arg2);
            if (_arg2.height !== undefined){
                _local3.@height = _arg2.height;
            };
            if (_arg2.width !== undefined){
                _local3.@width = _arg2.width;
            };
            if (_arg2.source != null){
                _local3.@source = _arg2.source;
            };
            if (_arg2.float != undefined){
                _local3.@float = _arg2.float;
            };
            return (_local3);
        }
        public static function exportLink(_arg1:BaseTextLayoutExporter, _arg2:LinkElement):XMLList{
            var _local3:XMLList = exportFlowGroupElement(_arg1, _arg2);
            if (_arg2.href){
                _local3.@href = _arg2.href;
            };
            if (_arg2.target){
                _local3.@target = _arg2.target;
            };
            return (_local3);
        }
        public static function exportDiv(_arg1:BaseTextLayoutExporter, _arg2:DivElement):XMLList{
            return (exportContainerFormattedElement(_arg1, _arg2));
        }
        public static function exportSPGE(_arg1:BaseTextLayoutExporter, _arg2:SubParagraphGroupElement):XMLList{
            return (exportFlowGroupElement(_arg1, _arg2));
        }
        public static function exportTCY(_arg1:BaseTextLayoutExporter, _arg2:TCYElement):XMLList{
            return (exportFlowGroupElement(_arg1, _arg2));
        }

        override protected function get spanTextReplacementRegex():RegExp{
            return (brTabRegEx);
        }
        override protected function getSpanTextReplacementXML(_arg1:String):XML{
            var _local2:XML;
            if (_arg1 == " "){
                _local2 = <br/>
                ;
            } else {
                if (_arg1 == "\t"){
                    _local2 = <tab/>
                    ;
                } else {
                    return (null);
                };
            };
            _local2.setNamespace(flowNS);
            return (_local2);
        }
        tlf_internal function createStylesFromDescription(_arg1:Object, _arg2:Object, _arg3:Boolean, _arg4:Array):Array{
            var _local6:String;
            var _local7:Object;
            var _local8:Property;
            var _local9:XMLList;
            var _local5:Array = [];
            for (_local6 in _arg1) {
                _local7 = _arg1[_local6];
                if (((_arg4) && (!((_arg4.indexOf(_local7) == -1))))){
                } else {
                    _local8 = _arg2[_local6];
                    if (!_local8){
                        if (_arg3){
                            if ((((_local7 is String)) || (_local7.hasOwnProperty("toString")))){
                                _local5.push({
                                    xmlName:_local6,
                                    xmlVal:_local7
                                });
                            };
                        };
                    } else {
                        if ((_local7 is TextLayoutFormat)){
                            _local9 = this.exportObjectAsTextLayoutFormat(_local6, (_local7 as TextLayoutFormat).getStyles());
                            if (_local9){
                                _local5.push({
                                    xmlName:_local6,
                                    xmlVal:_local9
                                });
                            };
                        } else {
                            _local5.push({
                                xmlName:_local6,
                                xmlVal:_local8.toXMLString(_local7)
                            });
                        };
                    };
                };
            };
            return (_local5);
        }
        tlf_internal function exportObjectAsTextLayoutFormat(_arg1:String, _arg2:Object):XMLList{
            var _local3:String;
            var _local4:Object;
            if ((((((_arg1 == LinkElement.LINK_NORMAL_FORMAT_NAME)) || ((_arg1 == LinkElement.LINK_ACTIVE_FORMAT_NAME)))) || ((_arg1 == LinkElement.LINK_HOVER_FORMAT_NAME)))){
                _local3 = "TextLayoutFormat";
                _local4 = TextLayoutFormat.description;
            } else {
                if (_arg1 == ListElement.LIST_MARKER_FORMAT_NAME){
                    _local3 = "ListMarkerFormat";
                    _local4 = ListMarkerFormat.description;
                };
            };
            if (_local3 == null){
                return (null);
            };
            var _local5:XML = new XML((("<" + _local3) + "/>"));
            _local5.setNamespace(flowNS);
            var _local6:Array = this.createStylesFromDescription(_arg2, _local4, true, null);
            exportStyles(XMLList(_local5), _local6);
            var _local7:XMLList = XMLList(new XML((("<" + _arg1) + "/>")));
            _local7.appendChild(_local5);
            return (_local7);
        }
        override protected function exportFlowElement(_arg1:FlowElement):XMLList{
            var _local4:Array;
            var _local2:XMLList = super.exportFlowElement(_arg1);
            var _local3:Object = _arg1.styles;
            if (_local3){
                delete _local3[TextLayoutFormat.whiteSpaceCollapseProperty.name];
                _local4 = this.createStylesFromDescription(_local3, this.formatDescription, true, ((_arg1.parent) ? null : [FormatValue.INHERIT]));
                exportStyles(_local2, _local4);
            };
            if (_arg1.id != null){
                _local2.@["id"] = _arg1.id;
            };
            if (_arg1.typeName != _arg1.defaultTypeName){
                _local2.@["typeName"] = _arg1.typeName;
            };
            return (_local2);
        }
        override protected function get formatDescription():Object{
            return (_formatDescription);
        }

    }
}//package flashx.textLayout.conversion 
﻿package flashx.textLayout {

    public namespace tlf_internal = "http://ns.adobe.com/textLayout/internal/2008";
}//package flashx.textLayout 
﻿package flashx.textLayout.events {
    import flash.events.*;
    import flashx.textLayout.elements.*;

    public class StatusChangeEvent extends Event {

        public static const INLINE_GRAPHIC_STATUS_CHANGE:String = "inlineGraphicStatusChange";

        private var _element:FlowElement;
        private var _status:String;
        private var _errorEvent:ErrorEvent;

        public function StatusChangeEvent(_arg1:String, _arg2:Boolean=false, _arg3:Boolean=false, _arg4:FlowElement=null, _arg5:String=null, _arg6:ErrorEvent=null){
            this._element = _arg4;
            this._status = _arg5;
            this._errorEvent = _arg6;
            super(_arg1, _arg2, _arg3);
        }
        override public function clone():Event{
            return (new StatusChangeEvent(type, bubbles, cancelable, this._element, this._status, this._errorEvent));
        }
        public function get element():FlowElement{
            return (this._element);
        }
        public function set element(_arg1:FlowElement):void{
            this._element = _arg1;
        }
        public function get status():String{
            return (this._status);
        }
        public function set status(_arg1:String):void{
            this._status = _arg1;
        }
        public function get errorEvent():ErrorEvent{
            return (this._errorEvent);
        }
        public function set errorEvent(_arg1:ErrorEvent):void{
            this._errorEvent = _arg1;
        }

    }
}//package flashx.textLayout.events 
﻿package flashx.textLayout.events {
    import flash.events.*;

    public class TextLayoutEvent extends Event {

        public static const SCROLL:String = "scroll";

        public function TextLayoutEvent(_arg1:String, _arg2:Boolean=false, _arg3:Boolean=false){
            super(_arg1, _arg2, _arg3);
        }
        override public function clone():Event{
            return (new TextLayoutEvent(type, bubbles, cancelable));
        }

    }
}//package flashx.textLayout.events 
﻿package flashx.textLayout.events {
    import flash.events.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.elements.*;

    public class UpdateCompleteEvent extends Event {

        public static const UPDATE_COMPLETE:String = "updateComplete";

        private var _controller:ContainerController;
        private var _textFlow:TextFlow;

        public function UpdateCompleteEvent(_arg1:String, _arg2:Boolean=false, _arg3:Boolean=false, _arg4:TextFlow=null, _arg5:ContainerController=null){
            super(_arg1, _arg2, _arg3);
            this.controller = _arg5;
            this._textFlow = _arg4;
        }
        override public function clone():Event{
            return (new UpdateCompleteEvent(type, bubbles, cancelable, this._textFlow, this._controller));
        }
        public function get controller():ContainerController{
            return (this._controller);
        }
        public function set controller(_arg1:ContainerController):void{
            this._controller = _arg1;
        }
        public function get textFlow():TextFlow{
            return (this._textFlow);
        }
        public function set textFlow(_arg1:TextFlow):void{
            this._textFlow = _arg1;
        }

    }
}//package flashx.textLayout.events 
﻿package flashx.textLayout.events {
    import flash.events.*;

    public class ScrollEvent extends TextLayoutEvent {

        public var delta:Number;
        public var direction:String;

        public function ScrollEvent(_arg1:String, _arg2:Boolean=false, _arg3:Boolean=false, _arg4:String=null, _arg5:Number=NaN){
            super(_arg1, _arg2, _arg3);
            this.direction = _arg4;
            this.delta = _arg5;
        }
        override public function clone():Event{
            return (new ScrollEvent(type, bubbles, cancelable, this.direction, this.delta));
        }

    }
}//package flashx.textLayout.events 
﻿package flashx.textLayout.events {

    public final class ModelChange {

        public static const ELEMENT_ADDED:String = "elementAdded";
        public static const ELEMENT_REMOVAL:String = "elementRemoval";
        public static const ELEMENT_MODIFIED:String = "elementModified";
        public static const TEXTLAYOUT_FORMAT_CHANGED:String = "formatChanged";
        public static const TEXT_INSERTED:String = "textInserted";
        public static const TEXT_DELETED:String = "textDeleted";
        public static const STYLE_SELECTOR_CHANGED:String = "styleSelectorChanged";
        public static const USER_STYLE_CHANGED:String = "userStyleChanged";

    }
}//package flashx.textLayout.events 
﻿package flashx.textLayout.events {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flash.ui.*;
    import flashx.textLayout.utils.*;
    import flashx.textLayout.*;

    public class FlowElementMouseEventManager {

        private const OWNER_HANDLES_EVENT:int = 0;
        private const THIS_HANDLES_EVENT:int = 1;
        private const THIS_LISTENS_FOR_EVENTS:int = 2;

        private var _container:DisplayObjectContainer;
        private var _hitTests:HitTestArea = null;
        private var _currentElement:FlowElement = null;
        private var _mouseDownElement:FlowElement = null;
        private var _needsCtrlKey:Boolean = false;
        private var _ctrlKeyState:Boolean = false;
        private var _lastMouseEvent:MouseEvent = null;
        private var _blockInteraction:Boolean = false;
        private var _eventListeners:Object;
        private var _hitRects:Object = null;

        public function FlowElementMouseEventManager(_arg1:DisplayObjectContainer, _arg2:Array){
            var _local3:String;
            super();
            this._container = _arg1;
            this._eventListeners = {};
            this._eventListeners[MouseEvent.MOUSE_OVER] = (this._eventListeners[MouseEvent.MOUSE_OUT] = (this._eventListeners[MouseEvent.MOUSE_DOWN] = (this._eventListeners[MouseEvent.MOUSE_UP] = (this._eventListeners[MouseEvent.MOUSE_MOVE] = (this._eventListeners[KeyboardEvent.KEY_DOWN] = (this._eventListeners[KeyboardEvent.KEY_UP] = this.THIS_HANDLES_EVENT))))));
            for each (_local3 in _arg2) {
                this._eventListeners[_local3] = this.OWNER_HANDLES_EVENT;
            };
        }
        public function mouseToContainer(_arg1:MouseEvent):Point{
            var _local4:Matrix;
            var _local2:DisplayObject = (_arg1.target as DisplayObject);
            var _local3:Point = new Point(_arg1.localX, _arg1.localY);
            while (_local2 != this._container) {
                _local4 = _local2.transform.matrix;
                _local3.offset(_local4.tx, _local4.ty);
                _local2 = _local2.parent;
                if (!_local2){
                    break;
                };
            };
            return (_local3);
        }
        public function get needsCtrlKey():Boolean{
            return (this._needsCtrlKey);
        }
        public function set needsCtrlKey(_arg1:Boolean):void{
            this._needsCtrlKey = _arg1;
        }
        public function updateHitTests(_arg1:Number, _arg2:Rectangle, _arg3:TextFlow, _arg4:int, _arg5:int, _arg6:Boolean=false):void{
            var _local7:Rectangle;
            var _local8:Object;
            var _local10:Object;
            var _local12:FlowElement;
            var _local13:int;
            var _local14:int;
            var _local15:Array;
            var _local16:String;
            var _local17:Object;
            this._needsCtrlKey = _arg6;
            var _local9:Array = [];
            if (((!((_arg3.interactiveObjectCount == 0))) && (!((_arg4 == _arg5))))){
                this.collectElements(_arg3, _arg4, _arg5, _local9);
            };
            var _local11:int;
            if (_local9.length != 0){
                _local10 = {};
                for each (_local12 in _local9) {
                    _local13 = _local12.getAbsoluteStart();
                    _local14 = Math.min((_local13 + _local12.textLength), _arg5);
                    _local15 = GeometryUtil.getHighlightBounds(new TextRange(_local12.getTextFlow(), _local13, _local14));
                    for each (_local8 in _local15) {
                        _local7 = _local8.rect;
                        _local7.x = (((_arg2.x + _local8.textLine.x) + _local7.x) + _arg1);
                        _local7.y = ((_arg2.y + _local8.textLine.y) + _local7.y);
                        _local7 = _local7.intersection(_arg2);
                        if (!_local7.isEmpty()){
                            _local7.x = int(_local7.x);
                            _local7.y = int(_local7.y);
                            _local7.width = int(_local7.width);
                            _local7.height = int(_local7.height);
                            _local16 = _local7.toString();
                            _local17 = _local10[_local16];
                            if (((!(_local17)) || (!((_local17.owner == _local12))))){
                                _local10[_local16] = {
                                    rect:_local7,
                                    owner:_local12
                                };
                                _local11++;
                            };
                        };
                    };
                };
            };
            if (_local11 > 0){
                if (!this._hitTests){
                    this.startHitTests();
                };
                this._hitRects = _local10;
                this._hitTests = new HitTestArea(_local10);
            } else {
                this.stopHitTests();
            };
        }
        tlf_internal function startHitTests():void{
            this._currentElement = null;
            this._mouseDownElement = null;
            this._ctrlKeyState = false;
            this.addEventListener(MouseEvent.MOUSE_OVER, false);
            this.addEventListener(MouseEvent.MOUSE_OUT, false);
            this.addEventListener(MouseEvent.MOUSE_DOWN, false);
            this.addEventListener(MouseEvent.MOUSE_UP, false);
            this.addEventListener(MouseEvent.MOUSE_MOVE, false);
        }
        public function stopHitTests():void{
            this.removeEventListener(MouseEvent.MOUSE_OVER, false);
            this.removeEventListener(MouseEvent.MOUSE_OUT, false);
            this.removeEventListener(MouseEvent.MOUSE_DOWN, false);
            this.removeEventListener(MouseEvent.MOUSE_UP, false);
            this.removeEventListener(MouseEvent.MOUSE_MOVE, false);
            this.removeEventListener(KeyboardEvent.KEY_DOWN, true);
            this.removeEventListener(KeyboardEvent.KEY_UP, true);
            this._hitRects = null;
            this._hitTests = null;
            this._currentElement = null;
            this._mouseDownElement = null;
            this._ctrlKeyState = false;
        }
        private function addEventListener(_arg1:String, _arg2:Boolean=false):void{
            var _local3:DisplayObjectContainer;
            var _local4:Function;
            if (this._eventListeners[_arg1] === this.THIS_HANDLES_EVENT){
                if (_arg2){
                    _local3 = this._container.stage;
                    if (!_local3){
                        _local3 = this._container;
                    };
                    _local4 = this.hitTestKeyEventHandler;
                } else {
                    _local3 = this._container;
                    _local4 = this.hitTestMouseEventHandler;
                };
                _local3.addEventListener(_arg1, _local4, false, 1);
                this._eventListeners[_arg1] = this.THIS_LISTENS_FOR_EVENTS;
            };
        }
        private function removeEventListener(_arg1:String, _arg2:Boolean):void{
            var _local3:DisplayObjectContainer;
            var _local4:Function;
            if (this._eventListeners[_arg1] === this.THIS_LISTENS_FOR_EVENTS){
                if (_arg2){
                    _local3 = this._container.stage;
                    if (!_local3){
                        _local3 = this._container;
                    };
                    _local4 = this.hitTestKeyEventHandler;
                } else {
                    _local3 = this._container;
                    _local4 = this.hitTestMouseEventHandler;
                };
                _local3.removeEventListener(_arg1, _local4);
                this._eventListeners[_arg1] = this.THIS_HANDLES_EVENT;
            };
        }
        tlf_internal function collectElements(_arg1:FlowGroupElement, _arg2:int, _arg3:int, _arg4:Array):void{
            var _local6:FlowElement;
            var _local7:FlowGroupElement;
            var _local5:int = _arg1.findChildIndexAtPosition(_arg2);
            while (_local5 < _arg1.numChildren) {
                _local6 = _arg1.getChildAt(_local5);
                if (_local6.parentRelativeStart >= _arg3){
                    break;
                };
                if (((_local6.hasActiveEventMirror()) || ((_local6 is LinkElement)))){
                    _arg4.push(_local6);
                };
                _local7 = (_local6 as FlowGroupElement);
                if (_local7){
                    this.collectElements(_local7, Math.max((_arg2 - _local7.parentRelativeStart), 0), (_arg3 - _local7.parentRelativeStart), _arg4);
                };
                _local5++;
            };
        }
        public function dispatchEvent(_arg1:Event):void{
            var _local3:KeyboardEvent;
            var _local2:MouseEvent = (_arg1 as MouseEvent);
            if (_local2){
                this.hitTestMouseEventHandler(_local2);
            } else {
                _local3 = (_arg1 as KeyboardEvent);
                if (_local3){
                    this.hitTestKeyEventHandler(_local3);
                };
            };
        }
        private function hitTestKeyEventHandler(_arg1:KeyboardEvent):void{
            if (!this._blockInteraction){
                this.checkCtrlKeyState(_arg1.ctrlKey);
            };
        }
        private function checkCtrlKeyState(_arg1:Boolean):void{
            var _local2:LinkElement = (this._currentElement as LinkElement);
            if (((((((!(_local2)) || (!(this._needsCtrlKey)))) || (!(this._lastMouseEvent)))) || ((_arg1 == this._ctrlKeyState)))){
                return;
            };
            this._ctrlKeyState = _arg1;
            if (this._ctrlKeyState){
                _local2.mouseOverHandler(this, this._lastMouseEvent);
            } else {
                _local2.mouseOutHandler(this, this._lastMouseEvent);
            };
        }
        private function hitTestMouseEventHandler(_arg1:MouseEvent):void{
            if (!this._hitTests){
                return;
            };
            this._lastMouseEvent = _arg1;
            var _local2:Point = this.mouseToContainer(_arg1);
            var _local3:FlowElement = this._hitTests.hitTest(_local2.x, _local2.y);
            if (_local3 != this._currentElement){
                this._mouseDownElement = null;
                if (this._currentElement){
                    this.localDispatchEvent(FlowElementMouseEvent.ROLL_OUT, _arg1);
                } else {
                    if (_arg1.buttonDown){
                        this._blockInteraction = true;
                    };
                };
                this._currentElement = _local3;
                if (this._currentElement){
                    this.localDispatchEvent(FlowElementMouseEvent.ROLL_OVER, _arg1);
                } else {
                    this._blockInteraction = false;
                };
            };
            var _local4:Boolean;
            var _local5:String;
            switch (_arg1.type){
                case MouseEvent.MOUSE_MOVE:
                    _local5 = FlowElementMouseEvent.MOUSE_MOVE;
                    if (!this._blockInteraction){
                        this.checkCtrlKeyState(_arg1.ctrlKey);
                    };
                    break;
                case MouseEvent.MOUSE_DOWN:
                    this._mouseDownElement = this._currentElement;
                    _local5 = FlowElementMouseEvent.MOUSE_DOWN;
                    break;
                case MouseEvent.MOUSE_UP:
                    _local5 = FlowElementMouseEvent.MOUSE_UP;
                    _local4 = (this._currentElement == this._mouseDownElement);
                    this._mouseDownElement = null;
                    break;
            };
            if (((this._currentElement) && (_local5))){
                this.localDispatchEvent(_local5, _arg1);
                if (_local4){
                    this.localDispatchEvent(FlowElementMouseEvent.CLICK, _arg1);
                };
            };
        }
        tlf_internal function dispatchFlowElementMouseEvent(_arg1:String, _arg2:MouseEvent):Boolean{
            if (((((this._needsCtrlKey) && (!(_arg2.ctrlKey)))) && (!((_arg1 == FlowElementMouseEvent.ROLL_OUT))))){
                return (false);
            };
            var _local3:Boolean = this._currentElement.hasActiveEventMirror();
            var _local4:TextFlow = this._currentElement.getTextFlow();
            var _local5:Boolean;
            if (_local4){
                _local5 = _local4.hasEventListener(_arg1);
            };
            if (((!(_local3)) && (!(_local5)))){
                return (false);
            };
            var _local6:FlowElementMouseEvent = new FlowElementMouseEvent(_arg1, false, true, this._currentElement, _arg2);
            if (_local3){
                this._currentElement.getEventMirror().dispatchEvent(_local6);
                if (_local6.isDefaultPrevented()){
                    return (true);
                };
            };
            if (_local5){
                _local4.dispatchEvent(_local6);
                if (_local6.isDefaultPrevented()){
                    return (true);
                };
            };
            return (false);
        }
        private function localDispatchEvent(_arg1:String, _arg2:MouseEvent):void{
            if (((this._blockInteraction) || (!(this._currentElement)))){
                return;
            };
            if (this._needsCtrlKey){
                switch (_arg1){
                    case FlowElementMouseEvent.ROLL_OVER:
                        this.addEventListener(KeyboardEvent.KEY_DOWN, true);
                        this.addEventListener(KeyboardEvent.KEY_UP, true);
                        break;
                    case FlowElementMouseEvent.ROLL_OUT:
                        this.removeEventListener(KeyboardEvent.KEY_DOWN, true);
                        this.removeEventListener(KeyboardEvent.KEY_UP, true);
                        break;
                };
            };
            if (this.dispatchFlowElementMouseEvent(_arg1, _arg2)){
                return;
            };
            var _local3:LinkElement = ((((!(this._needsCtrlKey)) || (_arg2.ctrlKey))) ? (this._currentElement as LinkElement) : null);
            if (!_local3){
                return;
            };
            switch (_arg1){
                case FlowElementMouseEvent.MOUSE_DOWN:
                    _local3.mouseDownHandler(this, _arg2);
                    break;
                case FlowElementMouseEvent.MOUSE_MOVE:
                    _local3.mouseMoveHandler(this, _arg2);
                    break;
                case FlowElementMouseEvent.ROLL_OUT:
                    _local3.mouseOutHandler(this, _arg2);
                    break;
                case FlowElementMouseEvent.ROLL_OVER:
                    _local3.mouseOverHandler(this, _arg2);
                    break;
                case FlowElementMouseEvent.MOUSE_UP:
                    _local3.mouseUpHandler(this, _arg2);
                    break;
                case FlowElementMouseEvent.CLICK:
                    _local3.mouseClickHandler(this, _arg2);
                    break;
            };
        }
        tlf_internal function setHandCursor(_arg1:Boolean=true):void{
            var _local3:Sprite;
            var _local4:String;
            if (this._currentElement == null){
                return;
            };
            var _local2:TextFlow = this._currentElement.getTextFlow();
            if (((((!((_local2 == null))) && (_local2.flowComposer))) && (_local2.flowComposer.numControllers))){
                _local3 = (this._container as Sprite);
                if (_local3){
                    _local3.buttonMode = _arg1;
                    _local3.useHandCursor = _arg1;
                };
                if (_arg1){
                    Mouse.cursor = MouseCursor.BUTTON;
                } else {
                    _local4 = _local2.computedFormat.blockProgression;
                    if (((_local2.interactionManager) && (!((_local4 == BlockProgression.RL))))){
                        Mouse.cursor = MouseCursor.IBEAM;
                    } else {
                        Mouse.cursor = MouseCursor.AUTO;
                    };
                };
                Mouse.hide();
                Mouse.show();
            };
        }

    }
}//package flashx.textLayout.events 
﻿package flashx.textLayout.events {

    public final class ScrollEventDirection {

        public static const HORIZONTAL:String = "horizontal";
        public static const VERTICAL:String = "vertical";

    }
}//package flashx.textLayout.events 
﻿package flashx.textLayout.events {
    import flash.events.*;
    import flashx.textLayout.elements.*;

    public class CompositionCompleteEvent extends Event {

        public static const COMPOSITION_COMPLETE:String = "compositionComplete";

        private var _compositionStart:int;
        private var _compositionLength:int;
        private var _textFlow:TextFlow;

        public function CompositionCompleteEvent(_arg1:String, _arg2:Boolean=false, _arg3:Boolean=false, _arg4:TextFlow=null, _arg5:int=0, _arg6:int=0){
            this._compositionStart = _arg5;
            this._compositionLength = _arg6;
            this._textFlow = _arg4;
            super(_arg1, _arg2, _arg3);
        }
        override public function clone():Event{
            return (new CompositionCompleteEvent(type, bubbles, cancelable, this.textFlow, this.compositionStart, this.compositionLength));
        }
        public function get compositionStart():int{
            return (this._compositionStart);
        }
        public function set compositionStart(_arg1:int):void{
            this._compositionStart = _arg1;
        }
        public function get compositionLength():int{
            return (this._compositionLength);
        }
        public function set compositionLength(_arg1:int):void{
            this._compositionLength = _arg1;
        }
        public function get textFlow():TextFlow{
            return (this._textFlow);
        }
        public function set textFlow(_arg1:TextFlow):void{
            this._textFlow = _arg1;
        }

    }
}//package flashx.textLayout.events 
﻿package flashx.textLayout.events {
    import flash.events.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.*;

    public class FlowElementEventDispatcher extends EventDispatcher {

        tlf_internal var _listenerCount:int = 0;
        tlf_internal var _element:FlowElement;

        public function FlowElementEventDispatcher(_arg1:FlowElement){
            this._element = _arg1;
            super(null);
        }
        override public function addEventListener(_arg1:String, _arg2:Function, _arg3:Boolean=false, _arg4:int=0, _arg5:Boolean=false):void{
            var _local6:TextFlow;
            super.addEventListener(_arg1, _arg2, _arg3, _arg4, _arg5);
            this._listenerCount++;
            if (this._listenerCount == 1){
                _local6 = this._element.getTextFlow();
                if (_local6){
                    _local6.incInteractiveObjectCount();
                };
            };
            this._element.modelChanged(ModelChange.ELEMENT_MODIFIED, this._element, 0, this._element.textLength);
        }
        override public function removeEventListener(_arg1:String, _arg2:Function, _arg3:Boolean=false):void{
            var _local4:TextFlow;
            super.removeEventListener(_arg1, _arg2, _arg3);
            this._listenerCount--;
            if (this._listenerCount == 0){
                _local4 = this._element.getTextFlow();
                if (_local4){
                    _local4.decInteractiveObjectCount();
                };
            };
            this._element.modelChanged(ModelChange.ELEMENT_MODIFIED, this._element, 0, this._element.textLength);
        }

    }
}//package flashx.textLayout.events 
﻿package flashx.textLayout.events {
    import flash.events.*;
    import flashx.textLayout.operations.*;

    public class FlowOperationEvent extends Event {

        public static const FLOW_OPERATION_BEGIN:String = "flowOperationBegin";
        public static const FLOW_OPERATION_END:String = "flowOperationEnd";
        public static const FLOW_OPERATION_COMPLETE:String = "flowOperationComplete";

        private var _op:FlowOperation;
        private var _e:Error;
        private var _level:int;

        public function FlowOperationEvent(_arg1:String, _arg2:Boolean=false, _arg3:Boolean=false, _arg4:FlowOperation=null, _arg5:int=0, _arg6:Error=null){
            this._op = _arg4;
            this._e = _arg6;
            this._level = _arg5;
            super(_arg1, _arg2, _arg3);
        }
        public function get operation():FlowOperation{
            return (this._op);
        }
        public function set operation(_arg1:FlowOperation):void{
            this._op = _arg1;
        }
        public function get error():Error{
            return (this._e);
        }
        public function set error(_arg1:Error):void{
            this._e = _arg1;
        }
        public function get level():int{
            return (this._level);
        }
        public function set level(_arg1:int):void{
            this._level = _arg1;
        }
        override public function clone():Event{
            return (new FlowOperationEvent(type, bubbles, cancelable, this._op, this._level, this._e));
        }

    }
}//package flashx.textLayout.events 
﻿package flashx.textLayout.events {
    import flash.events.*;
    import flashx.textLayout.elements.*;

    public class FlowElementMouseEvent extends Event {

        public static const MOUSE_DOWN:String = "mouseDown";
        public static const MOUSE_UP:String = "mouseUp";
        public static const MOUSE_MOVE:String = "mouseMove";
        public static const ROLL_OVER:String = "rollOver";
        public static const ROLL_OUT:String = "rollOut";
        public static const CLICK:String = "click";

        private var _flowElement:FlowElement;
        private var _originalEvent:MouseEvent;

        public function FlowElementMouseEvent(_arg1:String, _arg2:Boolean=false, _arg3:Boolean=true, _arg4:FlowElement=null, _arg5:MouseEvent=null){
            super(_arg1, _arg2, _arg3);
            this._flowElement = _arg4;
            this._originalEvent = _arg5;
        }
        public function get flowElement():FlowElement{
            return (this._flowElement);
        }
        public function set flowElement(_arg1:FlowElement):void{
            this._flowElement = _arg1;
        }
        public function get originalEvent():MouseEvent{
            return (this._originalEvent);
        }
        public function set originalEvent(_arg1:MouseEvent):void{
            this._originalEvent = _arg1;
        }
        override public function clone():Event{
            return (new FlowElementMouseEvent(type, bubbles, cancelable, this.flowElement, this.originalEvent));
        }

    }
}//package flashx.textLayout.events 
﻿package flashx.textLayout.events {
    import flash.events.*;
    import flashx.textLayout.edit.*;

    public class SelectionEvent extends Event {

        public static const SELECTION_CHANGE:String = "selectionChange";

        private var _selectionState:SelectionState;

        public function SelectionEvent(_arg1:String, _arg2:Boolean=false, _arg3:Boolean=false, _arg4:SelectionState=null){
            this._selectionState = _arg4;
            super(_arg1, _arg2, _arg3);
        }
        public function get selectionState():SelectionState{
            return (this._selectionState);
        }
        public function set selectionState(_arg1:SelectionState):void{
            this._selectionState = _arg1;
        }
        override public function clone():Event{
            return (new SelectionEvent(type, bubbles, cancelable, this._selectionState));
        }

    }
}//package flashx.textLayout.events 
﻿package flashx.textLayout.events {
    import flash.events.*;
    import flashx.textLayout.elements.*;

    public class DamageEvent extends Event {

        public static const DAMAGE:String = "damage";

        private var _textFlow:TextFlow;
        private var _damageAbsoluteStart:int;
        private var _damageLength:int;

        public function DamageEvent(_arg1:String, _arg2:Boolean=false, _arg3:Boolean=false, _arg4:TextFlow=null, _arg5:int=0, _arg6:int=0){
            this._textFlow = _arg4;
            this._damageAbsoluteStart = _arg5;
            this._damageLength = _arg6;
            super(_arg1, _arg2, _arg3);
        }
        override public function clone():Event{
            return (new DamageEvent(type, bubbles, cancelable, this._textFlow, this._damageAbsoluteStart, this._damageLength));
        }
        public function get textFlow():TextFlow{
            return (this._textFlow);
        }
        public function get damageAbsoluteStart():int{
            return (this._damageAbsoluteStart);
        }
        public function get damageLength():int{
            return (this._damageLength);
        }

    }
}//package flashx.textLayout.events 
﻿package flashx.textLayout.factory {
    import flashx.textLayout.formats.*;

    public final class TruncationOptions {

        public static const NO_LINE_COUNT_LIMIT:int = -1;
        public static const HORIZONTAL_ELLIPSIS:String = "…";

        private var _truncationIndicator:String;
        private var _truncationIndicatorFormat:ITextLayoutFormat;
        private var _lineCountLimit:int;

        public function TruncationOptions(_arg1:String="…", _arg2:int=-1, _arg3:ITextLayoutFormat=null){
            this.truncationIndicator = _arg1;
            this.truncationIndicatorFormat = _arg3;
            this.lineCountLimit = _arg2;
        }
        public function get truncationIndicator():String{
            return (((this._truncationIndicator) ? this._truncationIndicator : HORIZONTAL_ELLIPSIS));
        }
        public function set truncationIndicator(_arg1:String):void{
            this._truncationIndicator = _arg1;
        }
        public function get truncationIndicatorFormat():ITextLayoutFormat{
            return (this._truncationIndicatorFormat);
        }
        public function set truncationIndicatorFormat(_arg1:ITextLayoutFormat):void{
            this._truncationIndicatorFormat = _arg1;
        }
        public function get lineCountLimit():int{
            return ((((this._lineCountLimit < NO_LINE_COUNT_LIMIT)) ? 0 : this._lineCountLimit));
        }
        public function set lineCountLimit(_arg1:int):void{
            this._lineCountLimit = _arg1;
        }

    }
}//package flashx.textLayout.factory 
﻿package flashx.textLayout.factory {
    import flash.text.engine.*;
    import flash.geom.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.compose.*;
    import flashx.textLayout.*;

    public class StringTextLineFactory extends TextLineFactoryBase {

        private static var _defaultConfiguration:Configuration = null;
        private static var _measurementFactory:StringTextLineFactory = null;
        private static var _measurementLines:Array = null;

        private var _tf:TextFlow;
        private var _para:ParagraphElement;
        private var _span:SpanElement;
        private var _formatsChanged:Boolean;
        private var _configuration:IConfiguration;
        private var _truncatedText:String;

        public function StringTextLineFactory(_arg1:IConfiguration=null){
            this.initialize(_arg1);
        }
        public static function get defaultConfiguration():IConfiguration{
            if (!_defaultConfiguration){
                _defaultConfiguration = TextFlow.defaultConfiguration.clone();
                _defaultConfiguration.flowComposerClass = getDefaultFlowComposerClass();
                _defaultConfiguration.textFlowInitialFormat = null;
            };
            return (_defaultConfiguration);
        }
        private static function measurementFactory():StringTextLineFactory{
            if (_measurementFactory == null){
                _measurementFactory = new (StringTextLineFactory)();
            };
            return (_measurementFactory);
        }
        private static function measurementLines():Array{
            if (_measurementLines == null){
                _measurementLines = new Array();
            };
            return (_measurementLines);
        }
        private static function noopfunction(_arg1:Object):void{
        }

        public function get configuration():IConfiguration{
            return (this._configuration);
        }
        private function initialize(_arg1:IConfiguration):void{
            this._configuration = Configuration(((_arg1) ? _arg1 : defaultConfiguration)).getImmutableClone();
            this._tf = new TextFlow(this._configuration);
            this._para = new ParagraphElement();
            this._span = new SpanElement();
            this._para.replaceChildren(0, 0, this._span);
            this._tf.replaceChildren(0, 0, this._para);
            this._tf.flowComposer.addController(containerController);
            this._formatsChanged = true;
        }
        public function get spanFormat():ITextLayoutFormat{
            return (this._span.format);
        }
        public function set spanFormat(_arg1:ITextLayoutFormat):void{
            this._span.format = _arg1;
            this._formatsChanged = true;
        }
        public function get paragraphFormat():ITextLayoutFormat{
            return (this._para.format);
        }
        public function set paragraphFormat(_arg1:ITextLayoutFormat):void{
            this._para.format = _arg1;
            this._formatsChanged = true;
        }
        public function get textFlowFormat():ITextLayoutFormat{
            return (this._tf.format);
        }
        public function set textFlowFormat(_arg1:ITextLayoutFormat):void{
            this._tf.format = _arg1;
            this._formatsChanged = true;
        }
        public function get text():String{
            return (this._span.text);
        }
        public function set text(_arg1:String):void{
            this._span.text = _arg1;
        }
        public function createTextLines(_arg1:Function):void{
            var callback:* = _arg1;
            var saved:* = TextLineFactoryBase.beginFactoryCompose();
            try {
                this.createTextLinesInternal(callback);
            } finally {
                _factoryComposer._lines.splice(0);
                if (_pass0Lines){
                    _pass0Lines.splice(0);
                };
                TextLineFactoryBase.endFactoryCompose(saved);
            };
        }
        private function createTextLinesInternal(_arg1:Function):void{
            var _local2:Boolean = ((!(compositionBounds)) || (isNaN(compositionBounds.width)));
            var _local3:Boolean = ((!(compositionBounds)) || (isNaN(compositionBounds.height)));
            var _local4:String = this._tf.computedFormat.blockProgression;
            containerController.setCompositionSize(compositionBounds.width, compositionBounds.height);
            containerController.verticalScrollPolicy = ((truncationOptions) ? ScrollPolicy.OFF : verticalScrollPolicy);
            containerController.horizontalScrollPolicy = ((truncationOptions) ? ScrollPolicy.OFF : horizontalScrollPolicy);
            _isTruncated = false;
            this._truncatedText = this.text;
            if (((!(this._formatsChanged)) && (!((FlowComposerBase.computeBaseSWFContext(this._tf.flowComposer.swfContext) == FlowComposerBase.computeBaseSWFContext(swfContext)))))){
                this._formatsChanged = true;
            };
            this._tf.flowComposer.swfContext = swfContext;
            if (this._formatsChanged){
                this._tf.normalize();
                this._formatsChanged = false;
            };
            this._tf.flowComposer.compose();
            if (truncationOptions){
                this.doTruncation(_local4, _local2, _local3);
            };
            var _local5:Number = compositionBounds.x;
            var _local6:Rectangle = containerController.getContentBounds();
            if (_local4 == BlockProgression.RL){
                _local5 = (_local5 + ((_local2) ? _local6.width : compositionBounds.width));
            };
            _local6.left = (_local6.left + _local5);
            _local6.right = (_local6.right + _local5);
            _local6.top = (_local6.top + compositionBounds.y);
            _local6.bottom = (_local6.bottom + compositionBounds.y);
            if (this._tf.backgroundManager){
                processBackgroundColors(this._tf, _arg1, _local5, compositionBounds.y, containerController.compositionWidth, containerController.compositionHeight);
            };
            callbackWithTextLines(_arg1, _local5, compositionBounds.y);
            setContentBounds(_local6);
            containerController.clearCompositionResults();
        }
        tlf_internal function doTruncation(_arg1:String, _arg2:Boolean, _arg3:Boolean):void{
            var _local4:Boolean;
            var _local5:String;
            var _local6:int;
            var _local7:TextLine;
            var _local8:Number;
            var _local9:Number;
            var _local10:int;
            _arg1 = this._tf.computedFormat.blockProgression;
            if (!doesComposedTextFit(truncationOptions.lineCountLimit, this._tf.textLength, _arg1)){
                _isTruncated = true;
                _local4 = false;
                _local5 = this._span.text;
                computeLastAllowedLineIndex(truncationOptions.lineCountLimit);
                if (_truncationLineIndex >= 0){
                    this.measureTruncationIndicator(compositionBounds, truncationOptions.truncationIndicator);
                    _truncationLineIndex = (_truncationLineIndex - (_measurementLines.length - 1));
                    if (_truncationLineIndex >= 0){
                        if ((((this._tf.computedFormat.lineBreak == LineBreak.EXPLICIT)) || ((((_arg1 == BlockProgression.TB)) ? _arg2 : _arg3)))){
                            _local7 = (_factoryComposer._lines[_truncationLineIndex] as TextLine);
                            _local6 = (_local7.userData + _local7.rawTextLength);
                        } else {
                            _local8 = (((_arg1 == BlockProgression.TB)) ? compositionBounds.width : compositionBounds.height);
                            if (this.paragraphFormat){
                                _local8 = (_local8 - (Number(this.paragraphFormat.paragraphSpaceAfter) + Number(this.paragraphFormat.paragraphSpaceBefore)));
                                if (_truncationLineIndex == 0){
                                    _local8 = (_local8 - this.paragraphFormat.textIndent);
                                };
                            };
                            _local9 = (_local8 - (_measurementLines[(_measurementLines.length - 1)] as TextLine).unjustifiedTextWidth);
                            _local6 = this.getTruncationPosition(_factoryComposer._lines[_truncationLineIndex], _local9);
                        };
                        if (!_pass0Lines){
                            _pass0Lines = new Array();
                        };
                        _pass0Lines = _factoryComposer.swapLines(_pass0Lines);
                        this._para = (this._para.deepCopy() as ParagraphElement);
                        this._span = (this._para.getChildAt(0) as SpanElement);
                        this._tf.replaceChildren(0, 1, this._para);
                        this._tf.normalize();
                        this._span.replaceText(_local6, this._span.textLength, truncationOptions.truncationIndicator);
                        do  {
                            this._tf.flowComposer.compose();
                            if (doesComposedTextFit(truncationOptions.lineCountLimit, this._tf.textLength, _arg1)){
                                _local4 = true;
                                break;
                            };
                            if (_local6 == 0){
                                break;
                            };
                            _local10 = getNextTruncationPosition(_local6);
                            this._span.replaceText(_local10, _local6, null);
                            _local6 = _local10;
                        } while (true);
                    };
                    _measurementLines.splice(0);
                };
                if (_local4){
                    this._truncatedText = this._span.text;
                } else {
                    this._truncatedText = "";
                    _factoryComposer._lines.splice(0);
                };
                this._span.text = _local5;
            };
        }
        tlf_internal function get truncatedText():String{
            return (this._truncatedText);
        }
        private function measureTruncationIndicator(_arg1:Rectangle, _arg2:String):void{
            var _local3:Array = _factoryComposer.swapLines(measurementLines());
            var _local4:StringTextLineFactory = measurementFactory();
            _local4.compositionBounds = _arg1;
            _local4.text = _arg2;
            _local4.spanFormat = this.spanFormat;
            _local4.paragraphFormat = this.paragraphFormat;
            _local4.textFlowFormat = this.textFlowFormat;
            _local4.truncationOptions = null;
            _local4.createTextLinesInternal(noopfunction);
            _factoryComposer.swapLines(_local3);
        }
        private function getTruncationPosition(_arg1:TextLine, _arg2:Number):uint{
            var _local5:int;
            var _local6:Rectangle;
            var _local3:Number = 0;
            var _local4:int = _arg1.userData;
            while (_local4 < (_arg1.userData + _arg1.rawTextLength)) {
                _local5 = _arg1.getAtomIndexAtCharIndex(_local4);
                _local6 = _arg1.getAtomBounds(_local5);
                _local3 = (_local3 + _local6.width);
                if (_local3 > _arg2){
                    break;
                };
                _local4 = _arg1.getAtomTextBlockEndIndex(_local5);
            };
            _arg1.flushAtomData();
            return (_local4);
        }

    }
}//package flashx.textLayout.factory 
﻿package flashx.textLayout.factory {
    import flash.display.*;
    import flash.text.engine.*;
    import flash.geom.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.compose.*;
    import flashx.textLayout.*;

    public class TextLineFactoryBase {

        private static var _tc:Sprite = new Sprite();
        private static var _savedFactoryComposer:SimpleCompose;
        tlf_internal static var _factoryComposer:SimpleCompose;
        protected static var _truncationLineIndex:int;
        protected static var _pass0Lines:Array;

        private var _compositionBounds:Rectangle;
        private var _contentBounds:Rectangle;
        protected var _isTruncated:Boolean = false;
        private var _horizontalScrollPolicy:String;
        private var _verticalScrollPolicy:String;
        private var _truncationOptions:TruncationOptions;
        private var _containerController:ContainerController;
        private var _swfContext:ISWFContext;

        public function TextLineFactoryBase(){
            this._containerController = new ContainerController(_tc);
            this._horizontalScrollPolicy = (this._verticalScrollPolicy = String(ScrollPolicy.scrollPolicyPropertyDefinition.defaultValue));
        }
        tlf_internal static function peekFactoryCompose():SimpleCompose{
            if (_savedFactoryComposer == null){
                _savedFactoryComposer = new SimpleCompose();
            };
            return (_savedFactoryComposer);
        }
        tlf_internal static function beginFactoryCompose():SimpleCompose{
            var _local1:SimpleCompose = _factoryComposer;
            _factoryComposer = peekFactoryCompose();
            _savedFactoryComposer = null;
            return (_local1);
        }
        tlf_internal static function endFactoryCompose(_arg1:SimpleCompose):void{
            _savedFactoryComposer = _factoryComposer;
            _factoryComposer = _arg1;
        }
        tlf_internal static function getDefaultFlowComposerClass():Class{
            return (FactoryDisplayComposer);
        }

        public function get compositionBounds():Rectangle{
            return (this._compositionBounds);
        }
        public function set compositionBounds(_arg1:Rectangle):void{
            this._compositionBounds = _arg1;
        }
        public function getContentBounds():Rectangle{
            return (this._contentBounds);
        }
        protected function setContentBounds(_arg1:Rectangle):void{
            this._contentBounds = _arg1;
            this._contentBounds.offset(this.compositionBounds.left, this.compositionBounds.top);
        }
        public function get swfContext():ISWFContext{
            return (this._swfContext);
        }
        public function set swfContext(_arg1:ISWFContext):void{
            this._swfContext = _arg1;
        }
        public function get truncationOptions():TruncationOptions{
            return (this._truncationOptions);
        }
        public function set truncationOptions(_arg1:TruncationOptions):void{
            this._truncationOptions = _arg1;
        }
        public function get isTruncated():Boolean{
            return (this._isTruncated);
        }
        public function get horizontalScrollPolicy():String{
            return (this._horizontalScrollPolicy);
        }
        public function set horizontalScrollPolicy(_arg1:String):void{
            this._horizontalScrollPolicy = _arg1;
        }
        public function get verticalScrollPolicy():String{
            return (this._verticalScrollPolicy);
        }
        public function set verticalScrollPolicy(_arg1:String):void{
            this._verticalScrollPolicy = _arg1;
        }
        protected function get containerController():ContainerController{
            return (this._containerController);
        }
        protected function callbackWithTextLines(_arg1:Function, _arg2:Number, _arg3:Number):void{
            var _local4:TextLine;
            var _local5:TextBlock;
            for each (_local4 in _factoryComposer._lines) {
                _local5 = _local4.textBlock;
                if (_local5){
                    _local5.releaseLines(_local5.firstLine, _local5.lastLine);
                };
                _local4.userData = null;
                _local4.x = (_local4.x + _arg2);
                _local4.y = (_local4.y + _arg3);
                _local4.validity = TextLineValidity.STATIC;
                _arg1(_local4);
            };
        }
        protected function doesComposedTextFit(_arg1:int, _arg2:uint, _arg3:String):Boolean{
            if (((!((_arg1 == TruncationOptions.NO_LINE_COUNT_LIMIT))) && ((_factoryComposer._lines.length > _arg1)))){
                return (false);
            };
            var _local4:Array = _factoryComposer._lines;
            if (!_local4.length){
                return (((_arg2) ? false : true));
            };
            var _local5:TextLine = (_local4[(_local4.length - 1)] as TextLine);
            return (((_local5.userData + _local5.rawTextLength) == _arg2));
        }
        protected function getNextTruncationPosition(_arg1:int, _arg2:Boolean=false):int{
            _arg1--;
            var _local3:TextLine = (_pass0Lines[_truncationLineIndex] as TextLine);
            do  {
                if ((((_arg1 >= _local3.userData)) && ((_arg1 < (_local3.userData + _local3.rawTextLength))))){
                    break;
                };
                if (_arg1 < _local3.userData){
                    _local3 = (_pass0Lines[--_truncationLineIndex] as TextLine);
                };
            } while (true);
            var _local4:int = ((_arg2) ? (_local3.userData - _local3.textBlockBeginIndex) : 0);
            var _local5:int = _local3.getAtomIndexAtCharIndex((_arg1 - _local4));
            var _local6:int = (_local3.getAtomTextBlockBeginIndex(_local5) + _local4);
            _local3.flushAtomData();
            return (_local6);
        }
        tlf_internal function createFlowComposer():IFlowComposer{
            return (new FactoryDisplayComposer());
        }
        tlf_internal function computeLastAllowedLineIndex(_arg1:int):void{
            _truncationLineIndex = (_factoryComposer._lines.length - 1);
            if (((!((_arg1 == TruncationOptions.NO_LINE_COUNT_LIMIT))) && ((_arg1 <= _truncationLineIndex)))){
                _truncationLineIndex = (_arg1 - 1);
            };
        }
        tlf_internal function processBackgroundColors(_arg1:TextFlow, _arg2:Function, _arg3:Number, _arg4:Number, _arg5:Number, _arg6:Number){
            var _local7:Shape = new Shape();
            _arg1.backgroundManager.drawAllRects(_arg1, _local7, _arg5, _arg6);
            _local7.x = _arg3;
            _local7.y = _arg4;
            _arg2(_local7);
            _arg1.clearBackgroundManager();
        }

    }
}//package flashx.textLayout.factory 
﻿package flashx.textLayout.factory {
    import flashx.textLayout.container.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.compose.*;
    import flashx.textLayout.*;

    public class FactoryDisplayComposer extends StandardFlowComposer {

        override tlf_internal function callTheComposer(_arg1:int, _arg2:int):ContainerController{
            clearCompositionResults();
            var _local3:SimpleCompose = TextLineFactoryBase._factoryComposer;
            _local3.composeTextFlow(textFlow, -1, -1);
            _local3.releaseAnyReferences();
            return (getControllerAt(0));
        }
        override protected function preCompose():Boolean{
            return (true);
        }
        override tlf_internal function createBackgroundManager():BackgroundManager{
            return (new FactoryBackgroundManager());
        }

    }
}//package flashx.textLayout.factory 

import flash.text.engine.*;
import flashx.textLayout.elements.*;
import flashx.textLayout.compose.*;

class FactoryBackgroundManager extends BackgroundManager {

    public function FactoryBackgroundManager(){
    }
    override public function finalizeLine(_arg1:TextFlowLine):void{
        var _local4:Object;
        var _local2:TextLine = _arg1.getTextLine();
        var _local3:Array = _lineDict[_local2];
        if (_local3){
            _local4 = _local3[0];
            if (_local4){
                _local4.columnRect = _arg1.controller.columnState.getColumnAt(_arg1.columnIndex);
            };
        };
    }

}
﻿package flashx.textLayout.factory {
    import flash.display.*;
    import flash.text.engine.*;
    import flash.geom.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.compose.*;
    import flashx.textLayout.*;

    public class TextFlowTextLineFactory extends TextLineFactoryBase {

        private var _truncatedTextFlowCallback:Function;

        public function createTextLines(_arg1:Function, _arg2:TextFlow):void{
            var callback:* = _arg1;
            var textFlow:* = _arg2;
            var saved:* = TextLineFactoryBase.beginFactoryCompose();
            try {
                this.createTextLinesInternal(callback, textFlow);
            } finally {
                textFlow.changeFlowComposer(null, false);
                _factoryComposer._lines.splice(0);
                if (_pass0Lines){
                    _pass0Lines.splice(0);
                };
                TextLineFactoryBase.endFactoryCompose(saved);
            };
        }
        private function createTextLinesInternal(_arg1:Function, _arg2:TextFlow):void{
            var _local3:Boolean;
            var _local8:Boolean;
            var _local9:SpanElement;
            var _local10:ITextLayoutFormat;
            var _local11:TextLine;
            var _local12:int;
            var _local13:FlowGroupElement;
            var _local14:FlowLeafElement;
            _local3 = isNaN(compositionBounds.width);
            var _local4:String = _arg2.computedFormat.blockProgression;
            var _local5:IFlowComposer = createFlowComposer();
            _local5.swfContext = swfContext;
            _local5.addController(containerController);
            _arg2.flowComposer = _local5;
            _arg2.clearBackgroundManager();
            _isTruncated = false;
            containerController.setCompositionSize(compositionBounds.width, compositionBounds.height);
            containerController.verticalScrollPolicy = ((truncationOptions) ? ScrollPolicy.OFF : verticalScrollPolicy);
            containerController.horizontalScrollPolicy = ((truncationOptions) ? ScrollPolicy.OFF : horizontalScrollPolicy);
            _arg2.normalize();
            _arg2.applyUpdateElements(true);
            _local5.compose();
            if (((truncationOptions) && (!(doesComposedTextFit(truncationOptions.lineCountLimit, _arg2.textLength, _local4))))){
                _isTruncated = true;
                _local8 = false;
                computeLastAllowedLineIndex(truncationOptions.lineCountLimit);
                if (_truncationLineIndex >= 0){
                    _local9 = new SpanElement();
                    _local9.text = truncationOptions.truncationIndicator;
                    _local9.id = "truncationIndicator";
                    if (truncationOptions.truncationIndicatorFormat){
                        _local9.format = truncationOptions.truncationIndicatorFormat;
                    };
                    _local10 = _arg2.hostFormat;
                    _local11 = (_factoryComposer._lines[_truncationLineIndex] as TextLine);
                    _local12 = (_local11.userData + _local11.rawTextLength);
                    if (!_pass0Lines){
                        _pass0Lines = new Array();
                    };
                    _pass0Lines = _factoryComposer.swapLines(_pass0Lines);
                    do  {
                        _arg2 = (_arg2.deepCopy(0, _local12) as TextFlow);
                        if (_local10){
                            _arg2.hostFormat = _local10;
                        };
                        _local14 = _arg2.getLastLeaf();
                        if (_local14){
                            _local13 = _local14.parent;
                            if (!truncationOptions.truncationIndicatorFormat){
                                _local9.format = _local14.format;
                            };
                        } else {
                            _local13 = new ParagraphElement();
                            _arg2.addChild(_local13);
                        };
                        if (_local9.parent){
                            _local9.parent.removeChild(_local9);
                        };
                        _local13.addChild(_local9);
                        _arg2.flowComposer = _local5;
                        _arg2.normalize();
                        _local5.compose();
                        if (doesComposedTextFit(truncationOptions.lineCountLimit, _arg2.textLength, _local4)){
                            _local8 = true;
                            break;
                        };
                        if (_local12 == 0){
                            break;
                        };
                        _local12 = getNextTruncationPosition(_local12, true);
                    } while (true);
                };
                if (this._truncatedTextFlowCallback != null){
                    this._truncatedTextFlowCallback(((_local8) ? _arg2 : null));
                };
                if (!_local8){
                    _factoryComposer._lines.splice(0);
                };
            };
            var _local6:Number = compositionBounds.x;
            var _local7:Rectangle = containerController.getContentBounds();
            if (_local4 == BlockProgression.RL){
                _local6 = (_local6 + ((_local3) ? _local7.width : compositionBounds.width));
            };
            _local7.left = (_local7.left + _local6);
            _local7.right = (_local7.right + _local6);
            _local7.top = (_local7.top + compositionBounds.y);
            _local7.bottom = (_local7.bottom + compositionBounds.y);
            if (_arg2.backgroundManager){
                processBackgroundColors(_arg2, _arg1, _local6, compositionBounds.y, containerController.compositionWidth, containerController.compositionHeight);
            };
            this.callbackWithTextLines(_arg1, _local6, compositionBounds.y);
            setContentBounds(_local7);
            containerController.clearCompositionResults();
        }
        override protected function callbackWithTextLines(_arg1:Function, _arg2:Number, _arg3:Number):void{
            var _local6:FloatCompositionData;
            var _local7:Sprite;
            super.callbackWithTextLines(_arg1, _arg2, _arg3);
            var _local4:int = containerController.numFloats;
            var _local5:int;
            while (_local5 < _local4) {
                _local6 = containerController.getFloatAt(_local5);
                _local7 = new Sprite();
                _local7.alpha = _local6.alpha;
                if (_local6.matrix){
                    _local7.transform.matrix = _local6.matrix;
                };
                _local7.x = (_local7.x + _local6.x);
                _local7.y = (_local7.y + _local6.y);
                _local7.addChild(_local6.graphic);
                if (_local6.floatType == Float.NONE){
                    _local6.parent.addChild(_local7);
                } else {
                    _local7.x = (_local7.x + _arg2);
                    _local7.y = (_local7.y + _arg3);
                    _arg1(_local7);
                };
                _local5++;
            };
        }
        tlf_internal function set truncatedTextFlowCallback(_arg1:Function):void{
            this._truncatedTextFlowCallback = _arg1;
        }

    }
}//package flashx.textLayout.factory 
﻿package flashx.textLayout.utils {
    import flash.geom.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.*;

    public class HitTestArea {

        private var tl:HitTestArea = null;
        private var tr:HitTestArea = null;
        private var bl:HitTestArea = null;
        private var br:HitTestArea = null;
        private var _rect:Rectangle;
        private var _xm:Number;
        private var _ym:Number;
        private var _owner:FlowElement = null;

        public function HitTestArea(_arg1:Object){
            this.initialize(_arg1);
        }
        tlf_internal function initialize(_arg1:Object):void{
            var _local2:Object;
            var _local4:Rectangle;
            var _local5:Rectangle;
            var _local6:Number;
            var _local7:Number;
            var _local8:Number;
            var _local9:Number;
            var _local3:int;
            if (_arg1){
                for (_local2 in _arg1) {
                    ++_local3;
                    if (_local3 > 1){
                        break;
                    };
                };
            };
            if (_local3 == 0){
                this._rect = new Rectangle();
                this._xm = (this._ym = 0);
                return;
            };
            if (_local3 == 1){
                for each (_local2 in _arg1) {
                    this._rect = _local2.rect;
                    this._xm = this._rect.left;
                    this._ym = this._rect.top;
                    this._owner = _local2.owner;
                    return;
                };
            };
            for each (_local2 in _arg1) {
                _local4 = _local2.rect;
                if (!this._rect){
                    this._rect = _local4;
                } else {
                    this._rect = this._rect.union(_local4);
                };
            };
            this._xm = Math.ceil((this._rect.left + (this._rect.width / 2)));
            this._ym = Math.ceil((this._rect.top + (this._rect.height / 2)));
            if ((((this._rect.width <= 3)) || ((this._rect.height <= 3)))){
                for each (_local2 in _arg1) {
                    this._owner = _local2.owner;
                    return;
                };
            };
            for each (_local2 in _arg1) {
                _local4 = _local2.rect;
                if (_local4.equals(this._rect)){
                } else {
                    if (_local4.contains(this._xm, this._ym)){
                        _local6 = (this._xm - _local4.left);
                        _local7 = (_local4.right - this._xm);
                        _local8 = (this._ym - _local4.top);
                        _local9 = (_local4.bottom - this._ym);
                        this._xm = ((_local6)>_local7) ? (this._xm + _local7) : (this._xm - _local6);
                        this._ym = ((_local8)>_local9) ? (this._ym + _local9) : (this._ym - _local8);
                        break;
                    };
                };
            };
            _local5 = new Rectangle(this._rect.left, this._rect.top, (this._xm - this._rect.left), (this._ym - this._rect.top));
            this.addQuadrant(_arg1, "tl", _local5);
            _local5.left = this._xm;
            _local5.right = this._rect.right;
            this.addQuadrant(_arg1, "tr", _local5);
            _local5.left = this._rect.left;
            _local5.top = this._ym;
            _local5.right = this._xm;
            _local5.bottom = this._rect.bottom;
            this.addQuadrant(_arg1, "bl", _local5);
            _local5.left = this._xm;
            _local5.right = this._rect.right;
            this.addQuadrant(_arg1, "br", _local5);
        }
        public function hitTest(_arg1:Number, _arg2:Number):FlowElement{
            if (!this._rect.contains(_arg1, _arg2)){
                return (null);
            };
            if (this._owner){
                return (this._owner);
            };
            var _local3:String = ((_arg2)<this._ym) ? "t" : "b";
            _local3 = (_local3 + ((_arg1)<this._xm) ? "l" : "r");
            var _local4:HitTestArea = this[_local3];
            if (_local4 == null){
                return (null);
            };
            return (_local4.hitTest(_arg1, _arg2));
        }
        private function addQuadrant(_arg1:Object, _arg2:String, _arg3:Rectangle):void{
            var _local6:Object;
            var _local7:Rectangle;
            if (_arg3.isEmpty()){
                return;
            };
            var _local4:Object = {};
            var _local5:int;
            for each (_local6 in _arg1) {
                _local7 = _local6.rect.intersection(_arg3);
                if (!_local7.isEmpty()){
                    var _temp1 = _local5;
                    _local5 = (_local5 + 1);
                    var _local10 = _temp1;
                    _local4[_local10] = {
                        owner:_local6.owner,
                        rect:_local7
                    };
                };
            };
            if (_local5 > 0){
                this[_arg2] = new HitTestArea(_local4);
            };
        }

    }
}//package flashx.textLayout.utils 
﻿package flashx.textLayout.utils {
    import flash.text.engine.*;
    import flash.geom.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.compose.*;
    import flashx.textLayout.*;

    public final class NavigationUtil {

        private static function validateTextRange(_arg1:TextRange):Boolean{
            return (((((!((_arg1.textFlow == null))) && (!((_arg1.anchorPosition == -1))))) && (!((_arg1.activePosition == -1)))));
        }
        private static function doIncrement(_arg1:TextFlow, _arg2:int, _arg3:Function):int{
            var _local4:ParagraphElement = _arg1.findAbsoluteParagraph(_arg2);
            return (_arg3(_arg1, _local4, _arg2, _local4.getAbsoluteStart()));
        }
        private static function previousAtomHelper(_arg1:TextFlow, _arg2:ParagraphElement, _arg3:int, _arg4:int):int{
            if ((_arg3 - _arg4) == 0){
                return (((_arg3)>0) ? (_arg3 - 1) : 0);
            };
            return ((_arg2.findPreviousAtomBoundary((_arg3 - _arg4)) + _arg4));
        }
        public static function previousAtomPosition(_arg1:TextFlow, _arg2:int):int{
            return (doIncrement(_arg1, _arg2, previousAtomHelper));
        }
        private static function nextAtomHelper(_arg1:TextFlow, _arg2:ParagraphElement, _arg3:int, _arg4:int):int{
            if ((_arg3 - _arg4) == (_arg2.textLength - 1)){
                return (Math.min(_arg1.textLength, (_arg3 + 1)));
            };
            return ((_arg2.findNextAtomBoundary((_arg3 - _arg4)) + _arg4));
        }
        public static function nextAtomPosition(_arg1:TextFlow, _arg2:int):int{
            return (doIncrement(_arg1, _arg2, nextAtomHelper));
        }
        public static function previousWordPosition(_arg1:TextFlow, _arg2:int):int{
            if (isOverset(_arg1, _arg2)){
                return (endOfLastController(_arg1));
            };
            var _local3:ParagraphElement = _arg1.findAbsoluteParagraph(_arg2);
            var _local4:int = _local3.getAbsoluteStart();
            var _local5:int = (_arg2 - _local4);
            var _local6:int;
            if ((_arg2 - _local4) == 0){
                return (((_arg2)>0) ? (_arg2 - 1) : 0);
            };
            do  {
                _local6 = _local3.findPreviousWordBoundary(_local5);
                if (_local5 == _local6){
                    _local5 = _local3.findPreviousWordBoundary((_local5 - 1));
                } else {
                    _local5 = _local6;
                };
            } while ((((_local5 > 0)) && (CharacterUtil.isWhitespace(_local3.getCharCodeAtPosition(_local5)))));
            return ((_local5 + _local4));
        }
        public static function nextWordPosition(_arg1:TextFlow, _arg2:int):int{
            var _local3:ParagraphElement = _arg1.findAbsoluteParagraph(_arg2);
            var _local4:int = _local3.getAbsoluteStart();
            var _local5:int = (_arg2 - _local4);
            if ((_arg2 - _local4) == (_local3.textLength - 1)){
                return (Math.min(_arg1.textLength, (_arg2 + 1)));
            };
            do  {
                _local5 = _local3.findNextWordBoundary(_local5);
            } while ((((_local5 < (_local3.textLength - 1))) && (CharacterUtil.isWhitespace(_local3.getCharCodeAtPosition(_local5)))));
            return ((_local5 + _local4));
        }
        tlf_internal static function updateStartIfInReadOnlyElement(_arg1:TextFlow, _arg2:int):int{
            return (_arg2);
        }
        tlf_internal static function updateEndIfInReadOnlyElement(_arg1:TextFlow, _arg2:int):int{
            return (_arg2);
        }
        private static function moveForwardHelper(_arg1:TextRange, _arg2:Boolean, _arg3:Function):Boolean{
            var _local4:TextFlow = _arg1.textFlow;
            var _local5:int = _arg1.anchorPosition;
            var _local6:int = _arg1.activePosition;
            if (_arg2){
                _local6 = _arg3(_local4, _local6);
            } else {
                if (_local5 == _local6){
                    _local5 = _arg3(_local4, _local5);
                    _local6 = _local5;
                } else {
                    if (_local6 > _local5){
                        _local5 = _local6;
                    } else {
                        _local6 = _local5;
                    };
                };
            };
            if (_local5 == _local6){
                _local5 = updateStartIfInReadOnlyElement(_local4, _local5);
                _local6 = updateEndIfInReadOnlyElement(_local4, _local6);
            } else {
                _local6 = updateEndIfInReadOnlyElement(_local4, _local6);
            };
            if (((((!(_arg2)) && ((_arg1.anchorPosition == _local5)))) && ((_arg1.activePosition == _local6)))){
                if (_local5 < _local6){
                    _local5 = Math.min((_local6 + 1), (_local4.textLength - 1));
                    _local6 = _local5;
                } else {
                    _local6 = Math.min((_local5 + 1), (_local4.textLength - 1));
                    _local5 = _local6;
                };
            };
            return (_arg1.updateRange(_local5, _local6));
        }
        private static function moveBackwardHelper(_arg1:TextRange, _arg2:Boolean, _arg3:Function):Boolean{
            var _local4:TextFlow = _arg1.textFlow;
            var _local5:int = _arg1.anchorPosition;
            var _local6:int = _arg1.activePosition;
            if (_arg2){
                _local6 = _arg3(_local4, _local6);
            } else {
                if (_local5 == _local6){
                    _local5 = _arg3(_local4, _local5);
                    _local6 = _local5;
                } else {
                    if (_local6 > _local5){
                        _local6 = _local5;
                    } else {
                        _local5 = _local6;
                    };
                };
            };
            if (_local5 == _local6){
                _local5 = updateEndIfInReadOnlyElement(_local4, _local5);
                _local6 = updateStartIfInReadOnlyElement(_local4, _local6);
            } else {
                _local6 = updateStartIfInReadOnlyElement(_local4, _local6);
            };
            if (((((!(_arg2)) && ((_arg1.anchorPosition == _local5)))) && ((_arg1.activePosition == _local6)))){
                if (_local5 < _local6){
                    _local6 = Math.max((_local5 - 1), 0);
                    _local5 = _local6;
                } else {
                    _local5 = Math.max((_local6 - 1), 0);
                    _local6 = _local5;
                };
            };
            return (_arg1.updateRange(_local5, _local6));
        }
        public static function nextCharacter(_arg1:TextRange, _arg2:Boolean=false):Boolean{
            if (validateTextRange(_arg1)){
                if (!adjustForOversetForward(_arg1)){
                    moveForwardHelper(_arg1, _arg2, nextAtomPosition);
                };
                return (true);
            };
            return (false);
        }
        public static function previousCharacter(_arg1:TextRange, _arg2:Boolean=false):Boolean{
            if (validateTextRange(_arg1)){
                if (!adjustForOversetBack(_arg1)){
                    moveBackwardHelper(_arg1, _arg2, previousAtomPosition);
                };
                return (true);
            };
            return (false);
        }
        public static function nextWord(_arg1:TextRange, _arg2:Boolean=false):Boolean{
            if (validateTextRange(_arg1)){
                if (!adjustForOversetForward(_arg1)){
                    moveForwardHelper(_arg1, _arg2, nextWordPosition);
                };
                return (true);
            };
            return (false);
        }
        public static function previousWord(_arg1:TextRange, _arg2:Boolean=false):Boolean{
            if (validateTextRange(_arg1)){
                if (!adjustForOversetBack(_arg1)){
                    moveBackwardHelper(_arg1, _arg2, previousWordPosition);
                };
                return (true);
            };
            return (false);
        }
        tlf_internal static function computeEndIdx(_arg1:TextFlowLine, _arg2:TextFlowLine, _arg3:String, _arg4:Boolean, _arg5:Point):int{
            var _local6:int;
            var _local10:int;
            var _local11:Rectangle;
            var _local12:Point;
            var _local13:Rectangle;
            var _local14:Boolean;
            var _local15:int;
            var _local16:Point;
            var _local7:TextLine = _arg1.getTextLine(true);
            var _local8:TextLine = _arg2.getTextLine(true);
            var _local9 = !(((_local8.getAtomBidiLevel(_local10) % 2) == 0));
            if (_arg1.controller == _arg2.controller){
                if (_arg3 != BlockProgression.RL){
                    _arg5.y = (_arg5.y - (_local8.y - _local7.y));
                } else {
                    _arg5.x = (_arg5.x + (_local7.x - _local8.x));
                };
            } else {
                _local11 = _local7.getAtomBounds(0);
                _local12 = new Point();
                _local12.x = _local11.left;
                _local12.y = 0;
                _local12 = _local7.localToGlobal(_local12);
                if (_arg3 != BlockProgression.RL){
                    _arg5.x = (_arg5.x - _arg2.controller.container.x);
                    _arg5.y = _local12.y;
                } else {
                    _arg5.x = _local12.x;
                    _arg5.y = (_arg5.y - _arg2.controller.container.y);
                };
            };
            _local10 = _local7.getAtomIndexAtPoint(_arg5.x, _arg5.y);
            if (_local10 == -1){
                if (_arg3 != BlockProgression.RL){
                    if (!_local9){
                        _local6 = ((_arg5.x)<=_local7.x) ? _arg1.absoluteStart : ((_arg1.absoluteStart + _arg1.textLength) - 1);
                    } else {
                        _local6 = ((_arg5.x)<=_local7.x) ? ((_arg1.absoluteStart + _arg1.textLength) - 1) : _arg1.absoluteStart;
                    };
                } else {
                    if (!_local9){
                        _local6 = ((_arg5.y)<=_local7.y) ? _arg1.absoluteStart : ((_arg1.absoluteStart + _arg1.textLength) - 1);
                    } else {
                        _local6 = ((_arg5.y)<=_local7.y) ? ((_arg1.absoluteStart + _arg1.textLength) - 1) : _arg1.absoluteStart;
                    };
                };
            } else {
                _local13 = _local7.getAtomBounds(_local10);
                _local14 = false;
                if (_local13){
                    _local16 = new Point();
                    _local16.x = _local13.x;
                    _local16.y = _local13.y;
                    _local16 = _local7.localToGlobal(_local16);
                    if ((((_arg3 == BlockProgression.RL)) && (!((_local7.getAtomTextRotation(_local10) == TextRotation.ROTATE_0))))){
                        _local14 = (_arg5.y > (_local16.y + (_local13.height / 2)));
                    } else {
                        _local14 = (_arg5.x > (_local16.x + (_local13.width / 2)));
                    };
                };
                if ((_local7.getAtomBidiLevel(_local10) % 2) != 0){
                    _local15 = ((_local14) ? _local7.getAtomTextBlockBeginIndex(_local10) : _local7.getAtomTextBlockEndIndex(_local10));
                } else {
                    if (_arg4){
                        if ((((_local14 == false)) && ((_local10 > 0)))){
                            _local15 = _local7.getAtomTextBlockBeginIndex((_local10 - 1));
                        } else {
                            _local15 = _local7.getAtomTextBlockBeginIndex(_local10);
                        };
                    } else {
                        _local15 = ((_local14) ? _local7.getAtomTextBlockEndIndex(_local10) : _local7.getAtomTextBlockBeginIndex(_local10));
                    };
                };
                _local6 = (_arg1.paragraph.getAbsoluteStart() + _local15);
            };
            return (_local6);
        }
        public static function nextLine(_arg1:TextRange, _arg2:Boolean=false):Boolean{
            var _local10:TextFlowLine;
            var _local11:int;
            var _local12:int;
            var _local13:TextLine;
            var _local14:ParagraphElement;
            var _local15:int;
            var _local16:Boolean;
            var _local17:Rectangle;
            var _local18:Number;
            var _local19:Number;
            var _local20:Number;
            var _local21:Point;
            var _local22:TextFlowLine;
            var _local23:ContainerController;
            var _local24:int;
            var _local25:int;
            var _local26:Number;
            if (!validateTextRange(_arg1)){
                return (false);
            };
            if (adjustForOversetForward(_arg1)){
                return (true);
            };
            var _local3:TextFlow = _arg1.textFlow;
            var _local4:String = _local3.computedFormat.blockProgression;
            var _local5:int = _arg1.anchorPosition;
            var _local6:int = _arg1.activePosition;
            var _local7:int = endOfLastController(_local3);
            var _local8:int = _local3.flowComposer.findLineIndexAtPosition(_local6);
            var _local9 = (_local3.computedFormat.direction == Direction.RTL);
            if (_local8 < (_local3.flowComposer.numLines - 1)){
                _local10 = _local3.flowComposer.getLineAt(_local8);
                _local11 = _local10.absoluteStart;
                _local12 = (_local6 - _local11);
                _local13 = _local10.getTextLine(true);
                _local14 = _local10.paragraph;
                _local15 = _local13.getAtomIndexAtCharIndex((_local6 - _local14.getAbsoluteStart()));
                _local16 = !(((_local13.getAtomBidiLevel(_local15) % 2) == 0));
                _local17 = _local13.getAtomBounds(_local15);
                _local18 = _local13.x;
                _local19 = _local17.left;
                _local20 = _local17.right;
                if (_local4 == BlockProgression.RL){
                    _local18 = _local13.y;
                    _local19 = _local17.top;
                    _local20 = _local17.bottom;
                };
                _local21 = new Point();
                if (_local4 != BlockProgression.RL){
                    if (!_local9){
                        _local21.x = _local17.left;
                    } else {
                        _local21.x = _local17.right;
                    };
                    _local21.y = 0;
                } else {
                    _local21.x = 0;
                    if (!_local9){
                        _local21.y = _local17.top;
                    } else {
                        _local21.y = _local17.bottom;
                    };
                };
                _local21 = _local13.localToGlobal(_local21);
                _local22 = _local3.flowComposer.getLineAt((_local8 + 1));
                if (_local22.absoluteStart >= _local7){
                    if (!_arg2){
                        _arg1.activePosition = (_arg1.anchorPosition = (_local3.textLength - 1));
                    } else {
                        _arg1.activePosition = _local3.textLength;
                    };
                    return (true);
                };
                _local23 = _local3.flowComposer.getControllerAt((_local3.flowComposer.numControllers - 1));
                _local24 = _local23.absoluteStart;
                _local25 = (_local24 + _local23.textLength);
                if ((((_local22.absoluteStart >= _local24)) && ((_local22.absoluteStart < _local25)))){
                    if (_local22.isDamaged()){
                        _local3.flowComposer.composeToPosition((_local22.absoluteStart + 1));
                        _local22 = _local3.flowComposer.getLineAt((_local8 + 1));
                        if (_local22.isDamaged()){
                            return (false);
                        };
                    };
                    _local26 = ((_local4)==BlockProgression.TB) ? _local23.horizontalScrollPosition : _local23.verticalScrollPosition;
                    _local23.scrollToRange(_local22.absoluteStart, ((_local22.absoluteStart + _local22.textLength) - 1));
                    if (_local4 == BlockProgression.TB){
                        _local23.horizontalScrollPosition = _local26;
                    } else {
                        _local23.verticalScrollPosition = _local26;
                    };
                };
                _local6 = computeEndIdx(_local22, _local10, _local4, _local9, _local21);
                if (_local6 >= _local3.textLength){
                    _local6 = _local3.textLength;
                };
            } else {
                _local6 = _local3.textLength;
            };
            if (!_arg2){
                _local5 = _local6;
            };
            if (_local5 == _local6){
                _local5 = updateStartIfInReadOnlyElement(_local3, _local5);
                _local6 = updateEndIfInReadOnlyElement(_local3, _local6);
            } else {
                _local6 = updateEndIfInReadOnlyElement(_local3, _local6);
            };
            return (_arg1.updateRange(_local5, _local6));
        }
        public static function previousLine(_arg1:TextRange, _arg2:Boolean=false):Boolean{
            var _local9:TextFlowLine;
            var _local10:int;
            var _local11:int;
            var _local12:TextLine;
            var _local13:ParagraphElement;
            var _local14:int;
            var _local15:Rectangle;
            var _local16:Number;
            var _local17:Number;
            var _local18:Number;
            var _local19:Point;
            var _local20:TextFlowLine;
            var _local21:ContainerController;
            var _local22:int;
            var _local23:int;
            var _local24:Number;
            if (!validateTextRange(_arg1)){
                return (false);
            };
            if (adjustForOversetBack(_arg1)){
                return (true);
            };
            var _local3:TextFlow = _arg1.textFlow;
            var _local4:String = _local3.computedFormat.blockProgression;
            var _local5:int = _arg1.anchorPosition;
            var _local6:int = _arg1.activePosition;
            var _local7:int = _local3.flowComposer.findLineIndexAtPosition(_local6);
            var _local8 = (_local3.computedFormat.direction == Direction.RTL);
            if (_local7 > 0){
                _local9 = _local3.flowComposer.getLineAt(_local7);
                _local10 = _local9.absoluteStart;
                _local11 = (_local6 - _local10);
                _local12 = _local9.getTextLine(true);
                _local13 = _local9.paragraph;
                _local14 = _local12.getAtomIndexAtCharIndex((_local6 - _local13.getAbsoluteStart()));
                _local15 = _local12.getAtomBounds(_local14);
                _local16 = _local12.x;
                _local17 = _local15.left;
                _local18 = _local15.right;
                if (_local4 == BlockProgression.RL){
                    _local16 = _local12.y;
                    _local17 = _local15.top;
                    _local18 = _local15.bottom;
                };
                _local19 = new Point();
                if (_local4 != BlockProgression.RL){
                    if (!_local8){
                        _local19.x = _local15.left;
                    } else {
                        _local19.x = _local15.right;
                    };
                    _local19.y = 0;
                } else {
                    _local19.x = 0;
                    if (!_local8){
                        _local19.y = _local15.top;
                    } else {
                        _local19.y = _local15.bottom;
                    };
                };
                _local19 = _local12.localToGlobal(_local19);
                _local20 = _local3.flowComposer.getLineAt((_local7 - 1));
                _local21 = _local3.flowComposer.getControllerAt((_local3.flowComposer.numControllers - 1));
                _local22 = _local21.absoluteStart;
                _local23 = (_local22 + _local21.textLength);
                if ((((_local20.absoluteStart >= _local22)) && ((_local20.absoluteStart < _local23)))){
                    _local24 = ((_local4)==BlockProgression.TB) ? _local21.horizontalScrollPosition : _local21.verticalScrollPosition;
                    _local21.scrollToRange(_local20.absoluteStart, ((_local20.absoluteStart + _local20.textLength) - 1));
                    if (_local4 == BlockProgression.TB){
                        _local21.horizontalScrollPosition = _local24;
                    } else {
                        _local21.verticalScrollPosition = _local24;
                    };
                };
                _local6 = computeEndIdx(_local20, _local9, _local4, _local8, _local19);
            } else {
                _local6 = 0;
            };
            if (!_arg2){
                _local5 = _local6;
            };
            if (_local5 == _local6){
                _local5 = updateStartIfInReadOnlyElement(_local3, _local5);
                _local6 = updateEndIfInReadOnlyElement(_local3, _local6);
            } else {
                _local6 = updateEndIfInReadOnlyElement(_local3, _local6);
            };
            return (_arg1.updateRange(_local5, _local6));
        }
        public static function nextPage(_arg1:TextRange, _arg2:Boolean=false):Boolean{
            var _local3:ContainerController;
            var _local12:int;
            var _local15:Number;
            var _local17:Number;
            var _local18:Number;
            var _local19:Number;
            var _local20:Number;
            var _local21:Number;
            var _local22:Number;
            if (!validateTextRange(_arg1)){
                return (false);
            };
            var _local4:TextFlow = _arg1.textFlow;
            var _local5:int = _local4.flowComposer.findControllerIndexAtPosition(_arg1.activePosition);
            if (_local5 != (_local4.flowComposer.numControllers - 1)){
                _arg1.activePosition = _local4.flowComposer.getControllerAt((_local5 + 1)).absoluteStart;
                if (!_arg2){
                    _arg1.anchorPosition = _arg1.activePosition;
                };
                return (true);
            };
            if (!isScrollable(_local4, _arg1.activePosition)){
                return (false);
            };
            if (adjustForOversetForward(_arg1)){
                return (true);
            };
            var _local6:int = _arg1.absoluteStart;
            var _local7:int = _arg1.absoluteEnd;
            var _local8:int = _local4.flowComposer.findLineIndexAtPosition(_local7);
            var _local9:TextFlowLine = _local4.flowComposer.getLineAt(_local8);
            var _local10:int = _local4.flowComposer.getLineAt(_local8).absoluteStart;
            var _local11:int = (_local7 - _local10);
            var _local13:TextFlowLine = _local9;
            var _local14 = (_local4.computedFormat.blockProgression == BlockProgression.RL);
            _local3 = _local4.flowComposer.getControllerAt((_local4.flowComposer.numControllers - 1));
            if (_local14){
                _local15 = (_local3.compositionWidth * _local4.configuration.scrollPagePercentage);
            } else {
                _local15 = (_local3.compositionHeight * _local4.configuration.scrollPagePercentage);
            };
            if (_local14){
                _local17 = _local3.contentWidth;
                if ((_local3.horizontalScrollPosition - _local15) < -(_local17)){
                    _local3.horizontalScrollPosition = -(_local17);
                    _local12 = (_local4.flowComposer.numLines - 1);
                    _local13 = _local4.flowComposer.getLineAt(_local12);
                } else {
                    _local18 = _local3.horizontalScrollPosition;
                    _local3.horizontalScrollPosition = (_local3.horizontalScrollPosition - _local15);
                    _local19 = _local3.horizontalScrollPosition;
                    if (_local18 == _local19){
                        _local12 = (_local4.flowComposer.numLines - 1);
                        _local13 = _local4.flowComposer.getLineAt(_local12);
                    } else {
                        _local12 = _local8;
                        while (_local12 < (_local4.flowComposer.numLines - 1)) {
                            _local12++;
                            _local13 = _local4.flowComposer.getLineAt(_local12);
                            if ((_local9.x - _local13.x) >= (_local18 - _local19)){
                                break;
                            };
                        };
                    };
                };
            } else {
                _local20 = _local3.contentHeight;
                if ((_local3.verticalScrollPosition + _local15) > _local20){
                    _local3.verticalScrollPosition = _local20;
                    _local12 = (_local4.flowComposer.numLines - 1);
                    _local13 = _local4.flowComposer.getLineAt(_local12);
                } else {
                    _local21 = _local3.verticalScrollPosition;
                    _local3.verticalScrollPosition = (_local3.verticalScrollPosition + _local15);
                    _local22 = _local3.verticalScrollPosition;
                    if (_local22 == _local21){
                        _local12 = (_local4.flowComposer.numLines - 1);
                        _local13 = _local4.flowComposer.getLineAt(_local12);
                    } else {
                        _local12 = _local8;
                        while (_local12 < (_local4.flowComposer.numLines - 1)) {
                            _local12++;
                            _local13 = _local4.flowComposer.getLineAt(_local12);
                            if ((_local13.y - _local9.y) >= (_local22 - _local21)){
                                break;
                            };
                        };
                    };
                };
            };
            _local7 = (_local13.absoluteStart + _local11);
            var _local16:int = ((_local13.absoluteStart + _local13.textLength) - 1);
            if (_local7 > _local16){
                _local7 = _local16;
            };
            if (!_arg2){
                _local6 = _local7;
            };
            if (_local6 == _local7){
                _local6 = updateEndIfInReadOnlyElement(_local4, _local6);
                _local7 = updateStartIfInReadOnlyElement(_local4, _local7);
            } else {
                _local7 = updateStartIfInReadOnlyElement(_local4, _local7);
            };
            return (_arg1.updateRange(_local6, _local7));
        }
        public static function previousPage(_arg1:TextRange, _arg2:Boolean=false):Boolean{
            var _local13:int;
            var _local16:Number;
            var _local18:Number;
            var _local19:Number;
            var _local20:Number;
            var _local21:Number;
            if (!validateTextRange(_arg1)){
                return (false);
            };
            var _local3:TextFlow = _arg1.textFlow;
            var _local4:int = _local3.flowComposer.findControllerIndexAtPosition(_arg1.activePosition);
            var _local5:ContainerController = _local3.flowComposer.getControllerAt(_local4);
            var _local6:TextFlowLine = _local3.flowComposer.findLineAtPosition(_local5.absoluteStart);
            if (_arg1.activePosition <= (_local5.absoluteStart + _local6.textLength)){
                if (_local4 == 0){
                    return (false);
                };
                _arg1.activePosition = _local3.flowComposer.getControllerAt((_local4 - 1)).absoluteStart;
                if (!_arg2){
                    _arg1.anchorPosition = _arg1.activePosition;
                };
                return (true);
            };
            if (_local4 != (_local3.flowComposer.numControllers - 1)){
                _arg1.activePosition = _local5.absoluteStart;
                if (!_arg2){
                    _arg1.anchorPosition = _arg1.activePosition;
                };
                return (true);
            };
            if (!isScrollable(_local3, _arg1.activePosition)){
                return (false);
            };
            if (adjustForOversetBack(_arg1)){
                return (true);
            };
            var _local7:int = _arg1.absoluteStart;
            var _local8:int = _arg1.absoluteEnd;
            var _local9:int = _local3.flowComposer.findLineIndexAtPosition(_local8);
            var _local10:TextFlowLine = _local3.flowComposer.getLineAt(_local9);
            var _local11:int = _local3.flowComposer.getLineAt(_local9).absoluteStart;
            var _local12:int = (_local8 - _local11);
            var _local14:TextFlowLine = _local10;
            var _local15 = (_local3.computedFormat.blockProgression == BlockProgression.RL);
            _local5 = _local3.flowComposer.getControllerAt((_local3.flowComposer.numControllers - 1));
            if (_local15){
                _local16 = (_local5.compositionWidth * _local3.configuration.scrollPagePercentage);
            } else {
                _local16 = (_local5.compositionHeight * _local3.configuration.scrollPagePercentage);
            };
            if (_local15){
                if (((_local5.horizontalScrollPosition + _local16) + _local5.compositionWidth) > 0){
                    _local5.horizontalScrollPosition = 0;
                    _local13 = _local3.flowComposer.findLineIndexAtPosition(_local5.absoluteStart);
                    _local14 = _local3.flowComposer.getLineAt(_local13);
                } else {
                    _local18 = _local5.horizontalScrollPosition;
                    _local5.horizontalScrollPosition = (_local5.horizontalScrollPosition + _local16);
                    _local19 = _local5.horizontalScrollPosition;
                    if (_local18 == _local19){
                        _local13 = _local3.flowComposer.findLineIndexAtPosition(_local5.absoluteStart);
                        _local14 = _local3.flowComposer.getLineAt(_local13);
                    } else {
                        _local13 = _local9;
                        while (_local13 > 0) {
                            _local13--;
                            _local14 = _local3.flowComposer.getLineAt(_local13);
                            if (((((_local14.x - _local10.x) >= (_local19 - _local18))) || ((_local14.absoluteStart < _local5.absoluteStart)))){
                                break;
                            };
                        };
                    };
                };
            } else {
                if (((_local5.verticalScrollPosition - _local16) + _local5.compositionHeight) < 0){
                    _local5.verticalScrollPosition = 0;
                    _local13 = _local3.flowComposer.findLineIndexAtPosition(_local5.absoluteStart);
                    _local14 = _local3.flowComposer.getLineAt(_local13);
                } else {
                    _local20 = _local5.verticalScrollPosition;
                    _local5.verticalScrollPosition = (_local5.verticalScrollPosition - _local16);
                    _local21 = _local5.verticalScrollPosition;
                    if (_local20 == _local21){
                        _local13 = _local3.flowComposer.findLineIndexAtPosition(_local5.absoluteStart);
                        _local14 = _local3.flowComposer.getLineAt(_local13);
                    } else {
                        _local13 = _local9;
                        while (_local13 > 0) {
                            _local13--;
                            _local14 = _local3.flowComposer.getLineAt(_local13);
                            if (((((_local10.y - _local14.y) >= (_local20 - _local21))) || ((_local14.absoluteStart < _local5.absoluteStart)))){
                                break;
                            };
                        };
                    };
                };
            };
            _local8 = (_local14.absoluteStart + _local12);
            var _local17:int = ((_local14.absoluteStart + _local14.textLength) - 1);
            if (_local8 > _local17){
                _local8 = _local17;
            };
            if (!_arg2){
                _local7 = _local8;
            };
            if (_local7 == _local8){
                _local7 = updateEndIfInReadOnlyElement(_local3, _local7);
                _local8 = updateStartIfInReadOnlyElement(_local3, _local8);
            } else {
                _local8 = updateStartIfInReadOnlyElement(_local3, _local8);
            };
            return (_arg1.updateRange(_local7, _local8));
        }
        public static function endOfLine(_arg1:TextRange, _arg2:Boolean=false):Boolean{
            if (!validateTextRange(_arg1)){
                return (false);
            };
            var _local3:TextFlow = _arg1.textFlow;
            checkCompose(_local3.flowComposer, _arg1.absoluteEnd);
            var _local4:int = _arg1.anchorPosition;
            var _local5:int = _arg1.activePosition;
            var _local6:int = _local3.flowComposer.findLineIndexAtPosition(_local5);
            var _local7:int = _local3.flowComposer.getLineAt(_local6).absoluteStart;
            var _local8:int = ((_local7 + _local3.flowComposer.getLineAt(_local6).textLength) - 1);
            var _local9:FlowLeafElement = _local3.findLeaf(_local5);
            var _local10:ParagraphElement = _local9.getParagraph();
            if (CharacterUtil.isWhitespace(_local10.getCharCodeAtPosition((_local8 - _local10.getAbsoluteStart())))){
                _local5 = _local8;
            } else {
                _local5 = (_local8 + 1);
            };
            if (!_arg2){
                _local4 = _local5;
            };
            if (_local4 == _local5){
                _local4 = updateEndIfInReadOnlyElement(_local3, _local4);
                _local5 = updateStartIfInReadOnlyElement(_local3, _local5);
            } else {
                _local5 = updateStartIfInReadOnlyElement(_local3, _local5);
            };
            return (_arg1.updateRange(_local4, _local5));
        }
        public static function startOfLine(_arg1:TextRange, _arg2:Boolean=false):Boolean{
            if (!validateTextRange(_arg1)){
                return (false);
            };
            var _local3:TextFlow = _arg1.textFlow;
            checkCompose(_local3.flowComposer, _arg1.absoluteEnd);
            var _local4:int = _arg1.anchorPosition;
            var _local5:int = _arg1.activePosition;
            var _local6:int = _local3.flowComposer.findLineIndexAtPosition(_local5);
            var _local7:int = _local3.flowComposer.getLineAt(_local6).absoluteStart;
            _local5 = _local7;
            if (!_arg2){
                _local4 = _local5;
            };
            if (_local4 == _local5){
                _local4 = updateEndIfInReadOnlyElement(_local3, _local4);
                _local5 = updateStartIfInReadOnlyElement(_local3, _local5);
            } else {
                _local5 = updateStartIfInReadOnlyElement(_local3, _local5);
            };
            return (_arg1.updateRange(_local4, _local5));
        }
        public static function endOfDocument(_arg1:TextRange, _arg2:Boolean=false):Boolean{
            if (!validateTextRange(_arg1)){
                return (false);
            };
            var _local3:TextFlow = _arg1.textFlow;
            var _local4:int = _arg1.anchorPosition;
            var _local5:int = _arg1.activePosition;
            _local5 = _local3.textLength;
            if (!_arg2){
                _local4 = _local5;
            };
            if (_local4 == _local5){
                _local4 = updateEndIfInReadOnlyElement(_local3, _local4);
                _local5 = updateStartIfInReadOnlyElement(_local3, _local5);
            } else {
                _local5 = updateStartIfInReadOnlyElement(_local3, _local5);
            };
            return (_arg1.updateRange(_local4, _local5));
        }
        public static function startOfDocument(_arg1:TextRange, _arg2:Boolean=false):Boolean{
            var _local3:int = _arg1.anchorPosition;
            var _local4:int;
            if (!_arg2){
                _local3 = _local4;
            };
            if (_local3 == _local4){
                _local3 = updateEndIfInReadOnlyElement(_arg1.textFlow, _local3);
                _local4 = updateStartIfInReadOnlyElement(_arg1.textFlow, _local4);
            } else {
                _local4 = updateStartIfInReadOnlyElement(_arg1.textFlow, _local4);
            };
            return (_arg1.updateRange(_local3, _local4));
        }
        public static function startOfParagraph(_arg1:TextRange, _arg2:Boolean=false):Boolean{
            var _local3:int = _arg1.anchorPosition;
            var _local4:int = _arg1.activePosition;
            var _local5:FlowLeafElement = _arg1.textFlow.findLeaf(_local4);
            var _local6:ParagraphElement = _local5.getParagraph();
            _local4 = _local6.getAbsoluteStart();
            if (!_arg2){
                _local3 = _local4;
            };
            if (_local3 == _local4){
                _local3 = updateStartIfInReadOnlyElement(_arg1.textFlow, _local3);
                _local4 = updateEndIfInReadOnlyElement(_arg1.textFlow, _local4);
            } else {
                _local4 = updateEndIfInReadOnlyElement(_arg1.textFlow, _local4);
            };
            return (_arg1.updateRange(_local3, _local4));
        }
        public static function endOfParagraph(_arg1:TextRange, _arg2:Boolean=false):Boolean{
            if (!validateTextRange(_arg1)){
                return (false);
            };
            var _local3:int = _arg1.anchorPosition;
            var _local4:int = _arg1.activePosition;
            var _local5:FlowLeafElement = _arg1.textFlow.findLeaf(_local4);
            var _local6:ParagraphElement = _local5.getParagraph();
            _local4 = ((_local6.getAbsoluteStart() + _local6.textLength) - 1);
            if (!_arg2){
                _local3 = _local4;
            };
            if (_local3 == _local4){
                _local3 = updateStartIfInReadOnlyElement(_arg1.textFlow, _local3);
                _local4 = updateEndIfInReadOnlyElement(_arg1.textFlow, _local4);
            } else {
                _local4 = updateEndIfInReadOnlyElement(_arg1.textFlow, _local4);
            };
            return (_arg1.updateRange(_local3, _local4));
        }
        private static function adjustForOversetForward(_arg1:TextRange):Boolean{
            var _local4:int;
            var _local2:IFlowComposer = _arg1.textFlow.flowComposer;
            var _local3:ContainerController;
            checkCompose(_local2, _arg1.absoluteEnd);
            if (_arg1.absoluteEnd > (_local2.damageAbsoluteStart - 1)){
                clampToFit(_arg1, (_local2.damageAbsoluteStart - 1));
                return (true);
            };
            if (((_local2) && (_local2.numControllers))){
                _local4 = _local2.findControllerIndexAtPosition(_arg1.absoluteEnd);
                if (_local4 >= 0){
                    _local3 = _local2.getControllerAt(_local4);
                };
                if (_local4 == (_local2.numControllers - 1)){
                    if (((((_local3.absoluteStart + _local3.textLength) <= _arg1.absoluteEnd)) && (!(((_local3.absoluteStart + _local3.textLength) == _arg1.textFlow.textLength))))){
                        _local3 = null;
                    };
                };
            };
            if (!_local3){
                _arg1.anchorPosition = _arg1.textFlow.textLength;
                _arg1.activePosition = _arg1.anchorPosition;
                return (true);
            };
            return (false);
        }
        private static function clampToFit(_arg1:TextRange, _arg2:int):void{
            if (_arg2 < 0){
                _arg2 = 0;
            };
            _arg1.anchorPosition = Math.min(_arg1.anchorPosition, _arg2);
            _arg1.activePosition = Math.min(_arg1.activePosition, _arg2);
        }
        private static function adjustForOversetBack(_arg1:TextRange):Boolean{
            var _local2:IFlowComposer = _arg1.textFlow.flowComposer;
            if (_local2){
                checkCompose(_local2, _arg1.absoluteEnd);
                if (_arg1.absoluteEnd > (_local2.damageAbsoluteStart - 1)){
                    clampToFit(_arg1, (_local2.damageAbsoluteStart - 1));
                    return (true);
                };
                if (_local2.findControllerIndexAtPosition(_arg1.absoluteEnd) == -1){
                    _arg1.anchorPosition = endOfLastController(_arg1.textFlow);
                    _arg1.activePosition = _arg1.anchorPosition;
                    return (true);
                };
            };
            return (false);
        }
        private static function checkCompose(_arg1:IFlowComposer, _arg2:int):void{
            if (_arg1.damageAbsoluteStart <= _arg2){
                _arg1.composeToPosition(_arg2);
            };
        }
        private static function endOfLastController(_arg1:TextFlow):int{
            var _local2:IFlowComposer = _arg1.flowComposer;
            if (((!(_local2)) || ((_local2.numControllers <= 0)))){
                return (0);
            };
            var _local3:ContainerController = _local2.getControllerAt((_local2.numControllers - 1));
            return ((_local3.absoluteStart + Math.max((_local3.textLength - 1), 0)));
        }
        private static function isOverset(_arg1:TextFlow, _arg2:int):Boolean{
            var _local3:IFlowComposer = _arg1.flowComposer;
            return (((!(_local3)) || ((_local3.findControllerIndexAtPosition(_arg2) == -1))));
        }
        private static function isScrollable(_arg1:TextFlow, _arg2:int):Boolean{
            var _local5:ContainerController;
            var _local6:String;
            var _local3:IFlowComposer = _arg1.flowComposer;
            if (!_local3){
                return (false);
            };
            var _local4:int = _local3.findControllerIndexAtPosition(_arg2);
            if (_local4 >= 0){
                _local5 = _local3.getControllerAt(_local4);
                _local6 = _local5.rootElement.computedFormat.blockProgression;
                return ((((((_local6 == BlockProgression.TB)) && (!((_local5.verticalScrollPolicy == ScrollPolicy.OFF))))) || ((((_local6 == BlockProgression.RL)) && (!((_local5.horizontalScrollPolicy == ScrollPolicy.OFF)))))));
            };
            return (false);
        }

    }
}//package flashx.textLayout.utils 
﻿package flashx.textLayout.utils {

    public final class Twips {

        public static const ONE_TWIP:Number = 0.05;
        public static const TWIPS_PER_PIXEL:int = 20;
        public static const MAX_VALUE:int = 2147483647;
        public static const MIN_VALUE:int = -2147483648;

        public static function to(_arg1:Number):int{
            return (int((_arg1 * 20)));
        }
        public static function roundTo(_arg1:Number):int{
            return (int((Math.round(_arg1) * 20)));
        }
        public static function from(_arg1:int):Number{
            return ((Number(_arg1) / 20));
        }
        public static function ceil(_arg1:Number):Number{
            return ((Math.ceil((_arg1 * 20)) / 20));
        }
        public static function floor(_arg1:Number):Number{
            return ((Math.floor((_arg1 * 20)) / 20));
        }
        public static function round(_arg1:Number):Number{
            return ((Math.round((_arg1 * 20)) / 20));
        }

    }
}//package flashx.textLayout.utils 
﻿package flashx.textLayout.utils {
    import flash.utils.*;
    import flash.text.engine.*;
    import flashx.textLayout.formats.*;

    public final class LocaleUtil {

        private static var _localeSettings:Dictionary = null;
        private static var _lastLocaleKey:String = "";
        private static var _lastLocale:LocaleSettings = null;

        public static function justificationRule(_arg1:String):String{
            var _local2:LocaleSettings = fetchLocaleSet(_arg1);
            return (_local2.justificationRule);
        }
        public static function justificationStyle(_arg1:String):String{
            var _local2:LocaleSettings = fetchLocaleSet(_arg1);
            return (_local2.justificationStyle);
        }
        public static function leadingModel(_arg1:String):String{
            var _local2:LocaleSettings = fetchLocaleSet(_arg1);
            return (_local2.leadingModel);
        }
        public static function dominantBaseline(_arg1:String):String{
            var _local2:LocaleSettings = fetchLocaleSet(_arg1);
            return (_local2.dominantBaseline);
        }
        private static function addLocale(_arg1:String):LocaleSettings{
            _localeSettings[_arg1] = new LocaleSettings();
            return (_localeSettings[_arg1]);
        }
        private static function initializeDefaultLocales():void{
            _localeSettings = new Dictionary();
            var _local1:LocaleSettings = addLocale("en");
            _local1.justificationRule = JustificationRule.SPACE;
            _local1.justificationStyle = JustificationStyle.PUSH_IN_KINSOKU;
            _local1.leadingModel = LeadingModel.ROMAN_UP;
            _local1.dominantBaseline = TextBaseline.ROMAN;
            _local1 = addLocale("ja");
            _local1.justificationRule = JustificationRule.EAST_ASIAN;
            _local1.justificationStyle = JustificationStyle.PUSH_IN_KINSOKU;
            _local1.leadingModel = LeadingModel.IDEOGRAPHIC_TOP_DOWN;
            _local1.dominantBaseline = TextBaseline.IDEOGRAPHIC_CENTER;
            _local1 = addLocale("zh");
            _local1.justificationRule = JustificationRule.EAST_ASIAN;
            _local1.justificationStyle = JustificationStyle.PUSH_IN_KINSOKU;
            _local1.leadingModel = LeadingModel.IDEOGRAPHIC_TOP_DOWN;
            _local1.dominantBaseline = TextBaseline.IDEOGRAPHIC_CENTER;
        }
        private static function getLocale(_arg1:String):LocaleSettings{
            var _local2:String = _arg1.toLowerCase().substr(0, 2);
            var _local3:LocaleSettings = _localeSettings[_local2];
            return ((((_local3 == null)) ? _localeSettings["en"] : _local3));
        }
        private static function fetchLocaleSet(_arg1:String):LocaleSettings{
            if (_localeSettings == null){
                initializeDefaultLocales();
            };
            if (_arg1 == _lastLocaleKey){
                return (_lastLocale);
            };
            var _local2:LocaleSettings = getLocale(_arg1);
            _lastLocale = _local2;
            _lastLocaleKey = _arg1;
            return (_local2);
        }

    }
}//package flashx.textLayout.utils 

import flashx.textLayout.formats.*;

class LocaleSettings {

    private var _justificationRule:String = null;
    private var _justificationStyle:String = null;
    private var _leadingModel:String = null;
    private var _dominantBaseline:String = null;

    public function LocaleSettings(){
    }
    public function get justificationRule():String{
        return (this._justificationRule);
    }
    public function set justificationRule(_arg1:String):void{
        var _local2:Object = TextLayoutFormat.justificationRuleProperty.setHelper(this._justificationRule, _arg1);
        this._justificationRule = (((_local2 == null)) ? null : (_local2 as String));
    }
    public function get justificationStyle():String{
        return (this._justificationStyle);
    }
    public function set justificationStyle(_arg1:String):void{
        var _local2:Object = TextLayoutFormat.justificationStyleProperty.setHelper(this._justificationStyle, _arg1);
        this._justificationStyle = (((_local2 == null)) ? null : (_local2 as String));
    }
    public function get leadingModel():String{
        return (this._leadingModel);
    }
    public function set leadingModel(_arg1:String):void{
        var _local2:Object = TextLayoutFormat.leadingModelProperty.setHelper(this._leadingModel, _arg1);
        this._leadingModel = (((_local2 == null)) ? null : (_local2 as String));
    }
    public function get dominantBaseline():String{
        return (this._dominantBaseline);
    }
    public function set dominantBaseline(_arg1:String):void{
        var _local2:Object = TextLayoutFormat.dominantBaselineProperty.setHelper(this._dominantBaseline, _arg1);
        this._dominantBaseline = (((_local2 == null)) ? null : (_local2 as String));
    }

}
﻿package flashx.textLayout.utils {

    public final class CharacterUtil {

        private static var whiteSpaceObject:Object = createWhiteSpaceObject();

        public static function isHighSurrogate(_arg1:int):Boolean{
            return ((((_arg1 >= 0xD800)) && ((_arg1 <= 56319))));
        }
        public static function isLowSurrogate(_arg1:int):Boolean{
            return ((((_arg1 >= 0xDC00)) && ((_arg1 <= 57343))));
        }
        private static function createWhiteSpaceObject():Object{
            var _local1:Object = new Object();
            _local1[32] = true;
            _local1[5760] = true;
            _local1[6158] = true;
            _local1[0x2000] = true;
            _local1[8193] = true;
            _local1[8194] = true;
            _local1[8195] = true;
            _local1[8196] = true;
            _local1[8197] = true;
            _local1[8198] = true;
            _local1[8199] = true;
            _local1[8200] = true;
            _local1[8201] = true;
            _local1[8202] = true;
            _local1[8239] = true;
            _local1[8287] = true;
            _local1[0x3000] = true;
            _local1[8232] = true;
            _local1[8233] = true;
            _local1[9] = true;
            _local1[10] = true;
            _local1[11] = true;
            _local1[12] = true;
            _local1[13] = true;
            _local1[133] = true;
            _local1[160] = true;
            return (_local1);
        }
        public static function isWhitespace(_arg1:int):Boolean{
            return (whiteSpaceObject[_arg1]);
        }

    }
}//package flashx.textLayout.utils 
﻿package flashx.textLayout.utils {
    import flash.text.engine.*;
    import flash.geom.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.compose.*;

    public final class GeometryUtil {

        public static function getHighlightBounds(_arg1:TextRange):Array{
            var _local7:TextFlowLine;
            var _local11:Array;
            var _local12:TextLine;
            var _local13:Rectangle;
            var _local14:TextFlowLine;
            var _local15:Object;
            var _local2:IFlowComposer = _arg1.textFlow.flowComposer;
            if (!_local2){
                return (null);
            };
            var _local3:Array = new Array();
            var _local4:int = _local2.findLineIndexAtPosition(_arg1.absoluteStart);
            var _local5:int = (((_arg1.absoluteStart == _arg1.absoluteEnd)) ? _local4 : _local2.findLineIndexAtPosition(_arg1.absoluteEnd));
            if (_local5 >= _local2.numLines){
                _local5 = (_local2.numLines - 1);
            };
            var _local6:TextFlowLine = (((_local4 > 0)) ? _local2.getLineAt((_local4 - 1)) : null);
            var _local8:TextFlowLine = _local2.getLineAt(_local4);
            var _local9:Array = [];
            var _local10:int = _local4;
            while (_local10 <= _local5) {
                _local7 = ((_local10)!=(_local2.numLines - 1)) ? _local2.getLineAt((_local10 + 1)) : null;
                _local11 = _local8.getRomanSelectionHeightAndVerticalAdjustment(_local6, _local7);
                _local12 = _local8.getTextLine(true);
                _local8.calculateSelectionBounds(_local12, _local9, (((_arg1.absoluteStart < _local8.absoluteStart)) ? (_local8.absoluteStart - _local8.paragraph.getAbsoluteStart()) : (_arg1.absoluteStart - _local8.paragraph.getAbsoluteStart())), (((_arg1.absoluteEnd > (_local8.absoluteStart + _local8.textLength))) ? ((_local8.absoluteStart + _local8.textLength) - _local8.paragraph.getAbsoluteStart()) : (_arg1.absoluteEnd - _local8.paragraph.getAbsoluteStart())), _arg1.textFlow.computedFormat.blockProgression, _local11);
                for each (_local13 in _local9) {
                    _local15 = new Object();
                    _local15.textLine = _local12;
                    _local15.rect = _local13.clone();
                    _local3.push(_local15);
                };
                _local9.length = 0;
                _local14 = _local8;
                _local8 = _local7;
                _local6 = _local14;
                _local10++;
            };
            return (_local3);
        }

    }
}//package flashx.textLayout.utils 
﻿package {
    import flash.display.*;

    public dynamic class focusRectSkin extends MovieClip {

    }
}//package 
﻿package {
    import flash.display.*;

    public dynamic class ScrollPane_disabledSkin extends MovieClip {

    }
}//package 
﻿package {
    import flash.display.*;

    public dynamic class ScrollArrowDown_disabledSkin extends MovieClip {

    }
}//package 
﻿package {
    import flash.display.*;

    public dynamic class ScrollTrack_skin extends MovieClip {

    }
}//package 
﻿package {
    import flash.display.*;

    public dynamic class ScrollTrack_Invisible extends MovieClip {

    }
}//package 
﻿package {
    import flash.display.*;

    public dynamic class ScrollArrowDown_downSkin extends MovieClip {

    }
}//package 
﻿package {
    import flash.display.*;

    public dynamic class thumbIcon_Light extends MovieClip {

    }
}//package 
﻿package {
    import flash.display.*;

    public dynamic class ScrollBar_thumbIcon extends MovieClip {

    }
}//package 
﻿package {
    import flash.display.*;

    public dynamic class ScrollArrowUp_downSkin extends MovieClip {

    }
}//package 
﻿package {
    import flash.display.*;

    public dynamic class ScrollArrowDown_overSkin extends MovieClip {

    }
}//package 
﻿package org.httpclient {

    public class HttpResponse {

        private var _message:String;
        private var _header:HttpHeader;
        private var _version:String;
        private var _code:String;

        public function HttpResponse(_arg1:String, _arg2:String, _arg3:String, _arg4:HttpHeader){
            _version = _arg1;
            _code = _arg2;
            _message = _arg3;
            _header = _arg4;
        }
        public function get isSuccess():Boolean{
            return (!((_code.search(/\A2\d\d/) == -1)));
        }
        public function get isInformation():Boolean{
            return (!((_code.search(/\A1\d\d/) == -1)));
        }
        public function toString():String{
            return ((((((((("version: " + _version) + ", code: ") + _code) + ", message: ") + _message) + "\nheader:\n") + _header) + "\n--\n"));
        }
        public function get contentLength():Number{
            var _local1:String = _header.getValue("Content-Length");
            if (!_local1){
                return (-1);
            };
            return (parseInt(_local1));
        }
        public function get message():String{
            return (_message);
        }
        public function get isRedirection():Boolean{
            return (!((_code.search(/\A3\d\d/) == -1)));
        }
        public function get isServerError():Boolean{
            return (!((_code.search(/\A5\d\d/) == -1)));
        }
        public function get isClientError():Boolean{
            return (!((_code.search(/\A4\d\d/) == -1)));
        }
        public function get code():String{
            return (_code);
        }
        public function get isChunked():Boolean{
            return (_header.contains("Transfer-Encoding", "Chunked"));
        }
        public function get header():HttpHeader{
            return (_header);
        }
        public function get version():String{
            return (_version);
        }

    }
}//package org.httpclient 
﻿package org.httpclient {
    import com.adobe.utils.*;

    public class HttpHeader {

        private var _headers:Array;

        public function HttpHeader(_arg1:Array=null){
            _headers = _arg1;
            if (!_headers){
                _headers = [];
            };
        }
        public function get content():String{
            var _local2:Object;
            var _local1 = "";
            for each (_local2 in _headers) {
                _local1 = (_local1 + (((_local2["name"] + ": ") + _local2["value"]) + "\r\n"));
            };
            return (_local1);
        }
        public function add(_arg1:String, _arg2:String):void{
            _headers.push({
                name:_arg1,
                value:_arg2
            });
        }
        public function get isEmpty():Boolean{
            return ((_headers.length == 0));
        }
        public function remove(_arg1:String):void{
            var _local2:int = indexOf(_arg1);
            if (_local2 != -1){
                _headers.splice(_local2, 1);
            };
        }
        public function get length():Number{
            return (_headers.length);
        }
        public function indexOf(_arg1:String):int{
            var _local2:int;
            while (_local2 < _headers.length) {
                if (_headers[_local2]["name"].toLowerCase() == _arg1.toLowerCase()){
                    return (_local2);
                };
                _local2++;
            };
            return (-1);
        }
        public function toString():String{
            var _local2:Object;
            var _local1:Array = [];
            for each (_local2 in _headers) {
                _local1.push(((_local2["name"] + ": ") + _local2["value"]));
            };
            return (_local1.join("\n"));
        }
        public function replace(_arg1:String, _arg2:String):void{
            if (_arg2 == null){
                remove(_arg1);
                return;
            };
            var _local3:Object = find(_arg1);
            if (_local3){
                _local3["value"] = _arg2;
            } else {
                add(_arg1, _arg2);
            };
        }
        public function find(_arg1:String):Object{
            var _local2:int = indexOf(_arg1);
            if (_local2 != -1){
                return (_headers[_local2]);
            };
            return (null);
        }
        public function getValue(_arg1:String):String{
            var _local2:Object = find(_arg1);
            if (_local2){
                return (_local2["value"]);
            };
            return (null);
        }
        public function contains(_arg1:String, _arg2:String):Boolean{
            var _local3:Object = find(_arg1);
            if (!_local3){
                return (false);
            };
            return ((StringUtil.trim(_local3["value"].toLowerCase()) == _arg2.toLowerCase()));
        }

    }
}//package org.httpclient 
﻿package org.httpclient {
    import flash.utils.*;
    import com.adobe.net.*;
    import flash.events.*;
    import com.hurlant.crypto.tls.*;
    import org.httpclient.events.*;
    import flash.net.*;
    import org.httpclient.io.*;
    import flash.errors.*;

    public class HttpSocket {

        public static const HTTP_VERSION:String = "1.1";
        public static const DEFAULT_HTTPS_PORT:uint = 443;
        public static const DEFAULT_HTTP_PORT:uint = 80;

        private var _timer:HttpTimer;
        private var _responseBuffer:HttpResponseBuffer;
        private var _closed:Boolean;
        private var _dispatcher:EventDispatcher;
        private var _socket;
        private var _onConnect:Function;
        private var _proxy:URI;
        private var _requestBuffer:HttpRequestBuffer;

        public function HttpSocket(_arg1:EventDispatcher, _arg2:Number=60000, _arg3:URI=null){
            _dispatcher = _arg1;
            _timer = new HttpTimer(_arg2, onTimeout);
            _proxy = _arg3;
        }
        private function onTimeout(_arg1:Number):void{
            _dispatcher.dispatchEvent(new HttpErrorEvent(HttpErrorEvent.TIMEOUT_ERROR, false, false, "Timeout", 0));
            close();
        }
        private function onIOError(_arg1:IOErrorEvent):void{
            if (_closed){
                return;
            };
            close();
            _dispatcher.dispatchEvent(_arg1.clone());
        }
        private function onRequestComplete(_arg1:HttpRequest, _arg2:String):void{
            _dispatcher.dispatchEvent(new HttpRequestEvent(_arg1, _arg2));
        }
        private function onResponseData(_arg1:ByteArray):void{
            _dispatcher.dispatchEvent(new HttpDataEvent(_arg1));
        }
        protected function createSocket(_arg1:Boolean=false):void{
            if (((_arg1) && (!(_proxy)))){
                _socket = new TLSSocket();
            } else {
                _socket = new Socket();
            };
            _socket.addEventListener(Event.CONNECT, onConnect);
            _socket.addEventListener(Event.CLOSE, onClose);
            _socket.addEventListener(IOErrorEvent.IO_ERROR, onIOError);
            _socket.addEventListener(SecurityErrorEvent.SECURITY_ERROR, onSecurityError);
            _socket.addEventListener(ProgressEvent.SOCKET_DATA, onSocketData);
        }
        private function onSecurityError(_arg1:SecurityErrorEvent):void{
            if (_closed){
                return;
            };
            close();
            _dispatcher.dispatchEvent(_arg1.clone());
        }
        public function request(_arg1:URI, _arg2:HttpRequest):void{
            var uri:* = _arg1;
            var request:* = _arg2;
            var onConnect:* = function (_arg1:Event):void{
                _dispatcher.dispatchEvent(new HttpRequestEvent(request, null, HttpRequestEvent.CONNECT));
                if ((((uri.scheme == "https")) && (_proxy))){
                    connectProxy(uri, request);
                } else {
                    sendRequest(uri, request);
                };
            };
            connect(uri, onConnect);
        }
        private function onResponseComplete(_arg1:HttpResponse):void{
            Log.debug("Response complete");
            if (!(_socket is TLSSocket)){
                close();
            };
            onComplete(_arg1);
        }
        private function onConnect(_arg1:Event):void{
            if (_onConnect != null){
                _onConnect(_arg1);
            };
        }
        protected function sendRequest(_arg1:URI, _arg2:HttpRequest):void{
            var _local4:ByteArray;
            _responseBuffer = new HttpResponseBuffer(_arg2.hasResponseBody, onResponseHeader, onResponseData, onResponseComplete);
            Log.debug((((("Request URI: " + _arg1) + " (") + _arg2.method) + ")"));
            var _local3:ByteArray = _arg2.getHeader(_arg1, _proxy, HTTP_VERSION);
            Log.debug(("Header:\n" + _local3.readUTFBytes(_local3.length)));
            _local3.position = 0;
            _socket.writeBytes(_local3);
            _socket.flush();
            _timer.reset();
            if (_arg2.hasRequestBody){
                _requestBuffer = new HttpRequestBuffer(_arg2.body);
                Log.debug("Sending request data");
                while (_requestBuffer.hasData) {
                    _local4 = _requestBuffer.read();
                    if (_local4.length > 0){
                        _socket.writeBytes(_local4);
                        _timer.reset();
                        _socket.flush();
                    };
                };
            };
            Log.debug("Send request done");
            _local3.position = 0;
            onRequestComplete(_arg2, _local3.readUTFBytes(_local3.length));
        }
        private function onClose(_arg1:Event):void{
            var _local2:HttpResponse;
            _dispatcher.dispatchEvent(_arg1.clone());
            if (_responseBuffer){
                _local2 = _responseBuffer.header;
                if (((((_local2) && ((_local2.contentLength == -1)))) && (!(_local2.isChunked)))){
                    onComplete(_local2);
                };
            };
        }
        protected function connect(_arg1:URI, _arg2:Function=null):void{
            _onConnect = _arg2;
            var _local3 = (_arg1.scheme == "https");
            createSocket(_local3);
            _timer.start();
            var _local4:int = ((_proxy) ? Number(_proxy.port) : Number(_arg1.port));
            if (!_local4){
                _local4 = getDefaultPort(_local3);
            };
            var _local5:String = ((_proxy) ? _proxy.authority : _arg1.authority);
            Log.debug(((("Connecting: host: " + _local5) + ", port: ") + _local4));
            _socket.connect(_local5, _local4);
        }
        protected function connectProxy(_arg1:URI, _arg2:HttpRequest):void{
            var proxyResponse:* = null;
            var uri:* = _arg1;
            var request:* = _arg2;
            var onProxyHeader:* = function (_arg1:HttpResponse):void{
                proxyResponse = _arg1;
            };
            var onProxyData:* = function (_arg1:ByteArray):void{
            };
            var onProxyComplete:* = function (_arg1:Number):void{
                var _local2:TLSSocket;
                _timer.stop();
                if (proxyResponse.isSuccess){
                    _local2 = new TLSSocket();
                    _local2.startTLS(_socket, uri.authority);
                    _socket = _local2;
                    _socket.addEventListener(Event.CONNECT, onConnect);
                    _socket.addEventListener(Event.CLOSE, onClose);
                    _socket.addEventListener(IOErrorEvent.IO_ERROR, onIOError);
                    _socket.addEventListener(SecurityErrorEvent.SECURITY_ERROR, onSecurityError);
                    _socket.addEventListener(ProgressEvent.SOCKET_DATA, onSocketData);
                    sendRequest(uri, request);
                } else {
                    _dispatcher.dispatchEvent(new HttpErrorEvent(HttpErrorEvent.ERROR, false, false, "CONNECT method failed", 1));
                };
            };
            _responseBuffer = new HttpResponseBuffer(false, onProxyHeader, onProxyData, onProxyComplete);
            var bytes:* = new ByteArray();
            bytes.writeUTFBytes((((((("CONNECT " + uri.authority) + ":") + ((uri.port) ? uri.port : DEFAULT_HTTPS_PORT)) + " HTTP/") + HTTP_VERSION) + "\r\n\r\n"));
            bytes.position = 0;
            _socket.writeBytes(bytes);
            _socket.flush();
            _timer.reset();
            Log.debug("Send CONNECT done");
        }
        public function getDefaultPort(_arg1:Boolean=false):uint{
            if (_arg1){
                return (DEFAULT_HTTPS_PORT);
            };
            return (DEFAULT_HTTP_PORT);
        }
        private function onResponseHeader(_arg1:HttpResponse):void{
            Log.debug(("Response: " + _arg1.code));
            _dispatcher.dispatchEvent(new HttpStatusEvent(_arg1));
        }
        public function close():void{
            if (_closed){
                return;
            };
            _closed = true;
            Log.debug("Called close");
            _timer.stop();
            if (((_socket) && (_socket.connected))){
                _socket.close();
                _socket = null;
            };
            _dispatcher.dispatchEvent(new Event(Event.CLOSE));
        }
        private function onSocketData(_arg1:ProgressEvent):void{
            var bytes:* = null;
            var event:* = _arg1;
            while (((((_socket) && (_socket.connected))) && (_socket.bytesAvailable))) {
                _timer.reset();
                try {
                    bytes = new ByteArray();
                    _socket.readBytes(bytes, 0, _socket.bytesAvailable);
                    bytes.position = 0;
                    _responseBuffer.writeBytes(bytes);
                } catch(e:EOFError) {
                    Log.debug("EOF");
                    _dispatcher.dispatchEvent(new HttpErrorEvent(HttpErrorEvent.ERROR, false, false, "EOF", 1));
                    break;
                };
            };
        }
        private function onComplete(_arg1:HttpResponse):void{
            _timer.stop();
            _dispatcher.dispatchEvent(new HttpResponseEvent(_arg1));
        }

    }
}//package org.httpclient 
﻿package org.httpclient.http {
    import org.httpclient.*;

    public class Delete extends HttpRequest {

        public function Delete(){
            super("DELETE");
        }
        override public function get hasResponseBody():Boolean{
            return (true);
        }
        override public function get hasRequestBody():Boolean{
            return (false);
        }

    }
}//package org.httpclient.http 
﻿package org.httpclient.http {
    import org.httpclient.*;

    public class Post extends HttpRequest {

        public function Post(_arg1:Array=null){
            super("POST");
            if (_arg1){
                setFormData(_arg1);
            };
        }
        override public function get hasResponseBody():Boolean{
            return (true);
        }
        override public function get hasRequestBody():Boolean{
            return (true);
        }

    }
}//package org.httpclient.http 
﻿package org.httpclient.http {
    import org.httpclient.*;

    public class Put extends HttpRequest {

        public function Put(){
            super("PUT");
        }
        override public function get hasResponseBody():Boolean{
            return (true);
        }
        override public function get hasRequestBody():Boolean{
            return (true);
        }

    }
}//package org.httpclient.http 
﻿package org.httpclient.http.multipart {
    import flash.utils.*;

    public class Multipart {

        private static const BOUNDARY_CHARS:String = "-_1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
        public static const BOUNDARY:String = "----------------314159265358979323846";

        private var _partIndex:int = 0;
        private var _parts:Array;
        private var _bytesSent:uint = 0;
        private var _footerSent:Boolean = false;
        private var _footer:ByteArray;

        public function Multipart(_arg1:Array){
            _parts = [];
            super();
            _parts = _arg1;
            _footer = footer();
        }
        private static function generateBoundary():String{
            var _local4:Number;
            var _local1:Number = (Math.round((Math.random() * 10)) * 30);
            var _local2 = "";
            var _local3:Number = 0;
            while (_local3 < _local1) {
                _local4 = Math.round((Math.random() * (BOUNDARY_CHARS.length - 1)));
                _local2 = (_local2 + BOUNDARY_CHARS.charAt(_local4));
                _local3++;
            };
            return (_local2);
        }

        public function get length():uint{
            var _local2:Part;
            var _local1:uint;
            for each (_local2 in _parts) {
                _local1 = (_local1 + _local2.length);
            };
            _local1 = (_local1 + _footer.length);
            return (_local1);
        }
        public function get currentPart():Part{
            if (!hasMoreParts){
                return (null);
            };
            return (Part(_parts[_partIndex]));
        }
        protected function get hasMoreParts():Boolean{
            return ((_partIndex < _parts.length));
        }
        public function readBytes(_arg1:ByteArray, _arg2:uint, _arg3:uint):void{
            if (!hasMoreParts){
                if (!_footerSent){
                    _footer.readBytes(_arg1, _arg2, _arg3);
                    _footerSent = true;
                };
                return;
            };
            currentPart.readBytes(_arg1, _arg2, _arg3);
            _bytesSent = (_bytesSent + _arg1.length);
            if (_bytesSent >= currentPart.length){
                currentPart.close();
                _partIndex = (_partIndex + 1);
                _bytesSent = 0;
            };
        }
        protected function footer():ByteArray{
            var _local1:ByteArray = new ByteArray();
            _local1.writeUTFBytes((("--" + Multipart.BOUNDARY) + "--\r\n"));
            _local1.position = 0;
            return (_local1);
        }
        public function get bytesAvailable():uint{
            if (hasMoreParts){
                return (currentPart.bytesAvailable);
            };
            if (!_footerSent){
                return (_footer.bytesAvailable);
            };
            return (0);
        }

    }
}//package org.httpclient.http.multipart 
﻿package org.httpclient.http.multipart {
    import flash.utils.*;

    public class Part {

        private var _contentDispositionExtras:Array;
        private var _name:String;
        private var _header:ByteArray;
        private var _payload;
        private var _contentType:String;
        private var _footer:ByteArray;
        private var _contentTransferEncoding:String;

        public function Part(_arg1:String, _arg2, _arg3:String=null, _arg4:Array=null, _arg5:String=null){
            var _local6:ByteArray;
            super();
            if ((_arg2 is String)){
                _local6 = new ByteArray();
                _local6.writeUTFBytes(_arg2);
                _local6.position = 0;
                _arg2 = _local6;
            };
            _name = _arg1;
            _payload = _arg2;
            _contentType = _arg3;
            _contentDispositionExtras = _arg4;
            _contentTransferEncoding = _arg5;
            _header = header();
            _footer = footer();
        }
        protected function footer():ByteArray{
            var _local1:ByteArray = new ByteArray();
            _local1.writeUTFBytes("\r\n");
            _local1.position = 0;
            return (_local1);
        }
        private function get nextBytes(){
            if (_header.bytesAvailable > 0){
                return (_header);
            };
            if (_payload.bytesAvailable > 0){
                return (_payload);
            };
            if (_footer.bytesAvailable > 0){
                return (_footer);
            };
            throw (Error("Nothing left for part"));
        }
        public function get length():uint{
            return (((_payload.length + _header.length) + _footer.length));
        }
        public function get bytesAvailable():uint{
            return (nextBytes.bytesAvailable);
        }
        public function close():void{
            if (!(_payload is ByteArray)){
                _payload.close();
            };
        }
        public function readBytes(_arg1:ByteArray, _arg2:uint=0, _arg3:uint=0):void{
            if (nextBytes.bytesAvailable > 0){
                _arg3 = Math.min(_arg3, nextBytes.bytesAvailable);
                nextBytes.readBytes(_arg1, _arg2, _arg3);
            };
        }
        protected function header():ByteArray{
            var bytes:* = null;
            bytes = new ByteArray();
            bytes.writeUTFBytes((("--" + Multipart.BOUNDARY) + "\r\n"));
            bytes.writeUTFBytes("Content-Disposition: form-data; ");
            if (_name){
                bytes.writeUTFBytes((("name=\"" + _name) + "\""));
            };
            if (_contentDispositionExtras){
                _contentDispositionExtras.forEach(function (_arg1, _arg2:int, _arg3:Array):void{
                    bytes.writeUTFBytes((((("; " + _arg1.name) + "=\"") + _arg1.value) + "\""));
                });
            };
            bytes.writeUTFBytes("\r\n");
            if (_contentType){
                bytes.writeUTFBytes((("Content-Type: " + _contentType) + "\r\n"));
            };
            if (_contentTransferEncoding){
                bytes.writeUTFBytes((("Content-Transfer-Encoding: " + _contentTransferEncoding) + "\r\n"));
            };
            bytes.writeUTFBytes("\r\n");
            bytes.position = 0;
            return (bytes);
        }

    }
}//package org.httpclient.http.multipart 
﻿package org.httpclient.http {
    import org.httpclient.*;

    public class Head extends HttpRequest {

        public function Head(){
            super("HEAD");
        }
        override public function get hasResponseBody():Boolean{
            return (false);
        }
        override public function get hasRequestBody():Boolean{
            return (false);
        }

    }
}//package org.httpclient.http 
﻿package org.httpclient.http {
    import org.httpclient.*;

    public class Get extends HttpRequest {

        public function Get(){
            super("GET");
        }
        override public function get hasResponseBody():Boolean{
            return (true);
        }
        override public function get hasRequestBody():Boolean{
            return (false);
        }

    }
}//package org.httpclient.http 
﻿package org.httpclient.io {
    import org.httpclient.*;
    import flash.utils.*;
    import flash.errors.*;

    public class HttpResponseBuffer {

        private var _bodyBytesRead:Number = 0;
        private var _responseBody:HttpBuffer;
        private var _hasResponseBody:Boolean;
        private var _onResponseData:Function;
        private var _onResponseHeader:Function;
        private var _responseHeader:HttpResponse;
        private var _isPayloadDone:Boolean = false;
        private var _onResponseComplete:Function;
        private var _headerData:Array;
        private var _buffer:HttpBuffer;

        public function HttpResponseBuffer(_arg1:Boolean, _arg2:Function, _arg3:Function, _arg4:Function){
            _buffer = new HttpBuffer();
            _headerData = [];
            _responseBody = new HttpBuffer();
            super();
            _hasResponseBody = _arg1;
            _onResponseHeader = _arg2;
            _onResponseData = _arg3;
            _onResponseComplete = _arg4;
        }
        private function handlePayload(_arg1:ByteArray):Boolean{
            if (_responseHeader.isChunked){
                _responseBody.write(_arg1);
                _bodyBytesRead = (_bodyBytesRead + _arg1.length);
                return (_responseBody.readChunks(_onResponseData));
            };
            if (_arg1.bytesAvailable > 0){
                _onResponseData(_arg1);
                _bodyBytesRead = (_bodyBytesRead + _arg1.length);
            };
            Log.debug(((("Bytes read (body): " + _bodyBytesRead) + ", content length: ") + _responseHeader.contentLength));
            return (((!((_responseHeader.contentLength == -1))) && ((_bodyBytesRead >= _responseHeader.contentLength))));
        }
        protected function parseHeader(_arg1:Array):HttpResponse{
            var _local9:int;
            var _local10:String;
            var _local11:String;
            var _local2:String = _arg1[0];
            var _local3:Array = _local2.match(/\AHTTP(?:\/(\d+\.\d+))?\s+(\d\d\d)\s*(.*)\z/);
            if (!_local3){
                throw (new Error(((("Invalid header: " + _local2) + ", matches: ") + _local3)));
            };
            var _local4:String = _local3[1];
            var _local5:String = _local3[2];
            var _local6:String = _local3[3];
            var _local7:Array = [];
            var _local8:Number = 1;
            while (_local8 < _arg1.length) {
                _local2 = _arg1[_local8];
                _local9 = _local2.indexOf(":");
                if (_local9 != -1){
                    _local10 = _local2.substring(0, _local9);
                    _local11 = _local2.substring((_local9 + 1), _local2.length);
                    _local7.push({
                        name:_local10,
                        value:_local11
                    });
                } else {
                    Log.warn(("Invalid header: " + _local2));
                };
                _local8++;
            };
            return (new HttpResponse(_local4, _local5, _local6, new HttpHeader(_local7)));
        }
        public function get header():HttpResponse{
            return (_responseHeader);
        }
        public function writeBytes(_arg1:ByteArray):void{
            var _local2:String;
            var _local3:ByteArray;
            if (_isPayloadDone){
                return;
            };
            if (!_responseHeader){
                _buffer.write(_arg1);
                _local2 = _buffer.readLine(true);
                while (_local2 != null) {
                    if (_local2 == ""){
                        _responseHeader = parseHeader(_headerData);
                        Log.debug(("Response header:\n" + _responseHeader));
                        _onResponseHeader(_responseHeader);
                        if (_responseHeader.isInformation){
                            _buffer.truncate();
                            _responseHeader = null;
                            _isPayloadDone = false;
                        } else {
                            if (_responseHeader.code == "204"){
                                _hasResponseBody = false;
                            } else {
                                _local3 = _buffer.readAvailable();
                                Log.debug(("Response payload (from parsing header): " + _local3.length));
                                _isPayloadDone = handlePayload(_local3);
                                break;
                            };
                        };
                    } else {
                        _headerData.push(_local2);
                    };
                    _local2 = _buffer.readLine(true);
                };
            } else {
                Log.debug(("Response payload: " + _arg1.length));
                _isPayloadDone = handlePayload(_arg1);
            };
            Log.debug(((("Has response body? " + _hasResponseBody) + "; Payload done? ") + _isPayloadDone));
            if (((!(_hasResponseBody)) || (_isPayloadDone))){
                _onResponseComplete(_responseHeader);
            };
        }

    }
}//package org.httpclient.io 
﻿package org.httpclient.io {
    import flash.utils.*;

    public class HttpRequestBuffer {

        private static const BLOCK_SIZE:uint = 0x4000;

        private var _body;
        private var _bytesSent:uint = 0;

        public function HttpRequestBuffer(_arg1){
            _body = _arg1;
        }
        public function read():ByteArray{
            var _local2:uint;
            var _local1:ByteArray = new ByteArray();
            if (_body.bytesAvailable > 0){
                _local2 = Math.min(BLOCK_SIZE, _body.bytesAvailable);
                _body.readBytes(_local1, 0, _local2);
                _local1.position = 0;
                _bytesSent = (_bytesSent + _local1.length);
            };
            return (_local1);
        }
        public function get bytesSent():uint{
            return (_bytesSent);
        }
        public function get hasData():Boolean{
            if (!_body){
                return (false);
            };
            return ((_bytesSent < _body.length));
        }

    }
}//package org.httpclient.io 
﻿package org.httpclient.io {
    import org.httpclient.*;
    import flash.utils.*;
    import com.adobe.utils.*;

    public class HttpBuffer {

        protected var _data:ByteArray;
        protected var _chunkLength:uint = 0;
        protected var _cursor:uint = 0;

        public function HttpBuffer(){
            _data = new ByteArray();
            super();
        }
        public function truncate():void{
            var _local1:ByteArray = new ByteArray();
            if (_data.bytesAvailable){
                _data.readBytes(_local1);
            };
            _data = _local1;
            _cursor = 0;
        }
        public function readLine(_arg1:Boolean=false):String{
            var _local6:int;
            if (_data.bytesAvailable == 0){
                return (null);
            };
            var _local2:uint = _data.position;
            var _local3:ByteArray = new ByteArray();
            var _local4:Boolean;
            while (_data.bytesAvailable > 0) {
                _local6 = _data.readByte();
                _local3.writeByte(_local6);
                if (_local6 == 10){
                    _local4 = true;
                    break;
                };
            };
            var _local5:String;
            if (_local4){
                _local3.position = 0;
                _local5 = _local3.readUTFBytes(_local3.length);
                _cursor = _data.position;
                return (((_arg1) ? StringUtil.rtrim(_local5) : _local5));
            };
            _data.position = _cursor;
            return (null);
        }
        public function read(_arg1:ByteArray):void{
            _data.readBytes(_arg1);
            _cursor = _data.position;
        }
        public function readAvailable():ByteArray{
            var _local1:ByteArray = new ByteArray();
            read(_local1);
            _local1.position = 0;
            return (_local1);
        }
        public function readChunks(_arg1:Function):Boolean{
            var _local2:String;
            var _local3:Array;
            var _local4:String;
            var _local5:Number;
            var _local6:ByteArray;
            while (_data.bytesAvailable > 0) {
                if (_chunkLength == 0){
                    _local2 = readLine();
                    if (!_local2){
                        throw (new Error("No data available"));
                    };
                    _local3 = _local2.match(/\A([0-9a-fA-F]+).*/);
                    if (!_local3){
                        throw (new Error(("Invalid chunk; trying to find chunk length at line: " + _local2)));
                    };
                    _local4 = _local3[1];
                    _local5 = parseInt(_local4, 16);
                    Log.debug(("Chunk size: " + _local5));
                    if (_local5 <= 0){
                        return (true);
                    };
                    _chunkLength = _local5;
                };
                if (_data.bytesAvailable >= (_chunkLength + 2)){
                    _local6 = new ByteArray();
                    _data.readBytes(_local6, 0, _chunkLength);
                    Log.debug(("Read chunk size: " + _chunkLength));
                    _data.position = (_data.position + 2);
                    _cursor = _data.position;
                    _chunkLength = 0;
                    _arg1(_local6);
                } else {
                    truncate();
                    return (false);
                };
            };
            return (false);
        }
        public function get bytesAvailable():uint{
            return (_data.bytesAvailable);
        }
        public function write(_arg1:ByteArray):void{
            _data.position = _data.length;
            _data.writeBytes(_arg1);
            _data.position = _cursor;
        }

    }
}//package org.httpclient.io 
﻿package org.httpclient {
    import org.httpclient.http.multipart.*;
    import com.adobe.net.*;
    import flash.events.*;
    import org.httpclient.events.*;
    import org.httpclient.http.*;
    import flash.errors.*;

    public class HttpClient extends EventDispatcher {

        private var _timeout:int;
        private var _proxy:URI;
        private var _socket:HttpSocket;
        private var _listener;

        public function HttpClient(_arg1:URI=null, _arg2:int=60000){
            _timeout = _arg2;
            _proxy = _arg1;
        }
        public function post(_arg1:URI, _arg2, _arg3:String=null):void{
            var _local4:Post = new Post();
            _local4.body = _arg2;
            _local4.contentType = _arg3;
            request(_arg1, _local4);
        }
        public function get timeout():int{
            return (_timeout);
        }
        public function set timeout(_arg1:int):void{
            _timeout = _arg1;
        }
        public function del(_arg1:URI):void{
            request(_arg1, new Delete());
        }
        public function put(_arg1:URI, _arg2, _arg3:String=null):void{
            var _local4:Put = new Put();
            _local4.body = _arg2;
            _local4.contentType = _arg3;
            request(_arg1, _local4);
        }
        public function set listener(_arg1:HttpListener):void{
            if (_listener){
                _listener.unregister(this);
            };
            _listener = _arg1;
            if (_listener){
                _listener.register(this);
            };
        }
        public function postMultipart(_arg1:URI, _arg2:Multipart):void{
            var _local3:Post = new Post();
            _local3.setMultipart(_arg2);
            request(_arg1, _local3);
        }
        public function head(_arg1:URI):void{
            request(_arg1, new Head());
        }
        public function postFormData(_arg1:URI, _arg2:Array):void{
            request(_arg1, new Post(_arg2));
        }
        public function upload(_arg1:URI, _arg2, _arg3:String="PUT"):void{
            var _local4:HttpRequest;
            if (_arg3 == "PUT"){
                _local4 = new Put();
            } else {
                if (_arg3 == "POST"){
                    _local4 = new Post();
                } else {
                    throw (new ArgumentError("Method must be PUT or POST"));
                };
            };
            throw (new IllegalOperationError("Not supported, comment out the line above"));
        }
        public function get listener():HttpListener{
            if (!_listener){
                _listener = new HttpListener();
                _listener.register(this);
            };
            return (_listener);
        }
        public function putFormData(_arg1:URI, _arg2:Array):void{
            var _local3:Put = new Put();
            _local3.setFormData(_arg2);
            request(_arg1, _local3);
        }
        public function request(_arg1:URI, _arg2:HttpRequest, _arg3:int=-1, _arg4:HttpListener=null):void{
            if (_arg3 == -1){
                _arg3 = _timeout;
            };
            var _local5:EventDispatcher;
            if (_arg4 != null){
                _local5 = _arg4.register();
            } else {
                _local5 = this;
            };
            _socket = new HttpSocket(_local5, _arg3, _proxy);
            _socket.request(_arg1, _arg2);
        }
        public function close():void{
            cancel();
            this.listener = null;
        }
        public function cancel():void{
            _socket.close();
        }
        public function get(_arg1:URI, _arg2:HttpListener=null):void{
            request(_arg1, new Get(), -1, _arg2);
        }

    }
}//package org.httpclient 
﻿package org.httpclient {
    import org.httpclient.http.multipart.*;
    import flash.utils.*;
    import com.adobe.net.*;
    import com.hurlant.util.*;
    import flash.errors.*;

    public class HttpRequest {

        public static const kUriPathEscapeBitmap:URIEncodingBitmap = new URIEncodingBitmap(" %?#");
        public static const kUriQueryEscapeBitmap:URIEncodingBitmap = new URIEncodingBitmap(" %=|:?#/@+\\");

        protected var _method:String;
        protected var _body;
        protected var _header:HttpHeader;

        public function HttpRequest(_arg1:String, _arg2:HttpHeader=null, _arg3=null){
            _method = _arg1;
            _body = _arg3;
            _header = _arg2;
            if (!_header){
                _header = new HttpHeader();
            };
            loadDefaultHeaders();
        }
        public function getHeader(_arg1:URI, _arg2:URI=null, _arg3:String=null):ByteArray{
            var _local8:String;
            var _local10:String;
            var _local11:String;
            var _local12:RegExp;
            var _local13:String;
            var _local14:String;
            _arg1.forceEscape();
            var _local4:ByteArray = new ByteArray();
            var _local5:String = _arg1.path;
            if (!_local5){
                _local5 = "/";
            } else {
                _local5 = URI.fastEscapeChars(_local5, kUriPathEscapeBitmap);
            };
            var _local6:Object = _arg1.getQueryByMap();
            var _local7:Array = [];
            for (_local8 in _local6) {
                _local10 = URI.fastEscapeChars(_local8, kUriQueryEscapeBitmap);
                _local11 = URI.fastEscapeChars(_local6[_local8], kUriQueryEscapeBitmap);
                _local7.push(((_local10 + "=") + _local11));
            };
            if (_local7.length > 0){
                _local5 = (_local5 + ("?" + _local7.join("&")));
            };
            var _local9:String = _arg1.authority;
            if (_arg1.port){
                _local9 = (_local9 + (":" + _arg1.port));
            };
            if (!_arg3){
                _arg3 = "1.1";
            };
            if (_arg2){
                _local12 = /\?.*$/;
                _local13 = (_arg1.toString().replace(_local12, "?") + _local7.join("&"));
                _local4.writeUTFBytes((((((method + " ") + _local13) + " HTTP/") + _arg3) + "\r\n"));
            } else {
                _local4.writeUTFBytes((((((method + " ") + _local5) + " HTTP/") + _arg3) + "\r\n"));
            };
            _local4.writeUTFBytes((("Host: " + _local9) + "\r\n"));
            if (((((_arg2) && (_arg2.username))) && (_arg2.password))){
                _local14 = ((_arg2.username + ":") + _arg2.password);
                addHeader("Proxy-Authorization", ("Basic " + Base64.encode(_local14)));
            };
            if (!header.isEmpty){
                _local4.writeUTFBytes(header.content);
            };
            _local4.writeUTFBytes("\r\n");
            _local4.position = 0;
            return (_local4);
        }
        public function set body(_arg1):void{
            _body = _arg1;
            _header.replace("Content-Length", _body.length);
        }
        public function set contentType(_arg1:String):void{
            _header.replace("Content-Type", _arg1);
        }
        public function get method():String{
            return (_method);
        }
        public function get body(){
            return (_body);
        }
        public function setMultipart(_arg1:Multipart):void{
            if (_body){
                throw (new IllegalOperationError("The body content was already set; You can only set using either setMultipart, setFormData or body="));
            };
            _header.replace("Content-Type", ("multipart/form-data; boundary=" + Multipart.BOUNDARY));
            _header.replace("Content-Length", String(_arg1.length));
            _body = _arg1;
        }
        protected function loadDefaultHeaders():void{
            addHeader("Connection", "close");
        }
        public function get header():HttpHeader{
            return (_header);
        }
        public function addHeader(_arg1:String, _arg2:String):void{
            _header.add(_arg1, _arg2);
        }
        public function setFormData(_arg1:Array, _arg2:String="&"):void{
            var params:* = _arg1;
            var sep:String = _arg2;
            if (_body){
                throw (new IllegalOperationError("The body content was already set; You can only set using either setMultipart, setFormData or body="));
            };
            _header.replace("Content-Type", "application/x-www-form-urlencoded");
            _body = new ByteArray();
            _body.writeUTFBytes(params.map(function (_arg1, _arg2:int, _arg3:Array):String{
                return (((encodeURIComponent(_arg1.name) + "=") + encodeURIComponent(_arg1.value)));
            }).join(sep));
            _body.position = 0;
            _header.replace("Content-Length", _body.length);
        }
        public function get hasRequestBody():Boolean{
            throw (new Error("Must use a request subclass with this method defined."));
        }
        public function toString():String{
            return (((((("method: " + _method) + ", header: ") + _header) + ", body: ") + _body));
        }
        public function get hasResponseBody():Boolean{
            throw (new Error("Must use a request subclass with this method defined."));
        }

    }
}//package org.httpclient 
﻿package org.httpclient {
    import flash.utils.*;
    import flash.events.*;

    public class HttpTimer {

        private var _onTimeout:Function;
        private var _timer:Timer;
        private var _timeout:Number = 60000;
        private var _lastSeen:Number = -1;

        public function HttpTimer(_arg1:Number, _arg2:Function){
            if (_arg1 <= 0){
                throw (new ArgumentError("Timeout should be specified in milliseconds greater than 0"));
            };
            if (_arg1 > 0){
                _timeout = _arg1;
            };
            _onTimeout = _arg2;
            _timer = new Timer(1000);
            _timer.addEventListener(TimerEvent.TIMER, onTimer);
        }
        public function stop():void{
            _timer.stop();
        }
        public function reset():void{
            _lastSeen = new Date().time;
        }
        public function start():void{
            reset();
            _timer.start();
        }
        public function onTimer(_arg1:TimerEvent):void{
            var _local2:Number = (now - _lastSeen);
            if (_local2 > _timeout){
                _onTimeout(_local2);
                reset();
            };
        }
        public function get now():Number{
            return (new Date().time);
        }

    }
}//package org.httpclient 
﻿package org.httpclient {
    import flash.utils.*;

    public class Log {

        public static const WARN:Number = 3;
        public static const ERROR:Number = 4;
        public static const INFO:Number = 2;
        public static const OFF:Number = 5;
        public static const DEBUG:Number = 1;

        public static var level:Number = 2;

        public static function error(... _args):void{
            output(("[ERROR] " + describeArgsToString(_args)));
        }
        private static function output(_arg1:String):void{
            trace(_arg1);
        }
        public static function describeArgs(_arg1:Array):Array{
            var args:* = _arg1;
            return (args.map(function (_arg1, _arg2:int, _arg3:Array){
                return (describe(_arg1));
            }));
        }
        public static function describe(_arg1):String{
            var key:* = null;
            var obj:* = _arg1;
            if (obj == null){
                return ("null");
            };
            if ((obj is String)){
                return (obj.toString());
            };
            if ((obj is Number)){
                return (obj.toString());
            };
            if ((obj is Function)){
                return ("(Function)");
            };
            if ((obj is Array)){
                return ((("[ " + (obj as Array).map(function (_arg1, _arg2:int, _arg3:Array):String{
                    return (describe(_arg1));
                }).join(", ")) + " ]"));
            };
            var entries:* = [];
            for (key in obj) {
                if (obj[key] == obj){
                } else {
                    entries.push(((key + ": ") + obj[key]));
                };
            };
            if (entries.length > 0){
                return ((("{" + entries.join(", ")) + "}"));
            };
            var className:* = getQualifiedClassName(obj);
            return (((("(" + className) + ") ") + obj.toString()));
        }
        public static function describeArgsToString(_arg1:Array):String{
            if (_arg1.length == 0){
                return ("");
            };
            var _local2:Array = describeArgs(_arg1);
            if (_local2.length == 0){
                return ("");
            };
            return (_local2.join(", "));
        }
        public static function warn(... _args):void{
            if (level > WARN){
                return;
            };
            output(("[WARNING] " + describeArgsToString(_args)));
        }
        public static function debug(... _args):void{
            if (level > DEBUG){
                return;
            };
            output(describeArgsToString(_args));
        }

    }
}//package org.httpclient 
﻿package org.httpclient.events {
    import flash.utils.*;

    public class HttpDataListener extends HttpListener {

        public var onDataComplete:Function = null;
        private var _data:ByteArray = null;

        public function HttpDataListener(_arg1:Object=null){
            super(_arg1);
            if (((_arg1) && (!((_arg1["onDataComplete"] == undefined))))){
                onDataComplete = _arg1.onDataComplete;
            };
            _data = new ByteArray();
        }
        override protected function onInternalComplete(_arg1:HttpResponseEvent):void{
            if (onDataComplete != null){
                onDataComplete(_arg1, _data);
            };
            _data = null;
            super.onInternalComplete(_arg1);
        }
        override protected function onInternalData(_arg1:HttpDataEvent):void{
            if (_data != null){
                _data.writeBytes(_arg1.bytes, 0, _arg1.bytes.length);
            };
            super.onInternalData(_arg1);
        }

    }
}//package org.httpclient.events 
﻿package org.httpclient.events {
    import org.httpclient.*;
    import flash.events.*;

    public class HttpResponseEvent extends Event {

        public static const COMPLETE:String = "responseComplete";

        private var _response:HttpResponse;

        public function HttpResponseEvent(_arg1:HttpResponse, _arg2:String="responseComplete", _arg3:Boolean=false, _arg4:Boolean=false):void{
            super(_arg2, _arg3, _arg4);
            _response = _arg1;
        }
        public function get response():HttpResponse{
            return (_response);
        }

    }
}//package org.httpclient.events 
﻿package org.httpclient.events {
    import org.httpclient.*;
    import flash.events.*;

    public class HttpStatusEvent extends Event {

        public static const STATUS:String = "httpStatus";

        private var _response:HttpResponse;

        public function HttpStatusEvent(_arg1:HttpResponse, _arg2:String="httpStatus", _arg3:Boolean=false, _arg4:Boolean=false):void{
            super(_arg2, _arg3, _arg4);
            _response = _arg1;
        }
        public function get response():HttpResponse{
            return (_response);
        }
        public function get code():String{
            return (_response.code);
        }
        public function get header():HttpHeader{
            return (_response.header);
        }

    }
}//package org.httpclient.events 
﻿package org.httpclient.events {
    import flash.events.*;

    public class HttpErrorEvent extends ErrorEvent {

        public static const ERROR:String = "httpError";
        public static const TIMEOUT_ERROR:String = "httpTimeoutError";

        public function HttpErrorEvent(_arg1:String="httpError", _arg2:Boolean=false, _arg3:Boolean=false, _arg4:String="", _arg5:int=0):void{
            super(_arg1, _arg2, _arg3, _arg4);
        }
    }
}//package org.httpclient.events 
﻿package org.httpclient.events {
    import flash.events.*;

    public class HttpListener extends EventDispatcher {

        public var onClose:Function = null;
        public var onData:Function = null;
        public var onConnect:Function = null;
        public var onError:Function = null;
        public var onStatus:Function = null;
        public var onRequest:Function = null;
        public var onComplete:Function = null;

        public function HttpListener(_arg1:Object=null){
            if (_arg1){
                if (_arg1["onClose"] != undefined){
                    onClose = _arg1.onClose;
                };
                if (_arg1["onComplete"] != undefined){
                    onComplete = _arg1.onComplete;
                };
                if (_arg1["onConnect"] != undefined){
                    onConnect = _arg1.onConnect;
                };
                if (_arg1["onData"] != undefined){
                    onData = _arg1.onData;
                };
                if (_arg1["onError"] != undefined){
                    onError = _arg1.onError;
                };
                if (_arg1["onStatus"] != undefined){
                    onStatus = _arg1.onStatus;
                };
                if (_arg1["onRequest"] != undefined){
                    onRequest = _arg1.onRequest;
                };
            };
        }
        public function register(_arg1:EventDispatcher=null):HttpListener{
            if (_arg1 == null){
                _arg1 = this;
            };
            _arg1.addEventListener(Event.CLOSE, onInternalClose);
            _arg1.addEventListener(HttpResponseEvent.COMPLETE, onInternalComplete);
            _arg1.addEventListener(HttpRequestEvent.CONNECT, onInternalConnect);
            _arg1.addEventListener(HttpDataEvent.DATA, onInternalData);
            _arg1.addEventListener(HttpErrorEvent.ERROR, onInternalError);
            _arg1.addEventListener(HttpErrorEvent.TIMEOUT_ERROR, onInternalError);
            _arg1.addEventListener(HttpStatusEvent.STATUS, onInternalStatus);
            _arg1.addEventListener(HttpRequestEvent.COMPLETE, onInternalRequest);
            _arg1.addEventListener(IOErrorEvent.IO_ERROR, onInternalError);
            _arg1.addEventListener(SecurityErrorEvent.SECURITY_ERROR, onInternalError);
            return (this);
        }
        protected function onInternalData(_arg1:HttpDataEvent):void{
            if (onData != null){
                onData(_arg1);
            };
        }
        protected function onInternalError(_arg1:ErrorEvent):void{
            if (onError != null){
                onError(_arg1);
            };
        }
        protected function onInternalConnect(_arg1:HttpRequestEvent):void{
            if (onConnect != null){
                onConnect(_arg1);
            };
        }
        protected function onInternalClose(_arg1:Event):void{
            if (onClose != null){
                onClose(_arg1);
            };
        }
        protected function onInternalComplete(_arg1:HttpResponseEvent):void{
            if (onComplete != null){
                onComplete(_arg1);
            };
        }
        protected function onInternalRequest(_arg1:HttpRequestEvent):void{
            if (onRequest != null){
                onRequest(_arg1);
            };
        }
        public function unregister(_arg1:EventDispatcher=null):HttpListener{
            if (_arg1 == null){
                _arg1 = this;
            };
            _arg1.removeEventListener(Event.CLOSE, onInternalClose);
            _arg1.removeEventListener(HttpResponseEvent.COMPLETE, onInternalComplete);
            _arg1.removeEventListener(HttpRequestEvent.CONNECT, onInternalConnect);
            _arg1.removeEventListener(HttpDataEvent.DATA, onInternalData);
            _arg1.removeEventListener(HttpErrorEvent.ERROR, onInternalError);
            _arg1.removeEventListener(HttpErrorEvent.TIMEOUT_ERROR, onInternalError);
            _arg1.removeEventListener(HttpStatusEvent.STATUS, onInternalStatus);
            _arg1.removeEventListener(HttpRequestEvent.COMPLETE, onInternalRequest);
            _arg1.removeEventListener(IOErrorEvent.IO_ERROR, onInternalError);
            _arg1.removeEventListener(SecurityErrorEvent.SECURITY_ERROR, onInternalError);
            return (this);
        }
        protected function onInternalStatus(_arg1:HttpStatusEvent):void{
            if (onStatus != null){
                onStatus(_arg1);
            };
        }

    }
}//package org.httpclient.events 
﻿package org.httpclient.events {
    import org.httpclient.*;
    import flash.events.*;

    public class HttpRequestEvent extends Event {

        public static const COMPLETE:String = "requestComplete";
        public static const CONNECT:String = "requestConnect";

        private var _request:HttpRequest;
        private var _header:String;

        public function HttpRequestEvent(_arg1:HttpRequest, _arg2:String, _arg3:String="requestComplete", _arg4:Boolean=false, _arg5:Boolean=false):void{
            super(_arg3, _arg4, _arg5);
            _request = _arg1;
            _header = _arg2;
        }
        public function get header():String{
            return (_header);
        }
        public function get request():HttpRequest{
            return (_request);
        }

    }
}//package org.httpclient.events 
﻿package org.httpclient.events {
    import flash.utils.*;
    import flash.events.*;

    public class HttpDataEvent extends Event {

        public static const DATA:String = "httpData";

        private var _bytes:ByteArray;

        public function HttpDataEvent(_arg1:ByteArray, _arg2:String="httpData", _arg3:Boolean=false, _arg4:Boolean=false):void{
            super(_arg2, _arg3, _arg4);
            _bytes = _arg1;
        }
        public function readUTFBytes():String{
            return (_bytes.readUTFBytes(_bytes.length));
        }
        public function get bytes():ByteArray{
            return (_bytes);
        }

    }
}//package org.httpclient.events 
﻿package {
    import flash.display.*;

    public dynamic class TextArea_disabledSkin extends MovieClip {

    }
}//package 
﻿package {
    import flash.display.*;

    public dynamic class ScrollPane_upSkin extends MovieClip {

    }
}//package 
﻿package fl.controls {
    import flash.display.*;
    import flash.utils.*;
    import fl.core.*;
    import flash.events.*;
    import fl.events.*;

    public class BaseButton extends UIComponent {

        private static var defaultStyles:Object = {
            upSkin:"Button_upSkin",
            downSkin:"Button_downSkin",
            overSkin:"Button_overSkin",
            disabledSkin:"Button_disabledSkin",
            selectedDisabledSkin:"Button_selectedDisabledSkin",
            selectedUpSkin:"Button_selectedUpSkin",
            selectedDownSkin:"Button_selectedDownSkin",
            selectedOverSkin:"Button_selectedOverSkin",
            focusRectSkin:null,
            focusRectPadding:null,
            repeatDelay:500,
            repeatInterval:35
        };

        protected var background:DisplayObject;
        protected var mouseState:String;
        protected var _selected:Boolean = false;
        protected var _autoRepeat:Boolean = false;
        protected var pressTimer:Timer;
        private var _mouseStateLocked:Boolean = false;
        private var unlockedMouseState:String;

        public function BaseButton(){
            buttonMode = true;
            mouseChildren = false;
            useHandCursor = false;
            setupMouseEvents();
            setMouseState("up");
            pressTimer = new Timer(1, 0);
            pressTimer.addEventListener(TimerEvent.TIMER, buttonDown, false, 0, true);
        }
        public static function getStyleDefinition():Object{
            return (defaultStyles);
        }

        override public function get enabled():Boolean{
            return (super.enabled);
        }
        override public function set enabled(_arg1:Boolean):void{
            super.enabled = _arg1;
            mouseEnabled = _arg1;
        }
        public function get selected():Boolean{
            return (_selected);
        }
        public function set selected(_arg1:Boolean):void{
            if (_selected == _arg1){
                return;
            };
            _selected = _arg1;
            invalidate(InvalidationType.STATE);
        }
        public function get autoRepeat():Boolean{
            return (_autoRepeat);
        }
        public function set autoRepeat(_arg1:Boolean):void{
            _autoRepeat = _arg1;
        }
        public function set mouseStateLocked(_arg1:Boolean):void{
            _mouseStateLocked = _arg1;
            if (_arg1 == false){
                setMouseState(unlockedMouseState);
            } else {
                unlockedMouseState = mouseState;
            };
        }
        public function setMouseState(_arg1:String):void{
            if (_mouseStateLocked){
                unlockedMouseState = _arg1;
                return;
            };
            if (mouseState == _arg1){
                return;
            };
            mouseState = _arg1;
            invalidate(InvalidationType.STATE);
        }
        protected function setupMouseEvents():void{
            addEventListener(MouseEvent.ROLL_OVER, mouseEventHandler, false, 0, true);
            addEventListener(MouseEvent.MOUSE_DOWN, mouseEventHandler, false, 0, true);
            addEventListener(MouseEvent.MOUSE_UP, mouseEventHandler, false, 0, true);
            addEventListener(MouseEvent.ROLL_OUT, mouseEventHandler, false, 0, true);
        }
        protected function mouseEventHandler(_arg1:MouseEvent):void{
            if (_arg1.type == MouseEvent.MOUSE_DOWN){
                setMouseState("down");
                startPress();
            } else {
                if ((((_arg1.type == MouseEvent.ROLL_OVER)) || ((_arg1.type == MouseEvent.MOUSE_UP)))){
                    setMouseState("over");
                    endPress();
                } else {
                    if (_arg1.type == MouseEvent.ROLL_OUT){
                        setMouseState("up");
                        endPress();
                    };
                };
            };
        }
        protected function startPress():void{
            if (_autoRepeat){
                pressTimer.delay = Number(getStyleValue("repeatDelay"));
                pressTimer.start();
            };
            dispatchEvent(new ComponentEvent(ComponentEvent.BUTTON_DOWN, true));
        }
        protected function buttonDown(_arg1:TimerEvent):void{
            if (!_autoRepeat){
                endPress();
                return;
            };
            if (pressTimer.currentCount == 1){
                pressTimer.delay = Number(getStyleValue("repeatInterval"));
            };
            dispatchEvent(new ComponentEvent(ComponentEvent.BUTTON_DOWN, true));
        }
        protected function endPress():void{
            pressTimer.reset();
        }
        override protected function draw():void{
            if (isInvalid(InvalidationType.STYLES, InvalidationType.STATE)){
                drawBackground();
                invalidate(InvalidationType.SIZE, false);
            };
            if (isInvalid(InvalidationType.SIZE)){
                drawLayout();
            };
            super.draw();
        }
        protected function drawBackground():void{
            var _local1:String = ((enabled) ? mouseState : "disabled");
            if (selected){
                _local1 = (("selected" + _local1.substr(0, 1).toUpperCase()) + _local1.substr(1));
            };
            _local1 = (_local1 + "Skin");
            var _local2:DisplayObject = background;
            background = getDisplayObjectInstance(getStyleValue(_local1));
            addChildAt(background, 0);
            if (((!((_local2 == null))) && (!((_local2 == background))))){
                removeChild(_local2);
            };
        }
        protected function drawLayout():void{
            background.width = width;
            background.height = height;
        }

    }
}//package fl.controls 
﻿package fl.controls {

    public class ScrollBarDirection {

        public static const VERTICAL:String = "vertical";
        public static const HORIZONTAL:String = "horizontal";

    }
}//package fl.controls 
﻿package fl.controls {
    import flash.display.*;
    import fl.core.*;
    import flash.events.*;
    import flash.text.*;
    import flash.ui.*;
    import fl.managers.*;
    import flash.system.*;
    import fl.events.*;

    public class TextArea extends UIComponent implements IFocusManagerComponent {

        protected static const SCROLL_BAR_STYLES:Object = {
            downArrowDisabledSkin:"downArrowDisabledSkin",
            downArrowDownSkin:"downArrowDownSkin",
            downArrowOverSkin:"downArrowOverSkin",
            downArrowUpSkin:"downArrowUpSkin",
            upArrowDisabledSkin:"upArrowDisabledSkin",
            upArrowDownSkin:"upArrowDownSkin",
            upArrowOverSkin:"upArrowOverSkin",
            upArrowUpSkin:"upArrowUpSkin",
            thumbDisabledSkin:"thumbDisabledSkin",
            thumbDownSkin:"thumbDownSkin",
            thumbOverSkin:"thumbOverSkin",
            thumbUpSkin:"thumbUpSkin",
            thumbIcon:"thumbIcon",
            trackDisabledSkin:"trackDisabledSkin",
            trackDownSkin:"trackDownSkin",
            trackOverSkin:"trackOverSkin",
            trackUpSkin:"trackUpSkin",
            repeatDelay:"repeatDelay",
            repeatInterval:"repeatInterval"
        };

        private static var defaultStyles:Object = {
            upSkin:"TextArea_upSkin",
            disabledSkin:"TextArea_disabledSkin",
            focusRectSkin:null,
            focusRectPadding:null,
            textFormat:null,
            disabledTextFormat:null,
            textPadding:3,
            embedFonts:false
        };
        public static var createAccessibilityImplementation:Function;

        public var textField:TextField;
        protected var _editable:Boolean = true;
        protected var _wordWrap:Boolean = true;
        protected var _horizontalScrollPolicy:String = "auto";
        protected var _verticalScrollPolicy:String = "auto";
        protected var _horizontalScrollBar:UIScrollBar;
        protected var _verticalScrollBar:UIScrollBar;
        protected var background:DisplayObject;
        protected var _html:Boolean = false;
        protected var _savedHTML:String;
        protected var textHasChanged:Boolean = false;

        public static function getStyleDefinition():Object{
            return (UIComponent.mergeStyles(defaultStyles, ScrollBar.getStyleDefinition()));
        }

        public function get horizontalScrollBar():UIScrollBar{
            return (_horizontalScrollBar);
        }
        public function get verticalScrollBar():UIScrollBar{
            return (_verticalScrollBar);
        }
        override public function get enabled():Boolean{
            return (super.enabled);
        }
        override public function set enabled(_arg1:Boolean):void{
            super.enabled = _arg1;
            mouseChildren = enabled;
            invalidate(InvalidationType.STATE);
        }
        public function get text():String{
            return (textField.text);
        }
        public function set text(_arg1:String):void{
            if (((componentInspectorSetting) && ((_arg1 == "")))){
                return;
            };
            textField.text = _arg1;
            _html = false;
            invalidate(InvalidationType.DATA);
            invalidate(InvalidationType.STYLES);
            textHasChanged = true;
        }
        public function get htmlText():String{
            return (textField.htmlText);
        }
        public function set htmlText(_arg1:String):void{
            if (((componentInspectorSetting) && ((_arg1 == "")))){
                return;
            };
            if (_arg1 == ""){
                text = "";
                return;
            };
            _html = true;
            _savedHTML = _arg1;
            textField.htmlText = _arg1;
            invalidate(InvalidationType.DATA);
            invalidate(InvalidationType.STYLES);
            textHasChanged = true;
        }
        public function get condenseWhite():Boolean{
            return (textField.condenseWhite);
        }
        public function set condenseWhite(_arg1:Boolean):void{
            textField.condenseWhite = _arg1;
            invalidate(InvalidationType.DATA);
        }
        public function get horizontalScrollPolicy():String{
            return (_horizontalScrollPolicy);
        }
        public function set horizontalScrollPolicy(_arg1:String):void{
            _horizontalScrollPolicy = _arg1;
            invalidate(InvalidationType.SIZE);
        }
        public function get verticalScrollPolicy():String{
            return (_verticalScrollPolicy);
        }
        public function set verticalScrollPolicy(_arg1:String):void{
            _verticalScrollPolicy = _arg1;
            invalidate(InvalidationType.SIZE);
        }
        public function get horizontalScrollPosition():Number{
            return (textField.scrollH);
        }
        public function set horizontalScrollPosition(_arg1:Number):void{
            drawNow();
            textField.scrollH = _arg1;
        }
        public function get verticalScrollPosition():Number{
            return (textField.scrollV);
        }
        public function set verticalScrollPosition(_arg1:Number):void{
            drawNow();
            textField.scrollV = _arg1;
        }
        public function get textWidth():Number{
            drawNow();
            return (textField.textWidth);
        }
        public function get textHeight():Number{
            drawNow();
            return (textField.textHeight);
        }
        public function get length():Number{
            return (textField.text.length);
        }
        public function get restrict():String{
            return (textField.restrict);
        }
        public function set restrict(_arg1:String):void{
            if (((componentInspectorSetting) && ((_arg1 == "")))){
                _arg1 = null;
            };
            textField.restrict = _arg1;
        }
        public function get maxChars():int{
            return (textField.maxChars);
        }
        public function set maxChars(_arg1:int):void{
            textField.maxChars = _arg1;
        }
        public function get maxHorizontalScrollPosition():int{
            return (textField.maxScrollH);
        }
        public function get maxVerticalScrollPosition():int{
            return (textField.maxScrollV);
        }
        public function get wordWrap():Boolean{
            return (_wordWrap);
        }
        public function set wordWrap(_arg1:Boolean):void{
            _wordWrap = _arg1;
            invalidate(InvalidationType.STATE);
        }
        public function get selectionBeginIndex():int{
            return (textField.selectionBeginIndex);
        }
        public function get selectionEndIndex():int{
            return (textField.selectionEndIndex);
        }
        public function get displayAsPassword():Boolean{
            return (textField.displayAsPassword);
        }
        public function set displayAsPassword(_arg1:Boolean):void{
            textField.displayAsPassword = _arg1;
        }
        public function get editable():Boolean{
            return (_editable);
        }
        public function set editable(_arg1:Boolean):void{
            _editable = _arg1;
            invalidate(InvalidationType.STATE);
        }
        public function get imeMode():String{
            return (IME.conversionMode);
        }
        public function set imeMode(_arg1:String):void{
            _imeMode = _arg1;
        }
        public function get alwaysShowSelection():Boolean{
            return (textField.alwaysShowSelection);
        }
        public function set alwaysShowSelection(_arg1:Boolean):void{
            textField.alwaysShowSelection = _arg1;
        }
        override public function drawFocus(_arg1:Boolean):void{
            if (focusTarget != null){
                focusTarget.drawFocus(_arg1);
                return;
            };
            super.drawFocus(_arg1);
        }
        public function getLineMetrics(_arg1:int):TextLineMetrics{
            return (textField.getLineMetrics(_arg1));
        }
        public function setSelection(_arg1:int, _arg2:int):void{
            textField.setSelection(_arg1, _arg2);
        }
        public function appendText(_arg1:String):void{
            textField.appendText(_arg1);
            invalidate(InvalidationType.DATA);
        }
        override protected function configUI():void{
            super.configUI();
            tabChildren = true;
            textField = new TextField();
            addChild(textField);
            updateTextFieldType();
            _verticalScrollBar = new UIScrollBar();
            _verticalScrollBar.name = "V";
            _verticalScrollBar.visible = false;
            _verticalScrollBar.focusEnabled = false;
            copyStylesToChild(_verticalScrollBar, SCROLL_BAR_STYLES);
            _verticalScrollBar.addEventListener(ScrollEvent.SCROLL, handleScroll, false, 0, true);
            addChild(_verticalScrollBar);
            _horizontalScrollBar = new UIScrollBar();
            _horizontalScrollBar.name = "H";
            _horizontalScrollBar.visible = false;
            _horizontalScrollBar.focusEnabled = false;
            _horizontalScrollBar.direction = ScrollBarDirection.HORIZONTAL;
            copyStylesToChild(_horizontalScrollBar, SCROLL_BAR_STYLES);
            _horizontalScrollBar.addEventListener(ScrollEvent.SCROLL, handleScroll, false, 0, true);
            addChild(_horizontalScrollBar);
            textField.addEventListener(TextEvent.TEXT_INPUT, handleTextInput, false, 0, true);
            textField.addEventListener(Event.CHANGE, handleChange, false, 0, true);
            textField.addEventListener(KeyboardEvent.KEY_DOWN, handleKeyDown, false, 0, true);
            _horizontalScrollBar.scrollTarget = textField;
            _verticalScrollBar.scrollTarget = textField;
            addEventListener(MouseEvent.MOUSE_WHEEL, handleWheel, false, 0, true);
        }
        protected function updateTextFieldType():void{
            textField.type = ((((enabled) && (_editable))) ? TextFieldType.INPUT : TextFieldType.DYNAMIC);
            textField.selectable = enabled;
            textField.wordWrap = _wordWrap;
            textField.multiline = true;
        }
        protected function handleKeyDown(_arg1:KeyboardEvent):void{
            if (_arg1.keyCode == Keyboard.ENTER){
                dispatchEvent(new ComponentEvent(ComponentEvent.ENTER, true));
            };
        }
        protected function handleChange(_arg1:Event):void{
            _arg1.stopPropagation();
            dispatchEvent(new Event(Event.CHANGE, true));
            invalidate(InvalidationType.DATA);
        }
        protected function handleTextInput(_arg1:TextEvent):void{
            _arg1.stopPropagation();
            dispatchEvent(new TextEvent(TextEvent.TEXT_INPUT, true, false, _arg1.text));
        }
        protected function handleScroll(_arg1:ScrollEvent):void{
            dispatchEvent(_arg1);
        }
        protected function handleWheel(_arg1:MouseEvent):void{
            if (((!(enabled)) || (!(_verticalScrollBar.visible)))){
                return;
            };
            _verticalScrollBar.scrollPosition = (_verticalScrollBar.scrollPosition - (_arg1.delta * _verticalScrollBar.lineScrollSize));
            dispatchEvent(new ScrollEvent(ScrollBarDirection.VERTICAL, (_arg1.delta * _verticalScrollBar.lineScrollSize), _verticalScrollBar.scrollPosition));
        }
        protected function setEmbedFont(){
            var _local1:Object = getStyleValue("embedFonts");
            if (_local1 != null){
                textField.embedFonts = _local1;
            };
        }
        override protected function draw():void{
            if (isInvalid(InvalidationType.STATE)){
                updateTextFieldType();
            };
            if (isInvalid(InvalidationType.STYLES)){
                setStyles();
                setEmbedFont();
            };
            if (isInvalid(InvalidationType.STYLES, InvalidationType.STATE)){
                drawTextFormat();
                drawBackground();
                invalidate(InvalidationType.SIZE, false);
            };
            if (isInvalid(InvalidationType.SIZE, InvalidationType.DATA)){
                drawLayout();
            };
            super.draw();
        }
        protected function setStyles():void{
            copyStylesToChild(_verticalScrollBar, SCROLL_BAR_STYLES);
            copyStylesToChild(_horizontalScrollBar, SCROLL_BAR_STYLES);
        }
        protected function drawTextFormat():void{
            var _local1:Object = UIComponent.getStyleDefinition();
            var _local2:TextFormat = ((enabled) ? (_local1.defaultTextFormat as TextFormat) : (_local1.defaultDisabledTextFormat as TextFormat));
            textField.setTextFormat(_local2);
            var _local3:TextFormat = (getStyleValue(((enabled) ? "textFormat" : "disabledTextFormat")) as TextFormat);
            if (_local3 != null){
                textField.setTextFormat(_local3);
            } else {
                _local3 = _local2;
            };
            textField.defaultTextFormat = _local3;
            setEmbedFont();
            if (_html){
                textField.htmlText = _savedHTML;
            };
        }
        protected function drawBackground():void{
            var _local1:DisplayObject = background;
            var _local2:String = ((enabled) ? "upSkin" : "disabledSkin");
            background = getDisplayObjectInstance(getStyleValue(_local2));
            if (background != null){
                addChildAt(background, 0);
            };
            if (((((!((_local1 == null))) && (!((_local1 == background))))) && (contains(_local1)))){
                removeChild(_local1);
            };
        }
        protected function drawLayout():void{
            var _local1:Number = Number(getStyleValue("textPadding"));
            textField.x = (textField.y = _local1);
            background.width = width;
            background.height = height;
            var _local2:Number = height;
            var _local3:Boolean = needVScroll();
            var _local4:Number = (width - ((_local3) ? _verticalScrollBar.width : 0));
            var _local5:Boolean = needHScroll();
            if (_local5){
                _local2 = (_local2 - _horizontalScrollBar.height);
            };
            setTextSize(_local4, _local2, _local1);
            if (((((_local5) && (!(_local3)))) && (needVScroll()))){
                _local3 = true;
                _local4 = (_local4 - _verticalScrollBar.width);
                setTextSize(_local4, _local2, _local1);
            };
            if (_local3){
                _verticalScrollBar.visible = true;
                _verticalScrollBar.x = (width - _verticalScrollBar.width);
                _verticalScrollBar.height = _local2;
                _verticalScrollBar.visible = true;
                _verticalScrollBar.enabled = enabled;
            } else {
                _verticalScrollBar.visible = false;
            };
            if (_local5){
                _horizontalScrollBar.visible = true;
                _horizontalScrollBar.y = (height - _horizontalScrollBar.height);
                _horizontalScrollBar.width = _local4;
                _horizontalScrollBar.visible = true;
                _horizontalScrollBar.enabled = enabled;
            } else {
                _horizontalScrollBar.visible = false;
            };
            updateScrollBars();
            addEventListener(Event.ENTER_FRAME, delayedLayoutUpdate, false, 0, true);
        }
        protected function delayedLayoutUpdate(_arg1:Event):void{
            if (textHasChanged){
                textHasChanged = false;
                drawLayout();
                return;
            };
            removeEventListener(Event.ENTER_FRAME, delayedLayoutUpdate);
        }
        protected function updateScrollBars(){
            _horizontalScrollBar.update();
            _verticalScrollBar.update();
            _verticalScrollBar.enabled = enabled;
            _horizontalScrollBar.enabled = enabled;
            _horizontalScrollBar.drawNow();
            _verticalScrollBar.drawNow();
        }
        protected function needVScroll():Boolean{
            if (_verticalScrollPolicy == ScrollPolicy.OFF){
                return (false);
            };
            if (_verticalScrollPolicy == ScrollPolicy.ON){
                return (true);
            };
            return ((textField.maxScrollV > 1));
        }
        protected function needHScroll():Boolean{
            if (_horizontalScrollPolicy == ScrollPolicy.OFF){
                return (false);
            };
            if (_horizontalScrollPolicy == ScrollPolicy.ON){
                return (true);
            };
            return ((textField.maxScrollH > 0));
        }
        protected function setTextSize(_arg1:Number, _arg2:Number, _arg3:Number):void{
            var _local4:Number = (_arg1 - (_arg3 * 2));
            var _local5:Number = (_arg2 - (_arg3 * 2));
            if (_local4 != textField.width){
                textField.width = _local4;
            };
            if (_local5 != textField.height){
                textField.height = _local5;
            };
        }
        override protected function isOurFocus(_arg1:DisplayObject):Boolean{
            return ((((_arg1 == textField)) || (super.isOurFocus(_arg1))));
        }
        override protected function focusInHandler(_arg1:FocusEvent):void{
            setIMEMode(true);
            if (_arg1.target == this){
                stage.focus = textField;
            };
            var _local2:IFocusManager = focusManager;
            if (_local2){
                if (editable){
                    _local2.showFocusIndicator = true;
                };
                _local2.defaultButtonEnabled = false;
            };
            super.focusInHandler(_arg1);
            if (editable){
                setIMEMode(true);
            };
        }
        override protected function focusOutHandler(_arg1:FocusEvent):void{
            var _local2:IFocusManager = focusManager;
            if (_local2){
                _local2.defaultButtonEnabled = true;
            };
            setSelection(0, 0);
            super.focusOutHandler(_arg1);
            if (editable){
                setIMEMode(false);
            };
        }

    }
}//package fl.controls 
﻿package fl.controls {

    public class ScrollPolicy {

        public static const ON:String = "on";
        public static const AUTO:String = "auto";
        public static const OFF:String = "off";

    }
}//package fl.controls 
﻿package fl.controls {
    import flash.display.*;
    import fl.core.*;
    import flash.events.*;
    import flash.text.*;
    import flash.ui.*;
    import fl.managers.*;
    import fl.events.*;

    public class LabelButton extends BaseButton implements IFocusManagerComponent {

        private static var defaultStyles:Object = {
            icon:null,
            upIcon:null,
            downIcon:null,
            overIcon:null,
            disabledIcon:null,
            selectedDisabledIcon:null,
            selectedUpIcon:null,
            selectedDownIcon:null,
            selectedOverIcon:null,
            textFormat:null,
            disabledTextFormat:null,
            textPadding:5,
            embedFonts:false
        };
        public static var createAccessibilityImplementation:Function;

        public var textField:TextField;
        protected var _labelPlacement:String = "right";
        protected var _toggle:Boolean = false;
        protected var icon:DisplayObject;
        protected var oldMouseState:String;
        protected var _label:String = "Label";
        protected var mode:String = "center";

        public static function getStyleDefinition():Object{
            return (mergeStyles(defaultStyles, BaseButton.getStyleDefinition()));
        }

        public function get label():String{
            return (_label);
        }
        public function set label(_arg1:String):void{
            _label = _arg1;
            if (textField.text != _label){
                textField.text = _label;
                dispatchEvent(new ComponentEvent(ComponentEvent.LABEL_CHANGE));
            };
            invalidate(InvalidationType.SIZE);
            invalidate(InvalidationType.STYLES);
        }
        public function get labelPlacement():String{
            return (_labelPlacement);
        }
        public function set labelPlacement(_arg1:String):void{
            _labelPlacement = _arg1;
            invalidate(InvalidationType.SIZE);
        }
        public function get toggle():Boolean{
            return (_toggle);
        }
        public function set toggle(_arg1:Boolean):void{
            if (((!(_arg1)) && (super.selected))){
                selected = false;
            };
            _toggle = _arg1;
            if (_toggle){
                addEventListener(MouseEvent.CLICK, toggleSelected, false, 0, true);
            } else {
                removeEventListener(MouseEvent.CLICK, toggleSelected);
            };
            invalidate(InvalidationType.STATE);
        }
        protected function toggleSelected(_arg1:MouseEvent):void{
            selected = !(selected);
            dispatchEvent(new Event(Event.CHANGE, true));
        }
        override public function get selected():Boolean{
            return (((_toggle) ? _selected : false));
        }
        override public function set selected(_arg1:Boolean):void{
            _selected = _arg1;
            if (_toggle){
                invalidate(InvalidationType.STATE);
            };
        }
        override protected function configUI():void{
            super.configUI();
            textField = new TextField();
            textField.type = TextFieldType.DYNAMIC;
            textField.selectable = false;
            addChild(textField);
        }
        override protected function draw():void{
            if (textField.text != _label){
                label = _label;
            };
            if (isInvalid(InvalidationType.STYLES, InvalidationType.STATE)){
                drawBackground();
                drawIcon();
                drawTextFormat();
                invalidate(InvalidationType.SIZE, false);
            };
            if (isInvalid(InvalidationType.SIZE)){
                drawLayout();
            };
            if (isInvalid(InvalidationType.SIZE, InvalidationType.STYLES)){
                if (((isFocused) && (focusManager.showFocusIndicator))){
                    drawFocus(true);
                };
            };
            validate();
        }
        protected function drawIcon():void{
            var _local1:DisplayObject = icon;
            var _local2:String = ((enabled) ? mouseState : "disabled");
            if (selected){
                _local2 = (("selected" + _local2.substr(0, 1).toUpperCase()) + _local2.substr(1));
            };
            _local2 = (_local2 + "Icon");
            var _local3:Object = getStyleValue(_local2);
            if (_local3 == null){
                _local3 = getStyleValue("icon");
            };
            if (_local3 != null){
                icon = getDisplayObjectInstance(_local3);
            };
            if (icon != null){
                addChildAt(icon, 1);
            };
            if (((!((_local1 == null))) && (!((_local1 == icon))))){
                removeChild(_local1);
            };
        }
        protected function drawTextFormat():void{
            var _local1:Object = UIComponent.getStyleDefinition();
            var _local2:TextFormat = ((enabled) ? (_local1.defaultTextFormat as TextFormat) : (_local1.defaultDisabledTextFormat as TextFormat));
            textField.setTextFormat(_local2);
            var _local3:TextFormat = (getStyleValue(((enabled) ? "textFormat" : "disabledTextFormat")) as TextFormat);
            if (_local3 != null){
                textField.setTextFormat(_local3);
            } else {
                _local3 = _local2;
            };
            textField.defaultTextFormat = _local3;
            setEmbedFont();
        }
        protected function setEmbedFont(){
            var _local1:Object = getStyleValue("embedFonts");
            if (_local1 != null){
                textField.embedFonts = _local1;
            };
        }
        override protected function drawLayout():void{
            var _local7:Number;
            var _local8:Number;
            var _local1:Number = Number(getStyleValue("textPadding"));
            var _local2:String = (((((icon == null)) && ((mode == "center")))) ? ButtonLabelPlacement.TOP : _labelPlacement);
            textField.height = (textField.textHeight + 4);
            var _local3:Number = (textField.textWidth + 4);
            var _local4:Number = (textField.textHeight + 4);
            var _local5:Number = ((icon)==null) ? 0 : (icon.width + _local1);
            var _local6:Number = ((icon)==null) ? 0 : (icon.height + _local1);
            textField.visible = (label.length > 0);
            if (icon != null){
                icon.x = Math.round(((width - icon.width) / 2));
                icon.y = Math.round(((height - icon.height) / 2));
            };
            if (textField.visible == false){
                textField.width = 0;
                textField.height = 0;
            } else {
                if ((((_local2 == ButtonLabelPlacement.BOTTOM)) || ((_local2 == ButtonLabelPlacement.TOP)))){
                    _local7 = Math.max(0, Math.min(_local3, (width - (2 * _local1))));
                    if ((height - 2) > _local4){
                        _local8 = _local4;
                    } else {
                        _local8 = (height - 2);
                    };
                    _local3 = _local7;
                    textField.width = _local3;
                    _local4 = _local8;
                    textField.height = _local4;
                    textField.x = Math.round(((width - _local3) / 2));
                    textField.y = Math.round(((((height - textField.height) - _local6) / 2) + ((_local2)==ButtonLabelPlacement.BOTTOM) ? _local6 : 0));
                    if (icon != null){
                        icon.y = Math.round(((_local2)==ButtonLabelPlacement.BOTTOM) ? (textField.y - _local6) : ((textField.y + textField.height) + _local1));
                    };
                } else {
                    _local7 = Math.max(0, Math.min(_local3, ((width - _local5) - (2 * _local1))));
                    _local3 = _local7;
                    textField.width = _local3;
                    textField.x = Math.round(((((width - _local3) - _local5) / 2) + ((_local2)!=ButtonLabelPlacement.LEFT) ? _local5 : 0));
                    textField.y = Math.round(((height - textField.height) / 2));
                    if (icon != null){
                        icon.x = Math.round(((_local2)!=ButtonLabelPlacement.LEFT) ? (textField.x - _local5) : ((textField.x + _local3) + _local1));
                    };
                };
            };
            super.drawLayout();
        }
        override protected function keyDownHandler(_arg1:KeyboardEvent):void{
            if (!enabled){
                return;
            };
            if (_arg1.keyCode == Keyboard.SPACE){
                if (oldMouseState == null){
                    oldMouseState = mouseState;
                };
                setMouseState("down");
                startPress();
            };
        }
        override protected function keyUpHandler(_arg1:KeyboardEvent):void{
            if (!enabled){
                return;
            };
            if (_arg1.keyCode == Keyboard.SPACE){
                setMouseState(oldMouseState);
                oldMouseState = null;
                endPress();
                dispatchEvent(new MouseEvent(MouseEvent.CLICK));
            };
        }
        override protected function initializeAccessibility():void{
            if (LabelButton.createAccessibilityImplementation != null){
                LabelButton.createAccessibilityImplementation(this);
            };
        }

    }
}//package fl.controls 
﻿package fl.controls {
    import flash.display.*;
    import fl.core.*;
    import fl.managers.*;

    public class Button extends LabelButton implements IFocusManagerComponent {

        private static var defaultStyles:Object = {
            emphasizedSkin:"Button_emphasizedSkin",
            emphasizedPadding:2
        };
        public static var createAccessibilityImplementation:Function;

        protected var _emphasized:Boolean = false;
        protected var emphasizedBorder:DisplayObject;

        public static function getStyleDefinition():Object{
            return (UIComponent.mergeStyles(LabelButton.getStyleDefinition(), defaultStyles));
        }

        public function get emphasized():Boolean{
            return (_emphasized);
        }
        public function set emphasized(_arg1:Boolean):void{
            _emphasized = _arg1;
            invalidate(InvalidationType.STYLES);
        }
        override protected function draw():void{
            if (((isInvalid(InvalidationType.STYLES)) || (isInvalid(InvalidationType.SIZE)))){
                drawEmphasized();
            };
            super.draw();
            if (emphasizedBorder != null){
                setChildIndex(emphasizedBorder, (numChildren - 1));
            };
        }
        protected function drawEmphasized():void{
            var _local2:Number;
            if (emphasizedBorder != null){
                removeChild(emphasizedBorder);
            };
            emphasizedBorder = null;
            if (!_emphasized){
                return;
            };
            var _local1:Object = getStyleValue("emphasizedSkin");
            if (_local1 != null){
                emphasizedBorder = getDisplayObjectInstance(_local1);
            };
            if (emphasizedBorder != null){
                addChildAt(emphasizedBorder, 0);
                _local2 = Number(getStyleValue("emphasizedPadding"));
                emphasizedBorder.x = (emphasizedBorder.y = -(_local2));
                emphasizedBorder.width = (width + (_local2 * 2));
                emphasizedBorder.height = (height + (_local2 * 2));
            };
        }
        override public function drawFocus(_arg1:Boolean):void{
            var _local2:Number;
            var _local3:*;
            super.drawFocus(_arg1);
            if (_arg1){
                _local2 = Number(getStyleValue("emphasizedPadding"));
                if ((((_local2 < 0)) || (!(_emphasized)))){
                    _local2 = 0;
                };
                _local3 = getStyleValue("focusRectPadding");
                _local3 = ((_local3)==null) ? 2 : _local3;
                _local3 = (_local3 + _local2);
                uiFocusRect.x = -(_local3);
                uiFocusRect.y = -(_local3);
                uiFocusRect.width = (width + (_local3 * 2));
                uiFocusRect.height = (height + (_local3 * 2));
            };
        }
        override protected function initializeAccessibility():void{
            if (Button.createAccessibilityImplementation != null){
                Button.createAccessibilityImplementation(this);
            };
        }

    }
}//package fl.controls 
﻿package fl.controls {

    public class ButtonLabelPlacement {

        public static const BOTTOM:String = "bottom";
        public static const TOP:String = "top";
        public static const LEFT:String = "left";
        public static const RIGHT:String = "right";

    }
}//package fl.controls 
﻿package fl.controls {
    import flash.display.*;
    import fl.core.*;
    import flash.events.*;
    import fl.events.*;

    public class UIScrollBar extends ScrollBar {

        private static var defaultStyles:Object = {};

        protected var _scrollTarget:DisplayObject;
        protected var inEdit:Boolean = false;
        protected var inScroll:Boolean = false;
        protected var _targetScrollProperty:String;
        protected var _targetMaxScrollProperty:String;

        public static function getStyleDefinition():Object{
            return (UIComponent.mergeStyles(defaultStyles, ScrollBar.getStyleDefinition()));
        }

        override public function set minScrollPosition(_arg1:Number):void{
            super.minScrollPosition = ((_arg1)<0) ? 0 : _arg1;
        }
        override public function set maxScrollPosition(_arg1:Number):void{
            var _local2:Number = _arg1;
            if (_scrollTarget != null){
                _local2 = Math.min(_local2, _scrollTarget[_targetMaxScrollProperty]);
            };
            super.maxScrollPosition = _local2;
        }
        public function get scrollTarget():DisplayObject{
            return (_scrollTarget);
        }
        public function set scrollTarget(_arg1:DisplayObject):void{
            var target:* = _arg1;
            if (_scrollTarget != null){
                _scrollTarget.removeEventListener(Event.CHANGE, handleTargetChange, false);
                _scrollTarget.removeEventListener(TextEvent.TEXT_INPUT, handleTargetChange, false);
                _scrollTarget.removeEventListener(Event.SCROLL, handleTargetScroll, false);
            };
            _scrollTarget = target;
            var blockProg:* = null;
            var textDir:* = null;
            if (_scrollTarget != null){
                try {
                    if (_scrollTarget.hasOwnProperty("blockProgression")){
                        blockProg = _scrollTarget["blockProgression"];
                    };
                    if (_scrollTarget.hasOwnProperty("direction")){
                        textDir = _scrollTarget["direction"];
                    };
                } catch(e:Error) {
                    blockProg = null;
                    textDir = null;
                };
            };
            var scrollHoriz:* = (this.direction == ScrollBarDirection.HORIZONTAL);
            var rot:* = Math.abs(this.rotation);
            if (((scrollHoriz) && ((((blockProg == "rl")) || ((textDir == "rtl")))))){
                if ((((getScaleY() > 0)) && ((rotation == 90)))){
                    x = (x + width);
                };
                setScaleY(-1);
            } else {
                if (((((!(scrollHoriz)) && ((blockProg == "rl")))) && ((textDir == "rtl")))){
                    if ((((getScaleY() > 0)) && (!((rotation == 90))))){
                        y = (y + height);
                    };
                    setScaleY(-1);
                } else {
                    if (getScaleY() < 0){
                        if (scrollHoriz){
                            if (rotation == 90){
                                x = (x - width);
                            };
                        } else {
                            if (rotation != 90){
                                y = (y - height);
                            };
                        };
                    };
                    setScaleY(1);
                };
            };
            setTargetScrollProperties(scrollHoriz, blockProg);
            if (_scrollTarget != null){
                _scrollTarget.addEventListener(Event.CHANGE, handleTargetChange, false, 0, true);
                _scrollTarget.addEventListener(TextEvent.TEXT_INPUT, handleTargetChange, false, 0, true);
                _scrollTarget.addEventListener(Event.SCROLL, handleTargetScroll, false, 0, true);
            };
            invalidate(InvalidationType.DATA);
        }
        public function get scrollTargetName():String{
            return (_scrollTarget.name);
        }
        public function set scrollTargetName(_arg1:String):void{
            var target:* = _arg1;
            try {
                scrollTarget = parent.getChildByName(target);
            } catch(error:Error) {
                throw (new Error("ScrollTarget not found, or is not a valid target"));
            };
        }
        override public function get direction():String{
            return (super.direction);
        }
        override public function set direction(_arg1:String):void{
            var _local2:DisplayObject;
            if (isLivePreview){
                return;
            };
            if (((!(componentInspectorSetting)) && (!((_scrollTarget == null))))){
                _local2 = _scrollTarget;
                scrollTarget = null;
            };
            super.direction = _arg1;
            if (_local2 != null){
                scrollTarget = _local2;
            } else {
                updateScrollTargetProperties();
            };
        }
        public function update():void{
            inEdit = true;
            updateScrollTargetProperties();
            inEdit = false;
        }
        override protected function draw():void{
            if (isInvalid(InvalidationType.DATA)){
                updateScrollTargetProperties();
            };
            super.draw();
        }
        protected function updateScrollTargetProperties():void{
            var blockProg:* = null;
            var pageSize:* = NaN;
            var minScroll:* = NaN;
            var minScrollVValue:* = undefined;
            if (_scrollTarget == null){
                setScrollProperties(pageSize, minScrollPosition, maxScrollPosition);
                scrollPosition = 0;
            } else {
                blockProg = null;
                try {
                    if (_scrollTarget.hasOwnProperty("blockProgression")){
                        blockProg = _scrollTarget["blockProgression"];
                    };
                } catch(e1:Error) {
                };
                setTargetScrollProperties((this.direction == ScrollBarDirection.HORIZONTAL), blockProg);
                if (_targetScrollProperty == "scrollH"){
                    minScroll = 0;
                    try {
                        if (((_scrollTarget.hasOwnProperty("controller")) && (_scrollTarget["controller"].hasOwnProperty("compositionWidth")))){
                            pageSize = _scrollTarget["controller"]["compositionWidth"];
                        } else {
                            pageSize = _scrollTarget.width;
                        };
                    } catch(e2:Error) {
                        pageSize = _scrollTarget.width;
                    };
                } else {
                    try {
                        if (blockProg != null){
                            minScrollVValue = _scrollTarget["minScrollV"];
                            if ((minScrollVValue is int)){
                                minScroll = minScrollVValue;
                            } else {
                                minScroll = 1;
                            };
                        } else {
                            minScroll = 1;
                        };
                    } catch(e3:Error) {
                        minScroll = 1;
                    };
                    pageSize = 10;
                };
                setScrollProperties(pageSize, minScroll, scrollTarget[_targetMaxScrollProperty]);
                scrollPosition = _scrollTarget[_targetScrollProperty];
            };
        }
        override public function setScrollProperties(_arg1:Number, _arg2:Number, _arg3:Number, _arg4:Number=0):void{
            var _local5:Number = _arg3;
            var _local6:Number = ((_arg2)<0) ? 0 : _arg2;
            if (_scrollTarget != null){
                _local5 = Math.min(_arg3, _scrollTarget[_targetMaxScrollProperty]);
            };
            super.setScrollProperties(_arg1, _local6, _local5, _arg4);
        }
        override public function setScrollPosition(_arg1:Number, _arg2:Boolean=true):void{
            super.setScrollPosition(_arg1, _arg2);
            if (!_scrollTarget){
                inScroll = false;
                return;
            };
            updateTargetScroll();
        }
        protected function updateTargetScroll(_arg1:ScrollEvent=null):void{
            if (inEdit){
                return;
            };
            _scrollTarget[_targetScrollProperty] = scrollPosition;
        }
        protected function handleTargetChange(_arg1:Event):void{
            inEdit = true;
            setScrollPosition(_scrollTarget[_targetScrollProperty], true);
            updateScrollTargetProperties();
            inEdit = false;
        }
        protected function handleTargetScroll(_arg1:Event):void{
            if (inDrag){
                return;
            };
            if (!enabled){
                return;
            };
            inEdit = true;
            updateScrollTargetProperties();
            scrollPosition = _scrollTarget[_targetScrollProperty];
            inEdit = false;
        }
        private function setTargetScrollProperties(_arg1:Boolean, _arg2:String):void{
            if (_arg2 == "rl"){
                if (_arg1){
                    _targetScrollProperty = "scrollV";
                    _targetMaxScrollProperty = "maxScrollV";
                } else {
                    _targetScrollProperty = "scrollH";
                    _targetMaxScrollProperty = "maxScrollH";
                };
            } else {
                if (_arg1){
                    _targetScrollProperty = "scrollH";
                    _targetMaxScrollProperty = "maxScrollH";
                } else {
                    _targetScrollProperty = "scrollV";
                    _targetMaxScrollProperty = "maxScrollV";
                };
            };
        }

    }
}//package fl.controls 
﻿package fl.controls {
    import fl.core.*;
    import flash.events.*;
    import fl.events.*;

    public class ScrollBar extends UIComponent {

        public static const WIDTH:Number = 15;
        protected static const DOWN_ARROW_STYLES:Object = {
            disabledSkin:"downArrowDisabledSkin",
            downSkin:"downArrowDownSkin",
            overSkin:"downArrowOverSkin",
            upSkin:"downArrowUpSkin",
            repeatDelay:"repeatDelay",
            repeatInterval:"repeatInterval"
        };
        protected static const THUMB_STYLES:Object = {
            disabledSkin:"thumbDisabledSkin",
            downSkin:"thumbDownSkin",
            overSkin:"thumbOverSkin",
            upSkin:"thumbUpSkin",
            icon:"thumbIcon",
            textPadding:0
        };
        protected static const TRACK_STYLES:Object = {
            disabledSkin:"trackDisabledSkin",
            downSkin:"trackDownSkin",
            overSkin:"trackOverSkin",
            upSkin:"trackUpSkin",
            repeatDelay:"repeatDelay",
            repeatInterval:"repeatInterval"
        };
        protected static const UP_ARROW_STYLES:Object = {
            disabledSkin:"upArrowDisabledSkin",
            downSkin:"upArrowDownSkin",
            overSkin:"upArrowOverSkin",
            upSkin:"upArrowUpSkin",
            repeatDelay:"repeatDelay",
            repeatInterval:"repeatInterval"
        };

        private static var defaultStyles:Object = {
            downArrowDisabledSkin:"ScrollArrowDown_disabledSkin",
            downArrowDownSkin:"ScrollArrowDown_downSkin",
            downArrowOverSkin:"ScrollArrowDown_overSkin",
            downArrowUpSkin:"ScrollArrowDown_upSkin",
            thumbDisabledSkin:"ScrollThumb_upSkin",
            thumbDownSkin:"ScrollThumb_downSkin",
            thumbOverSkin:"ScrollThumb_overSkin",
            thumbUpSkin:"ScrollThumb_upSkin",
            trackDisabledSkin:"ScrollTrack_skin",
            trackDownSkin:"ScrollTrack_skin",
            trackOverSkin:"ScrollTrack_skin",
            trackUpSkin:"ScrollTrack_skin",
            upArrowDisabledSkin:"ScrollArrowUp_disabledSkin",
            upArrowDownSkin:"ScrollArrowUp_downSkin",
            upArrowOverSkin:"ScrollArrowUp_overSkin",
            upArrowUpSkin:"ScrollArrowUp_upSkin",
            thumbIcon:"ScrollBar_thumbIcon",
            repeatDelay:500,
            repeatInterval:35,
            scrollBarWidth:ScrollBar.WIDTH,
            scrollArrowHeight:14
        };

        private var _pageSize:Number = 10;
        private var _pageScrollSize:Number = 0;
        private var _lineScrollSize:Number = 1;
        private var _minScrollPosition:Number = 0;
        private var _maxScrollPosition:Number = 0;
        private var _scrollPosition:Number = 0;
        private var _direction:String = "vertical";
        private var thumbScrollOffset:Number;
        protected var inDrag:Boolean = false;
        protected var upArrow:BaseButton;
        protected var downArrow:BaseButton;
        protected var thumb:LabelButton;
        protected var track:BaseButton;
        protected var scrollBarWidth:Number = 15;
        protected var scrollArrowHeight:Number = 14;

        public function ScrollBar(){
            this.setStyles();
            focusEnabled = false;
        }
        public static function getStyleDefinition():Object{
            return (defaultStyles);
        }

        override public function setSize(_arg1:Number, _arg2:Number):void{
            if (this._direction == ScrollBarDirection.HORIZONTAL){
                super.setSize(_arg2, _arg1);
            } else {
                super.setSize(_arg1, _arg2);
            };
        }
        override public function get width():Number{
            return (((this._direction)==ScrollBarDirection.HORIZONTAL) ? super.height : super.width);
        }
        override public function get height():Number{
            return (((this._direction)==ScrollBarDirection.HORIZONTAL) ? super.width : super.height);
        }
        override public function get enabled():Boolean{
            return (super.enabled);
        }
        override public function set enabled(_arg1:Boolean):void{
            super.enabled = _arg1;
            this.downArrow.enabled = (this.track.enabled = (this.thumb.enabled = (this.upArrow.enabled = ((this.enabled) && ((this._maxScrollPosition > this._minScrollPosition))))));
            this.updateThumb();
        }
        public function setScrollProperties(_arg1:Number, _arg2:Number, _arg3:Number, _arg4:Number=0):void{
            this.pageSize = _arg1;
            this._minScrollPosition = _arg2;
            this._maxScrollPosition = _arg3;
            if (_arg4 >= 0){
                this._pageScrollSize = _arg4;
            };
            this.enabled = (this._maxScrollPosition > this._minScrollPosition);
            this.setScrollPosition(this._scrollPosition, false);
            this.updateThumb();
        }
        public function get scrollPosition():Number{
            return (this._scrollPosition);
        }
        public function set scrollPosition(_arg1:Number):void{
            this.setScrollPosition(_arg1, true);
        }
        public function get minScrollPosition():Number{
            return (this._minScrollPosition);
        }
        public function set minScrollPosition(_arg1:Number):void{
            this.setScrollProperties(this._pageSize, _arg1, this._maxScrollPosition);
        }
        public function get maxScrollPosition():Number{
            return (this._maxScrollPosition);
        }
        public function set maxScrollPosition(_arg1:Number):void{
            this.setScrollProperties(this._pageSize, this._minScrollPosition, _arg1);
        }
        public function get pageSize():Number{
            return (this._pageSize);
        }
        public function set pageSize(_arg1:Number):void{
            if (_arg1 > 0){
                this._pageSize = _arg1;
            };
        }
        public function get pageScrollSize():Number{
            return (((this._pageScrollSize)==0) ? this._pageSize : this._pageScrollSize);
        }
        public function set pageScrollSize(_arg1:Number):void{
            if (_arg1 >= 0){
                this._pageScrollSize = _arg1;
            };
        }
        public function get lineScrollSize():Number{
            return (this._lineScrollSize);
        }
        public function set lineScrollSize(_arg1:Number):void{
            if (_arg1 > 0){
                this._lineScrollSize = _arg1;
            };
        }
        public function get direction():String{
            return (this._direction);
        }
        public function set direction(_arg1:String):void{
            if (this._direction == _arg1){
                return;
            };
            this._direction = _arg1;
            if (isLivePreview){
                return;
            };
            setScaleY(1);
            var _local2 = (this._direction == ScrollBarDirection.HORIZONTAL);
            if (((_local2) && (componentInspectorSetting))){
                if (rotation == 90){
                    return;
                };
                setScaleX(-1);
                rotation = -90;
            };
            if (!componentInspectorSetting){
                if (((_local2) && ((rotation == 0)))){
                    rotation = -90;
                    setScaleX(-1);
                } else {
                    if (((!(_local2)) && ((rotation == -90)))){
                        rotation = 0;
                        setScaleX(1);
                    };
                };
            };
            invalidate(InvalidationType.SIZE);
        }
        override protected function configUI():void{
            super.configUI();
            this.track = new BaseButton();
            this.track.move(0, 14);
            this.track.setSize(this.scrollBarWidth, 15);
            this.track.useHandCursor = false;
            this.track.autoRepeat = true;
            this.track.focusEnabled = false;
            addChild(this.track);
            this.thumb = new LabelButton();
            this.thumb.label = "";
            this.thumb.setSize(this.scrollBarWidth, 15);
            this.thumb.move(0, 15);
            this.thumb.focusEnabled = false;
            addChild(this.thumb);
            this.downArrow = new BaseButton();
            this.downArrow.setSize(this.scrollBarWidth, this.scrollArrowHeight);
            this.downArrow.autoRepeat = true;
            this.downArrow.focusEnabled = false;
            addChild(this.downArrow);
            this.upArrow = new BaseButton();
            this.upArrow.setSize(this.scrollBarWidth, this.scrollArrowHeight);
            this.upArrow.move(0, 0);
            this.upArrow.autoRepeat = true;
            this.upArrow.focusEnabled = false;
            addChild(this.upArrow);
            this.upArrow.addEventListener(ComponentEvent.BUTTON_DOWN, this.scrollPressHandler, false, 0, true);
            this.downArrow.addEventListener(ComponentEvent.BUTTON_DOWN, this.scrollPressHandler, false, 0, true);
            this.track.addEventListener(ComponentEvent.BUTTON_DOWN, this.scrollPressHandler, false, 0, true);
            this.thumb.addEventListener(MouseEvent.MOUSE_DOWN, this.thumbPressHandler, false, 0, true);
            this.enabled = false;
        }
        override protected function draw():void{
            var _local1:Number;
            if (isInvalid(InvalidationType.SIZE)){
                _local1 = super.height;
                this.downArrow.move(0, Math.max(this.upArrow.height, (_local1 - this.downArrow.height)));
                this.track.height = Math.max(0, (_local1 - (this.downArrow.height + this.upArrow.height)));
                this.updateThumb();
            };
            if (isInvalid(InvalidationType.STYLES, InvalidationType.STATE)){
                this.setStyles();
                this.resizeElements();
            };
            this.downArrow.drawNow();
            this.upArrow.drawNow();
            this.track.drawNow();
            this.thumb.drawNow();
            validate();
        }
        protected function scrollPressHandler(_arg1:ComponentEvent):void{
            var _local2:Number;
            var _local3:Number;
            _arg1.stopImmediatePropagation();
            if (_arg1.currentTarget == this.upArrow){
                this.setScrollPosition((this._scrollPosition - this._lineScrollSize));
            } else {
                if (_arg1.currentTarget == this.downArrow){
                    this.setScrollPosition((this._scrollPosition + this._lineScrollSize));
                } else {
                    _local2 = (((this.track.mouseY / this.track.height) * (this._maxScrollPosition - this._minScrollPosition)) + this._minScrollPosition);
                    _local3 = ((this.pageScrollSize)==0) ? this.pageSize : this.pageScrollSize;
                    if (this._scrollPosition < _local2){
                        this.setScrollPosition(Math.min(_local2, (this._scrollPosition + _local3)));
                    } else {
                        if (this._scrollPosition > _local2){
                            this.setScrollPosition(Math.max(_local2, (this._scrollPosition - _local3)));
                        };
                    };
                };
            };
        }
        protected function thumbPressHandler(_arg1:MouseEvent):void{
            this.inDrag = true;
            this.thumbScrollOffset = (mouseY - this.thumb.y);
            this.thumb.mouseStateLocked = true;
            mouseChildren = false;
            stage.addEventListener(MouseEvent.MOUSE_MOVE, this.handleThumbDrag, false, 0, true);
            stage.addEventListener(MouseEvent.MOUSE_UP, this.thumbReleaseHandler, false, 0, true);
        }
        protected function handleThumbDrag(_arg1:MouseEvent):void{
            var _local2:Number = Math.max(0, Math.min((this.track.height - this.thumb.height), ((mouseY - this.track.y) - this.thumbScrollOffset)));
            this.setScrollPosition((((_local2 / (this.track.height - this.thumb.height)) * (this._maxScrollPosition - this._minScrollPosition)) + this._minScrollPosition));
        }
        protected function thumbReleaseHandler(_arg1:MouseEvent):void{
            this.inDrag = false;
            mouseChildren = true;
            this.thumb.mouseStateLocked = false;
            stage.removeEventListener(MouseEvent.MOUSE_MOVE, this.handleThumbDrag);
            stage.removeEventListener(MouseEvent.MOUSE_UP, this.thumbReleaseHandler);
        }
        public function setScrollPosition(_arg1:Number, _arg2:Boolean=true):void{
            var _local3:Number = this.scrollPosition;
            this._scrollPosition = Math.max(this._minScrollPosition, Math.min(this._maxScrollPosition, _arg1));
            if (_local3 == this._scrollPosition){
                return;
            };
            if (_arg2){
                dispatchEvent(new ScrollEvent(this._direction, (this.scrollPosition - _local3), this.scrollPosition));
            };
            this.updateThumb();
        }
        protected function setStyles():void{
            copyStylesToChild(this.downArrow, DOWN_ARROW_STYLES);
            copyStylesToChild(this.thumb, THUMB_STYLES);
            copyStylesToChild(this.track, TRACK_STYLES);
            copyStylesToChild(this.upArrow, UP_ARROW_STYLES);
        }
        protected function updateThumb():void{
            var _local1:Number = ((this._maxScrollPosition - this._minScrollPosition) + this._pageSize);
            if ((((((this.track.height <= 12)) || ((this._maxScrollPosition <= this._minScrollPosition)))) || ((((_local1 == 0)) || (isNaN(_local1)))))){
                this.thumb.height = 12;
                this.thumb.visible = false;
            } else {
                this.thumb.height = Math.max(13, ((this._pageSize / _local1) * this.track.height));
                this.thumb.y = (this.track.y + ((this.track.height - this.thumb.height) * ((this._scrollPosition - this._minScrollPosition) / (this._maxScrollPosition - this._minScrollPosition))));
                this.thumb.visible = this.enabled;
            };
        }
        protected function resizeElements():void{
            if (getStyleValue("scrollBarWidth") != this.scrollBarWidth){
                this.scrollBarWidth = Number(getStyleValue("scrollBarWidth"));
                this.track.width = this.scrollBarWidth;
                this.upArrow.width = this.scrollBarWidth;
                this.downArrow.width = this.scrollBarWidth;
                this.thumb.width = this.scrollBarWidth;
                _width = this.scrollBarWidth;
            };
            if (getStyleValue("scrollArrowHeight") != this.scrollArrowHeight){
                this.scrollArrowHeight = Number(getStyleValue("scrollArrowHeight"));
                this.upArrow.height = this.scrollArrowHeight;
                this.downArrow.height = this.scrollArrowHeight;
                this.downArrow.y = (super.height - this.scrollArrowHeight);
                this.track.height = Math.max(0, (super.height - (this.downArrow.height + this.upArrow.height)));
                this.track.y = this.upArrow.height;
                this.updateThumb();
            };
        }

    }
}//package fl.controls 
﻿package fl.transitions {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;

    public class TransitionManager extends EventDispatcher {

        private static var IDCount:int = 0;

        public var type:Object;
        public var className:String = "TransitionManager";
        private var _content:MovieClip;
        private var _transitions:Object;
        public var _innerBounds:Rectangle;
        public var _outerBounds:Rectangle;
        public var _width:Number = NaN;
        public var _height:Number = NaN;
        private var _contentAppearance:Object;
        private var _visualPropList:Object;
        private var _triggerEvent:String;

        public function TransitionManager(_arg1:MovieClip){
            this.type = TransitionManager;
            this._visualPropList = {
                x:null,
                y:null,
                scaleX:null,
                scaleY:null,
                alpha:null,
                rotation:null
            };
            super();
            this.content = _arg1;
            this._transitions = {};
        }
        public static function start(_arg1:MovieClip, _arg2:Object):Transition{
            if (!_arg1.__transitionManager){
                _arg1.__transitionManager = new TransitionManager(_arg1);
            };
            if (_arg2.direction == 1){
                _arg1.__transitionManager._triggerEvent = "hide";
            } else {
                _arg1.__transitionManager._triggerEvent = "reveal";
            };
            return (_arg1.__transitionManager.startTransition(_arg2));
        }

        public function get content():MovieClip{
            return (this._content);
        }
        public function set content(_arg1:MovieClip):void{
            this._content = _arg1;
            this.saveContentAppearance();
        }
        public function get transitionsList():Object{
            return (this._transitions);
        }
        public function get numTransitions():Number{
            var _local2:Transition;
            var _local1:Number = 0;
            for each (_local2 in this._transitions) {
                _local1++;
            };
            return (_local1);
        }
        public function get numInTransitions():Number{
            var _local3:Transition;
            var _local1:Number = 0;
            var _local2:Object = this._transitions;
            for each (_local3 in _local2) {
                if (!_local3.direction){
                    _local1++;
                };
            };
            return (_local1);
        }
        public function get numOutTransitions():Number{
            var _local3:Transition;
            var _local1:Number = 0;
            var _local2:Object = this._transitions;
            for each (_local3 in _local2) {
                if (_local3.direction){
                    _local1++;
                };
            };
            return (_local1);
        }
        public function get contentAppearance():Object{
            return (this._contentAppearance);
        }
        public function startTransition(_arg1:Object):Transition{
            this.removeTransition(this.findTransition(_arg1));
            var _local2:Class = _arg1.type;
            var _local3:Transition = new _local2(this._content, _arg1, this);
            this.addTransition(_local3);
            _local3.start();
            return (_local3);
        }
        public function addTransition(_arg1:Transition):Transition{
            _arg1.ID = ++TransitionManager.IDCount;
            this._transitions[_arg1.ID] = _arg1;
            return (_arg1);
        }
        public function removeTransition(_arg1:Transition):Boolean{
            if (((((!(_arg1)) || (!(this._transitions)))) || (!(this._transitions[_arg1.ID])))){
                return (false);
            };
            _arg1.cleanUp();
            return (delete this._transitions[_arg1.ID]);
        }
        public function findTransition(_arg1:Object):Transition{
            var _local2:Transition;
            for each (_local2 in this._transitions) {
                if (_local2.type == _arg1.type){
                    return (_local2);
                };
            };
            return (null);
        }
        public function removeAllTransitions():void{
            var _local1:Transition;
            for each (_local1 in this._transitions) {
                _local1.cleanUp();
                this.removeTransition(_local1);
            };
        }
        public function saveContentAppearance():void{
            var _local2:Object;
            var _local3:String;
            var _local1:MovieClip = this._content;
            if (!this._contentAppearance){
                _local2 = (this._contentAppearance = {});
                for (_local3 in this._visualPropList) {
                    _local2[_local3] = _local1[_local3];
                };
                _local2.colorTransform = _local1.transform.colorTransform;
            };
            this._innerBounds = _local1.getBounds(_local1);
            this._outerBounds = _local1.getBounds(_local1.parent);
            this._width = _local1.width;
            this._height = _local1.height;
        }
        public function restoreContentAppearance():void{
            var _local3:String;
            var _local1:MovieClip = this._content;
            var _local2:Object = this._contentAppearance;
            for (_local3 in this._visualPropList) {
                _local1[_local3] = _local2[_local3];
            };
            _local1.transform.colorTransform = _local2.colorTransform;
        }
        function transitionInDone(_arg1:Object):void{
            var _local2:Boolean;
            this.removeTransition(_arg1.target);
            if (this.numInTransitions == 0){
                _local2 = this._content.visible;
                if ((((this._triggerEvent == "hide")) || ((this._triggerEvent == "hideChild")))){
                    this._content.visible = false;
                };
                if (_local2){
                    this.dispatchEvent(new Event("allTransitionsInDone"));
                };
            };
        }
        function transitionOutDone(_arg1:Object):void{
            var _local2:Boolean;
            this.removeTransition(_arg1.target);
            if (this.numOutTransitions == 0){
                this.restoreContentAppearance();
                _local2 = this._content.visible;
                if (((_local2) && ((((this._triggerEvent == "hide")) || ((this._triggerEvent == "hideChild")))))){
                    this._content.visible = false;
                };
                if (_local2){
                    this.dispatchEvent(new Event("allTransitionsOutDone"));
                };
            };
        }

    }
}//package fl.transitions 
﻿package fl.transitions.easing {

    public class Regular {

        public static function easeIn(_arg1:Number, _arg2:Number, _arg3:Number, _arg4:Number):Number{
            _arg1 = (_arg1 / _arg4);
            return ((((_arg3 * _arg1) * _arg1) + _arg2));
        }
        public static function easeOut(_arg1:Number, _arg2:Number, _arg3:Number, _arg4:Number):Number{
            _arg1 = (_arg1 / _arg4);
            return ((((-(_arg3) * _arg1) * (_arg1 - 2)) + _arg2));
        }
        public static function easeInOut(_arg1:Number, _arg2:Number, _arg3:Number, _arg4:Number):Number{
            _arg1 = (_arg1 / (_arg4 / 2));
            if (_arg1 < 1){
                return (((((_arg3 / 2) * _arg1) * _arg1) + _arg2));
            };
            --_arg1;
            return ((((-(_arg3) / 2) * ((_arg1 * (_arg1 - 2)) - 1)) + _arg2));
        }

    }
}//package fl.transitions.easing 
﻿package fl.transitions.easing {

    public class Strong {

        public static function easeIn(_arg1:Number, _arg2:Number, _arg3:Number, _arg4:Number):Number{
            _arg1 = (_arg1 / _arg4);
            return (((((((_arg3 * _arg1) * _arg1) * _arg1) * _arg1) * _arg1) + _arg2));
        }
        public static function easeOut(_arg1:Number, _arg2:Number, _arg3:Number, _arg4:Number):Number{
            _arg1 = ((_arg1 / _arg4) - 1);
            return (((_arg3 * (((((_arg1 * _arg1) * _arg1) * _arg1) * _arg1) + 1)) + _arg2));
        }
        public static function easeInOut(_arg1:Number, _arg2:Number, _arg3:Number, _arg4:Number):Number{
            _arg1 = (_arg1 / (_arg4 / 2));
            if (_arg1 < 1){
                return ((((((((_arg3 / 2) * _arg1) * _arg1) * _arg1) * _arg1) * _arg1) + _arg2));
            };
            _arg1 = (_arg1 - 2);
            return ((((_arg3 / 2) * (((((_arg1 * _arg1) * _arg1) * _arg1) * _arg1) + 2)) + _arg2));
        }

    }
}//package fl.transitions.easing 
﻿package fl.transitions {
    import flash.events.*;

    public class TweenEvent extends Event {

        public static const MOTION_START:String = "motionStart";
        public static const MOTION_STOP:String = "motionStop";
        public static const MOTION_FINISH:String = "motionFinish";
        public static const MOTION_CHANGE:String = "motionChange";
        public static const MOTION_RESUME:String = "motionResume";
        public static const MOTION_LOOP:String = "motionLoop";

        public var time:Number = NaN;
        public var position:Number = NaN;

        public function TweenEvent(_arg1:String, _arg2:Number, _arg3:Number, _arg4:Boolean=false, _arg5:Boolean=false){
            super(_arg1, _arg4, _arg5);
            this.time = _arg2;
            this.position = _arg3;
        }
        override public function clone():Event{
            return (new TweenEvent(this.type, this.time, this.position, this.bubbles, this.cancelable));
        }

    }
}//package fl.transitions 
﻿package fl.transitions {
    import flash.display.*;

    public class Fade extends Transition {

        protected var _alphaFinal:Number;

        public function Fade(_arg1:MovieClip, _arg2:Object, _arg3:TransitionManager){
            super(_arg1, _arg2, _arg3);
            this._alphaFinal = this.manager.contentAppearance.alpha;
        }
        override public function get type():Class{
            return (Fade);
        }
        override protected function _render(_arg1:Number):void{
            this._content.alpha = (this._alphaFinal * _arg1);
        }

    }
}//package fl.transitions 
﻿package fl.transitions {
    import flash.display.*;
    import flash.utils.*;
    import flash.events.*;

    public class Tween extends EventDispatcher {

        protected static var _mc:MovieClip = new MovieClip();

        public var isPlaying:Boolean = false;
        public var obj:Object = null;
        public var prop:String = "";
        public var func:Function;
        public var begin:Number = NaN;
        public var change:Number = NaN;
        public var useSeconds:Boolean = false;
        public var prevTime:Number = NaN;
        public var prevPos:Number = NaN;
        public var looping:Boolean = false;
        private var _duration:Number = NaN;
        private var _time:Number = NaN;
        private var _fps:Number = NaN;
        private var _position:Number = NaN;
        private var _startTime:Number = NaN;
        private var _intervalID:uint = 0;
        private var _finish:Number = NaN;
        private var _timer:Timer = null;

        public function Tween(_arg1:Object, _arg2:String, _arg3:Function, _arg4:Number, _arg5:Number, _arg6:Number, _arg7:Boolean=false){
            this.func = function (_arg1:Number, _arg2:Number, _arg3:Number, _arg4:Number):Number{
                return ((((_arg3 * _arg1) / _arg4) + _arg2));
            };
            super();
            if (!arguments.length){
                return;
            };
            this.obj = _arg1;
            this.prop = _arg2;
            this.begin = _arg4;
            this.position = _arg4;
            this.duration = _arg6;
            this.useSeconds = _arg7;
            if ((_arg3 is Function)){
                this.func = _arg3;
            };
            this.finish = _arg5;
            this._timer = new Timer(100);
            this.start();
        }
        public function get time():Number{
            return (this._time);
        }
        public function set time(_arg1:Number):void{
            this.prevTime = this._time;
            if (_arg1 > this.duration){
                if (this.looping){
                    this.rewind((_arg1 - this._duration));
                    this.update();
                    this.dispatchEvent(new TweenEvent(TweenEvent.MOTION_LOOP, this._time, this._position));
                } else {
                    if (this.useSeconds){
                        this._time = this._duration;
                        this.update();
                    };
                    this.stop();
                    this.dispatchEvent(new TweenEvent(TweenEvent.MOTION_FINISH, this._time, this._position));
                };
            } else {
                if (_arg1 < 0){
                    this.rewind();
                    this.update();
                } else {
                    this._time = _arg1;
                    this.update();
                };
            };
        }
        public function get duration():Number{
            return (this._duration);
        }
        public function set duration(_arg1:Number):void{
            this._duration = ((_arg1)<=0) ? Infinity : _arg1;
        }
        public function get FPS():Number{
            return (this._fps);
        }
        public function set FPS(_arg1:Number):void{
            var _local2:Boolean = this.isPlaying;
            this.stopEnterFrame();
            this._fps = _arg1;
            if (_local2){
                this.startEnterFrame();
            };
        }
        public function get position():Number{
            return (this.getPosition(this._time));
        }
        public function set position(_arg1:Number):void{
            this.setPosition(_arg1);
        }
        public function getPosition(_arg1:Number=NaN):Number{
            if (isNaN(_arg1)){
                _arg1 = this._time;
            };
            return (this.func(_arg1, this.begin, this.change, this._duration));
        }
        public function setPosition(_arg1:Number):void{
            this.prevPos = this._position;
            if (this.prop.length){
                this.obj[this.prop] = (this._position = _arg1);
            };
            this.dispatchEvent(new TweenEvent(TweenEvent.MOTION_CHANGE, this._time, this._position));
        }
        public function get finish():Number{
            return ((this.begin + this.change));
        }
        public function set finish(_arg1:Number):void{
            this.change = (_arg1 - this.begin);
        }
        public function continueTo(_arg1:Number, _arg2:Number):void{
            this.begin = this.position;
            this.finish = _arg1;
            if (!isNaN(_arg2)){
                this.duration = _arg2;
            };
            this.start();
        }
        public function yoyo():void{
            this.continueTo(this.begin, this.time);
        }
        protected function startEnterFrame():void{
            var _local1:Number;
            if (isNaN(this._fps)){
                _mc.addEventListener(Event.ENTER_FRAME, this.onEnterFrame, false, 0, true);
            } else {
                _local1 = (1000 / this._fps);
                this._timer.delay = _local1;
                this._timer.addEventListener(TimerEvent.TIMER, this.timerHandler, false, 0, true);
                this._timer.start();
            };
            this.isPlaying = true;
        }
        protected function stopEnterFrame():void{
            if (isNaN(this._fps)){
                _mc.removeEventListener(Event.ENTER_FRAME, this.onEnterFrame);
            } else {
                this._timer.stop();
            };
            this.isPlaying = false;
        }
        public function start():void{
            this.rewind();
            this.startEnterFrame();
            this.dispatchEvent(new TweenEvent(TweenEvent.MOTION_START, this._time, this._position));
        }
        public function stop():void{
            this.stopEnterFrame();
            this.dispatchEvent(new TweenEvent(TweenEvent.MOTION_STOP, this._time, this._position));
        }
        public function resume():void{
            this.fixTime();
            this.startEnterFrame();
            this.dispatchEvent(new TweenEvent(TweenEvent.MOTION_RESUME, this._time, this._position));
        }
        public function rewind(_arg1:Number=0):void{
            this._time = _arg1;
            this.fixTime();
            this.update();
        }
        public function fforward():void{
            this.time = this._duration;
            this.fixTime();
        }
        public function nextFrame():void{
            if (this.useSeconds){
                this.time = ((getTimer() - this._startTime) / 1000);
            } else {
                this.time = (this._time + 1);
            };
        }
        protected function onEnterFrame(_arg1:Event):void{
            this.nextFrame();
        }
        protected function timerHandler(_arg1:TimerEvent):void{
            this.nextFrame();
            _arg1.updateAfterEvent();
        }
        public function prevFrame():void{
            if (!this.useSeconds){
                this.time = (this._time - 1);
            };
        }
        private function fixTime():void{
            if (this.useSeconds){
                this._startTime = (getTimer() - (this._time * 1000));
            };
        }
        private function update():void{
            this.setPosition(this.getPosition(this._time));
        }

    }
}//package fl.transitions 
﻿package fl.transitions {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;

    public class Transition extends EventDispatcher {

        public static const IN:uint = 0;
        public static const OUT:uint = 1;

        public var ID:int;
        protected var _content:MovieClip;
        protected var _manager:TransitionManager;
        protected var _direction:uint = 0;
        protected var _duration:Number = 2;
        protected var _easing:Function;
        protected var _progress:Number;
        protected var _innerBounds:Rectangle;
        protected var _outerBounds:Rectangle;
        protected var _width:Number = NaN;
        protected var _height:Number = NaN;
        protected var _twn:Tween;

        public function Transition(_arg1:MovieClip, _arg2:Object, _arg3:TransitionManager){
            this.content = _arg1;
            this.direction = _arg2.direction;
            this.duration = _arg2.duration;
            this.easing = _arg2.easing;
            this.manager = _arg3;
            this._innerBounds = this.manager._innerBounds;
            this._outerBounds = this.manager._outerBounds;
            this._width = this.manager._width;
            this._height = this.manager._height;
            this._resetTween();
        }
        public function get type():Class{
            return (Transition);
        }
        public function set manager(_arg1:TransitionManager):void{
            if (this._manager){
                this.removeEventListener("transitionInDone", this._manager.transitionInDone);
                this.removeEventListener("transitionOutDone", this._manager.transitionOutDone);
            };
            this._manager = _arg1;
            this.addEventListener("transitionInDone", this._manager.transitionInDone);
            this.addEventListener("transitionOutDone", this._manager.transitionOutDone);
        }
        public function get manager():TransitionManager{
            return (this._manager);
        }
        public function set content(_arg1:MovieClip):void{
            if (_arg1){
                this._content = _arg1;
                if (this._twn){
                    this._twn.obj = _arg1;
                };
            };
        }
        public function get content():MovieClip{
            return (this._content);
        }
        public function get direction():Number{
            return (this._direction);
        }
        public function set direction(_arg1:Number):void{
            this._direction = ((_arg1) ? 1 : 0);
        }
        public function get duration():Number{
            return (this._duration);
        }
        public function set duration(_arg1:Number):void{
            if (_arg1){
                this._duration = _arg1;
                if (this._twn){
                    this._twn.duration = _arg1;
                };
            };
        }
        public function get easing():Function{
            return (this._easing);
        }
        public function set easing(_arg1:Function):void{
            this._easing = _arg1;
            if (this._twn){
                this._twn.func = _arg1;
            };
        }
        public function set progress(_arg1:Number):void{
            if (this._progress == _arg1){
                return;
            };
            this._progress = _arg1;
            if (this._direction){
                this._render((1 - _arg1));
            } else {
                this._render(_arg1);
            };
            this.dispatchEvent(new Event("transitionProgress"));
        }
        public function get progress():Number{
            return (this._progress);
        }
        public function start():void{
            this.content.visible = true;
            this._twn.start();
        }
        public function stop():void{
            this._twn.fforward();
            this._twn.stop();
        }
        public function cleanUp():void{
            this.removeEventListener("transitionInDone", this._manager.transitionInDone);
            this.removeEventListener("transitionOutDone", this._manager.transitionOutDone);
            this.stop();
        }
        public function drawBox(_arg1:MovieClip, _arg2:Number, _arg3:Number, _arg4:Number, _arg5:Number):void{
            _arg1.graphics.moveTo(_arg2, _arg3);
            _arg1.graphics.lineTo((_arg2 + _arg4), _arg3);
            _arg1.graphics.lineTo((_arg2 + _arg4), (_arg3 + _arg5));
            _arg1.graphics.lineTo(_arg2, (_arg3 + _arg5));
            _arg1.graphics.lineTo(_arg2, _arg3);
        }
        public function drawCircle(_arg1:MovieClip, _arg2:Number, _arg3:Number, _arg4:Number):void{
            _arg1.graphics.moveTo((_arg2 + _arg4), _arg3);
            _arg1.graphics.curveTo((_arg4 + _arg2), ((Math.tan((Math.PI / 8)) * _arg4) + _arg3), ((Math.sin((Math.PI / 4)) * _arg4) + _arg2), ((Math.sin((Math.PI / 4)) * _arg4) + _arg3));
            _arg1.graphics.curveTo(((Math.tan((Math.PI / 8)) * _arg4) + _arg2), (_arg4 + _arg3), _arg2, (_arg4 + _arg3));
            _arg1.graphics.curveTo(((-(Math.tan((Math.PI / 8))) * _arg4) + _arg2), (_arg4 + _arg3), ((-(Math.sin((Math.PI / 4))) * _arg4) + _arg2), ((Math.sin((Math.PI / 4)) * _arg4) + _arg3));
            _arg1.graphics.curveTo((-(_arg4) + _arg2), ((Math.tan((Math.PI / 8)) * _arg4) + _arg3), (-(_arg4) + _arg2), _arg3);
            _arg1.graphics.curveTo((-(_arg4) + _arg2), ((-(Math.tan((Math.PI / 8))) * _arg4) + _arg3), ((-(Math.sin((Math.PI / 4))) * _arg4) + _arg2), ((-(Math.sin((Math.PI / 4))) * _arg4) + _arg3));
            _arg1.graphics.curveTo(((-(Math.tan((Math.PI / 8))) * _arg4) + _arg2), (-(_arg4) + _arg3), _arg2, (-(_arg4) + _arg3));
            _arg1.graphics.curveTo(((Math.tan((Math.PI / 8)) * _arg4) + _arg2), (-(_arg4) + _arg3), ((Math.sin((Math.PI / 4)) * _arg4) + _arg2), ((-(Math.sin((Math.PI / 4))) * _arg4) + _arg3));
            _arg1.graphics.curveTo((_arg4 + _arg2), ((-(Math.tan((Math.PI / 8))) * _arg4) + _arg3), (_arg4 + _arg2), _arg3);
        }
        protected function _render(_arg1:Number):void{
        }
        private function _resetTween():void{
            if (this._twn){
                this._twn.stop();
                this._twn.removeEventListener(TweenEvent.MOTION_FINISH, this.onMotionFinished);
            };
            this._twn = new Tween(this, "", this.easing, 0, 1, this.duration, true);
            this._twn.stop();
            this._twn.prop = "progress";
            this._twn.addEventListener(TweenEvent.MOTION_FINISH, this.onMotionFinished, false, 0, true);
        }
        private function _noEase(_arg1:Number, _arg2:Number, _arg3:Number, _arg4:Number):Number{
            return ((((_arg3 * _arg1) / _arg4) + _arg2));
        }
        public function onMotionFinished(_arg1:Object):void{
            if (this.direction == Transition.OUT){
                this.dispatchEvent(new Event("transitionOutDone"));
            } else {
                this.dispatchEvent(new Event("transitionInDone"));
            };
        }

    }
}//package fl.transitions 
﻿package fl.timeline {
    import flash.display.*;
    import flash.utils.*;
    import fl.timeline.timelineManager.*;
    import flash.events.*;
    import flash.geom.*;
    import __AS3__.vec.*;

    public class TimelineManager {

        public static const PARENT:int = 3;
        public static const PREV:int = 0;
        public static const NEXT:int = 1;
        public static const CHILD:int = 2;

        private static var _patentIDB1104:String = 'AdobePatentID="B1104"';

        protected var initTargetDict:Dictionary;
        protected var _supportNextPrevAcrossFrames:Boolean;
        protected var containerDict:Dictionary;
        protected var targetDict:Dictionary;
        protected var _supportParentChildAcrossFrames:Boolean;

        public function TimelineManager(){
            this.containerDict = new Dictionary(true);
            this.targetDict = new Dictionary(true);
            this.initTargetDict = new Dictionary(true);
        }
        private static function findTarget(_arg1:InstanceInfo, _arg2:DisplayObject):DisplayObject{
            var target:* = null;
            var btn:* = null;
            var ii:* = _arg1;
            var parent:* = _arg2;
            var container:* = (parent as DisplayObjectContainer);
            if (container != null){
                try {
                    target = container[ii.instanceName];
                } catch(e:Error) {
                    target = null;
                };
                if (target == null){
                    target = container.getChildByName(ii.instanceName);
                };
            } else {
                btn = (parent as SimpleButton);
                if (btn != null){
                    switch (ii.startFrame){
                        case 0:
                            target = btn.upState;
                            break;
                        case 1:
                            target = btn.overState;
                            break;
                        case 2:
                            target = btn.downState;
                            break;
                    };
                    if (ii.endFrame >= 0){
                        try {
                            target = DisplayObjectContainer(target).getChildAt(ii.endFrame);
                        } catch(err:Error) {
                            target = null;
                        };
                    };
                };
            };
            return (target);
        }

        public function initInstance(_arg1:DisplayObject, _arg2:DisplayObjectContainer):void{
            var _local3:InstanceInfo;
            var _local5:Vector.<InstanceInfo>;
            var _local6:MovieClip;
            var _local7:int;
            var _local8:int;
            var _local4:Dictionary = this.containerDict[_arg2];
            if (_local4 != null){
                _local5 = _local4[_arg1.name];
                if (_local5 != null){
                    _local6 = (_arg2 as MovieClip);
                    if (_local6 == null){
                        _local3 = _local5[0];
                    } else {
                        _local7 = (_local6.currentFrame - 1);
                        _local8 = 0;
                        while (_local8 < _local5.length) {
                            _local3 = _local5[_local8];
                            if ((((((_local6.currentScene.name == _local3.sceneName)) && ((_local3.startFrame <= _local7)))) && ((_local7 <= _local3.endFrame)))){
                                break;
                            };
                            _local3 = null;
                            _local8++;
                        };
                    };
                };
            };
            if (_local3 != null){
                if (this.getInstanceForInfo(_local3, _arg1) == null){
                    this.initTargetDict[_arg1] = _local3;
                    _arg1.addEventListener(Event.FRAME_CONSTRUCTED, this.handleInit);
                    _arg1.addEventListener(Event.REMOVED, this.handleInitRemoved);
                };
            };
        }
        private function fixXnEntry(_arg1:InstanceInfo, _arg2:InstanceInfo, _arg3:InstanceInfo):void{
            switch (_arg2.type){
                case PREV:
                    _arg1.prev = _arg3;
                    _arg3.realIIForXn = _arg3;
                    break;
                case NEXT:
                    _arg1.next = _arg3;
                    _arg3.realIIForXn = _arg3;
                    break;
                case CHILD:
                    if (_arg1.children == null){
                        _arg1.children = new Vector.<InstanceInfo>(1);
                        _arg1.children[0] = _arg3;
                    } else {
                        _arg1.children.push(_arg3);
                    };
                    _arg3.realIIForXn = _arg3;
                    break;
                case PARENT:
                    _arg1.parent = _arg3;
                    _arg3.realIIForXn = _arg3;
                    break;
                default:
                    _arg2.realIIForXn = _arg3;
            };
        }
        public function getInstance(_arg1:DisplayObject, _arg2:String, _arg3:int, _arg4:String=null):DisplayObject{
            var _local8:InstanceInfo;
            var _local10:DisplayObject;
            var _local5:Dictionary = Dictionary(this.containerDict[_arg1]);
            if (_local5 == null){
                return (null);
            };
            var _local6:Vector.<InstanceInfo> = _local5[_arg2];
            if (_local6 == null){
                return (null);
            };
            var _local7 = (_arg1 is SimpleButton);
            var _local9:int;
            while (_local9 < _local6.length) {
                _local8 = _local6[_local9];
                if (((((_local7) && ((_local8.startFrame == _arg3)))) || (((((((!(_local7)) && ((_local8.startFrame <= _arg3)))) && ((_arg3 <= _local8.endFrame)))) && ((((((_arg4 == null)) || ((_arg4.length < 1)))) || ((_arg4 == _local8.sceneName)))))))){
                    _local10 = this.getInstanceForInfoWithXns(_local8);
                    if (_local10 != null){
                        this.targetDict[_local10] = _local8;
                    };
                    return (_local10);
                };
                _local9++;
            };
            return (null);
        }
        protected function getInstanceForInfo(_arg1:InstanceInfo, _arg2:DisplayObject=null):DisplayObject{
            return (null);
        }
        public function addInstance(_arg1:DisplayObject, _arg2:String, _arg3:Rectangle, _arg4:XML, _arg5:Array, _arg6=undefined, _arg7:int=0, _arg8:int=0, _arg9:String=null, _arg10:Boolean=true, _arg11:Boolean=false):void{
            var _local15:DisplayObject;
            var _local16:Boolean;
            var _local17:int;
            var _local18:InstanceInfo;
            var _local12:InstanceInfo = new InstanceInfo(_arg1, _arg2, _arg7, _arg8, -1, _arg3, _arg4, ((_arg5)==null) ? null : Vector.<InstanceInfo>(_arg5), _arg6, _arg9);
            if (_arg11){
                _local15 = findTarget(_local12, _local12.container);
                if (this.getInstanceForInfo(_local12, _local15) == null){
                    this.initTargetDict[_local15] = _local12;
                    _local15.addEventListener(Event.FRAME_CONSTRUCTED, this.handleInit);
                    _local15.addEventListener(Event.REMOVED, this.handleInitRemoved);
                };
            };
            if (!_arg10){
                return;
            };
            var _local13:Dictionary = this.containerDict[_arg1];
            if (!_local13){
                _local13 = new Dictionary();
                this.containerDict[_arg1] = _local13;
            };
            var _local14:Vector.<InstanceInfo> = _local13[_arg2];
            if (_local14 == null){
                _local14 = new Vector.<InstanceInfo>(1);
                _local14[0] = _local12;
                _local13[_arg2] = _local14;
            } else {
                if ((_arg1 is SimpleButton)){
                    _local14.push(_local12);
                } else {
                    _local16 = false;
                    _local17 = 0;
                    while (_local17 < _local14.length) {
                        _local18 = _local14[_local17];
                        if (((((!((_arg9 == null))) && ((_arg9.length > 0)))) && (!((_local18.sceneName == _arg9))))){
                            _local17++;
                        } else {
                            if (_local18.startFrame <= _arg7){
                                if (_local18.endFrame >= _arg7){
                                    _local14.splice(_local17, 1);
                                } else {
                                    _local17++;
                                };
                            } else {
                                _local14.splice(_local17, 0, _local12);
                                _local16 = true;
                                _local17++;
                                while (_local17 < _local14.length) {
                                    _local18 = _local14[_local17];
                                    if (_arg8 >= _local18.startFrame){
                                        _local14.splice(_local17, 1);
                                    } else {
                                        break;
                                    };
                                };
                                break;
                            };
                        };
                    };
                    if (!_local16){
                        _local14.push(_local12);
                    };
                };
            };
        }
        protected function handleInit(_arg1:Event):void{
            var _local2:InstanceInfo = this.initTargetDict[_arg1.target];
            if ((((_local2 == null)) || (!((this.getInstanceForInfo(_local2, DisplayObject(_arg1.target)) == null))))){
                delete this.initTargetDict[_arg1.target];
                this.handleInitRemoved(_arg1);
            };
        }
        protected function removeXn(_arg1:DisplayObject, _arg2:InstanceInfo, _arg3:int):void{
        }
        public function isTargetForFrame(_arg1:DisplayObject, _arg2:int, _arg3:String=null):Boolean{
            var _local4:InstanceInfo = this.targetDict[_arg1];
            if (_local4 == null){
                return (false);
            };
            return ((((((((_local4.startFrame <= _arg2)) && ((_arg2 <= _local4.endFrame)))) && ((((((_arg3 == null)) || ((_arg3.length < 1)))) || ((_arg3 == _local4.sceneName)))))) && ((((_arg1.parent == null)) || ((_arg1.parent == _local4.container))))));
        }
        protected function handleInitRemoved(_arg1:Event):void{
            _arg1.target.removeEventListener(Event.REMOVED, this.handleInitRemoved);
            _arg1.target.removeEventListener(Event.FRAME_CONSTRUCTED, this.handleInit);
        }
        protected function getInstanceForInfoWithXns(_arg1:InstanceInfo):DisplayObject{
            var _local2:DisplayObject;
            var _local3:InstanceInfo;
            var _local4:InstanceInfo;
            var _local5:int;
            var _local6:int;
            var _local7:InstanceInfo;
            if (_arg1.content != null){
                _local2 = _arg1.content;
                if (((((this._supportNextPrevAcrossFrames) && (!((_arg1.next == null))))) && ((_arg1.next.content == null)))){
                    _arg1.next.content = this.getInstanceForInfo(_arg1.next);
                };
            } else {
                if (((!(this._supportNextPrevAcrossFrames)) || ((((_arg1.prev == null)) && ((_arg1.next == null)))))){
                    _arg1.content = this.getInstanceForInfo(_arg1);
                } else {
                    _local3 = _arg1;
                    while (_local3.prev != null) {
                        _local3 = _local3.prev;
                    };
                    while (((!((_local3 == null))) && (!((_local3 == _arg1))))) {
                        if (_local3.content == null){
                            _local3.content = this.getInstanceForInfo(_local3);
                        };
                        if (((((!((_local4 == null))) && (!((_local4.content == null))))) && (!((_local3.content == null))))){
                            this.addXn(_local4.content, _local3.content, _local3, TimelineManager.NEXT);
                            this.addXn(_local3.content, _local4.content, _local4, TimelineManager.PREV);
                        };
                        _local4 = _local3;
                        _local3 = _local3.next;
                    };
                    if (_local3 != _arg1){
                        _local4 = null;
                    };
                    _arg1.content = this.getInstanceForInfo(_arg1);
                    if (_arg1.content != null){
                        if (((!((_local4 == null))) && (!((_local4.content == null))))){
                            this.addXn(_local4.content, _arg1.content, _arg1, TimelineManager.NEXT);
                            this.addXn(_arg1.content, _local4.content, _local4, TimelineManager.PREV);
                        };
                        if (_arg1.next != null){
                            if (_arg1.next.content == null){
                                _arg1.next.content = this.getInstanceForInfo(_arg1.next);
                            };
                            if (_arg1.next.content != null){
                                this.addXn(_arg1.content, _arg1.next.content, _arg1.next, TimelineManager.NEXT);
                                this.addXn(_arg1.next.content, _arg1.content, _arg1, TimelineManager.PREV);
                            };
                        };
                    };
                };
            };
            if (((this._supportParentChildAcrossFrames) && (!((_arg1.children == null))))){
                _local5 = _arg1.children.length;
                _local6 = 0;
                while (_local6 < _local5) {
                    _local7 = _arg1.children[_local6];
                    if (_local7.content == null){
                        _local7.content = this.getInstanceForInfo(_local7);
                    };
                    if (_local7.content != null){
                        this.addXn(_arg1.content, _local7.content, _local7, TimelineManager.CHILD);
                        this.addXn(_local7.content, _arg1.content, _arg1, TimelineManager.PARENT);
                    };
                    _local6++;
                };
            };
            if (((this._supportParentChildAcrossFrames) && (!((_arg1.parent == null))))){
                if (_arg1.parent.content == null){
                    _arg1.parent.content = this.getInstanceForInfo(_arg1.parent);
                };
                if (_arg1.parent.content){
                    this.addXn(_arg1.content, _arg1.parent.content, _arg1.parent, TimelineManager.PARENT);
                    this.addXn(_arg1.parent.content, _arg1.content, _arg1, TimelineManager.CHILD);
                };
            };
            if (((((((!(this._supportNextPrevAcrossFrames)) && (((!((_arg1.next == null))) || (!((_arg1.prev == null))))))) || (((!(this._supportParentChildAcrossFrames)) && (((!((_arg1.children == null))) || (!((_arg1.parent == null))))))))) || (((!((_arg1.xns == null))) && ((_arg1.xns.length > 0)))))){
                if (_local2 != null){
                    this.handleXns(_local2, _arg1);
                };
                _arg1.content.addEventListener(Event.FRAME_CONSTRUCTED, this.handleXns);
                if ((_arg1.container is MovieClip)){
                    _arg1.content.addEventListener(Event.REMOVED, this.handleRemoved, false, 1);
                };
            };
            if (_local2 == null){
                _local2 = _arg1.content;
            };
            if (((((!(this._supportNextPrevAcrossFrames)) || ((((_arg1.next == null)) && ((_arg1.prev == null)))))) && (((!(this._supportParentChildAcrossFrames)) || ((((_arg1.parent == null)) && ((_arg1.children == null)))))))){
                _arg1.content = null;
            };
            return (_local2);
        }
        public function addInstanceComplete(_arg1:DisplayObject):void{
            var _local5:Boolean;
            var _local6:*;
            var _local7:*;
            var _local8:*;
            var _local9:*;
            var _local10:*;
            var _local11:*;
            var _local12:*;
            var _local13:*;
            var _local14:*;
            var _local2:Dictionary = this.containerDict[_arg1];
            if (_local2 == null){
                return;
            };
            var _local3 = (_arg1 is SimpleButton);
            var _local4:Dictionary = new Dictionary();
            do  {
                _local5 = false;
                for each (_local6 in _local2) {
                    _local7 = 0;
                    for (;_local7 < _local6.length;_local7++) {
                        _local8 = _local6[_local7];
                        if (_local4[_local8] == undefined){
                            _local4[_local8] = true;
                        } else {
                            continue;
                        };
                        if (_local8.xns == null){
                        } else {
                            _local9 = _local8.xns;
                            _local10 = 0;
                            while (_local10 < _local9.length) {
                                _local11 = _local9[_local10];
                                if ((((_local11.type >= PREV)) && ((_local11.type <= PARENT)))){
                                    _local9.splice(_local10, 1);
                                    _local10--;
                                };
                                _local12 = _local2[_local11.instanceName];
                                if (_local12 != null){
                                    _local13 = 0;
                                    while (_local13 < _local12.length) {
                                        _local14 = _local12[_local13];
                                        if (_local3){
                                            if (_local8.startFrame == _local14.startFrame){
                                                this.fixXnEntry(_local8, _local11, _local14);
                                                break;
                                            };
                                        } else {
                                            if ((((((_local14.startFrame == _local11.startFrame)) && ((_local14.endFrame == _local11.endFrame)))) && ((((((_local8.sceneName == null)) || ((_local8.sceneName.length < 1)))) || ((_local14.sceneName == _local8.sceneName)))))){
                                                this.fixXnEntry(_local8, _local11, _local14);
                                                break;
                                            };
                                        };
                                        _local13++;
                                    };
                                    if (((_local3) && ((_local13 >= _local12.length)))){
                                        _local14 = _local12[0].clone();
                                        _local14.startFrame = _local8.startFrame;
                                        _local12.push(_local14);
                                        _local5 = true;
                                        this.fixXnEntry(_local8, _local11, _local14);
                                    };
                                };
                                _local10++;
                            };
                        };
                    };
                };
            } while (_local5);
        }
        protected function handleRemoved(_arg1:Event):void{
            _arg1.target.removeEventListener(Event.REMOVED, this.handleRemoved);
            _arg1.target.removeEventListener(Event.FRAME_CONSTRUCTED, this.handleXns);
        }
        protected function handleXns(_arg1:Object, _arg2:InstanceInfo=null):void{
            var _local3:DisplayObject;
            var _local9:InstanceInfo;
            var _local10:int;
            var _local11:int;
            var _local12:InstanceInfo;
            var _local4 = (_arg2 == null);
            if (_local4){
                _local3 = (_arg1.target as DisplayObject);
                _arg2 = this.targetDict[_local3];
                if (_arg2 == null){
                    return;
                };
            } else {
                _local3 = (_arg1 as DisplayObject);
            };
            if (_local3 == null){
                return;
            };
            var _local5:MovieClip = (_arg2.container as MovieClip);
            var _local6 = (_local5 == null);
            var _local7:int = ((_local6) ? 0 : (_local5.currentFrame - 1));
            if (((((((((!(_local6)) && ((_local5.scenes.length > 1)))) && (!((_arg2.sceneName == null))))) && ((_arg2.sceneName.length > 0)))) && (!((_local5.currentScene.name == _arg2.sceneName))))){
                return;
            };
            if (((_local6) && (_local4))){
                _local3.removeEventListener(Event.FRAME_CONSTRUCTED, this.handleXns);
            };
            var _local8:int;
            while (_local8 < _arg2.xns.length) {
                _local9 = _arg2.xns[_local8];
                this.handleXn(_local3, _arg2, _local9, _local9.type, _local7, _local6);
                _local8++;
            };
            if (!this._supportNextPrevAcrossFrames){
                if (_arg2.prev != null){
                    this.handleXn(_local3, _arg2, _arg2.prev, TimelineManager.PREV, _local7, _local6);
                };
                if (_arg2.next != null){
                    this.handleXn(_local3, _arg2, _arg2.next, TimelineManager.NEXT, _local7, _local6);
                };
            };
            if (!this._supportParentChildAcrossFrames){
                if (_arg2.parent != null){
                    this.handleXn(_local3, _arg2, _arg2.parent, TimelineManager.PARENT, _local7, _local6);
                };
                if (_arg2.children != null){
                    _local10 = _arg2.children.length;
                    _local11 = 0;
                    while (_local11 < _local10) {
                        _local12 = _arg2.children[_local11];
                        this.handleXn(_local3, _arg2, _local12, TimelineManager.CHILD, _local7, _local6);
                        _local11++;
                    };
                };
            };
        }
        protected function addXn(_arg1:DisplayObject, _arg2:DisplayObject, _arg3:InstanceInfo, _arg4:int):void{
        }
        protected function handleXn(_arg1:DisplayObject, _arg2:InstanceInfo, _arg3:InstanceInfo, _arg4:int, _arg5:int, _arg6:Boolean):void{
            var _local7:DisplayObject;
            if (((_arg6) || ((((_arg3.startFrame <= _arg5)) && ((_arg5 <= _arg3.endFrame)))))){
                _local7 = findTarget(_arg3, _arg2.container);
                if ((((_local7 == null)) && (!((_arg3.realIIForXn == null))))){
                    _local7 = (_arg3.content = this.getInstanceForInfoWithXns(_arg3.realIIForXn));
                };
                if (_local7 != null){
                    this.addXn(_arg1, _local7, _arg3, _arg4);
                };
            } else {
                this.removeXn(_arg1, _arg3, _arg4);
            };
        }

    }
}//package fl.timeline 
﻿package fl.timeline.timelineManager {
    import flash.display.*;
    import flash.geom.*;
    import __AS3__.vec.*;
    import fl.timeline.*;

    public class InstanceInfo {

        public var container:DisplayObject;
        public var instanceName:String;
        public var content:DisplayObject;
        public var type:int;
        public var prev:InstanceInfo;
        public var realIIForXn:InstanceInfo;
        public var endFrame:int;
        public var extraInfo;
        public var data:XML;
        public var startFrame:int;
        public var next:InstanceInfo;
        public var bounds:Rectangle;
        public var sceneName:String;
        public var parent:InstanceInfo;
        public var xns:Vector.<InstanceInfo>;
        public var children:Vector.<InstanceInfo>;

        public function InstanceInfo(_arg1:DisplayObject, _arg2:String, _arg3:int, _arg4:int, _arg5:int, _arg6:Rectangle=null, _arg7:XML=null, _arg8:Vector.<InstanceInfo>=null, _arg9=undefined, _arg10:String=null){
            this.container = _arg1;
            this.instanceName = _arg2;
            this.bounds = _arg6;
            this.data = _arg7;
            this.startFrame = _arg3;
            this.endFrame = _arg4;
            this.type = _arg5;
            this.xns = _arg8;
            this.extraInfo = _arg9;
            this.sceneName = _arg10;
        }
        public function clone():InstanceInfo{
            var _local1:InstanceInfo;
            var _local2:int;
            var _local3:Vector.<InstanceInfo> = new Vector.<InstanceInfo>();
            _local2 = 0;
            while (_local2 < this.xns.length) {
                _local1 = this.xns[_local2];
                _local3.push(new InstanceInfo(_local1.container, _local1.instanceName, _local1.startFrame, _local1.endFrame, _local1.type));
                _local2++;
            };
            if (this.prev != null){
                _local3.push(new InstanceInfo(this.prev.container, this.prev.instanceName, this.prev.startFrame, this.prev.endFrame, TimelineManager.PREV));
            };
            if (this.next != null){
                _local3.push(new InstanceInfo(this.next.container, this.next.instanceName, this.next.startFrame, this.next.endFrame, TimelineManager.NEXT));
            };
            if (this.parent != null){
                _local3.push(new InstanceInfo(this.parent.container, this.parent.instanceName, this.parent.startFrame, this.parent.endFrame, TimelineManager.PARENT));
            };
            if (this.children != null){
                _local2 = 0;
                while (_local2 < this.children.length) {
                    _local1 = this.children[_local2];
                    _local3.push(new InstanceInfo(_local1.container, _local1.instanceName, _local1.startFrame, _local1.endFrame, TimelineManager.CHILD));
                    _local2++;
                };
            };
            return (new InstanceInfo(this.container, this.instanceName, this.startFrame, this.endFrame, this.type, new Rectangle(this.bounds.x, this.bounds.y, this.bounds.width, this.bounds.height), this.data.copy(), _local3, this.extraInfo, this.sceneName));
        }

    }
}//package fl.timeline.timelineManager 
﻿package fl.core {

    public class InvalidationType {

        public static const ALL:String = "all";
        public static const SIZE:String = "size";
        public static const STYLES:String = "styles";
        public static const RENDERER_STYLES:String = "rendererStyles";
        public static const STATE:String = "state";
        public static const DATA:String = "data";
        public static const SCROLL:String = "scroll";
        public static const SELECTED:String = "selected";

    }
}//package fl.core 
﻿package fl.core {
    import flash.display.*;
    import flash.utils.*;
    import flash.events.*;
    import flash.text.*;
    import fl.managers.*;
    import flash.system.*;
    import fl.events.*;

    public class UIComponent extends Sprite {

        public static var inCallLaterPhase:Boolean = false;
        private static var defaultStyles:Object = {
            focusRectSkin:"focusRectSkin",
            focusRectPadding:2,
            textFormat:new TextFormat("_sans", 11, 0, false, false, false, "", "", TextFormatAlign.LEFT, 0, 0, 0, 0),
            disabledTextFormat:new TextFormat("_sans", 11, 0x999999, false, false, false, "", "", TextFormatAlign.LEFT, 0, 0, 0, 0),
            defaultTextFormat:new TextFormat("_sans", 11, 0, false, false, false, "", "", TextFormatAlign.LEFT, 0, 0, 0, 0),
            defaultDisabledTextFormat:new TextFormat("_sans", 11, 0x999999, false, false, false, "", "", TextFormatAlign.LEFT, 0, 0, 0, 0)
        };
        private static var focusManagers:Dictionary = new Dictionary(true);
        private static var focusManagerUsers:Dictionary = new Dictionary(true);
        public static var createAccessibilityImplementation:Function;

        public const version:String = "3.0.2.3";

        public var focusTarget:IFocusManagerComponent;
        protected var isLivePreview:Boolean = false;
        private var tempText:TextField;
        protected var instanceStyles:Object;
        protected var sharedStyles:Object;
        protected var callLaterMethods:Dictionary;
        protected var invalidateFlag:Boolean = false;
        protected var _enabled:Boolean = true;
        protected var invalidHash:Object;
        protected var uiFocusRect:DisplayObject;
        protected var isFocused:Boolean = false;
        private var _focusEnabled:Boolean = true;
        private var _mouseFocusEnabled:Boolean = true;
        protected var _width:Number;
        protected var _height:Number;
        protected var _x:Number;
        protected var _y:Number;
        protected var startWidth:Number;
        protected var startHeight:Number;
        protected var _imeMode:String = null;
        protected var _oldIMEMode:String = null;
        protected var errorCaught:Boolean = false;
        protected var _inspector:Boolean = false;

        public function UIComponent(){
            instanceStyles = {};
            sharedStyles = {};
            invalidHash = {};
            callLaterMethods = new Dictionary();
            StyleManager.registerInstance(this);
            configUI();
            invalidate(InvalidationType.ALL);
            tabEnabled = (this is IFocusManagerComponent);
            focusRect = false;
            if (tabEnabled){
                addEventListener(FocusEvent.FOCUS_IN, focusInHandler);
                addEventListener(FocusEvent.FOCUS_OUT, focusOutHandler);
                addEventListener(KeyboardEvent.KEY_DOWN, keyDownHandler);
                addEventListener(KeyboardEvent.KEY_UP, keyUpHandler);
            };
            initializeFocusManager();
            addEventListener(Event.ENTER_FRAME, hookAccessibility, false, 0, true);
        }
        public static function getStyleDefinition():Object{
            return (defaultStyles);
        }
        public static function mergeStyles(... _args):Object{
            var _local5:Object;
            var _local6:String;
            var _local2:Object = {};
            var _local3:uint = _args.length;
            var _local4:uint;
            while (_local4 < _local3) {
                _local5 = _args[_local4];
                for (_local6 in _local5) {
                    if (_local2[_local6] != null){
                    } else {
                        _local2[_local6] = _args[_local4][_local6];
                    };
                };
                _local4++;
            };
            return (_local2);
        }

        public function get componentInspectorSetting():Boolean{
            return (_inspector);
        }
        public function set componentInspectorSetting(_arg1:Boolean):void{
            _inspector = _arg1;
            if (_inspector){
                beforeComponentParameters();
            } else {
                afterComponentParameters();
            };
        }
        protected function beforeComponentParameters():void{
        }
        protected function afterComponentParameters():void{
        }
        public function get enabled():Boolean{
            return (_enabled);
        }
        public function set enabled(_arg1:Boolean):void{
            if (_arg1 == _enabled){
                return;
            };
            _enabled = _arg1;
            invalidate(InvalidationType.STATE);
        }
        public function setSize(_arg1:Number, _arg2:Number):void{
            _width = _arg1;
            _height = _arg2;
            invalidate(InvalidationType.SIZE);
            dispatchEvent(new ComponentEvent(ComponentEvent.RESIZE, false));
        }
        override public function get width():Number{
            return (_width);
        }
        override public function set width(_arg1:Number):void{
            if (_width == _arg1){
                return;
            };
            setSize(_arg1, height);
        }
        override public function get height():Number{
            return (_height);
        }
        override public function set height(_arg1:Number):void{
            if (_height == _arg1){
                return;
            };
            setSize(width, _arg1);
        }
        public function setStyle(_arg1:String, _arg2:Object):void{
            if ((((instanceStyles[_arg1] === _arg2)) && (!((_arg2 is TextFormat))))){
                return;
            };
            instanceStyles[_arg1] = _arg2;
            invalidate(InvalidationType.STYLES);
        }
        public function clearStyle(_arg1:String):void{
            setStyle(_arg1, null);
        }
        public function getStyle(_arg1:String):Object{
            return (instanceStyles[_arg1]);
        }
        public function move(_arg1:Number, _arg2:Number):void{
            _x = _arg1;
            _y = _arg2;
            super.x = Math.round(_arg1);
            super.y = Math.round(_arg2);
            dispatchEvent(new ComponentEvent(ComponentEvent.MOVE));
        }
        override public function get x():Number{
            return (((isNaN(_x)) ? super.x : _x));
        }
        override public function set x(_arg1:Number):void{
            move(_arg1, _y);
        }
        override public function get y():Number{
            return (((isNaN(_y)) ? super.y : _y));
        }
        override public function set y(_arg1:Number):void{
            move(_x, _arg1);
        }
        override public function get scaleX():Number{
            return ((width / startWidth));
        }
        override public function set scaleX(_arg1:Number):void{
            setSize((startWidth * _arg1), height);
        }
        override public function get scaleY():Number{
            return ((height / startHeight));
        }
        override public function set scaleY(_arg1:Number):void{
            setSize(width, (startHeight * _arg1));
        }
        protected function getScaleY():Number{
            return (super.scaleY);
        }
        protected function setScaleY(_arg1:Number):void{
            super.scaleY = _arg1;
        }
        protected function getScaleX():Number{
            return (super.scaleX);
        }
        protected function setScaleX(_arg1:Number):void{
            super.scaleX = _arg1;
        }
        override public function get visible():Boolean{
            return (super.visible);
        }
        override public function set visible(_arg1:Boolean):void{
            if (super.visible == _arg1){
                return;
            };
            super.visible = _arg1;
            var _local2:String = ((_arg1) ? ComponentEvent.SHOW : ComponentEvent.HIDE);
            dispatchEvent(new ComponentEvent(_local2, true));
        }
        public function validateNow():void{
            invalidate(InvalidationType.ALL, false);
            draw();
        }
        public function invalidate(_arg1:String="all", _arg2:Boolean=true):void{
            invalidHash[_arg1] = true;
            if (_arg2){
                this.callLater(draw);
            };
        }
        public function setSharedStyle(_arg1:String, _arg2:Object):void{
            if ((((sharedStyles[_arg1] === _arg2)) && (!((_arg2 is TextFormat))))){
                return;
            };
            sharedStyles[_arg1] = _arg2;
            if (instanceStyles[_arg1] == null){
                invalidate(InvalidationType.STYLES);
            };
        }
        public function get focusEnabled():Boolean{
            return (_focusEnabled);
        }
        public function set focusEnabled(_arg1:Boolean):void{
            _focusEnabled = _arg1;
        }
        public function get mouseFocusEnabled():Boolean{
            return (_mouseFocusEnabled);
        }
        public function set mouseFocusEnabled(_arg1:Boolean):void{
            _mouseFocusEnabled = _arg1;
        }
        public function get focusManager():IFocusManager{
            var _local1:DisplayObject = this;
            while (_local1) {
                if (UIComponent.focusManagers[_local1] != null){
                    return (IFocusManager(UIComponent.focusManagers[_local1]));
                };
                _local1 = _local1.parent;
            };
            return (null);
        }
        public function set focusManager(_arg1:IFocusManager):void{
            UIComponent.focusManagers[this] = _arg1;
        }
        public function drawFocus(_arg1:Boolean):void{
            var _local2:Number;
            isFocused = _arg1;
            if (((!((uiFocusRect == null))) && (contains(uiFocusRect)))){
                removeChild(uiFocusRect);
                uiFocusRect = null;
            };
            if (_arg1){
                uiFocusRect = (getDisplayObjectInstance(getStyleValue("focusRectSkin")) as Sprite);
                if (uiFocusRect == null){
                    return;
                };
                _local2 = Number(getStyleValue("focusRectPadding"));
                uiFocusRect.x = -(_local2);
                uiFocusRect.y = -(_local2);
                uiFocusRect.width = (width + (_local2 * 2));
                uiFocusRect.height = (height + (_local2 * 2));
                addChildAt(uiFocusRect, 0);
            };
        }
        public function setFocus():void{
            if (stage){
                stage.focus = this;
            };
        }
        public function getFocus():InteractiveObject{
            if (stage){
                return (stage.focus);
            };
            return (null);
        }
        protected function setIMEMode(_arg1:Boolean){
            var enabled:* = _arg1;
            if (_imeMode != null){
                if (enabled){
                    IME.enabled = true;
                    _oldIMEMode = IME.conversionMode;
                    try {
                        if (((!(errorCaught)) && (!((IME.conversionMode == IMEConversionMode.UNKNOWN))))){
                            IME.conversionMode = _imeMode;
                        };
                        errorCaught = false;
                    } catch(e:Error) {
                        errorCaught = true;
                        throw (new Error(("IME mode not supported: " + _imeMode)));
                    };
                } else {
                    if (((!((IME.conversionMode == IMEConversionMode.UNKNOWN))) && (!((_oldIMEMode == IMEConversionMode.UNKNOWN))))){
                        IME.conversionMode = _oldIMEMode;
                    };
                    IME.enabled = false;
                };
            };
        }
        public function drawNow():void{
            draw();
        }
        protected function configUI():void{
            isLivePreview = checkLivePreview();
            var _local1:Number = rotation;
            rotation = 0;
            var _local2:Number = super.width;
            var _local3:Number = super.height;
            var _local4 = 1;
            super.scaleY = _local4;
            super.scaleX = _local4;
            setSize(_local2, _local3);
            move(super.x, super.y);
            rotation = _local1;
            startWidth = _local2;
            startHeight = _local3;
            if (numChildren > 0){
                removeChildAt(0);
            };
        }
        protected function checkLivePreview():Boolean{
            var className:* = null;
            if (parent == null){
                return (false);
            };
            try {
                className = getQualifiedClassName(parent);
            } catch(e:Error) {
            };
            return ((className == "fl.livepreview::LivePreviewParent"));
        }
        protected function isInvalid(_arg1:String, ... _args):Boolean{
            if (((invalidHash[_arg1]) || (invalidHash[InvalidationType.ALL]))){
                return (true);
            };
            while (_args.length > 0) {
                if (invalidHash[_args.pop()]){
                    return (true);
                };
            };
            return (false);
        }
        protected function validate():void{
            invalidHash = {};
        }
        protected function draw():void{
            if (isInvalid(InvalidationType.SIZE, InvalidationType.STYLES)){
                if (((isFocused) && (focusManager.showFocusIndicator))){
                    drawFocus(true);
                };
            };
            validate();
        }
        protected function getDisplayObjectInstance(_arg1:Object):DisplayObject{
            var skin:* = _arg1;
            var classDef:* = null;
            if ((skin is Class)){
                return ((new (skin)() as DisplayObject));
            };
            if ((skin is DisplayObject)){
                (skin as DisplayObject).x = 0;
                (skin as DisplayObject).y = 0;
                return ((skin as DisplayObject));
            };
            try {
                classDef = getDefinitionByName(skin.toString());
            } catch(e:Error) {
                try {
                    classDef = (loaderInfo.applicationDomain.getDefinition(skin.toString()) as Object);
                } catch(e:Error) {
                };
            };
            if (classDef == null){
                return (null);
            };
            return ((new (classDef)() as DisplayObject));
        }
        protected function getStyleValue(_arg1:String):Object{
            return (((instanceStyles[_arg1])==null) ? sharedStyles[_arg1] : instanceStyles[_arg1]);
        }
        protected function copyStylesToChild(_arg1:UIComponent, _arg2:Object):void{
            var _local3:String;
            for (_local3 in _arg2) {
                _arg1.setStyle(_local3, getStyleValue(_arg2[_local3]));
            };
        }
        protected function callLater(_arg1:Function):void{
            if (inCallLaterPhase){
                return;
            };
            callLaterMethods[_arg1] = true;
            if (stage != null){
                stage.addEventListener(Event.RENDER, callLaterDispatcher, false, 0, true);
                stage.invalidate();
            } else {
                addEventListener(Event.ADDED_TO_STAGE, callLaterDispatcher, false, 0, true);
            };
        }
        private function callLaterDispatcher(_arg1:Event):void{
            var _local3:Object;
            if (_arg1.type == Event.ADDED_TO_STAGE){
                removeEventListener(Event.ADDED_TO_STAGE, callLaterDispatcher);
                stage.addEventListener(Event.RENDER, callLaterDispatcher, false, 0, true);
                stage.invalidate();
                return;
            };
            _arg1.target.removeEventListener(Event.RENDER, callLaterDispatcher);
            if (stage == null){
                addEventListener(Event.ADDED_TO_STAGE, callLaterDispatcher, false, 0, true);
                return;
            };
            inCallLaterPhase = true;
            var _local2:Dictionary = callLaterMethods;
            for (_local3 in _local2) {
                _local3();
                delete _local2[_local3];
            };
            inCallLaterPhase = false;
        }
        private function initializeFocusManager():void{
            var _local1:IFocusManager;
            var _local2:Dictionary;
            if (stage == null){
                addEventListener(Event.ADDED_TO_STAGE, addedHandler, false, 0, true);
            } else {
                createFocusManager();
                _local1 = focusManager;
                if (_local1 != null){
                    _local2 = focusManagerUsers[_local1];
                    if (_local2 == null){
                        _local2 = new Dictionary(true);
                        focusManagerUsers[_local1] = _local2;
                    };
                    _local2[this] = true;
                };
            };
            addEventListener(Event.REMOVED_FROM_STAGE, removedHandler);
        }
        private function addedHandler(_arg1:Event):void{
            removeEventListener(Event.ADDED_TO_STAGE, addedHandler);
            initializeFocusManager();
        }
        private function removedHandler(_arg1:Event):void{
            var _local3:Dictionary;
            var _local4:Boolean;
            var _local5:*;
            var _local6:*;
            var _local7:IFocusManager;
            removeEventListener(Event.REMOVED_FROM_STAGE, removedHandler);
            addEventListener(Event.ADDED_TO_STAGE, addedHandler);
            var _local2:IFocusManager = focusManager;
            if (_local2 != null){
                _local3 = focusManagerUsers[_local2];
                if (_local3 != null){
                    delete _local3[this];
                    _local4 = true;
                    for (_local5 in _local3) {
                        _local4 = false;
                        break;
                    };
                    if (_local4){
                        delete focusManagerUsers[_local2];
                        _local3 = null;
                    };
                };
                if (_local3 == null){
                    _local2.deactivate();
                    for (_local6 in focusManagers) {
                        _local7 = focusManagers[_local6];
                        if (_local2 == _local7){
                            delete focusManagers[_local6];
                        };
                    };
                };
            };
        }
        protected function createFocusManager():void{
            if (focusManagers[stage] == null){
                focusManagers[stage] = new FocusManager(stage);
            };
        }
        protected function isOurFocus(_arg1:DisplayObject):Boolean{
            return ((_arg1 == this));
        }
        protected function focusInHandler(_arg1:FocusEvent):void{
            var _local2:IFocusManager;
            if (isOurFocus((_arg1.target as DisplayObject))){
                _local2 = focusManager;
                if (((_local2) && (_local2.showFocusIndicator))){
                    drawFocus(true);
                    isFocused = true;
                };
            };
        }
        protected function focusOutHandler(_arg1:FocusEvent):void{
            if (isOurFocus((_arg1.target as DisplayObject))){
                drawFocus(false);
                isFocused = false;
            };
        }
        protected function keyDownHandler(_arg1:KeyboardEvent):void{
        }
        protected function keyUpHandler(_arg1:KeyboardEvent):void{
        }
        protected function hookAccessibility(_arg1:Event):void{
            removeEventListener(Event.ENTER_FRAME, hookAccessibility);
            initializeAccessibility();
        }
        protected function initializeAccessibility():void{
            if (UIComponent.createAccessibilityImplementation != null){
                UIComponent.createAccessibilityImplementation(this);
            };
        }

    }
}//package fl.core 
﻿package fl.core {
    import flash.display.*;

    public dynamic class ComponentShim extends MovieClip {

    }
}//package fl.core 
﻿package fl.managers {
    import fl.controls.*;
    import flash.display.*;

    public interface IFocusManager {

        function get defaultButton():Button;
        function set defaultButton(_arg1:Button):void;
        function get defaultButtonEnabled():Boolean;
        function set defaultButtonEnabled(_arg1:Boolean):void;
        function get nextTabIndex():int;
        function get showFocusIndicator():Boolean;
        function set showFocusIndicator(_arg1:Boolean):void;
        function getFocus():InteractiveObject;
        function setFocus(_arg1:InteractiveObject):void;
        function showFocus():void;
        function hideFocus():void;
        function activate():void;
        function deactivate():void;
        function findFocusManagerComponent(_arg1:InteractiveObject):InteractiveObject;
        function getNextFocusManagerComponent(_arg1:Boolean=false):InteractiveObject;

    }
}//package fl.managers 
﻿package fl.managers {

    public interface IFocusManagerComponent {

        function get focusEnabled():Boolean;
        function set focusEnabled(_arg1:Boolean):void;
        function get mouseFocusEnabled():Boolean;
        function get tabEnabled():Boolean;
        function get tabIndex():int;
        function setFocus():void;
        function drawFocus(_arg1:Boolean):void;

    }
}//package fl.managers 
﻿package fl.managers {
    import flash.utils.*;
    import fl.core.*;
    import flash.text.*;

    public class StyleManager {

        private static var _instance:StyleManager;

        private var styleToClassesHash:Object;
        private var classToInstancesDict:Dictionary;
        private var classToStylesDict:Dictionary;
        private var classToDefaultStylesDict:Dictionary;
        private var globalStyles:Object;

        public function StyleManager(){
            styleToClassesHash = {};
            classToInstancesDict = new Dictionary(true);
            classToStylesDict = new Dictionary(true);
            classToDefaultStylesDict = new Dictionary(true);
            globalStyles = UIComponent.getStyleDefinition();
        }
        private static function getInstance(){
            if (_instance == null){
                _instance = new (StyleManager)();
            };
            return (_instance);
        }
        public static function registerInstance(_arg1:UIComponent):void{
            var target:* = null;
            var defaultStyles:* = null;
            var styleToClasses:* = null;
            var n:* = null;
            var instance:* = _arg1;
            var inst:* = getInstance();
            var classDef:* = getClassDef(instance);
            if (classDef == null){
                return;
            };
            if (inst.classToInstancesDict[classDef] == null){
                inst.classToInstancesDict[classDef] = new Dictionary(true);
                target = classDef;
                while (defaultStyles == null) {
                    if (target["getStyleDefinition"] != null){
                        defaultStyles = target["getStyleDefinition"]();
                        break;
                    };
                    try {
                        target = (instance.loaderInfo.applicationDomain.getDefinition(getQualifiedSuperclassName(target)) as Class);
                    } catch(err:Error) {
                        try {
                            target = (getDefinitionByName(getQualifiedSuperclassName(target)) as Class);
                        } catch(e:Error) {
                            defaultStyles = UIComponent.getStyleDefinition();
                            break;
                        };
                    };
                };
                styleToClasses = inst.styleToClassesHash;
                for (n in defaultStyles) {
                    if (styleToClasses[n] == null){
                        styleToClasses[n] = new Dictionary(true);
                    };
                    styleToClasses[n][classDef] = true;
                };
                inst.classToDefaultStylesDict[classDef] = defaultStyles;
                if (inst.classToStylesDict[classDef] == null){
                    inst.classToStylesDict[classDef] = {};
                };
            };
            inst.classToInstancesDict[classDef][instance] = true;
            setSharedStyles(instance);
        }
        private static function setSharedStyles(_arg1:UIComponent):void{
            var _local5:String;
            var _local2:StyleManager = getInstance();
            var _local3:Class = getClassDef(_arg1);
            var _local4:Object = _local2.classToDefaultStylesDict[_local3];
            for (_local5 in _local4) {
                _arg1.setSharedStyle(_local5, getSharedStyle(_arg1, _local5));
            };
        }
        private static function getSharedStyle(_arg1:UIComponent, _arg2:String):Object{
            var _local3:Class = getClassDef(_arg1);
            var _local4:StyleManager = getInstance();
            var _local5:Object = _local4.classToStylesDict[_local3][_arg2];
            if (_local5 != null){
                return (_local5);
            };
            _local5 = _local4.globalStyles[_arg2];
            if (_local5 != null){
                return (_local5);
            };
            return (_local4.classToDefaultStylesDict[_local3][_arg2]);
        }
        public static function getComponentStyle(_arg1:Object, _arg2:String):Object{
            var _local3:Class = getClassDef(_arg1);
            var _local4:Object = getInstance().classToStylesDict[_local3];
            return (((_local4)==null) ? null : _local4[_arg2]);
        }
        public static function clearComponentStyle(_arg1:Object, _arg2:String):void{
            var _local3:Class = getClassDef(_arg1);
            var _local4:Object = getInstance().classToStylesDict[_local3];
            if (((!((_local4 == null))) && (!((_local4[_arg2] == null))))){
                delete _local4[_arg2];
                invalidateComponentStyle(_local3, _arg2);
            };
        }
        public static function setComponentStyle(_arg1:Object, _arg2:String, _arg3:Object):void{
            var _local4:Class = getClassDef(_arg1);
            var _local5:Object = getInstance().classToStylesDict[_local4];
            if (_local5 == null){
                _local5 = (getInstance().classToStylesDict[_local4] = {});
            };
            if (_local5 == _arg3){
                return;
            };
            _local5[_arg2] = _arg3;
            invalidateComponentStyle(_local4, _arg2);
        }
        private static function getClassDef(_arg1:Object):Class{
            var component:* = _arg1;
            if ((component is Class)){
                return ((component as Class));
            };
            try {
                return ((getDefinitionByName(getQualifiedClassName(component)) as Class));
            } catch(e:Error) {
                if ((component is UIComponent)){
                    try {
                        return ((component.loaderInfo.applicationDomain.getDefinition(getQualifiedClassName(component)) as Class));
                    } catch(e:Error) {
                    };
                };
            };
            return (null);
        }
        private static function invalidateStyle(_arg1:String):void{
            var _local3:Object;
            var _local2:Dictionary = getInstance().styleToClassesHash[_arg1];
            if (_local2 == null){
                return;
            };
            for (_local3 in _local2) {
                invalidateComponentStyle(Class(_local3), _arg1);
            };
        }
        private static function invalidateComponentStyle(_arg1:Class, _arg2:String):void{
            var _local4:Object;
            var _local5:UIComponent;
            var _local3:Dictionary = getInstance().classToInstancesDict[_arg1];
            if (_local3 == null){
                return;
            };
            for (_local4 in _local3) {
                _local5 = (_local4 as UIComponent);
                if (_local5 == null){
                } else {
                    _local5.setSharedStyle(_arg2, getSharedStyle(_local5, _arg2));
                };
            };
        }
        public static function setStyle(_arg1:String, _arg2:Object):void{
            var _local3:Object = getInstance().globalStyles;
            if ((((_local3[_arg1] === _arg2)) && (!((_arg2 is TextFormat))))){
                return;
            };
            _local3[_arg1] = _arg2;
            invalidateStyle(_arg1);
        }
        public static function clearStyle(_arg1:String):void{
            setStyle(_arg1, null);
        }
        public static function getStyle(_arg1:String):Object{
            return (getInstance().globalStyles[_arg1]);
        }

    }
}//package fl.managers 
﻿package fl.managers {

    public interface IFocusManagerGroup {

        function get groupName():String;
        function set groupName(_arg1:String):void;
        function get selected():Boolean;
        function set selected(_arg1:Boolean):void;

    }
}//package fl.managers 
﻿package fl.managers {
    import fl.controls.*;
    import flash.display.*;
    import flash.utils.*;
    import fl.core.*;
    import flash.events.*;
    import flash.text.*;
    import flash.ui.*;

    public class FocusManager implements IFocusManager {

        private var _form:DisplayObjectContainer;
        private var focusableObjects:Dictionary;
        private var focusableCandidates:Array;
        private var activated:Boolean = false;
        private var calculateCandidates:Boolean = true;
        private var lastFocus:InteractiveObject;
        private var _showFocusIndicator:Boolean = true;
        private var lastAction:String;
        private var defButton:Button;
        private var _defaultButton:Button;
        private var _defaultButtonEnabled:Boolean = true;

        public function FocusManager(_arg1:DisplayObjectContainer){
            focusableObjects = new Dictionary(true);
            if (_arg1 != null){
                _form = _arg1;
                activate();
            };
        }
        private function addedHandler(_arg1:Event):void{
            var _local2:DisplayObject = DisplayObject(_arg1.target);
            if (_local2.stage){
                addFocusables(DisplayObject(_arg1.target));
            };
        }
        private function removedHandler(_arg1:Event):void{
            var _local2:int;
            var _local4:InteractiveObject;
            var _local3:DisplayObject = DisplayObject(_arg1.target);
            if ((((_local3 is IFocusManagerComponent)) && ((focusableObjects[_local3] == true)))){
                if (_local3 == lastFocus){
                    IFocusManagerComponent(lastFocus).drawFocus(false);
                    lastFocus = null;
                };
                _local3.removeEventListener(Event.TAB_ENABLED_CHANGE, tabEnabledChangeHandler, false);
                delete focusableObjects[_local3];
                calculateCandidates = true;
            } else {
                if ((((_local3 is InteractiveObject)) && ((focusableObjects[_local3] == true)))){
                    _local4 = (_local3 as InteractiveObject);
                    if (_local4){
                        if (_local4 == lastFocus){
                            lastFocus = null;
                        };
                        delete focusableObjects[_local4];
                        calculateCandidates = true;
                    };
                    _local3.addEventListener(Event.TAB_ENABLED_CHANGE, tabEnabledChangeHandler, false, 0, true);
                };
            };
            removeFocusables(_local3);
        }
        private function addFocusables(_arg1:DisplayObject, _arg2:Boolean=false):void{
            var focusable:* = null;
            var io:* = null;
            var doc:* = null;
            var i:* = 0;
            var child:* = null;
            var o:* = _arg1;
            var skipTopLevel:Boolean = _arg2;
            if (!skipTopLevel){
                if ((o is IFocusManagerComponent)){
                    focusable = IFocusManagerComponent(o);
                    if (focusable.focusEnabled){
                        if (((focusable.tabEnabled) && (isTabVisible(o)))){
                            focusableObjects[o] = true;
                            calculateCandidates = true;
                        };
                        o.addEventListener(Event.TAB_ENABLED_CHANGE, tabEnabledChangeHandler, false, 0, true);
                        o.addEventListener(Event.TAB_INDEX_CHANGE, tabIndexChangeHandler, false, 0, true);
                    };
                } else {
                    if ((o is InteractiveObject)){
                        io = (o as InteractiveObject);
                        if (((((io) && (io.tabEnabled))) && ((findFocusManagerComponent(io) == io)))){
                            focusableObjects[io] = true;
                            calculateCandidates = true;
                        };
                        io.addEventListener(Event.TAB_ENABLED_CHANGE, tabEnabledChangeHandler, false, 0, true);
                        io.addEventListener(Event.TAB_INDEX_CHANGE, tabIndexChangeHandler, false, 0, true);
                    };
                };
            };
            if ((o is DisplayObjectContainer)){
                doc = DisplayObjectContainer(o);
                o.addEventListener(Event.TAB_CHILDREN_CHANGE, tabChildrenChangeHandler, false, 0, true);
                if ((((((doc is Stage)) || ((doc.parent is Stage)))) || (doc.tabChildren))){
                    i = 0;
                    while (i < doc.numChildren) {
                        try {
                            child = doc.getChildAt(i);
                            if (child != null){
                                addFocusables(doc.getChildAt(i));
                            };
                        } catch(error:SecurityError) {
                        };
                        i = (i + 1);
                    };
                };
            };
        }
        private function removeFocusables(_arg1:DisplayObject):void{
            var _local2:Object;
            var _local3:DisplayObject;
            if ((_arg1 is DisplayObjectContainer)){
                _arg1.removeEventListener(Event.TAB_CHILDREN_CHANGE, tabChildrenChangeHandler, false);
                _arg1.removeEventListener(Event.TAB_INDEX_CHANGE, tabIndexChangeHandler, false);
                for (_local2 in focusableObjects) {
                    _local3 = DisplayObject(_local2);
                    if (DisplayObjectContainer(_arg1).contains(_local3)){
                        if (_local3 == lastFocus){
                            lastFocus = null;
                        };
                        _local3.removeEventListener(Event.TAB_ENABLED_CHANGE, tabEnabledChangeHandler, false);
                        delete focusableObjects[_local2];
                        calculateCandidates = true;
                    };
                };
            };
        }
        private function isTabVisible(_arg1:DisplayObject):Boolean{
            var _local2:DisplayObjectContainer = _arg1.parent;
            while (((((_local2) && (!((_local2 is Stage))))) && (!(((_local2.parent) && ((_local2.parent is Stage))))))) {
                if (!_local2.tabChildren){
                    return (false);
                };
                _local2 = _local2.parent;
            };
            return (true);
        }
        private function isValidFocusCandidate(_arg1:DisplayObject, _arg2:String):Boolean{
            var _local3:IFocusManagerGroup;
            if (!isEnabledAndVisible(_arg1)){
                return (false);
            };
            if ((_arg1 is IFocusManagerGroup)){
                _local3 = IFocusManagerGroup(_arg1);
                if (_arg2 == _local3.groupName){
                    return (false);
                };
            };
            return (true);
        }
        private function isEnabledAndVisible(_arg1:DisplayObject):Boolean{
            var _local3:TextField;
            var _local4:SimpleButton;
            var _local2:DisplayObjectContainer = DisplayObject(form).parent;
            while (_arg1 != _local2) {
                if ((_arg1 is UIComponent)){
                    if (!UIComponent(_arg1).enabled){
                        return (false);
                    };
                } else {
                    if ((_arg1 is TextField)){
                        _local3 = TextField(_arg1);
                        if ((((_local3.type == TextFieldType.DYNAMIC)) || (!(_local3.selectable)))){
                            return (false);
                        };
                    } else {
                        if ((_arg1 is SimpleButton)){
                            _local4 = SimpleButton(_arg1);
                            if (!_local4.enabled){
                                return (false);
                            };
                        };
                    };
                };
                if (!_arg1.visible){
                    return (false);
                };
                _arg1 = _arg1.parent;
            };
            return (true);
        }
        private function tabEnabledChangeHandler(_arg1:Event):void{
            calculateCandidates = true;
            var _local2:InteractiveObject = InteractiveObject(_arg1.target);
            var _local3 = (focusableObjects[_local2] == true);
            if (_local2.tabEnabled){
                if (((!(_local3)) && (isTabVisible(_local2)))){
                    if (!(_local2 is IFocusManagerComponent)){
                        _local2.focusRect = false;
                    };
                    focusableObjects[_local2] = true;
                };
            } else {
                if (_local3){
                    delete focusableObjects[_local2];
                };
            };
        }
        private function tabIndexChangeHandler(_arg1:Event):void{
            calculateCandidates = true;
        }
        private function tabChildrenChangeHandler(_arg1:Event):void{
            if (_arg1.target != _arg1.currentTarget){
                return;
            };
            calculateCandidates = true;
            var _local2:DisplayObjectContainer = DisplayObjectContainer(_arg1.target);
            if (_local2.tabChildren){
                addFocusables(_local2, true);
            } else {
                removeFocusables(_local2);
            };
        }
        public function activate():void{
            if (activated){
                return;
            };
            addFocusables(form);
            form.addEventListener(Event.ADDED, addedHandler, false, 0, true);
            form.addEventListener(Event.REMOVED, removedHandler, false, 0, true);
            form.stage.addEventListener(FocusEvent.MOUSE_FOCUS_CHANGE, mouseFocusChangeHandler, false, 0, true);
            form.stage.addEventListener(FocusEvent.KEY_FOCUS_CHANGE, keyFocusChangeHandler, false, 0, true);
            form.addEventListener(FocusEvent.FOCUS_IN, focusInHandler, true, 0, true);
            form.addEventListener(FocusEvent.FOCUS_OUT, focusOutHandler, true, 0, true);
            form.stage.addEventListener(Event.ACTIVATE, activateHandler, false, 0, true);
            form.stage.addEventListener(Event.DEACTIVATE, deactivateHandler, false, 0, true);
            form.addEventListener(MouseEvent.MOUSE_DOWN, mouseDownHandler, false, 0, true);
            form.addEventListener(KeyboardEvent.KEY_DOWN, keyDownHandler, true, 0, true);
            activated = true;
            if (lastFocus){
                setFocus(lastFocus);
            };
        }
        public function deactivate():void{
            if (!activated){
                return;
            };
            focusableObjects = new Dictionary(true);
            focusableCandidates = null;
            lastFocus = null;
            defButton = null;
            form.removeEventListener(Event.ADDED, addedHandler, false);
            form.removeEventListener(Event.REMOVED, removedHandler, false);
            form.stage.removeEventListener(FocusEvent.MOUSE_FOCUS_CHANGE, mouseFocusChangeHandler, false);
            form.stage.removeEventListener(FocusEvent.KEY_FOCUS_CHANGE, keyFocusChangeHandler, false);
            form.removeEventListener(FocusEvent.FOCUS_IN, focusInHandler, true);
            form.removeEventListener(FocusEvent.FOCUS_OUT, focusOutHandler, true);
            form.stage.removeEventListener(Event.ACTIVATE, activateHandler, false);
            form.stage.removeEventListener(Event.DEACTIVATE, deactivateHandler, false);
            form.removeEventListener(MouseEvent.MOUSE_DOWN, mouseDownHandler, false);
            form.removeEventListener(KeyboardEvent.KEY_DOWN, keyDownHandler, true);
            activated = false;
        }
        private function focusInHandler(_arg1:FocusEvent):void{
            var _local3:Button;
            if (!activated){
                return;
            };
            var _local2:InteractiveObject = InteractiveObject(_arg1.target);
            if (form.contains(_local2)){
                lastFocus = findFocusManagerComponent(InteractiveObject(_local2));
                if ((lastFocus is Button)){
                    _local3 = Button(lastFocus);
                    if (defButton){
                        defButton.emphasized = false;
                        defButton = _local3;
                        _local3.emphasized = true;
                    };
                } else {
                    if (((defButton) && (!((defButton == _defaultButton))))){
                        defButton.emphasized = false;
                        defButton = _defaultButton;
                        _defaultButton.emphasized = true;
                    };
                };
            };
        }
        private function focusOutHandler(_arg1:FocusEvent):void{
            if (!activated){
                return;
            };
            var _local2:InteractiveObject = (_arg1.target as InteractiveObject);
        }
        private function activateHandler(_arg1:Event):void{
            if (!activated){
                return;
            };
            var _local2:InteractiveObject = InteractiveObject(_arg1.target);
            if (lastFocus){
                if ((lastFocus is IFocusManagerComponent)){
                    IFocusManagerComponent(lastFocus).setFocus();
                } else {
                    form.stage.focus = lastFocus;
                };
            };
            lastAction = "ACTIVATE";
        }
        private function deactivateHandler(_arg1:Event):void{
            if (!activated){
                return;
            };
            var _local2:InteractiveObject = InteractiveObject(_arg1.target);
        }
        private function mouseFocusChangeHandler(_arg1:FocusEvent):void{
            if (!activated){
                return;
            };
            if ((_arg1.relatedObject is TextField)){
                return;
            };
            _arg1.preventDefault();
        }
        private function keyFocusChangeHandler(_arg1:FocusEvent):void{
            if (!activated){
                return;
            };
            showFocusIndicator = true;
            if ((((((_arg1.keyCode == Keyboard.TAB)) || ((_arg1.keyCode == 0)))) && (!(_arg1.isDefaultPrevented())))){
                setFocusToNextObject(_arg1);
                _arg1.preventDefault();
            };
        }
        private function keyDownHandler(_arg1:KeyboardEvent):void{
            if (!activated){
                return;
            };
            if (_arg1.keyCode == Keyboard.TAB){
                lastAction = "KEY";
                if (calculateCandidates){
                    sortFocusableObjects();
                    calculateCandidates = false;
                };
            };
            if (((((((defaultButtonEnabled) && ((_arg1.keyCode == Keyboard.ENTER)))) && (defaultButton))) && (defButton.enabled))){
                sendDefaultButtonEvent();
            };
        }
        private function mouseDownHandler(_arg1:MouseEvent):void{
            if (!activated){
                return;
            };
            if (_arg1.isDefaultPrevented()){
                return;
            };
            var _local2:InteractiveObject = getTopLevelFocusTarget(InteractiveObject(_arg1.target));
            if (!_local2){
                return;
            };
            showFocusIndicator = false;
            if (((((!((_local2 == lastFocus))) || ((lastAction == "ACTIVATE")))) && (!((_local2 is TextField))))){
                setFocus(_local2);
            };
            lastAction = "MOUSEDOWN";
        }
        public function get defaultButton():Button{
            return (_defaultButton);
        }
        public function set defaultButton(_arg1:Button):void{
            var _local2:Button = ((_arg1) ? Button(_arg1) : null);
            if (_local2 != _defaultButton){
                if (_defaultButton){
                    _defaultButton.emphasized = false;
                };
                if (defButton){
                    defButton.emphasized = false;
                };
                _defaultButton = _local2;
                defButton = _local2;
                if (_local2){
                    _local2.emphasized = true;
                };
            };
        }
        public function sendDefaultButtonEvent():void{
            defButton.dispatchEvent(new MouseEvent(MouseEvent.CLICK));
        }
        private function setFocusToNextObject(_arg1:FocusEvent):void{
            if (!hasFocusableObjects()){
                return;
            };
            var _local2:InteractiveObject = getNextFocusManagerComponent(_arg1.shiftKey);
            if (_local2){
                setFocus(_local2);
            };
        }
        private function hasFocusableObjects():Boolean{
            var _local1:Object;
            for (_local1 in focusableObjects) {
                return (true);
            };
            return (false);
        }
        public function getNextFocusManagerComponent(_arg1:Boolean=false):InteractiveObject{
            var _local8:IFocusManagerGroup;
            if (!hasFocusableObjects()){
                return (null);
            };
            if (calculateCandidates){
                sortFocusableObjects();
                calculateCandidates = false;
            };
            var _local2:DisplayObject = form.stage.focus;
            _local2 = DisplayObject(findFocusManagerComponent(InteractiveObject(_local2)));
            var _local3 = "";
            if ((_local2 is IFocusManagerGroup)){
                _local8 = IFocusManagerGroup(_local2);
                _local3 = _local8.groupName;
            };
            var _local4:int = getIndexOfFocusedObject(_local2);
            var _local5:Boolean;
            var _local6:int = _local4;
            if (_local4 == -1){
                if (_arg1){
                    _local4 = focusableCandidates.length;
                };
                _local5 = true;
            };
            var _local7:int = getIndexOfNextObject(_local4, _arg1, _local5, _local3);
            return (findFocusManagerComponent(focusableCandidates[_local7]));
        }
        private function getIndexOfFocusedObject(_arg1:DisplayObject):int{
            var _local2:int = focusableCandidates.length;
            var _local3:int;
            _local3 = 0;
            while (_local3 < _local2) {
                if (focusableCandidates[_local3] == _arg1){
                    return (_local3);
                };
                _local3++;
            };
            return (-1);
        }
        private function getIndexOfNextObject(_arg1:int, _arg2:Boolean, _arg3:Boolean, _arg4:String):int{
            var _local7:DisplayObject;
            var _local8:IFocusManagerGroup;
            var _local9:int;
            var _local10:DisplayObject;
            var _local11:IFocusManagerGroup;
            var _local5:int = focusableCandidates.length;
            var _local6:int = _arg1;
            while (true) {
                if (_arg2){
                    _arg1--;
                } else {
                    _arg1++;
                };
                if (_arg3){
                    if (((_arg2) && ((_arg1 < 0)))){
                        break;
                    };
                    if (((!(_arg2)) && ((_arg1 == _local5)))){
                        break;
                    };
                } else {
                    _arg1 = ((_arg1 + _local5) % _local5);
                    if (_local6 == _arg1){
                        break;
                    };
                };
                if (isValidFocusCandidate(focusableCandidates[_arg1], _arg4)){
                    _local7 = DisplayObject(findFocusManagerComponent(focusableCandidates[_arg1]));
                    if ((_local7 is IFocusManagerGroup)){
                        _local8 = IFocusManagerGroup(_local7);
                        _local9 = 0;
                        while (_local9 < focusableCandidates.length) {
                            _local10 = focusableCandidates[_local9];
                            if ((_local10 is IFocusManagerGroup)){
                                _local11 = IFocusManagerGroup(_local10);
                                if ((((_local11.groupName == _local8.groupName)) && (_local11.selected))){
                                    _arg1 = _local9;
                                    break;
                                };
                            };
                            _local9++;
                        };
                    };
                    return (_arg1);
                };
            };
            return (_arg1);
        }
        private function sortFocusableObjects():void{
            var _local1:Object;
            var _local2:InteractiveObject;
            focusableCandidates = [];
            for (_local1 in focusableObjects) {
                _local2 = InteractiveObject(_local1);
                if (((((_local2.tabIndex) && (!(isNaN(Number(_local2.tabIndex)))))) && ((_local2.tabIndex > 0)))){
                    sortFocusableObjectsTabIndex();
                    return;
                };
                focusableCandidates.push(_local2);
            };
            focusableCandidates.sort(sortByDepth);
        }
        private function sortFocusableObjectsTabIndex():void{
            var _local1:Object;
            var _local2:InteractiveObject;
            focusableCandidates = [];
            for (_local1 in focusableObjects) {
                _local2 = InteractiveObject(_local1);
                if (((_local2.tabIndex) && (!(isNaN(Number(_local2.tabIndex)))))){
                    focusableCandidates.push(_local2);
                };
            };
            focusableCandidates.sort(sortByTabIndex);
        }
        private function sortByDepth(_arg1:InteractiveObject, _arg2:InteractiveObject):Number{
            var _local5:int;
            var _local6:String;
            var _local7:String;
            var _local3 = "";
            var _local4 = "";
            var _local8 = "0000";
            var _local9:DisplayObject = DisplayObject(_arg1);
            var _local10:DisplayObject = DisplayObject(_arg2);
            while (((!((_local9 == DisplayObject(form)))) && (_local9.parent))) {
                _local5 = getChildIndex(_local9.parent, _local9);
                _local6 = _local5.toString(16);
                if (_local6.length < 4){
                    _local7 = (_local8.substring(0, (4 - _local6.length)) + _local6);
                };
                _local3 = (_local7 + _local3);
                _local9 = _local9.parent;
            };
            while (((!((_local10 == DisplayObject(form)))) && (_local10.parent))) {
                _local5 = getChildIndex(_local10.parent, _local10);
                _local6 = _local5.toString(16);
                if (_local6.length < 4){
                    _local7 = (_local8.substring(0, (4 - _local6.length)) + _local6);
                };
                _local4 = (_local7 + _local4);
                _local10 = _local10.parent;
            };
            return ((((_local3 > _local4)) ? 1 : (((_local3 < _local4)) ? -1 : 0)));
        }
        private function getChildIndex(_arg1:DisplayObjectContainer, _arg2:DisplayObject):int{
            return (_arg1.getChildIndex(_arg2));
        }
        private function sortByTabIndex(_arg1:InteractiveObject, _arg2:InteractiveObject):int{
            return ((((_arg1.tabIndex > _arg2.tabIndex)) ? 1 : (((_arg1.tabIndex < _arg2.tabIndex)) ? -1 : sortByDepth(_arg1, _arg2))));
        }
        public function get defaultButtonEnabled():Boolean{
            return (_defaultButtonEnabled);
        }
        public function set defaultButtonEnabled(_arg1:Boolean):void{
            _defaultButtonEnabled = _arg1;
        }
        public function get nextTabIndex():int{
            return (0);
        }
        public function get showFocusIndicator():Boolean{
            return (_showFocusIndicator);
        }
        public function set showFocusIndicator(_arg1:Boolean):void{
            _showFocusIndicator = _arg1;
        }
        public function get form():DisplayObjectContainer{
            return (_form);
        }
        public function set form(_arg1:DisplayObjectContainer):void{
            _form = _arg1;
        }
        public function getFocus():InteractiveObject{
            var _local1:InteractiveObject = form.stage.focus;
            return (findFocusManagerComponent(_local1));
        }
        public function setFocus(_arg1:InteractiveObject):void{
            if ((_arg1 is IFocusManagerComponent)){
                IFocusManagerComponent(_arg1).setFocus();
            } else {
                form.stage.focus = _arg1;
            };
        }
        public function showFocus():void{
        }
        public function hideFocus():void{
        }
        public function findFocusManagerComponent(_arg1:InteractiveObject):InteractiveObject{
            var _local2:InteractiveObject = _arg1;
            while (_arg1) {
                if ((((_arg1 is IFocusManagerComponent)) && (IFocusManagerComponent(_arg1).focusEnabled))){
                    return (_arg1);
                };
                _arg1 = _arg1.parent;
            };
            return (_local2);
        }
        private function getTopLevelFocusTarget(_arg1:InteractiveObject):InteractiveObject{
            while (_arg1 != InteractiveObject(form)) {
                if ((((((((_arg1 is IFocusManagerComponent)) && (IFocusManagerComponent(_arg1).focusEnabled))) && (IFocusManagerComponent(_arg1).mouseFocusEnabled))) && (UIComponent(_arg1).enabled))){
                    return (_arg1);
                };
                _arg1 = _arg1.parent;
                if (_arg1 == null){
                    break;
                };
            };
            return (null);
        }

    }
}//package fl.managers 
﻿package fl.containers {
    import flash.display.*;
    import flash.utils.*;
    import fl.core.*;
    import flash.events.*;
    import flash.net.*;
    import flash.system.*;
    import fl.events.*;

    public class UILoader extends UIComponent {

        private static var defaultStyles:Object = {};

        protected var _scaleContent:Boolean = true;
        protected var _autoLoad:Boolean = true;
        protected var contentInited:Boolean = false;
        protected var _source:Object;
        protected var loader:Loader;
        protected var _maintainAspectRatio:Boolean = true;
        protected var contentClip:Sprite;

        public static function getStyleDefinition():Object{
            return (defaultStyles);
        }

        override public function setSize(_arg1:Number, _arg2:Number):void{
            if (((!(_scaleContent)) && ((_width > 0)))){
                return;
            };
            super.setSize(_arg1, _arg2);
        }
        public function get autoLoad():Boolean{
            return (_autoLoad);
        }
        public function set autoLoad(_arg1:Boolean):void{
            _autoLoad = _arg1;
            if (((((((_autoLoad) && ((loader == null)))) && (!((_source == null))))) && (!((_source == ""))))){
                load();
            };
        }
        public function get scaleContent():Boolean{
            return (_scaleContent);
        }
        public function set scaleContent(_arg1:Boolean):void{
            if (_scaleContent == _arg1){
                return;
            };
            _scaleContent = _arg1;
            invalidate(InvalidationType.SIZE);
        }
        public function get maintainAspectRatio():Boolean{
            return (_maintainAspectRatio);
        }
        public function set maintainAspectRatio(_arg1:Boolean):void{
            _maintainAspectRatio = _arg1;
            invalidate(InvalidationType.SIZE);
        }
        public function get bytesLoaded():uint{
            return ((((((loader == null)) || ((loader.contentLoaderInfo == null)))) ? 0 : loader.contentLoaderInfo.bytesLoaded));
        }
        public function get bytesTotal():uint{
            return ((((((loader == null)) || ((loader.contentLoaderInfo == null)))) ? 0 : loader.contentLoaderInfo.bytesTotal));
        }
        public function loadBytes(_arg1:ByteArray, _arg2:LoaderContext=null):void{
            var bytes:* = _arg1;
            var context = _arg2;
            _unload();
            initLoader();
            try {
                loader.loadBytes(bytes, context);
            } catch(error) {
                throw (error);
            };
        }
        public function get content():DisplayObject{
            if (loader != null){
                return (loader.content);
            };
            if (contentClip.numChildren){
                return (contentClip.getChildAt(0));
            };
            return (null);
        }
        public function get source():Object{
            return (_source);
        }
        public function set source(_arg1:Object):void{
            if (_arg1 == ""){
                return;
            };
            _source = _arg1;
            _unload();
            if (((_autoLoad) && (!((_source == null))))){
                load();
            };
        }
        public function get percentLoaded():Number{
            return (((bytesTotal)<=0) ? 0 : ((bytesLoaded / bytesTotal) * 100));
        }
        public function load(_arg1:URLRequest=null, _arg2:LoaderContext=null):void{
            _unload();
            if ((((((_arg1 == null)) || ((_arg1.url == null)))) && ((((_source == null)) || ((_source == "")))))){
                return;
            };
            var _local3:DisplayObject = getDisplayObjectInstance(source);
            if (_local3 != null){
                contentClip.addChild(_local3);
                contentInited = true;
                invalidate(InvalidationType.SIZE);
                return;
            };
            if (_arg1 == null){
                _arg1 = new URLRequest(_source.toString());
            };
            if (_arg2 == null){
                _arg2 = new LoaderContext(false, ApplicationDomain.currentDomain);
            };
            initLoader();
            loader.load(_arg1, _arg2);
        }
        public function unload():void{
            _source = null;
            _unload(true);
        }
        public function close():void{
            try {
                loader.close();
            } catch(error) {
                throw (error);
            };
        }
        protected function _unload(_arg1:Boolean=false):void{
            var throwError:Boolean = _arg1;
            if (loader != null){
                clearLoadEvents();
                contentClip.removeChild(loader);
                try {
                    loader.close();
                } catch(e:Error) {
                };
                try {
                    loader.unload();
                } catch(e) {
                    if (throwError){
                        throw (e);
                    };
                };
                loader = null;
                return;
            };
            contentInited = false;
            if (contentClip.numChildren){
                contentClip.removeChildAt(0);
            };
        }
        protected function initLoader():void{
            loader = new Loader();
            loader.contentLoaderInfo.addEventListener(IOErrorEvent.IO_ERROR, handleError, false, 0, true);
            loader.contentLoaderInfo.addEventListener(SecurityErrorEvent.SECURITY_ERROR, handleError, false, 0, true);
            loader.contentLoaderInfo.addEventListener(Event.OPEN, passEvent, false, 0, true);
            loader.contentLoaderInfo.addEventListener(ProgressEvent.PROGRESS, passEvent, false, 0, true);
            loader.contentLoaderInfo.addEventListener(Event.COMPLETE, handleComplete, false, 0, true);
            loader.contentLoaderInfo.addEventListener(Event.INIT, handleInit, false, 0, true);
            loader.contentLoaderInfo.addEventListener(HTTPStatusEvent.HTTP_STATUS, passEvent, false, 0, true);
            contentClip.addChild(loader);
        }
        protected function handleComplete(_arg1:Event):void{
            clearLoadEvents();
            passEvent(_arg1);
        }
        protected function passEvent(_arg1:Event):void{
            dispatchEvent(_arg1);
        }
        protected function handleError(_arg1:Event):void{
            passEvent(_arg1);
            clearLoadEvents();
            loader.contentLoaderInfo.removeEventListener(Event.INIT, handleInit);
        }
        protected function handleInit(_arg1:Event):void{
            loader.contentLoaderInfo.removeEventListener(Event.INIT, handleInit);
            contentInited = true;
            passEvent(_arg1);
            invalidate(InvalidationType.SIZE);
        }
        protected function clearLoadEvents():void{
            loader.contentLoaderInfo.removeEventListener(IOErrorEvent.IO_ERROR, handleError);
            loader.contentLoaderInfo.removeEventListener(SecurityErrorEvent.SECURITY_ERROR, handleError);
            loader.contentLoaderInfo.removeEventListener(Event.OPEN, passEvent);
            loader.contentLoaderInfo.removeEventListener(ProgressEvent.PROGRESS, passEvent);
            loader.contentLoaderInfo.removeEventListener(HTTPStatusEvent.HTTP_STATUS, passEvent);
            loader.contentLoaderInfo.removeEventListener(Event.COMPLETE, handleComplete);
        }
        override protected function draw():void{
            if (isInvalid(InvalidationType.SIZE)){
                drawLayout();
            };
            super.draw();
        }
        protected function drawLayout():void{
            var _local2:Number;
            var _local3:Number;
            var _local6:LoaderInfo;
            if (!contentInited){
                return;
            };
            var _local1:Boolean;
            if (loader){
                _local6 = loader.contentLoaderInfo;
                _local2 = _local6.width;
                _local3 = _local6.height;
            } else {
                _local2 = contentClip.width;
                _local3 = contentClip.height;
            };
            var _local4:Number = _width;
            var _local5:Number = _height;
            if (!_scaleContent){
                _width = contentClip.width;
                _height = contentClip.height;
            } else {
                sizeContent(contentClip, _local2, _local3, _width, _height);
            };
            if (((!((_local4 == _width))) || (!((_local5 == _height))))){
                dispatchEvent(new ComponentEvent(ComponentEvent.RESIZE, true));
            };
        }
        protected function sizeContent(_arg1:DisplayObject, _arg2:Number, _arg3:Number, _arg4:Number, _arg5:Number):void{
            var _local8:Number;
            var _local9:Number;
            var _local6:Number = _arg4;
            var _local7:Number = _arg5;
            if (_maintainAspectRatio){
                _local8 = (_arg4 / _arg5);
                _local9 = (_arg2 / _arg3);
                if (_local8 < _local9){
                    _local7 = (_local6 / _local9);
                } else {
                    _local6 = (_local7 * _local9);
                };
            };
            _arg1.width = _local6;
            _arg1.height = _local7;
            _arg1.x = ((_arg4 / 2) - (_local6 / 2));
            _arg1.y = ((_arg5 / 2) - (_local7 / 2));
        }
        override protected function configUI():void{
            super.configUI();
            contentClip = new Sprite();
            addChild(contentClip);
        }

    }
}//package fl.containers 
﻿package fl.containers {
    import fl.controls.*;
    import flash.display.*;
    import fl.core.*;
    import flash.events.*;
    import flash.net.*;
    import flash.ui.*;
    import fl.managers.*;
    import flash.system.*;
    import fl.events.*;

    public class ScrollPane extends BaseScrollPane implements IFocusManagerComponent {

        private static var defaultStyles:Object = {
            upSkin:"ScrollPane_upSkin",
            disabledSkin:"ScrollPane_disabledSkin",
            focusRectSkin:null,
            focusRectPadding:null,
            contentPadding:0
        };

        protected var _source:Object = "";
        protected var _scrollDrag:Boolean = false;
        protected var contentClip:Sprite;
        protected var loader:Loader;
        protected var xOffset:Number;
        protected var yOffset:Number;
        protected var scrollDragHPos:Number;
        protected var scrollDragVPos:Number;
        protected var currentContent:Object;

        public static function getStyleDefinition():Object{
            return (mergeStyles(defaultStyles, BaseScrollPane.getStyleDefinition()));
        }

        public function get scrollDrag():Boolean{
            return (_scrollDrag);
        }
        public function set scrollDrag(_arg1:Boolean):void{
            _scrollDrag = _arg1;
            invalidate(InvalidationType.STATE);
        }
        public function get percentLoaded():Number{
            if (loader != null){
                return (Math.round(((bytesLoaded / bytesTotal) * 100)));
            };
            return (0);
        }
        public function get bytesLoaded():Number{
            return ((((((loader == null)) || ((loader.contentLoaderInfo == null)))) ? 0 : loader.contentLoaderInfo.bytesLoaded));
        }
        public function get bytesTotal():Number{
            return ((((((loader == null)) || ((loader.contentLoaderInfo == null)))) ? 0 : loader.contentLoaderInfo.bytesTotal));
        }
        public function refreshPane():void{
            if ((_source is URLRequest)){
                _source = _source.url;
            };
            source = _source;
        }
        public function update():void{
            var _local1:DisplayObject = contentClip.getChildAt(0);
            setContentSize(_local1.width, _local1.height);
        }
        public function get content():DisplayObject{
            var _local1:Object = currentContent;
            if ((_local1 is URLRequest)){
                _local1 = loader.content;
            };
            return ((_local1 as DisplayObject));
        }
        public function get source():Object{
            return (_source);
        }
        public function set source(_arg1:Object):void{
            var _local2:*;
            clearContent();
            if (isLivePreview){
                return;
            };
            _source = _arg1;
            if ((((_source == "")) || ((_source == null)))){
                return;
            };
            currentContent = getDisplayObjectInstance(_arg1);
            if (currentContent != null){
                _local2 = contentClip.addChild((currentContent as DisplayObject));
                dispatchEvent(new Event(Event.INIT));
                update();
            } else {
                load(new URLRequest(_source.toString()));
            };
        }
        public function load(_arg1:URLRequest, _arg2:LoaderContext=null):void{
            if (_arg2 == null){
                _arg2 = new LoaderContext(false, ApplicationDomain.currentDomain);
            };
            clearContent();
            initLoader();
            currentContent = (_source = _arg1);
            loader.load(_arg1, _arg2);
        }
        override protected function setVerticalScrollPosition(_arg1:Number, _arg2:Boolean=false):void{
            var _local3:* = contentClip.scrollRect;
            _local3.y = _arg1;
            contentClip.scrollRect = _local3;
        }
        override protected function setHorizontalScrollPosition(_arg1:Number, _arg2:Boolean=false):void{
            var _local3:* = contentClip.scrollRect;
            _local3.x = _arg1;
            contentClip.scrollRect = _local3;
        }
        override protected function drawLayout():void{
            super.drawLayout();
            contentScrollRect = contentClip.scrollRect;
            contentScrollRect.width = availableWidth;
            contentScrollRect.height = availableHeight;
            contentClip.cacheAsBitmap = useBitmapScrolling;
            contentClip.scrollRect = contentScrollRect;
            contentClip.x = (contentClip.y = contentPadding);
        }
        protected function onContentLoad(_arg1:Event):void{
            update();
            var _local2:* = calculateAvailableHeight();
            calculateAvailableSize();
            horizontalScrollBar.setScrollProperties(availableWidth, 0, ((useFixedHorizontalScrolling) ? _maxHorizontalScrollPosition : (contentWidth - availableWidth)), availableWidth);
            verticalScrollBar.setScrollProperties(_local2, 0, (contentHeight - _local2), _local2);
            passEvent(_arg1);
        }
        protected function passEvent(_arg1:Event):void{
            dispatchEvent(_arg1);
        }
        protected function initLoader():void{
            loader = new Loader();
            loader.contentLoaderInfo.addEventListener(IOErrorEvent.IO_ERROR, handleError, false, 0, true);
            loader.contentLoaderInfo.addEventListener(SecurityErrorEvent.SECURITY_ERROR, handleError, false, 0, true);
            loader.contentLoaderInfo.addEventListener(Event.OPEN, passEvent, false, 0, true);
            loader.contentLoaderInfo.addEventListener(ProgressEvent.PROGRESS, passEvent, false, 0, true);
            loader.contentLoaderInfo.addEventListener(Event.COMPLETE, onContentLoad, false, 0, true);
            loader.contentLoaderInfo.addEventListener(Event.INIT, passEvent, false, 0, true);
            loader.contentLoaderInfo.addEventListener(HTTPStatusEvent.HTTP_STATUS, passEvent, false, 0, true);
            contentClip.addChild(loader);
        }
        override protected function handleScroll(_arg1:ScrollEvent):void{
            passEvent(_arg1);
            super.handleScroll(_arg1);
        }
        protected function handleError(_arg1:Event):void{
            passEvent(_arg1);
            clearLoadEvents();
            loader.contentLoaderInfo.removeEventListener(Event.INIT, handleInit);
        }
        protected function handleInit(_arg1:Event):void{
            loader.contentLoaderInfo.removeEventListener(Event.INIT, handleInit);
            passEvent(_arg1);
            invalidate(InvalidationType.SIZE);
        }
        protected function clearLoadEvents():void{
            loader.contentLoaderInfo.removeEventListener(IOErrorEvent.IO_ERROR, handleError);
            loader.contentLoaderInfo.removeEventListener(SecurityErrorEvent.SECURITY_ERROR, handleError);
            loader.contentLoaderInfo.removeEventListener(Event.OPEN, passEvent);
            loader.contentLoaderInfo.removeEventListener(ProgressEvent.PROGRESS, passEvent);
            loader.contentLoaderInfo.removeEventListener(HTTPStatusEvent.HTTP_STATUS, passEvent);
            loader.contentLoaderInfo.removeEventListener(Event.COMPLETE, onContentLoad);
        }
        protected function doDrag(_arg1:MouseEvent):void{
            var _local2:* = (scrollDragVPos - (mouseY - yOffset));
            _verticalScrollBar.setScrollPosition(_local2);
            setVerticalScrollPosition(_verticalScrollBar.scrollPosition, true);
            var _local3:* = (scrollDragHPos - (mouseX - xOffset));
            _horizontalScrollBar.setScrollPosition(_local3);
            setHorizontalScrollPosition(_horizontalScrollBar.scrollPosition, true);
        }
        protected function doStartDrag(_arg1:MouseEvent):void{
            if (!enabled){
                return;
            };
            xOffset = mouseX;
            yOffset = mouseY;
            scrollDragHPos = horizontalScrollPosition;
            scrollDragVPos = verticalScrollPosition;
            stage.addEventListener(MouseEvent.MOUSE_MOVE, doDrag, false, 0, true);
        }
        protected function endDrag(_arg1:MouseEvent):void{
            stage.removeEventListener(MouseEvent.MOUSE_MOVE, doDrag);
        }
        protected function setScrollDrag():void{
            if (_scrollDrag){
                contentClip.addEventListener(MouseEvent.MOUSE_DOWN, doStartDrag, false, 0, true);
                stage.addEventListener(MouseEvent.MOUSE_UP, endDrag, false, 0, true);
            } else {
                contentClip.removeEventListener(MouseEvent.MOUSE_DOWN, doStartDrag);
                stage.removeEventListener(MouseEvent.MOUSE_UP, endDrag);
                removeEventListener(MouseEvent.MOUSE_MOVE, doDrag);
            };
            contentClip.buttonMode = _scrollDrag;
        }
        override protected function draw():void{
            if (isInvalid(InvalidationType.STYLES)){
                drawBackground();
            };
            if (isInvalid(InvalidationType.STATE)){
                setScrollDrag();
            };
            super.draw();
        }
        override protected function drawBackground():void{
            var _local1:DisplayObject = background;
            background = getDisplayObjectInstance(getStyleValue(((enabled) ? "upSkin" : "disabledSkin")));
            background.width = width;
            background.height = height;
            addChildAt(background, 0);
            if (((!((_local1 == null))) && (!((_local1 == background))))){
                removeChild(_local1);
            };
        }
        protected function clearContent():void{
            if (contentClip.numChildren == 0){
                return;
            };
            contentClip.removeChildAt(0);
            currentContent = null;
            if (loader != null){
                try {
                    loader.close();
                } catch(e) {
                };
                try {
                    loader.unload();
                } catch(e) {
                };
                loader = null;
            };
        }
        override protected function keyDownHandler(_arg1:KeyboardEvent):void{
            var _local2:int = calculateAvailableHeight();
            switch (_arg1.keyCode){
                case Keyboard.DOWN:
                    verticalScrollPosition++;
                    break;
                case Keyboard.UP:
                    verticalScrollPosition--;
                    break;
                case Keyboard.RIGHT:
                    horizontalScrollPosition++;
                    break;
                case Keyboard.LEFT:
                    horizontalScrollPosition--;
                    break;
                case Keyboard.END:
                    verticalScrollPosition = maxVerticalScrollPosition;
                    break;
                case Keyboard.HOME:
                    verticalScrollPosition = 0;
                    break;
                case Keyboard.PAGE_UP:
                    verticalScrollPosition = (verticalScrollPosition - _local2);
                    break;
                case Keyboard.PAGE_DOWN:
                    verticalScrollPosition = (verticalScrollPosition + _local2);
                    break;
            };
        }
        protected function calculateAvailableHeight():Number{
            var _local1:Number = Number(getStyleValue("contentPadding"));
            return (((height - (_local1 * 2)) - (((((_horizontalScrollPolicy == ScrollPolicy.ON)) || ((((_horizontalScrollPolicy == ScrollPolicy.AUTO)) && ((_maxHorizontalScrollPosition > 0)))))) ? 15 : 0)));
        }
        override protected function configUI():void{
            super.configUI();
            contentClip = new Sprite();
            addChild(contentClip);
            contentClip.scrollRect = contentScrollRect;
            _horizontalScrollPolicy = ScrollPolicy.AUTO;
            _verticalScrollPolicy = ScrollPolicy.AUTO;
        }

    }
}//package fl.containers 
﻿package fl.containers {
    import fl.controls.*;
    import flash.display.*;
    import fl.core.*;
    import flash.events.*;
    import flash.geom.*;
    import fl.events.*;

    public class BaseScrollPane extends UIComponent {

        protected static const SCROLL_BAR_STYLES:Object = {
            upArrowDisabledSkin:"upArrowDisabledSkin",
            upArrowDownSkin:"upArrowDownSkin",
            upArrowOverSkin:"upArrowOverSkin",
            upArrowUpSkin:"upArrowUpSkin",
            downArrowDisabledSkin:"downArrowDisabledSkin",
            downArrowDownSkin:"downArrowDownSkin",
            downArrowOverSkin:"downArrowOverSkin",
            downArrowUpSkin:"downArrowUpSkin",
            thumbDisabledSkin:"thumbDisabledSkin",
            thumbDownSkin:"thumbDownSkin",
            thumbOverSkin:"thumbOverSkin",
            thumbUpSkin:"thumbUpSkin",
            thumbIcon:"thumbIcon",
            trackDisabledSkin:"trackDisabledSkin",
            trackDownSkin:"trackDownSkin",
            trackOverSkin:"trackOverSkin",
            trackUpSkin:"trackUpSkin",
            repeatDelay:"repeatDelay",
            repeatInterval:"repeatInterval",
            scrollArrowHeight:"scrollArrowHeight",
            scrollBarWidth:"scrollBarWidth"
        };

        private static var defaultStyles:Object = {
            repeatDelay:500,
            repeatInterval:35,
            skin:"ScrollPane_upSkin",
            contentPadding:0,
            disabledAlpha:0.5
        };

        protected var _verticalScrollBar:ScrollBar;
        protected var _horizontalScrollBar:ScrollBar;
        protected var contentScrollRect:Rectangle;
        protected var disabledOverlay:Shape;
        protected var background:DisplayObject;
        protected var contentWidth:Number = 0;
        protected var contentHeight:Number = 0;
        protected var _horizontalScrollPolicy:String;
        protected var _verticalScrollPolicy:String;
        protected var contentPadding:Number = 0;
        protected var availableWidth:Number;
        protected var availableHeight:Number;
        protected var vOffset:Number = 0;
        protected var vScrollBar:Boolean;
        protected var hScrollBar:Boolean;
        protected var _maxHorizontalScrollPosition:Number = 0;
        protected var _horizontalPageScrollSize:Number = 0;
        protected var _verticalPageScrollSize:Number = 0;
        protected var defaultLineScrollSize:Number = 4;
        protected var useFixedHorizontalScrolling:Boolean = false;
        protected var _useBitmpScrolling:Boolean = false;
        protected var scrollBarWidth:Number = 15;

        public static function getStyleDefinition():Object{
            return (mergeStyles(defaultStyles, ScrollBar.getStyleDefinition()));
        }

        override public function set enabled(_arg1:Boolean):void{
            if (enabled == _arg1){
                return;
            };
            this._verticalScrollBar.enabled = _arg1;
            this._horizontalScrollBar.enabled = _arg1;
            super.enabled = _arg1;
        }
        public function get horizontalScrollPolicy():String{
            return (this._horizontalScrollPolicy);
        }
        public function set horizontalScrollPolicy(_arg1:String):void{
            this._horizontalScrollPolicy = _arg1;
            invalidate(InvalidationType.SIZE);
        }
        public function get verticalScrollPolicy():String{
            return (this._verticalScrollPolicy);
        }
        public function set verticalScrollPolicy(_arg1:String):void{
            this._verticalScrollPolicy = _arg1;
            invalidate(InvalidationType.SIZE);
        }
        public function get horizontalLineScrollSize():Number{
            return (this._horizontalScrollBar.lineScrollSize);
        }
        public function set horizontalLineScrollSize(_arg1:Number):void{
            this._horizontalScrollBar.lineScrollSize = _arg1;
        }
        public function get verticalLineScrollSize():Number{
            return (this._verticalScrollBar.lineScrollSize);
        }
        public function set verticalLineScrollSize(_arg1:Number):void{
            this._verticalScrollBar.lineScrollSize = _arg1;
        }
        public function get horizontalScrollPosition():Number{
            return (this._horizontalScrollBar.scrollPosition);
        }
        public function set horizontalScrollPosition(_arg1:Number):void{
            drawNow();
            this._horizontalScrollBar.scrollPosition = _arg1;
            this.setHorizontalScrollPosition(this._horizontalScrollBar.scrollPosition, false);
        }
        public function get verticalScrollPosition():Number{
            return (this._verticalScrollBar.scrollPosition);
        }
        public function set verticalScrollPosition(_arg1:Number):void{
            drawNow();
            this._verticalScrollBar.scrollPosition = _arg1;
            this.setVerticalScrollPosition(this._verticalScrollBar.scrollPosition, false);
        }
        public function get maxHorizontalScrollPosition():Number{
            drawNow();
            return (Math.max(0, (this.contentWidth - this.availableWidth)));
        }
        public function get maxVerticalScrollPosition():Number{
            drawNow();
            return (Math.max(0, (this.contentHeight - this.availableHeight)));
        }
        public function get useBitmapScrolling():Boolean{
            return (this._useBitmpScrolling);
        }
        public function set useBitmapScrolling(_arg1:Boolean):void{
            this._useBitmpScrolling = _arg1;
            invalidate(InvalidationType.STATE);
        }
        public function get horizontalPageScrollSize():Number{
            if (isNaN(this.availableWidth)){
                drawNow();
            };
            return ((((((this._horizontalPageScrollSize == 0)) && (!(isNaN(this.availableWidth))))) ? this.availableWidth : this._horizontalPageScrollSize));
        }
        public function set horizontalPageScrollSize(_arg1:Number):void{
            this._horizontalPageScrollSize = _arg1;
            invalidate(InvalidationType.SIZE);
        }
        public function get verticalPageScrollSize():Number{
            if (isNaN(this.availableHeight)){
                drawNow();
            };
            return ((((((this._verticalPageScrollSize == 0)) && (!(isNaN(this.availableHeight))))) ? this.availableHeight : this._verticalPageScrollSize));
        }
        public function set verticalPageScrollSize(_arg1:Number):void{
            this._verticalPageScrollSize = _arg1;
            invalidate(InvalidationType.SIZE);
        }
        public function get horizontalScrollBar():ScrollBar{
            return (this._horizontalScrollBar);
        }
        public function get verticalScrollBar():ScrollBar{
            return (this._verticalScrollBar);
        }
        override protected function configUI():void{
            super.configUI();
            this.contentScrollRect = new Rectangle(0, 0, 85, 85);
            this._verticalScrollBar = new ScrollBar();
            this._verticalScrollBar.addEventListener(ScrollEvent.SCROLL, this.handleScroll, false, 0, true);
            this._verticalScrollBar.visible = false;
            this._verticalScrollBar.lineScrollSize = this.defaultLineScrollSize;
            addChild(this._verticalScrollBar);
            copyStylesToChild(this._verticalScrollBar, SCROLL_BAR_STYLES);
            this._horizontalScrollBar = new ScrollBar();
            this._horizontalScrollBar.direction = ScrollBarDirection.HORIZONTAL;
            this._horizontalScrollBar.addEventListener(ScrollEvent.SCROLL, this.handleScroll, false, 0, true);
            this._horizontalScrollBar.visible = false;
            this._horizontalScrollBar.lineScrollSize = this.defaultLineScrollSize;
            addChild(this._horizontalScrollBar);
            copyStylesToChild(this._horizontalScrollBar, SCROLL_BAR_STYLES);
            this.disabledOverlay = new Shape();
            var _local1:Graphics = this.disabledOverlay.graphics;
            _local1.beginFill(0xFFFFFF);
            _local1.drawRect(0, 0, width, height);
            _local1.endFill();
            addEventListener(MouseEvent.MOUSE_WHEEL, this.handleWheel, false, 0, true);
        }
        protected function setContentSize(_arg1:Number, _arg2:Number):void{
            if ((((((this.contentWidth == _arg1)) || (this.useFixedHorizontalScrolling))) && ((this.contentHeight == _arg2)))){
                return;
            };
            this.contentWidth = _arg1;
            this.contentHeight = _arg2;
            invalidate(InvalidationType.SIZE);
        }
        protected function handleScroll(_arg1:ScrollEvent):void{
            if (_arg1.target == this._verticalScrollBar){
                this.setVerticalScrollPosition(_arg1.position);
            } else {
                this.setHorizontalScrollPosition(_arg1.position);
            };
        }
        protected function handleWheel(_arg1:MouseEvent):void{
            if (((((!(enabled)) || (!(this._verticalScrollBar.visible)))) || ((this.contentHeight <= this.availableHeight)))){
                return;
            };
            this._verticalScrollBar.scrollPosition = (this._verticalScrollBar.scrollPosition - (_arg1.delta * this.verticalLineScrollSize));
            this.setVerticalScrollPosition(this._verticalScrollBar.scrollPosition);
            dispatchEvent(new ScrollEvent(ScrollBarDirection.VERTICAL, _arg1.delta, this.horizontalScrollPosition));
        }
        protected function setHorizontalScrollPosition(_arg1:Number, _arg2:Boolean=false):void{
        }
        protected function setVerticalScrollPosition(_arg1:Number, _arg2:Boolean=false):void{
        }
        override protected function draw():void{
            if (isInvalid(InvalidationType.STYLES)){
                this.setStyles();
                this.drawBackground();
                if (((!((this.contentPadding == getStyleValue("contentPadding")))) || (!((this.scrollBarWidth == getStyleValue("scrollBarWidth")))))){
                    invalidate(InvalidationType.SIZE, false);
                };
            };
            if (isInvalid(InvalidationType.SIZE, InvalidationType.STATE)){
                this.drawLayout();
            };
            this.updateChildren();
            super.draw();
        }
        protected function setStyles():void{
            copyStylesToChild(this._verticalScrollBar, SCROLL_BAR_STYLES);
            copyStylesToChild(this._horizontalScrollBar, SCROLL_BAR_STYLES);
        }
        protected function drawBackground():void{
            var _local1:DisplayObject = this.background;
            this.background = getDisplayObjectInstance(getStyleValue("skin"));
            this.background.width = width;
            this.background.height = height;
            addChildAt(this.background, 0);
            if (((!((_local1 == null))) && (!((_local1 == this.background))))){
                removeChild(_local1);
            };
        }
        protected function drawLayout():void{
            this.calculateAvailableSize();
            this.calculateContentWidth();
            this.background.width = width;
            this.background.height = height;
            if (this.vScrollBar){
                this._verticalScrollBar.visible = true;
                this._verticalScrollBar.x = ((width - Number(getStyleValue("scrollBarWidth"))) - this.contentPadding);
                this._verticalScrollBar.y = this.contentPadding;
                this._verticalScrollBar.height = this.availableHeight;
            } else {
                this._verticalScrollBar.visible = false;
            };
            this._verticalScrollBar.setScrollProperties(this.availableHeight, 0, (this.contentHeight - this.availableHeight), this.verticalPageScrollSize);
            this.setVerticalScrollPosition(this._verticalScrollBar.scrollPosition, false);
            if (this.hScrollBar){
                this._horizontalScrollBar.visible = true;
                this._horizontalScrollBar.x = this.contentPadding;
                this._horizontalScrollBar.y = ((height - Number(getStyleValue("scrollBarWidth"))) - this.contentPadding);
                this._horizontalScrollBar.width = this.availableWidth;
            } else {
                this._horizontalScrollBar.visible = false;
            };
            this._horizontalScrollBar.setScrollProperties(this.availableWidth, 0, ((this.useFixedHorizontalScrolling) ? this._maxHorizontalScrollPosition : (this.contentWidth - this.availableWidth)), this.horizontalPageScrollSize);
            this.setHorizontalScrollPosition(this._horizontalScrollBar.scrollPosition, false);
            this.drawDisabledOverlay();
        }
        protected function drawDisabledOverlay():void{
            if (enabled){
                if (contains(this.disabledOverlay)){
                    removeChild(this.disabledOverlay);
                };
            } else {
                this.disabledOverlay.x = (this.disabledOverlay.y = this.contentPadding);
                this.disabledOverlay.width = this.availableWidth;
                this.disabledOverlay.height = this.availableHeight;
                this.disabledOverlay.alpha = (getStyleValue("disabledAlpha") as Number);
                addChild(this.disabledOverlay);
            };
        }
        protected function calculateAvailableSize():void{
            var _local1:Number = Number(getStyleValue("scrollBarWidth"));
            var _local2:Number = (this.contentPadding = Number(getStyleValue("contentPadding")));
            var _local3:Number = ((height - (2 * _local2)) - this.vOffset);
            this.vScrollBar = (((this._verticalScrollPolicy == ScrollPolicy.ON)) || ((((this._verticalScrollPolicy == ScrollPolicy.AUTO)) && ((this.contentHeight > _local3)))));
            var _local4:Number = ((width - ((this.vScrollBar) ? _local1 : 0)) - (2 * _local2));
            var _local5:Number = ((this.useFixedHorizontalScrolling) ? this._maxHorizontalScrollPosition : (this.contentWidth - _local4));
            this.hScrollBar = (((this._horizontalScrollPolicy == ScrollPolicy.ON)) || ((((this._horizontalScrollPolicy == ScrollPolicy.AUTO)) && ((_local5 > 0)))));
            if (this.hScrollBar){
                _local3 = (_local3 - _local1);
            };
            if (((((((this.hScrollBar) && (!(this.vScrollBar)))) && ((this._verticalScrollPolicy == ScrollPolicy.AUTO)))) && ((this.contentHeight > _local3)))){
                this.vScrollBar = true;
                _local4 = (_local4 - _local1);
            };
            this.availableHeight = (_local3 + this.vOffset);
            this.availableWidth = _local4;
        }
        protected function calculateContentWidth():void{
        }
        protected function updateChildren():void{
            this._verticalScrollBar.enabled = (this._horizontalScrollBar.enabled = enabled);
            this._verticalScrollBar.drawNow();
            this._horizontalScrollBar.drawNow();
        }

    }
}//package fl.containers 
﻿package fl.text {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.*;

    public class TCMText extends Sprite {

        tlf_internal static var genericFonts:Array = ["_sans", "_serif", "_typewriter", "_gothic", "_gothicMono", "_mincho", "_ゴシック", "_等幅", "_明朝"];

        private var _border:Boolean;
        private var _background:Boolean;
        private var _backgroundAlpha:Number;
        private var _borderAlpha:Number;
        private var _borderColor:uint;
        private var _bgShape:Shape;
        private var _tcmStage:Sprite;
        private var _backgroundColor:uint;
        private var _inRepaint:Boolean;
        private var _tcm:TextContainerManager;
        private var _invalid:Boolean;
        private var _borderWidth:Number;

        public function TCMText(){
            var container:* = null;
            super();
            tabEnabled = false;
            focusRect = false;
            this._bgShape = new Shape();
            this._tcmStage = new Sprite();
            addChild(this._bgShape);
            addChild(this._tcmStage);
            this._tcmStage.tabEnabled = true;
            this._tcm = new TLFTextContainerManager(this._tcmStage, Configuration(TCMRuntimeManager.getGlobalConfig()));
            try {
                if (this.parent != null){
                    container = (parent as DisplayObjectContainer);
                    if (container != null){
                        TCMRuntimeManager.getSingleton().initInstance(this, container);
                    };
                };
            } catch(e:Error) {
            };
        }
        public function set border(_arg1:Boolean):void{
            if (this._border != _arg1){
                this._border = _arg1;
                this.invalidate();
            };
        }
        private function invalidate():void{
            if (this._invalid){
                return;
            };
            if (stage != null){
                try {
                    stage.addEventListener(Event.RENDER, this.repaint, false, 0, true);
                    stage.invalidate();
                } catch(se:SecurityError) {
                    addEventListener(Event.FRAME_CONSTRUCTED, repaint, false, 0, true);
                };
            } else {
                if (parent == null){
                    addEventListener(Event.ADDED, this.repaint, false, 0, true);
                } else {
                    addEventListener(Event.ADDED_TO_STAGE, this.repaint, false, 0, true);
                    addEventListener(Event.FRAME_CONSTRUCTED, this.repaint, false, 0, true);
                };
            };
            this._invalid = true;
        }
        public function set borderWidth(_arg1:Number):void{
            if (this._borderWidth != _arg1){
                this._borderWidth = _arg1;
                if (this._borderWidth < 1){
                    this.borderWidth = 1;
                } else {
                    if (this._borderWidth > 100){
                        this._borderWidth = 100;
                    };
                };
                this.invalidate();
            };
        }
        public function get border():Boolean{
            return (this._border);
        }
        public function set borderColor(_arg1:uint):void{
            if (this._borderColor != _arg1){
                this._borderColor = (_arg1 & 0xFFFFFF);
                this.invalidate();
            };
        }
        public function get borderWidth():Number{
            return (this._borderWidth);
        }
        public function get backgroundAlpha():Number{
            return (this._backgroundAlpha);
        }
        public function set scrollV(_arg1:int):void{
            var _local2:String = ((this.UsingTextFlow()) ? this._tcm.getTextFlow().blockProgression : this._tcm.hostFormat.blockProgression);
            if (_arg1 < 0){
                _arg1 = 0;
            } else {
                if (_arg1 > this.maxScrollV){
                    _arg1 = this.maxScrollV;
                };
            };
            if ((_local2 == BlockProgression.RL)){
                this._tcm.horizontalScrollPosition = -(_arg1);
            } else {
                this._tcm.verticalScrollPosition = _arg1;
            };
        }
        public function get backgroundColor():uint{
            return (this._backgroundColor);
        }
        public function get maxScrollH():int{
            var _local1:String = ((this.UsingTextFlow()) ? this._tcm.getTextFlow().blockProgression : this._tcm.hostFormat.blockProgression);
            var _local2:Rectangle = this._tcm.getContentBounds();
            var _local3:int = (((_local1 == BlockProgression.RL)) ? (_local2.height - this._tcm.compositionHeight) : (_local2.width - this._tcm.compositionWidth));
            return ((((_local3 > 0)) ? _local3 : 0));
        }
        public function get borderAlpha():Number{
            return (this._borderAlpha);
        }
        public function get scrollH():int{
            var _local1:String = ((this.UsingTextFlow()) ? this._tcm.getTextFlow().blockProgression : this._tcm.hostFormat.blockProgression);
            return ((((_local1 == BlockProgression.RL)) ? Math.abs(this._tcm.verticalScrollPosition) : Math.abs(this._tcm.horizontalScrollPosition)));
        }
        public function set background(_arg1:Boolean):void{
            if (this._background != _arg1){
                this._background = _arg1;
                this.invalidate();
            };
        }
        public function get tcm():TextContainerManager{
            return (this._tcm);
        }
        public function set backgroundAlpha(_arg1:Number):void{
            if (this._backgroundAlpha != _arg1){
                this._backgroundAlpha = _arg1;
                if (this._backgroundAlpha < 0){
                    this._backgroundAlpha = 0;
                } else {
                    if (this._backgroundAlpha > 1){
                        this._backgroundAlpha = 1;
                    };
                };
                this.invalidate();
            };
        }
        tlf_internal function repaint(_arg1:Event):void{
            var contHeight:* = NaN;
            var contWidth:* = NaN;
            var e:* = _arg1;
            if (this._inRepaint){
                return;
            };
            this._inRepaint = true;
            if (e != null){
                if ((((e.type == Event.ADDED)) && (!((e.target == this))))){
                    this._inRepaint = false;
                    return;
                };
                removeEventListener(Event.ADDED, this.repaint);
                removeEventListener(Event.ADDED_TO_STAGE, this.repaint);
                removeEventListener(Event.FRAME_CONSTRUCTED, this.repaint);
                try {
                    if (stage != null){
                        stage.removeEventListener(Event.RENDER, this.repaint);
                    } else {
                        if (e.type == Event.RENDER){
                            e.target.removeEventListener(Event.RENDER, this.repaint);
                        };
                    };
                } catch(se:SecurityError) {
                };
            };
            this._tcm.updateContainer();
            var origin:* = ((this._border) ? (-(this._borderWidth) / 2) : 0);
            if (((this._background) || (this._border))){
                graphics.clear();
                if (this._background){
                    graphics.beginFill(this._backgroundColor, this._backgroundAlpha);
                };
                if (this._border){
                    graphics.lineStyle(this._borderWidth, this._borderColor, this._borderAlpha, false, LineScaleMode.NORMAL, CapsStyle.NONE, JointStyle.MITER, 10);
                };
                contHeight = this._tcm.compositionHeight;
                if (isNaN(contHeight)){
                    contHeight = this._tcm.getContentBounds().height;
                };
                if (this._border){
                    contHeight = (contHeight + this._borderWidth);
                };
                contWidth = this._tcm.compositionWidth;
                if (isNaN(contWidth)){
                    contWidth = this._tcm.getContentBounds().width;
                };
                if (this._border){
                    contWidth = (contWidth + this._borderWidth);
                };
                graphics.drawRect(origin, origin, contWidth, contHeight);
                if (this._background){
                    graphics.endFill();
                };
            } else {
                contHeight = this._tcm.compositionHeight;
                if (isNaN(contHeight)){
                    contHeight = this._tcm.getContentBounds().height;
                };
                contWidth = this._tcm.compositionWidth;
                if (isNaN(contWidth)){
                    contWidth = this._tcm.getContentBounds().width;
                };
                this._bgShape.graphics.clear();
                this._bgShape.graphics.beginFill(0, 0);
                this._bgShape.graphics.drawRect(0, 0, contWidth, contHeight);
                this._bgShape.visible = false;
            };
            this._invalid = false;
            this._inRepaint = false;
        }
        public function set borderAlpha(_arg1:Number):void{
            if (this._borderAlpha != _arg1){
                this._borderAlpha = _arg1;
                if (this._borderAlpha < 0){
                    this._borderAlpha = 0;
                } else {
                    if (this._borderAlpha > 1){
                        this._borderAlpha = 1;
                    };
                };
                this.invalidate();
            };
        }
        public function get scrollV():int{
            var _local1:String = ((this.UsingTextFlow()) ? this._tcm.getTextFlow().blockProgression : this._tcm.hostFormat.blockProgression);
            return ((((_local1 == BlockProgression.RL)) ? Math.abs(this._tcm.horizontalScrollPosition) : Math.abs(this._tcm.verticalScrollPosition)));
        }
        public function set backgroundColor(_arg1:uint):void{
            if (this._backgroundColor != _arg1){
                this._backgroundColor = (_arg1 & 0xFFFFFF);
                this.invalidate();
            };
        }
        public function get borderColor():uint{
            return (this._borderColor);
        }
        public function get maxScrollV():int{
            var _local1:String = ((this.UsingTextFlow()) ? this._tcm.getTextFlow().blockProgression : this._tcm.hostFormat.blockProgression);
            var _local2:Rectangle = this._tcm.getContentBounds();
            var _local3:int = (((_local1 == BlockProgression.RL)) ? (_local2.width - this._tcm.compositionWidth) : (_local2.height - this._tcm.compositionHeight));
            return ((((_local3 > 0)) ? _local3 : 0));
        }
        public function get background():Boolean{
            return (this._background);
        }
        public function set scrollH(_arg1:int):void{
            var _local2:String = ((this.UsingTextFlow()) ? this._tcm.getTextFlow().blockProgression : this._tcm.hostFormat.blockProgression);
            var _local3:String = ((this.UsingTextFlow()) ? this._tcm.getTextFlow().direction : this._tcm.hostFormat.direction);
            if (_arg1 < 0){
                _arg1 = 0;
            };
            if (_arg1 > this.maxScrollH){
                _arg1 = this.maxScrollH;
            };
            if (_local3 == Direction.RTL){
                _arg1 = -(_arg1);
            };
            if ((_local2 == BlockProgression.RL)){
                this._tcm.verticalScrollPosition = _arg1;
            } else {
                this._tcm.horizontalScrollPosition = _arg1;
            };
        }
        private function UsingTextFlow():Boolean{
            return (!((((this._tcm.composeState == TextContainerManager.COMPOSE_FACTORY)) && ((this._tcm.sourceState == TextContainerManager.SOURCE_STRING)))));
        }

    }
}//package fl.text 
﻿package fl.text {
    import flash.display.*;
    import flash.utils.*;
    import fl.timeline.timelineManager.*;
    import flash.events.*;
    import flashx.textLayout.formats.*;
    import flash.text.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.conversion.*;
    import flashx.textLayout.events.*;
    import fl.timeline.*;

    public class RuntimeManager extends TimelineManager {

        private static var singleton:RuntimeManager = new (RuntimeManager)();
;
        private static var globalConfig:Object;

        public function RuntimeManager(){
            _supportNextPrevAcrossFrames = true;
        }
        public static function checkTLFFontsLoaded(_arg1:Event, _arg2:String=null, _arg3:Function=null):Boolean{
            var fontClass:* = null;
            var e:* = _arg1;
            var fontName = _arg2;
            var fn = _arg3;
            if ((((fontName == null)) && (!((e == null))))){
                try {
                    if (e.target.hasOwnProperty("__checkFontName_")){
                        fontName = e.target["__checkFontName_"];
                    };
                } catch(te1:TypeError) {
                    fontName = null;
                };
            };
            if (fontName == null){
                if (e != null){
                    e.target.removeEventListener(Event.FRAME_CONSTRUCTED, checkTLFFontsLoaded, false);
                };
                return (false);
            };
            var loaded:* = true;
            try {
                fontClass = Class(getDefinitionByName(fontName));
                if (new (fontClass)()["fontName"] == null){
                    loaded = false;
                };
            } catch(re:ReferenceError) {
                loaded = false;
            } catch(te2:TypeError) {
                loaded = false;
            };
            if (loaded){
                if (fn != null){
                    fn();
                } else {
                    if (e != null){
                        e.target.removeEventListener(Event.FRAME_CONSTRUCTED, checkTLFFontsLoaded, false);
                        if (e.target.hasOwnProperty("__registerTLFFonts")){
                            try {
                                var _local5 = e.target;
                                _local5["__registerTLFFonts"]();
                            } catch(te3:TypeError) {
                            };
                        };
                    };
                };
            };
            return (loaded);
        }
        private static function getGlobalConfig():Object{
            if (globalConfig != null){
                return (globalConfig);
            };
            globalConfig = new Configuration(true);
            globalConfig.inlineGraphicResolverFunction = resolveInlines;
            return (globalConfig);
        }
        public static function getSingleton():RuntimeManager{
            return (singleton);
        }
        public static function ColorStringToUint(_arg1:String):uint{
            if (_arg1.substr(0, 1) == "#"){
                _arg1 = ("0x" + _arg1.substr(1));
            };
            return (uint(_arg1));
        }
        private static function recomposeOnLoadComplete(_arg1:Event):void{
            var _local2:StatusChangeEvent = (_arg1 as StatusChangeEvent);
            if (_local2 == null){
                return;
            };
            var _local3:TextFlow = _local2.element.getTextFlow();
            if (((_local3) && ((((_local2.status == InlineGraphicElementStatus.SIZE_PENDING)) || ((_local2.status == InlineGraphicElementStatus.READY)))))){
                _local3.flowComposer.updateAllControllers();
                _local3.removeEventListener(StatusChangeEvent.INLINE_GRAPHIC_STATUS_CHANGE, recomposeOnLoadComplete);
            };
        }
        private static function resolveInlines(_arg1:Object):DisplayObject{
            var _local5:Object;
            var _local6:*;
            var _local7:TextFlow;
            var _local8:Class;
            var _local9:Bitmap;
            var _local2:InlineGraphicElement = (_arg1 as InlineGraphicElement);
            if (_local2 == null){
                return (null);
            };
            var _local3:Object = _local2.userStyles;
            var _local4:* = null;
            if (_local3 != null){
                _local5 = _local3["customSource"];
                _local6 = _local3["extraInfo"];
                _local7 = _local2.getTextFlow();
                if (_local6 != undefined){
                    _local8 = _local6[_local5];
                    _local4 = new (_local8)();
                    if ((_local4 is BitmapData)){
                        _local9 = new Bitmap(_local4);
                        _local4 = new DynamicSprite();
                        _local4.addChild(_local9);
                    };
                };
                if (_local4){
                    _local4["ilg"] = _local2;
                    _local7.addEventListener(StatusChangeEvent.INLINE_GRAPHIC_STATUS_CHANGE, recomposeOnLoadComplete, false, 0, true);
                };
            };
            return ((_local4 as DisplayObject));
        }

        public function configureInstance(_arg1:TLFTextField, _arg2:InstanceInfo):void{
            var _local6:TextFlow;
            var _local21:Object;
            var _local22:Object;
            var _local23:InstanceInfo;
            var _local24:Boolean;
            var _local25:ITextLayoutFormat;
            TLFRuntimeTabManager.InitTabHandler(_arg1);
            GlobalSettings.fontMapperFunction = RuntimeFontMapper.fontMapper;
            _arg1.contentWidth = 0;
            _arg1.contentHeight = 0;
            var _local3:XML = _arg2.data;
            var _local4:String = _local3.@type;
            var _local5:String = _local3.@editPolicy;
            if (_local5 == "selectable"){
                _local5 = EditingMode.READ_SELECT;
            };
            if ((((_local5 == null)) || ((_local5.length == 0)))){
                _local5 = EditingMode.READ_WRITE;
            };
            var _local7:int;
            var _local8:Boolean;
            var _local9:InstanceInfo = _arg2;
            while (_local9.prev != null) {
                _local7++;
                _local9 = _local9.prev;
            };
            if (_arg2.prev != null){
                _local6 = TextFlow(TLFTextField(_local9.content).textFlow);
                TLFTextField(_arg2.prev.content).addNextField(_arg1);
            } else {
                _local6 = TextConverter.importToFlow(_arg2.data, TextConverter.TEXT_LAYOUT_FORMAT, IConfiguration(getGlobalConfig()));
                _local8 = true;
            };
            var _local10:FlowLeafElement = _local6.getFirstLeaf();
            while (_local10) {
                if ((_local10 as InlineGraphicElement)){
                    _local21 = _local10.userStyles;
                    _local22 = _local21["customSource"];
                    _local23 = _local9;
                    _local24 = false;
                    while (((_local23) && (!(_local24)))) {
                        if (((!((_local23.extraInfo == undefined))) && (!((_local23.extraInfo[_local22] == null))))){
                            _local24 = true;
                            _local21["extraInfo"] = _local23.extraInfo;
                            _local10.userStyles = _local21;
                        };
                        _local23 = _local23.next;
                    };
                };
                _local10 = _local10.getNextLeaf();
            };
            var _local11:Boolean = ((_arg2.prev) || (_arg2.next));
            var _local12:Boolean;
            var _local13:Boolean;
            var _local14:Boolean;
            var _local15:ITextLayoutFormat = _local6.getFirstLeaf().computedFormat;
            var _local16:Boolean = (((_local6.direction == undefined)) ? (_local15.direction == Direction.RTL) : !((_local6.direction == _local15.direction)));
            var _local17:FlowLeafElement = _local6.getFirstLeaf();
            var _local18:ParagraphElement = (_local6.getChildAt(0) as ParagraphElement);
            var _local19 = !((_local18.getNextParagraph() == null));
            if (((((!(_local16)) && (!(_local11)))) && (!(_local19)))){
                while (_local17) {
                    _local25 = _local17.computedFormat;
                    _local16 = ((!(TextLayoutFormat.isEqual(_local25, _local15))) || (((!((_local25.backgroundColor == undefined))) && (!((_local25.backgroundColor == BackgroundColor.TRANSPARENT))))));
                    _local12 = !(((_local17.getParentByType(TCYElement) as TCYElement) == null));
                    _local13 = !(((_local17.getParentByType(LinkElement) as LinkElement) == null));
                    _local14 = !(((_local17.getParentByType(InlineGraphicElement) as InlineGraphicElement) == null));
                    if (((((((_local16) || (_local12))) || (_local13))) || (_local14))){
                        break;
                    };
                    _local17 = _local17.getNextLeaf();
                };
            };
            if (((((((((((_local11) || (_local16))) || (_local19))) || (_local12))) || (_local13))) || (_local14))){
                _arg1.textFlow = _local6;
            } else {
                _arg1.text = _local6.getText(0, -1, "\n");
                _arg1.hostFormat = _local6.getFirstLeaf().computedFormat;
                _arg1.wordWrap = (((_local6.computedFormat.lineBreak == LineBreak.TO_FIT)) ? true : false);
            };
            if (_local8){
                _arg1.type = TextFieldType.DYNAMIC;
                _arg1.selectable = false;
                switch (_local5){
                    case EditingMode.READ_WRITE:
                        _arg1.type = TextFieldType.INPUT;
                        _arg1.selectable = true;
                        break;
                    case EditingMode.READ_SELECT:
                        _arg1.type = TextFieldType.DYNAMIC;
                        _arg1.selectable = true;
                        break;
                };
            };
            if (_local4 == "Paragraph"){
                _arg1.isPointText = false;
                _arg1.width = _arg2.bounds.width;
                _arg1.height = _arg2.bounds.height;
                _arg1.setCompositionSize(_arg2.bounds.width, _arg2.bounds.height);
            } else {
                _arg1.isPointText = true;
                _arg1.setCompositionSize(NaN, NaN);
            };
            _arg1.direction = _local6.direction;
            var _local20:String = _local3.@columnCount;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.columnCount = _local20;
            };
            _local20 = _local3.@columnGap;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.columnGap = Number(_local20);
            };
            _local20 = _local3.@verticalAlign;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.verticalAlign = _local20;
            };
            _local20 = _local3.@background;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.background = (_local20.toLowerCase() == "true");
            };
            _local20 = _local3.@backgroundColor;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.backgroundColor = ColorStringToUint(_local20);
            };
            _local20 = _local3.@backgroundAlpha;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.backgroundAlpha = Number(_local20);
            };
            _local20 = _local3.@border;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.border = (_local20.toLowerCase() == "true");
            };
            _local20 = _local3.@borderColor;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.borderColor = ColorStringToUint(_local20);
            };
            _local20 = _local3.@borderAlpha;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.borderAlpha = Number(_local20);
            };
            _local20 = _local3.@borderWidth;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.borderWidth = Number(_local20);
            };
            _local20 = _local3.@paddingLock;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.paddingLock = (_local20.toLowerCase() == "true");
            };
            _local20 = _local3.@paddingLeft;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.paddingLeft = Number(_local20);
            };
            _local20 = _local3.@paddingTop;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.paddingTop = Number(_local20);
            };
            _local20 = _local3.@paddingRight;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.paddingRight = Number(_local20);
            };
            _local20 = _local3.@paddingBottom;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.paddingBottom = Number(_local20);
            };
            _local20 = _local3.@firstBaselineOffset;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.firstBaselineOffset = _local20;
            };
            _local20 = _local3.@multiline;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.multiline = (_local20.toLowerCase() == "true");
            };
            _local20 = _local3.@antiAliasType;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.antiAliasType = _local20;
            };
            _local20 = _local3.@embedFonts;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.embedFonts = (_local20.toLowerCase() == "true");
            };
            _local20 = _local3.@maxChars;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.maxChars = int(_local20);
            };
            _local20 = _local3.@displayAsPassword;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.displayAsPassword = (_local20.toLowerCase() == "true");
            };
            _local20 = _local3.@text;
            if (((!((_local20 == null))) && ((_local20.length > 0)))){
                _arg1.text = _local20;
            };
            _arg1.alwaysShowSelection = false;
            _arg1.repaint();
        }
        override protected function getInstanceForInfo(_arg1:InstanceInfo, _arg2:DisplayObject=null):DisplayObject{
            var ii:* = _arg1;
            var instance = _arg2;
            try {
                if ((((getDefinitionByName("flashx.textLayout.elements.TextFlow") == null)) || ((getDefinitionByName("fl.text.container.TLFContainerController") == null)))){
                    return (null);
                };
            } catch(re:ReferenceError) {
                return (null);
            };
            var drawSprite:* = ((instance)==null) ? new TLFTextField() : TLFTextField(instance);
            this.configureInstance(drawSprite, ii);
            return (drawSprite);
        }

    }
}//package fl.text 
﻿package fl.text {
    import flash.display.*;
    import flash.events.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;

    public class TLFRuntimeTabManager {

        private static var sTabHandlerInited:Boolean = false;

        private static function onKeyFocusChange(_arg1:FocusEvent):void{
            var _local2:InteractiveObject;
            var _local3:SelectionManager;
            var _local4:Object;
            var _local5:TextFlow;
            var _local6:ContainerController;
            if (_arg1.relatedObject){
                _local2 = _arg1.relatedObject;
                if (_local2.parent.hasOwnProperty("textFlow")){
                    _local4 = _local2.parent;
                    _local5 = _local4["textFlow"];
                    if (((!((_local5 == null))) && (!((_local5.interactionManager == null))))){
                        _local3 = (_local5.interactionManager as SelectionManager);
                        if (_local5.flowComposer.numControllers == 1){
                            _local5.flowComposer.updateAllControllers();
                            _local3.selectAll();
                        } else {
                            _local6 = _local4["controller"];
                            _local3.selectRange(_local6.absoluteStart, (_local6.absoluteStart + _local6.textLength));
                        };
                    };
                } else {
                    if (_local2.parent.hasOwnProperty("tcm")){
                        _local3 = (_local2.parent["tcm"].beginInteraction() as SelectionManager);
                        _local3.selectAll();
                    };
                };
            };
        }
        private static function onAddedToStage(_arg1:Event):void{
            var _local2:DisplayObject = (_arg1.target as DisplayObject);
            if (_local2){
                _local2.removeEventListener(Event.ADDED_TO_STAGE, onAddedToStage);
                if (!sTabHandlerInited){
                    _local2.stage.addEventListener(FocusEvent.KEY_FOCUS_CHANGE, onKeyFocusChange);
                    sTabHandlerInited = true;
                };
            };
        }
        public static function InitTabHandler(_arg1:DisplayObject):void{
            if (!sTabHandlerInited){
                if (_arg1.stage){
                    _arg1.stage.addEventListener(FocusEvent.KEY_FOCUS_CHANGE, onKeyFocusChange);
                    sTabHandlerInited = true;
                } else {
                    _arg1.addEventListener(Event.ADDED_TO_STAGE, onAddedToStage);
                };
            };
        }

    }
}//package fl.text 
﻿package fl.text {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.*;

    public class TLFTextContainerManager extends TextContainerManager {

        private var _transparentBGButton:SimpleButton;
        private var _transparentBGButtonX:Number;
        private var _transparentBGButtonHeight:Number;
        private var _transparentBGButtonY:Number;
        private var _transparentBGButtonWidth:Number;

        public function TLFTextContainerManager(_arg1:Sprite, _arg2:Configuration=null){
            this._transparentBGButton = null;
            this._transparentBGButtonX = NaN;
            this._transparentBGButtonY = NaN;
            this._transparentBGButtonWidth = NaN;
            this._transparentBGButtonHeight = NaN;
            super(_arg1, _arg2);
            _arg1.mouseChildren = true;
        }
        override public function softKeyboardActivatingHandler(_arg1:Event):void{
            if (Configuration.playerEnablesSpicyFeatures){
                container.softKeyboardInputAreaOfInterest = container.parent.getBounds(container.stage);
            };
            super.softKeyboardActivatingHandler(_arg1);
        }
        private function has3D(_arg1:DisplayObject):Boolean{
            var _local3:int;
            if (_arg1.transform.matrix3D != null){
                return (true);
            };
            var _local2:DisplayObjectContainer = (_arg1 as DisplayObjectContainer);
            if (_local2 != null){
                _local3 = 0;
                while (_local3 < _local2.numChildren) {
                    if (this.has3D(_local2.getChildAt(_local3))){
                        return (true);
                    };
                    _local3++;
                };
            };
            return (false);
        }
        override tlf_internal function factoryUpdateContainerChildren():void{
            super.factoryUpdateContainerChildren();
            if (this._transparentBGButton != null){
                container.addChildAt(this._transparentBGButton, 0);
            };
        }
        override public function setText(_arg1:String):void{
            super.setText(_arg1);
            container.mouseChildren = true;
        }
        override public function drawBackgroundAndSetScrollRect(_arg1:Number, _arg2:Number):Boolean{
            var _local4:Rectangle;
            var _local5:Graphics;
            var _local3:Boolean = super.drawBackgroundAndSetScrollRect(_arg1, _arg2);
            container.graphics.clear();
            if (this._transparentBGButton == null){
                this._transparentBGButton = new SimpleButton();
                this._transparentBGButton.focusRect = false;
                this._transparentBGButton.tabEnabled = false;
                this._transparentBGButton.useHandCursor = false;
                this._transparentBGButton.hitTestState = new Shape();
                container.addChildAt(this._transparentBGButton, 0);
            };
            if (_local3){
                _local4 = container.scrollRect;
            } else {
                _local4 = getContentBounds();
                if (!isNaN(compositionWidth)){
                    _local4.width = compositionWidth;
                };
                if (!isNaN(compositionHeight)){
                    _local4.height = compositionHeight;
                };
                _local4.x = 0;
                _local4.y = 0;
            };
            if (((((((!((_local4.x == this._transparentBGButtonX))) || (!((_local4.y == this._transparentBGButtonY))))) || (!((_local4.width == this._transparentBGButtonWidth))))) || (!((_local4.height == this._transparentBGButtonHeight))))){
                _local5 = Shape(this._transparentBGButton.hitTestState).graphics;
                _local5.clear();
                if (((!((_local4.width == 0))) && (!((_local4.height == 0))))){
                    _local5.beginFill(0);
                    _local5.drawRect(_local4.x, _local4.y, _local4.width, _local4.height);
                    _local5.endFill();
                };
                this._transparentBGButtonX = _local4.x;
                this._transparentBGButtonY = _local4.y;
                this._transparentBGButtonWidth = _local4.width;
                this._transparentBGButtonHeight = _local4.height;
            };
            return (_local3);
        }
        override tlf_internal function clearContainerChildren(_arg1:Boolean):void{
            super.clearContainerChildren(_arg1);
            if (this._transparentBGButton != null){
                container.addChildAt(this._transparentBGButton, 0);
            };
        }
        override public function mouseWheelHandler(_arg1:MouseEvent):void{
            var _local2:Object = _arg1.target.parent.parent;
            if (((((_local2) && (_local2.hasOwnProperty("mouseWheelEnabled")))) && (!(_local2["mouseWheelEnabled"])))){
                return;
            };
            super.mouseWheelHandler(_arg1);
        }
        override tlf_internal function addInlineGraphicElement(_arg1:DisplayObjectContainer, _arg2:DisplayObject, _arg3:int):void{
            var _local5:InlineGraphicElement;
            var _local6:Rectangle;
            var _local4:DisplayObject = DisplayObject(Sprite(_arg2).getChildAt(0));
            if (_local4.hasOwnProperty("ilg")){
                _local5 = _local4["ilg"];
                _local6 = _local4.getBounds(_arg2);
                if (this.has3D(_local4)){
                    if (((!((_local5.elementWidth == _local6.width))) || (!((_local5.elementHeight == _local6.height))))){
                        _local5.elementWidth = Math.max(1, _local6.width);
                        _local5.elementHeight = Math.max(1, _local6.height);
                    };
                };
                _local4.x = (_local4.x - _local6.x);
                _local4.y = (_local4.y - _local6.y);
            };
            super.addInlineGraphicElement(_arg1, _arg2, _arg3);
        }

    }
}//package fl.text 
﻿package fl.text {
    import flash.display.*;
    import flash.text.engine.*;
    import flash.events.*;
    import flash.geom.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flash.text.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.compose.*;
    import flashx.textLayout.conversion.*;
    import fl.text.*;
    import flashx.textLayout.events.*;

    class MultiTextContainerManager extends CommonTextContainerManager implements IContainerManager {

        private var _textFlow:TextFlow;
        private var _hostFormat:TextLayoutFormat;

        public function MultiTextContainerManager(_arg1:Sprite, _arg2:TLFTextField, _arg3:ContainerController=null){
            _container = _arg1;
            _ownerField = _arg2;
            this._hostFormat = new TextLayoutFormat();
            _controller = ((_arg3)!=null) ? _arg3 : _arg2.initController(_container);
            _ownerField.addEventListener(FocusEvent.FOCUS_IN, _controller.focusInHandler);
        }
        public function get contentHeight():Number{
            return (_controller.contentHeight);
        }
        public function get firstBaselineOffset():Object{
            return (_controller.firstBaselineOffset);
        }
        public function setCompositionSize(_arg1:Number, _arg2:Number):void{
            _controller.setCompositionSize(_arg1, _arg2);
        }
        public function set paddingRight(_arg1:Object):void{
            _controller.paddingRight = _arg1;
        }
        public function get columnWidth():Object{
            return (_controller.columnWidth);
        }
        public function get numLines():int{
            return (this._textFlow.flowComposer.numLines);
        }
        public function removeListeners():void{
            this.textFlow.removeEventListener(TextLayoutEvent.SCROLL, _ownerField.textFlow_ScrollHandler);
            this.textFlow.removeEventListener(MouseEvent.CLICK, _ownerField.linkClick);
            this.textFlow.removeEventListener(FlowOperationEvent.FLOW_OPERATION_BEGIN, _ownerField.textFlow_flowOperationBeginHandler);
            this.textFlow.removeEventListener(FlowOperationEvent.FLOW_OPERATION_END, _ownerField.textFlow_flowOperationEndHandler);
            this.textFlow.removeEventListener(CompositionCompleteEvent.COMPOSITION_COMPLETE, _ownerField.composeComplete);
            _ownerField.removeEventListener(FocusEvent.FOCUS_IN, _controller.focusInHandler);
        }
        public function set columnWidth(_arg1:Object):void{
            _controller.columnWidth = _arg1;
        }
        public function get contentTop():Number{
            return (_controller.contentTop);
        }
        override public function isTextStringAndFormat():Boolean{
            return (false);
        }
        public function set paddingTop(_arg1:Object):void{
            _controller.paddingTop = _arg1;
        }
        public function get verticalScrollPosition():Number{
            return (_controller.verticalScrollPosition);
        }
        public function get contentLeft():Number{
            return (_controller.contentLeft);
        }
        public function set firstBaselineOffset(_arg1:Object):void{
            _controller.firstBaselineOffset = _arg1;
        }
        public function get text():String{
            if (!this._textFlow){
                return ("");
            };
            var _local1:String = (TextConverter.export(this._textFlow, TextConverter.PLAIN_TEXT_FORMAT, ConversionType.STRING_TYPE) as String);
            _ownerField.generationID = this.textFlow.generation;
            return (_local1);
        }
        public function get absoluteStart():int{
            return (_controller.absoluteStart);
        }
        public function get compositionWidth():Number{
            return (_controller.compositionWidth);
        }
        public function set antialiasType(_arg1:String):void{
            if (this._textFlow){
                this._textFlow.renderingMode = ((_arg1)==AntiAliasType.ADVANCED) ? RenderingMode.CFF : RenderingMode.NORMAL;
            };
        }
        public function set paddingBottom(_arg1:Object):void{
            _controller.paddingBottom = _arg1;
        }
        public function set columnGap(_arg1:Object):void{
            _controller.columnGap = _arg1;
        }
        public function get verticalAlign():Object{
            return (_controller.verticalAlign);
        }
        public function set verticalScrollPosition(_arg1:Number):void{
            _controller.verticalScrollPosition = _arg1;
        }
        public function get columnCount():Object{
            return (_controller.columnCount);
        }
        public function getLineIndexBounds(_arg1:int):Rectangle{
            var _local2:TextFlowLine = this.textFlow.flowComposer.getLineAt(_arg1);
            return (_local2.getBounds());
        }
        public function set verticalAlign(_arg1:Object):void{
            _controller.verticalAlign = _arg1;
        }
        public function get horizontalScrollPosition():Number{
            return (_controller.horizontalScrollPosition);
        }
        public function set paddingLeft(_arg1:Object):void{
            _controller.paddingLeft = _arg1;
        }
        override public function get textLength():int{
            return ((_controller.textLength - 1));
        }
        public function get compositionHeight():Number{
            return (_controller.compositionHeight);
        }
        public function get paddingTop():Object{
            return (_controller.paddingTop);
        }
        public function set hostFormat(_arg1:ITextLayoutFormat):void{
            var _local2:uint;
            this._hostFormat = TextLayoutFormat(_arg1);
            if (this._textFlow){
                _local2 = this._textFlow.generation;
                this._textFlow.hostFormat = _arg1;
                this._textFlow.setGeneration(_local2);
            };
        }
        public function set editModeNoInteraction(_arg1:String):void{
            this.editMode = _arg1;
        }
        override public function compose():void{
            this._textFlow.flowComposer.composeToPosition();
        }
        public function addListeners():void{
            this.textFlow.addEventListener(TextLayoutEvent.SCROLL, _ownerField.textFlow_ScrollHandler, false, 0, true);
            this.textFlow.addEventListener(MouseEvent.CLICK, _ownerField.linkClick, false, 0, true);
            this.textFlow.addEventListener(FlowOperationEvent.FLOW_OPERATION_BEGIN, _ownerField.textFlow_flowOperationBeginHandler, false, 0, true);
            this.textFlow.addEventListener(FlowOperationEvent.FLOW_OPERATION_END, _ownerField.textFlow_flowOperationEndHandler, false, 0, true);
            this.textFlow.addEventListener(CompositionCompleteEvent.COMPOSITION_COMPLETE, _ownerField.composeComplete, false, 0, true);
            _ownerField.addEventListener(FocusEvent.FOCUS_IN, _controller.focusInHandler, false, 0, true);
        }
        public function get columnGap():Object{
            return (_controller.columnGap);
        }
        public function set editMode(_arg1:String):void{
            var _local2:ISelectionManager = this._textFlow.interactionManager;
            if (_arg1 == EditingMode.READ_WRITE){
                if (!(_local2 is EditManager)){
                    this._textFlow.interactionManager = new EditManager();
                };
            } else {
                if (_arg1 == EditingMode.READ_SELECT){
                    if ((((_local2 == null)) || ((_local2 is EditManager)))){
                        this._textFlow.interactionManager = new SelectionManager();
                    };
                } else {
                    this._textFlow.interactionManager = null;
                };
            };
        }
        public function get controller():ContainerController{
            return (_controller);
        }
        public function get antialiasType():String{
            if (this._textFlow){
                return ((((this._textFlow.renderingMode == RenderingMode.NORMAL)) ? AntiAliasType.NORMAL : AntiAliasType.ADVANCED));
            };
            return (AntiAliasType.NORMAL);
        }
        public function get paddingRight():Object{
            return (_controller.paddingRight);
        }
        public function set columnCount(_arg1:Object):void{
            _controller.columnCount = _arg1;
        }
        public function convert(_arg1:Class):IContainerManager{
            if ((this is _arg1)){
                return (this);
            };
            var _local2:SingleTextContainerManager = new SingleTextContainerManager(_container, _ownerField, _controller);
            _local2.textFlow = this._textFlow;
            _local2.setCompositionSize(this.compositionWidth, this.compositionHeight);
            _local2.hostFormat = this.hostFormat;
            _local2.paddingBottom = this.paddingBottom;
            _local2.paddingLeft = this.paddingLeft;
            _local2.paddingRight = this.paddingRight;
            _local2.paddingTop = this.paddingTop;
            _local2.columnCount = this.columnCount;
            _local2.columnGap = this.columnGap;
            _local2.columnWidth = this.columnWidth;
            _local2.firstBaselineOffset = this.firstBaselineOffset;
            _local2.verticalAlign = this.verticalAlign;
            _local2.horizontalScrollPosition = this.horizontalScrollPosition;
            _local2.verticalScrollPosition = this.verticalScrollPosition;
            _ownerField = null;
            _container = null;
            _controller = null;
            return (_local2);
        }
        public function get paddingLeft():Object{
            return (_controller.paddingLeft);
        }
        public function set horizontalScrollPosition(_arg1:Number):void{
            _controller.horizontalScrollPosition = _arg1;
        }
        public function get paddingBottom():Object{
            return (_controller.paddingBottom);
        }
        override public function get hostFormat():ITextLayoutFormat{
            return (this._textFlow.hostFormat);
        }
        public function get contentWidth():Number{
            return (_controller.contentWidth);
        }
        override public function update():void{
            if (this._textFlow){
                this._textFlow.flowComposer.updateAllControllers();
            };
        }
        override public function get textFlow():TextFlow{
            return (this._textFlow);
        }
        override public function set textFlow(_arg1:TextFlow):void{
            this._textFlow = _arg1;
        }

    }
}//package fl.text 
﻿package fl.text.container {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flashx.textLayout.elements.*;
    import fl.text.*;
    import flash.system.*;
    import flashx.textLayout.*;
    import flash.desktop.*;

    public class TLFContainerController extends ContainerController {

        private var _transparentBGButton:SimpleButton;
        private var _transparentBGButtonX:Number;
        private var _transparentBGButtonY:Number;
        private var _transparentBGButtonHeight:Number;
        private var _owner:TLFTextField;
        private var _transparentBGButtonWidth:Number;

        public function TLFContainerController(_arg1:Sprite, _arg2:TLFTextField):void{
            this._transparentBGButton = null;
            this._transparentBGButtonX = NaN;
            this._transparentBGButtonY = NaN;
            this._transparentBGButtonWidth = NaN;
            this._transparentBGButtonHeight = NaN;
            this._owner = _arg2;
            super(_arg1);
        }
        override public function editHandler(_arg1:Event):void{
            if ((((((_arg1.type == Event.COPY)) || ((_arg1.type == Event.CUT)))) && (this._owner.displayAsPassword))){
                return;
            };
            super.editHandler(_arg1);
            if ((((((_arg1.type == Event.COPY)) || ((_arg1.type == Event.CUT)))) && (!(this._owner.useRichTextClipboard)))){
                Clipboard.generalClipboard.clearData("TEXT_LAYOUT_MARKUP");
            };
        }
        override tlf_internal function attachTransparentBackgroundForHit(_arg1:Boolean):void{
            var _local2:Sprite;
            var _local3:Number;
            var _local4:Number;
            var _local5:Boolean;
            var _local6:Number;
            var _local7:Number;
            var _local8:Graphics;
            if (attachTransparentBackground){
                _local2 = container;
                if (_local2 != null){
                    if (_arg1){
                        if (this._transparentBGButton != null){
                            Shape(this._transparentBGButton.hitTestState).graphics.clear();
                            this._transparentBGButtonX = (this._transparentBGButtonY = (this._transparentBGButtonWidth = (this._transparentBGButtonHeight = NaN)));
                        };
                    } else {
                        if (this._transparentBGButton == null){
                            this._transparentBGButton = new SimpleButton();
                            this._transparentBGButton.focusRect = false;
                            this._transparentBGButton.tabEnabled = false;
                            this._transparentBGButton.addEventListener(MouseEvent.MOUSE_DOWN, this.abandonComposition, false, 0, true);
                            this._transparentBGButton.useHandCursor = false;
                            this._transparentBGButton.hitTestState = new Shape();
                            _local2.addChildAt(this._transparentBGButton, 0);
                        };
                        _local3 = ((measureWidth) ? contentWidth : compositionWidth);
                        _local4 = ((measureHeight) ? contentHeight : compositionHeight);
                        _local5 = (((effectiveBlockProgression == BlockProgression.RL)) && (!((horizontalScrollPolicy == ScrollPolicy.OFF))));
                        _local6 = ((_local5) ? (horizontalScrollPosition - _local3) : horizontalScrollPosition);
                        _local7 = verticalScrollPosition;
                        if (((((((!((_local6 == this._transparentBGButtonX))) || (!((_local7 == this._transparentBGButtonY))))) || (!((_local3 == this._transparentBGButtonWidth))))) || (!((_local4 == this._transparentBGButtonHeight))))){
                            _local8 = Shape(this._transparentBGButton.hitTestState).graphics;
                            _local8.clear();
                            if (((!((_local3 == 0))) && (!((_local4 == 0))))){
                                _local8.beginFill(0);
                                _local8.drawRect(_local6, _local7, _local3, _local4);
                                _local8.endFill();
                            };
                            this._transparentBGButtonX = _local6;
                            this._transparentBGButtonY = _local7;
                            this._transparentBGButtonWidth = _local3;
                            this._transparentBGButtonHeight = _local4;
                        };
                    };
                };
            };
        }
        public function get ownerField():TLFTextField{
            return (this._owner);
        }
        override public function softKeyboardActivatingHandler(_arg1:Event):void{
            if (Configuration.playerEnablesSpicyFeatures){
                container.softKeyboardInputAreaOfInterest = this._owner.getBounds(this._owner.stage);
            };
            super.softKeyboardActivatingHandler(_arg1);
        }
        private function has3D(_arg1:DisplayObject):Boolean{
            var _local3:int;
            if (_arg1.transform.matrix3D != null){
                return (true);
            };
            var _local2:DisplayObjectContainer = (_arg1 as DisplayObjectContainer);
            if (_local2 != null){
                _local3 = 0;
                while (_local3 < _local2.numChildren) {
                    if (this.has3D(_local2.getChildAt(_local3))){
                        return (true);
                    };
                    _local3++;
                };
            };
            return (false);
        }
        override public function mouseWheelHandler(_arg1:MouseEvent):void{
            if (!this._owner.mouseWheelEnabled){
                return;
            };
            super.mouseWheelHandler(_arg1);
        }
        private function abandonComposition(_arg1:MouseEvent):void{
            var _local2:Function = IME["compositionAbandoned"];
            if (IME["compositionAbandoned"] !== undefined){
                _local2();
            };
        }
        override protected function addInlineGraphicElement(_arg1:DisplayObjectContainer, _arg2:DisplayObject, _arg3:int):void{
            var _local5:InlineGraphicElement;
            var _local6:Rectangle;
            var _local4:DisplayObject = DisplayObject(Sprite(_arg2).getChildAt(0));
            if (_local4.hasOwnProperty("ilg")){
                _local5 = _local4["ilg"];
                _local6 = _local4.getBounds(_arg2);
                if (this.has3D(_local4)){
                    if (((!((_local5.elementWidth == _local6.width))) || (!((_local5.elementHeight == _local6.height))))){
                        _local5.elementWidth = Math.max(1, _local6.width);
                        _local5.elementHeight = Math.max(1, _local6.height);
                    };
                };
                _local4.x = (_local4.x - _local6.x);
                _local4.y = (_local4.y - _local6.y);
            };
            super.addInlineGraphicElement(_arg1, _arg2, _arg3);
        }

    }
}//package fl.text.container 
﻿package fl.text {
    import flash.utils.*;
    import flash.text.engine.*;

    public class RuntimeFontMapper {

        private static var fontMapDict:Dictionary = new Dictionary();

        public static function fontMapper(_arg1:FontDescription):void{
            var _local2 = (((((("['" + _arg1.fontName) + "','") + _arg1.fontWeight) + "','") + _arg1.fontPosture) + "']");
            var _local3:Array = fontMapDict[_local2];
            if (_local3 != null){
                _arg1.fontName = _local3[0];
                _arg1.fontWeight = _local3[1];
                _arg1.fontPosture = _local3[2];
            };
        }
        public static function addFontMapEntry(_arg1:String, _arg2:Array):void{
            fontMapDict[_arg1] = _arg2;
        }

    }
}//package fl.text 
﻿package fl.text {
    import flash.display.*;
    import flash.utils.*;
    import flash.text.engine.*;
    import fl.timeline.timelineManager.*;
    import flash.events.*;
    import flashx.textLayout.formats.*;
    import flash.text.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.conversion.*;
    import fl.timeline.*;
    import flashx.textLayout.*;

    public class TCMRuntimeManager extends TimelineManager {

        private static var singleton:TCMRuntimeManager = new (TCMRuntimeManager)();
;
        private static var globalConfig:Object;

        public function TCMRuntimeManager(){
            _supportNextPrevAcrossFrames = true;
        }
        public static function checkTLFFontsLoaded(_arg1:Event, _arg2:String=null, _arg3:Function=null):Boolean{
            var fontClass:* = null;
            var e:* = _arg1;
            var fontName = _arg2;
            var fn = _arg3;
            if ((((fontName == null)) && (!((e == null))))){
                try {
                    if (e.target.hasOwnProperty("__checkFontName_")){
                        fontName = e.target["__checkFontName_"];
                    };
                } catch(te1:TypeError) {
                    fontName = null;
                };
            };
            if (fontName == null){
                if (e != null){
                    e.target.removeEventListener(Event.FRAME_CONSTRUCTED, checkTLFFontsLoaded, false);
                };
                return (false);
            };
            var loaded:* = true;
            try {
                fontClass = Class(getDefinitionByName(fontName));
                if (new (fontClass)()["fontName"] == null){
                    loaded = false;
                };
            } catch(re:ReferenceError) {
                loaded = false;
            } catch(te2:TypeError) {
                loaded = false;
            };
            if (loaded){
                if (fn != null){
                    fn();
                } else {
                    if (e != null){
                        e.target.removeEventListener(Event.FRAME_CONSTRUCTED, checkTLFFontsLoaded, false);
                        if (e.target.hasOwnProperty("__registerTLFFonts")){
                            try {
                                var _local5 = e.target;
                                _local5["__registerTLFFonts"]();
                            } catch(te3:TypeError) {
                            };
                        };
                    };
                };
            };
            return (loaded);
        }
        tlf_internal static function getGlobalConfig():Object{
            if (globalConfig != null){
                return (globalConfig);
            };
            globalConfig = new Configuration(true);
            globalConfig.inlineGraphicResolverFunction = TCMRuntimeManager.resolveInlines;
            globalConfig.focusedSelectionFormat = new SelectionFormat(12047870, 1, "normal", 0, 1, "normal", 500);
            globalConfig.inactiveSelectionFormat = new SelectionFormat(12047870, 0, "normal", 0, 0, "normal", 0);
            globalConfig.unfocusedSelectionFormat = new SelectionFormat(12047870, 0, "normal", 0, 0, "normal", 0);
            return (globalConfig);
        }
        public static function getSingleton():TCMRuntimeManager{
            return (singleton);
        }
        public static function ColorStringToUint(_arg1:String):uint{
            if (_arg1.substr(0, 1) == "#"){
                _arg1 = ("0x" + _arg1.substr(1));
            };
            return (uint(_arg1));
        }
        private static function resolveInlines(_arg1:Object):DisplayObject{
            var _local5:Object;
            var _local6:*;
            var _local7:TextFlow;
            var _local8:Class;
            var _local9:Bitmap;
            var _local2:InlineGraphicElement = (_arg1 as InlineGraphicElement);
            if (_local2 == null){
                return (null);
            };
            var _local3:Object = _local2.userStyles;
            var _local4:* = null;
            if (_local3 != null){
                _local5 = _local3["customSource"];
                _local6 = _local3["extraInfo"];
                _local7 = _local2.getTextFlow();
                if (_local6 != undefined){
                    _local8 = _local6[_local5];
                    _local4 = new (_local8)();
                    if ((_local4 is BitmapData)){
                        _local9 = new Bitmap(_local4);
                        _local4 = new DynamicSprite();
                        _local4.addChild(_local9);
                    };
                };
                if (_local4){
                    _local4["ilg"] = _local2;
                };
            };
            return ((_local4 as DisplayObject));
        }

        public function configureInstance(_arg1:TCMText, _arg2:InstanceInfo):void{
            var textFlow:* = null;
            var attr:* = null;
            var styles:* = null;
            var customSource:* = null;
            var computedFormat:* = null;
            var fmt:* = null;
            var drawSprite:* = _arg1;
            var ii:* = _arg2;
            TLFRuntimeTabManager.InitTabHandler(drawSprite);
            var xmlTree:* = ii.data;
            var typeTextStr:* = xmlTree.@type;
            textFlow = TextConverter.importToFlow(ii.data, TextConverter.TEXT_LAYOUT_FORMAT, IConfiguration(getGlobalConfig()));
            GlobalSettings.fontMapperFunction = RuntimeFontMapper.fontMapper;
            var leaf:* = textFlow.getFirstLeaf();
            var hasILG:* = false;
            while (leaf) {
                if ((leaf as InlineGraphicElement)){
                    hasILG = true;
                    styles = leaf.userStyles;
                    customSource = styles["customSource"];
                    if (((!((ii.extraInfo == undefined))) && (!((ii.extraInfo[customSource] == null))))){
                        styles["extraInfo"] = ii.extraInfo;
                        leaf.userStyles = styles;
                    };
                };
                leaf = leaf.getNextLeaf();
            };
            var hasTCY:* = false;
            var hasAnchor:* = false;
            var firstFormat:* = textFlow.getFirstLeaf().computedFormat;
            var multipleFormats:* = (((textFlow.direction == undefined)) ? (firstFormat.direction == Direction.RTL) : !((textFlow.direction == firstFormat.direction)));
            var curLeaf:* = textFlow.getFirstLeaf();
            var p:* = (textFlow.getChildAt(0) as ParagraphElement);
            var multipleParagraphs:* = !((p.getNextParagraph() == null));
            if (((!(multipleFormats)) && (!(multipleParagraphs)))){
                while (curLeaf) {
                    computedFormat = curLeaf.computedFormat;
                    multipleFormats = ((!(TextLayoutFormat.isEqual(computedFormat, firstFormat))) || (((!((computedFormat.backgroundColor == undefined))) && (!((computedFormat.backgroundColor == BackgroundColor.TRANSPARENT))))));
                    hasTCY = !(((curLeaf.getParentByType(TCYElement) as TCYElement) == null));
                    hasAnchor = !(((curLeaf.getParentByType(LinkElement) as LinkElement) == null));
                    if (((((((multipleFormats) || (hasTCY))) || (hasAnchor))) || (hasILG))){
                        break;
                    };
                    curLeaf = curLeaf.getNextLeaf();
                };
            };
            var usingTextFlow:* = ((((((((multipleFormats) || (multipleParagraphs))) || (hasTCY))) || (hasAnchor))) || (hasILG));
            attr = xmlTree.@columnCount;
            if (((!((attr == null))) && ((attr.length > 0)))){
                textFlow.columnCount = ((isNaN(Number(attr))) ? 1 : Number(attr));
            };
            attr = xmlTree.@columnGap;
            if (((!((attr == null))) && ((attr.length > 0)))){
                textFlow.columnGap = ((isNaN(Number(attr))) ? 0 : Number(attr));
            };
            attr = xmlTree.@verticalAlign;
            if (((!((attr == null))) && ((attr.length > 0)))){
                textFlow.verticalAlign = attr;
            };
            attr = xmlTree.@firstBaselineOffset;
            if (((!((attr == null))) && ((attr.length > 0)))){
                try {
                    textFlow.firstBaselineOffset = attr;
                } catch(e:Error) {
                    textFlow.firstBaselineOffset = ((isNaN(Number(attr))) ? "auto" : Number(attr));
                };
            };
            attr = xmlTree.@paddingLeft;
            if (((!((attr == null))) && ((attr.length > 0)))){
                textFlow.paddingLeft = ((isNaN(Number(attr))) ? "auto" : Number(attr));
            };
            attr = xmlTree.@paddingTop;
            if (((!((attr == null))) && ((attr.length > 0)))){
                textFlow.paddingTop = ((isNaN(Number(attr))) ? "auto" : Number(attr));
            };
            attr = xmlTree.@paddingRight;
            if (((!((attr == null))) && ((attr.length > 0)))){
                textFlow.paddingRight = ((isNaN(Number(attr))) ? "auto" : Number(attr));
            };
            attr = xmlTree.@paddingBottom;
            if (((!((attr == null))) && ((attr.length > 0)))){
                textFlow.paddingBottom = ((isNaN(Number(attr))) ? "auto" : Number(attr));
            };
            attr = xmlTree.@antiAliasType;
            if (((!((attr == null))) && ((attr.length > 0)))){
                textFlow.renderingMode = ((attr)==AntiAliasType.ADVANCED) ? RenderingMode.CFF : RenderingMode.NORMAL;
            };
            attr = xmlTree.@embedFonts;
            if (((!((attr == null))) && ((attr.length > 0)))){
                textFlow.fontLookup = (((attr.toLowerCase() == "true")) ? FontLookup.EMBEDDED_CFF : FontLookup.DEVICE);
            };
            if (usingTextFlow){
                drawSprite.tcm.setTextFlow(textFlow);
                if (hasILG){
                    drawSprite.tcm.beginInteraction();
                    drawSprite.tcm.endInteraction();
                };
            } else {
                drawSprite.tcm.setText(textFlow.getText());
                fmt = TextLayoutFormat(textFlow.getFirstLeaf().computedFormat);
                if ((((fmt.paddingTop == "auto")) && (!(isNaN(textFlow.paddingTop))))){
                    fmt.paddingTop = textFlow.paddingTop;
                };
                if ((((fmt.paddingLeft == "auto")) && (!(isNaN(textFlow.paddingLeft))))){
                    fmt.paddingLeft = textFlow.paddingLeft;
                };
                if ((((fmt.paddingRight == "auto")) && (!(isNaN(textFlow.paddingRight))))){
                    fmt.paddingRight = textFlow.paddingRight;
                };
                if ((((fmt.paddingBottom == "auto")) && (!(isNaN(textFlow.paddingBottom))))){
                    fmt.paddingBottom = textFlow.paddingBottom;
                };
                fmt.lineBreak = textFlow.lineBreak;
                fmt.verticalAlign = textFlow.verticalAlign;
                fmt.columnCount = textFlow.columnCount;
                fmt.columnGap = textFlow.columnGap;
                fmt.direction = textFlow.direction;
                drawSprite.tcm.hostFormat = fmt;
            };
            var editPolicy:* = xmlTree.@editPolicy;
            if ((((((editPolicy == null)) || ((editPolicy.length == 0)))) || ((editPolicy == "selectable")))){
                editPolicy = EditingMode.READ_SELECT;
            };
            drawSprite.tcm.editingMode = editPolicy;
            if (typeTextStr == "Paragraph"){
                drawSprite.tcm.compositionHeight = ii.bounds.height;
                drawSprite.tcm.compositionWidth = ii.bounds.width;
            } else {
                drawSprite.tcm.compositionHeight = (drawSprite.tcm.compositionWidth = NaN);
            };
            attr = xmlTree.@background;
            if (((!((attr == null))) && ((attr.length > 0)))){
                drawSprite.background = (attr.toLowerCase() == "true");
            };
            attr = xmlTree.@backgroundColor;
            if (((!((attr == null))) && ((attr.length > 0)))){
                drawSprite.backgroundColor = ColorStringToUint(attr);
            };
            attr = xmlTree.@backgroundAlpha;
            if (((!((attr == null))) && ((attr.length > 0)))){
                drawSprite.backgroundAlpha = Number(attr);
            };
            attr = xmlTree.@border;
            if (((!((attr == null))) && ((attr.length > 0)))){
                drawSprite.border = (attr.toLowerCase() == "true");
            };
            attr = xmlTree.@borderColor;
            if (((!((attr == null))) && ((attr.length > 0)))){
                drawSprite.borderColor = ColorStringToUint(attr);
            };
            attr = xmlTree.@borderAlpha;
            if (((!((attr == null))) && ((attr.length > 0)))){
                drawSprite.borderAlpha = Number(attr);
            };
            attr = xmlTree.@borderWidth;
            if (((!((attr == null))) && ((attr.length > 0)))){
                drawSprite.borderWidth = Number(attr);
            };
            drawSprite.repaint(null);
        }
        override protected function getInstanceForInfo(_arg1:InstanceInfo, _arg2:DisplayObject=null):DisplayObject{
            var ii:* = _arg1;
            var instance = _arg2;
            try {
                if ((((getDefinitionByName("flashx.textLayout.container.TextContainerManager") == null)) || ((getDefinitionByName("fl.text.TLFTextContainerManager") == null)))){
                    return (null);
                };
            } catch(re:ReferenceError) {
                return (null);
            };
            var drawSprite:* = ((instance)==null) ? new TCMText() : TCMText(instance);
            this.configureInstance(drawSprite, ii);
            return (drawSprite);
        }

    }
}//package fl.text 
﻿package fl.text {
    import flash.display.*;

    public dynamic final class DynamicSprite extends Sprite {

    }
}//package fl.text 
﻿package fl.text {
    import flash.display.*;
    import flash.utils.*;
    import flash.text.engine.*;
    import flash.events.*;
    import flash.geom.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flash.text.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.compose.*;
    import flashx.textLayout.conversion.*;
    import flashx.textLayout.operations.*;
    import flashx.textLayout.events.*;
    import fl.text.container.*;
    import flashx.textLayout.*;

    public class TLFTextField extends Sprite {

        tlf_internal static const INVALID_SELECTION:uint = 16;
        tlf_internal static const INVALID_BORDER:uint = 4;
        tlf_internal static const INVALID_TEXT:uint = 1;
        tlf_internal static const INVALID_ALL:uint = ((((((INVALID_TEXT | INVALID_DIMENSIONS) | INVALID_BORDER) | INVALID_WORD_WRAP) | INVALID_SELECTION) | INVALID_AUTO_SIZE) | INVALID_TYPE);
        tlf_internal static const INVALID_NONE:uint = 0;
        tlf_internal static const INVALID_AUTO_SIZE:uint = 32;
        tlf_internal static const INVALID_TYPE:uint = 64;
        tlf_internal static const INVALID_DIMENSIONS:uint = 2;
        tlf_internal static const INVALID_WORD_WRAP:uint = 8;

        tlf_internal static var alwaysShowSelectionOnFormat:SelectionFormat = new SelectionFormat(14937852, 1, "normal", 0, 0, "normal", 0);
        tlf_internal static var _initialDefaultTextFormat:TextFormat = new TextFormat("Times New Roman", 12, 0, false, false, false, "", "", TextFormatAlign.LEFT, 0, 0, 0, null);
        private static var noCondenseWhiteConfig:Configuration;
        tlf_internal static var focusedSelectionFormat:SelectionFormat = new SelectionFormat(12047870, 1, "normal", 0, 1, "normal", 500);
        tlf_internal static var inactiveSelectionFormat:SelectionFormat = new SelectionFormat(12047870, 0, "normal", 0, 0, "normal", 0);
        private static var condenseWhiteConfig:Configuration;
        protected static var useTCM:Boolean = true;
        protected static var textImporter:ITextImporter;
        protected static var htmlNoCondenseWhite:ITextImporter;
        protected static var noCondenseWhiteFormat:TextLayoutFormat;
        protected static var condenseWhiteFormat:TextLayoutFormat;
        tlf_internal static var alwaysShowSelectionOffFormat:SelectionFormat = new SelectionFormat(12047870, 0, "normal", 0, 0, "normal", 0);
        protected static var htmlCondenseWhite:ITextImporter;
        tlf_internal static var genericFonts:Array = ["_sans", "_serif", "_typewriter", "_gothic", "_gothicMono", "_mincho", "_ゴシック", "_等幅", "_明朝"];
        protected static var xmlNoCondenseWhite:ITextImporter;
        protected static var xmlCondenseWhite:ITextImporter;

        private var _generationID:int;
        protected var _text:String;
        private var _type:String;
        private var _restrict:String;
        private var _defaultTextFormat:TextFormat;
        private var _mouseWheelEnabled:Boolean;
        private var _maxChars:int;
        private var _embedFonts:Boolean;
        protected var _containerManager:IContainerManager;
        private var _passwordCharacter:String;
        private var _maxScrollVFirstLineIndex:int;
        private var originalHeight:Number = 0;
        private var _maxScrollVFirstLineRect:Rectangle;
        protected var _invalidTextLayoutFormat:TextLayoutFormat;
        private var _antiAliasType:String;
        private var originalWidth:Number = 0;
        tlf_internal var _alwaysShowSelection:Boolean;
        private var _inlineInfo;
        private var _priorSelectionBeginIndex:int = 0;
        private var _backgroundAlpha:Number;
        private var _backgroundColor:uint;
        private var objInit:Boolean;
        private var _htmlTextGenerationID:int;
        private var _contentWidth:Number = 0;
        private var _bgShape2:Shape;
        protected var _invalidState:uint;
        private var _maxScrollV:int;
        private var _background:Boolean;
        protected var _displayAsPassword:Boolean;
        private var _borderAlpha:Number;
        private var _htmlText:String;
        private var _borderColor:uint;
        private var _contentHeight:Number = 0;
        private var _gridFitType:String;
        private var _tlfMarkupGenerationID:int;
        private var _maxScrollVCached:Boolean;
        private var _isPointText:Boolean;
        private var _paddingLock:Boolean;
        protected var _multiline:Boolean;
        private var _bgShape:Shape;
        private var _tlfMarkup:String;
        private var _borderWidth:Number;
        private var _border:Boolean;
        private var _condenseWhite:Boolean;
        private var _prevAutoSize:String;
        private var _useRichTextClipboard:Boolean;
        private var _maxScrollVLastLineRect:Rectangle;
        protected var _inRepaint:Boolean;
        private var _autoSize:String;
        protected var _wordWrap:Boolean;
        private var _priorSelectionEndIndex:int = 0;
        private var _selectable:Boolean;

        public function TLFTextField(){
            var container:* = null;
            var rtMgr:* = null;
            super();
            this._bgShape = new Shape();
            var tlfStage:* = new Sprite();
            addChild(this._bgShape);
            addChild(tlfStage);
            tlfStage.tabEnabled = true;
            tlfStage.focusRect = false;
            this._containerManager = ((useTCM) ? new SingleTextContainerManager(tlfStage, this) : new MultiTextContainerManager(tlfStage, this));
            doubleClickEnabled = true;
            tabEnabled = false;
            focusRect = false;
            this._alwaysShowSelection = false;
            this._antiAliasType = AntiAliasType.NORMAL;
            this._autoSize = TextFieldAutoSize.NONE;
            this._background = false;
            this._backgroundAlpha = 1;
            this._backgroundColor = 0xFFFFFF;
            this._border = false;
            this._borderAlpha = 1;
            this._borderColor = 0;
            this._borderWidth = 1;
            this._condenseWhite = false;
            this._defaultTextFormat = _initialDefaultTextFormat;
            this._containerManager.hostFormat = createTextLayoutFormat(_initialDefaultTextFormat);
            this._containerManager.antialiasType = AntiAliasType.NORMAL;
            this._containerManager.columnCount = FormatValue.AUTO;
            this._containerManager.columnWidth = FormatValue.AUTO;
            this._containerManager.columnGap = 20;
            this._containerManager.firstBaselineOffset = FormatValue.AUTO;
            this._containerManager.verticalAlign = VerticalAlign.TOP;
            this._displayAsPassword = false;
            this._embedFonts = false;
            this._gridFitType = GridFitType.PIXEL;
            this._maxChars = 0;
            this._mouseWheelEnabled = true;
            this._multiline = false;
            this._paddingLock = false;
            this._passwordCharacter = "*";
            this._restrict = null;
            this._text = "";
            this._htmlText = "";
            this._tlfMarkup = "";
            this._useRichTextClipboard = false;
            this._selectable = true;
            this._type = TextFieldType.DYNAMIC;
            this._wordWrap = false;
            this._containerManager.paddingLeft = 2;
            this._containerManager.paddingRight = 2;
            this._containerManager.paddingTop = 2;
            this._containerManager.paddingBottom = 2;
            this._generationID = -1;
            this._htmlTextGenerationID = -1;
            this._tlfMarkupGenerationID = -1;
            this._isPointText = false;
            this._containerManager.setCompositionSize(100, 100);
            this.originalWidth = int.MAX_VALUE;
            this.originalHeight = int.MAX_VALUE;
            this.objInit = true;
            this._invalidState = INVALID_ALL;
            try {
                if (this.parent != null){
                    container = (parent as DisplayObjectContainer);
                    if (container != null){
                        rtMgr = Class(getDefinitionByName("fl.text.RuntimeManager"));
                        rtMgr["getSingleton"]().initInstance(this, container);
                    };
                };
            } catch(e:Error) {
            };
        }
        tlf_internal static function repeat(_arg1:String, _arg2:String):String{
            var _local3 = "";
            var _local4:int;
            while (_local4 < _arg2.length) {
                if (_arg2.substr(_local4, 1) == String.fromCharCode(10)){
                    _local3 = (_local3 + _arg2.substr(_local4, 1));
                } else {
                    _local3 = (_local3 + _arg1);
                };
                _local4++;
            };
            return (_local3);
        }
        private static function testCharacter(_arg1:uint, _arg2:String):Boolean{
            var _local9:uint;
            var _local11:Boolean;
            var _local3:Boolean;
            var _local4:Boolean;
            var _local5:Boolean;
            var _local6:Boolean;
            var _local7:uint;
            var _local8:int = _arg2.length;
            if (_local8 > 0){
                _local9 = _arg2.charCodeAt(0);
                if (_local9 == 94){
                    _local3 = true;
                };
            };
            var _local10:int;
            while (_local10 < _local8) {
                _local9 = _arg2.charCodeAt(_local10);
                _local11 = false;
                if (!_local4){
                    if (_local9 == 45){
                        _local5 = true;
                    } else {
                        if (_local9 == 94){
                            _local6 = !(_local6);
                        } else {
                            if (_local9 == 92){
                                _local4 = true;
                            } else {
                                _local11 = true;
                            };
                        };
                    };
                } else {
                    _local11 = true;
                    _local4 = false;
                };
                if (_local11){
                    if (_local5){
                        if ((((_local7 <= _arg1)) && ((_arg1 <= _local9)))){
                            _local3 = _local6;
                        };
                        _local5 = false;
                        _local7 = 0;
                    } else {
                        if (_arg1 == _local9){
                            _local3 = _local6;
                        };
                        _local7 = _local9;
                    };
                };
                _local10++;
            };
            return (_local3);
        }
        tlf_internal static function createTextLayoutFormat(_arg1:TextFormat):TextLayoutFormat{
            var _local3:Array;
            var _local4:String;
            var _local5:TabStopFormat;
            var _local2:TextLayoutFormat = new TextLayoutFormat();
            if (_arg1.align != null){
                if ((((((((_arg1.align == TextFormatAlign.CENTER)) || ((_arg1.align == TextFormatAlign.JUSTIFY)))) || ((_arg1.align == TextFormatAlign.LEFT)))) || ((_arg1.align == TextFormatAlign.RIGHT)))){
                    _local2.textAlign = _arg1.align;
                } else {
                    _local2.textAlign = TextFormatAlign.RIGHT;
                };
            };
            if (((!((_arg1.blockIndent == null))) && (!((_arg1.leftMargin == null))))){
                _local2.paragraphStartIndent = (_arg1.blockIndent + _arg1.leftMargin);
            } else {
                if (_arg1.blockIndent != null){
                    _local2.paragraphStartIndent = _arg1.blockIndent;
                } else {
                    if (_arg1.leftMargin != null){
                        _local2.paragraphStartIndent = _arg1.leftMargin;
                    };
                };
            };
            if (_arg1.indent != null){
                _local2.textIndent = _arg1.indent;
            };
            if (_arg1.leading != null){
                _local2.lineHeight = _arg1.leading;
                _local2.leadingModel = LeadingModel.APPROXIMATE_TEXT_FIELD;
            };
            if (_arg1.rightMargin != null){
                _local2.paragraphEndIndent = _arg1.rightMargin;
            };
            if (_arg1.tabStops != null){
                _local3 = new Array();
                _arg1.tabStops.sort(Array.NUMERIC);
                for each (_local4 in _arg1.tabStops) {
                    _local5 = new TabStopFormat();
                    _local5.alignment = TabAlignment.START;
                    _local5.position = int(_local4);
                    _local3.push(_local5);
                };
                _local2.tabStops = _local3;
            };
            if (_arg1.bold != null){
                _local2.fontWeight = ((_arg1.bold) ? FontWeight.BOLD : FontWeight.NORMAL);
            };
            if (_arg1.color != null){
                _local2.color = _arg1.color;
            };
            if (_arg1.font != null){
                _local2.fontFamily = _arg1.font;
            };
            if (_arg1.italic != null){
                _local2.fontStyle = ((_arg1.italic) ? FontPosture.ITALIC : FontPosture.NORMAL);
            };
            if (_arg1.kerning != null){
                _local2.kerning = ((_arg1.kerning) ? Kerning.ON : Kerning.OFF);
            };
            if (_arg1.letterSpacing != null){
                _local2.trackingRight = _arg1.letterSpacing;
            };
            if (_arg1.size != null){
                _local2.fontSize = _arg1.size;
            };
            if (_arg1.underline != null){
                _local2.textDecoration = ((_arg1.underline) ? TextDecoration.UNDERLINE : TextDecoration.NONE);
            };
            return (_local2);
        }
        private static function restrictChar(_arg1:String, _arg2:String):String{
            var _local6:uint;
            if (_arg2 == null){
                return (_arg1);
            };
            if (_arg2 == ""){
                return ("");
            };
            var _local3:Array = [];
            var _local4:int = _arg1.length;
            var _local5:int;
            while (_local5 < _local4) {
                _local6 = _arg1.charCodeAt(_local5);
                if (testCharacter(_local6, _arg2)){
                    _local3.push(_local6);
                };
                _local5++;
            };
            return (String.fromCharCode.apply(null, _local3));
        }
        private static function splice(_arg1:String, _arg2:int, _arg3:int, _arg4:String):String{
            return (((_arg1.substring(0, _arg2) + _arg4) + _arg1.substring(_arg3, _arg1.length)));
        }

        tlf_internal function set contentHeight(_arg1:Number):void{
            this._contentHeight = _arg1;
        }
        public function replaceText(_arg1:int, _arg2:int, _arg3:String):void{
            this._containerManager.replaceText(_arg1, _arg2, _arg3);
        }
        public function get firstBaselineOffset():Object{
            return (this._containerManager.firstBaselineOffset);
        }
        tlf_internal function setCompositionSize(_arg1:Number, _arg2:Number):void{
            this._containerManager.setCompositionSize(_arg1, _arg2);
        }
        tlf_internal function repaint(_arg1:Event=null):void{
            var wmode:* = null;
            var format:* = null;
            var tf:* = null;
            var e = _arg1;
            if (this._inRepaint){
                return;
            };
            try {
                this._inRepaint = true;
                if (e != null){
                    if ((((e.type == Event.ADDED)) && (!((e.target == this))))){
                        this._inRepaint = false;
                        return;
                    };
                    removeEventListener(Event.ADDED, this.repaint);
                    removeEventListener(Event.ADDED_TO_STAGE, this.repaint);
                    removeEventListener(Event.FRAME_CONSTRUCTED, this.repaint);
                    try {
                        if (stage != null){
                            stage.removeEventListener(Event.RENDER, this.repaint);
                        } else {
                            if (e.type == Event.RENDER){
                                e.target.removeEventListener(Event.RENDER, this.repaint);
                            };
                        };
                    } catch(se:SecurityError) {
                    };
                };
                if (this._invalidState == INVALID_NONE){
                    return;
                };
                wmode = (this.blockProgression as String);
                if (((this.TCMUsesTextStringAndFormat) || (this._containerManager.textFlow))){
                    if ((this._invalidState & (INVALID_AUTO_SIZE | INVALID_WORD_WRAP))){
                        if (((!((this._prevAutoSize == null))) && (!((this.originalWidth == int.MAX_VALUE))))){
                            if (this._prevAutoSize != TextFieldAutoSize.NONE){
                                if (this._wordWrap){
                                    if (wmode != BlockProgression.RL){
                                        if (isNaN(this._containerManager.compositionWidth)){
                                            this.originalWidth = this._containerManager.contentWidth;
                                        } else {
                                            this.originalWidth = this._containerManager.compositionWidth;
                                        };
                                        this.originalHeight = this._containerManager.contentHeight;
                                    } else {
                                        this.originalWidth = this._containerManager.contentWidth;
                                        if (isNaN(this._containerManager.compositionWidth)){
                                            this.originalHeight = this._containerManager.contentHeight;
                                        } else {
                                            this.originalHeight = this._containerManager.compositionHeight;
                                        };
                                    };
                                } else {
                                    this.originalWidth = this._containerManager.contentWidth;
                                    this.originalHeight = this._containerManager.contentHeight;
                                };
                            } else {
                                this.originalWidth = this._containerManager.compositionWidth;
                                this.originalHeight = this._containerManager.compositionHeight;
                            };
                        };
                        if ((this._invalidState & INVALID_WORD_WRAP)){
                            if (this._prevAutoSize == null){
                                if (this._autoSize != TextFieldAutoSize.NONE){
                                    if (!this._wordWrap){
                                        if (wmode != BlockProgression.RL){
                                            if (isNaN(this._containerManager.compositionWidth)){
                                                this.originalWidth = this._containerManager.contentWidth;
                                            } else {
                                                this.originalWidth = this._containerManager.compositionWidth;
                                            };
                                            this.originalHeight = this._containerManager.contentHeight;
                                        } else {
                                            this.originalWidth = this._containerManager.contentWidth;
                                            if (isNaN(this._containerManager.compositionHeight)){
                                                this.originalHeight = this._containerManager.contentHeight;
                                            } else {
                                                this.originalHeight = this._containerManager.compositionHeight;
                                            };
                                        };
                                    } else {
                                        this.originalWidth = this._containerManager.contentWidth;
                                        this.originalHeight = this._containerManager.contentHeight;
                                    };
                                } else {
                                    this.originalWidth = this._containerManager.compositionWidth;
                                    this.originalHeight = this._containerManager.compositionHeight;
                                };
                            };
                            this._containerManager.lineBreak = ((this._wordWrap) ? LineBreak.TO_FIT : LineBreak.EXPLICIT);
                        } else {
                            this._wordWrap = (this._containerManager.lineBreak == LineBreak.TO_FIT);
                        };
                        if (this.originalWidth == int.MAX_VALUE){
                            this.originalWidth = 0;
                            this.originalHeight = 0;
                        };
                        if (this._autoSize != TextFieldAutoSize.NONE){
                            if (this._wordWrap){
                                if (wmode != BlockProgression.RL){
                                    if (isNaN(this._containerManager.compositionWidth)){
                                        this._containerManager.setCompositionSize(this._containerManager.contentWidth, NaN);
                                    } else {
                                        this._containerManager.setCompositionSize(this._containerManager.compositionWidth, NaN);
                                    };
                                } else {
                                    if (isNaN(this._containerManager.compositionHeight)){
                                        this._containerManager.setCompositionSize(NaN, this._containerManager.contentHeight);
                                    } else {
                                        this._containerManager.setCompositionSize(NaN, this._containerManager.compositionHeight);
                                    };
                                };
                            } else {
                                this._containerManager.setCompositionSize(NaN, NaN);
                            };
                        } else {
                            if ((((((this._invalidState & INVALID_AUTO_SIZE)) && (!((this._prevAutoSize == null))))) && (!((this._prevAutoSize == this._autoSize))))){
                                if (!this.objInit){
                                    if (this._wordWrap){
                                        if (wmode != BlockProgression.RL){
                                            this._containerManager.setCompositionSize(this._containerManager.compositionWidth, this._containerManager.contentHeight);
                                        } else {
                                            this._containerManager.setCompositionSize(this._containerManager.contentWidth, this._containerManager.compositionHeight);
                                        };
                                    } else {
                                        this._containerManager.setCompositionSize(this._containerManager.contentWidth, this._containerManager.contentHeight);
                                    };
                                };
                            };
                        };
                        this.objInit = false;
                        this._prevAutoSize = null;
                    } else {
                        this._wordWrap = (this._containerManager.lineBreak == LineBreak.TO_FIT);
                    };
                    if ((((this._invalidState & INVALID_TEXT)) && (!((this._invalidTextLayoutFormat == null))))){
                        format = this._invalidTextLayoutFormat;
                        this._invalidTextLayoutFormat = null;
                        tf = ((this.TCMUsesTextStringAndFormat) ? null : this.textFlow);
                        this._containerManager.setFormatForAllElements(tf, format);
                    };
                };
                if ((this._invalidState & (((INVALID_TEXT | INVALID_DIMENSIONS) | INVALID_WORD_WRAP) | INVALID_AUTO_SIZE))){
                    this._containerManager.update();
                };
                if ((this._invalidState & ((((INVALID_TEXT | INVALID_DIMENSIONS) | INVALID_BORDER) | INVALID_WORD_WRAP) | INVALID_AUTO_SIZE))){
                    this.drawBorder(wmode);
                };
                this._invalidState = INVALID_NONE;
            } finally {
                this._inRepaint = false;
            };
        }
        tlf_internal function doImport(_arg1:String, _arg2:String):void{
            var txtFormat:* = null;
            var cacheAntiAliasType:* = null;
            var cacheEmbedFontsSet:* = false;
            var cacheGridFitType:* = null;
            var resolver:* = null;
            var dataImporter:* = null;
            var tmpTextFlow:* = null;
            var errMsg:* = null;
            var errorString:* = null;
            var i:* = 0;
            var cacheDefaultTextFormat:* = null;
            var importType:* = _arg1;
            var value:* = _arg2;
            if (condenseWhiteConfig == null){
                condenseWhiteConfig = new Configuration();
                condenseWhiteFormat = new TextLayoutFormat();
                condenseWhiteFormat.whiteSpaceCollapse = WhiteSpaceCollapse.COLLAPSE;
                condenseWhiteConfig.textFlowInitialFormat = condenseWhiteFormat;
                noCondenseWhiteConfig = new Configuration();
                noCondenseWhiteFormat = new TextLayoutFormat();
                noCondenseWhiteFormat.whiteSpaceCollapse = WhiteSpaceCollapse.PRESERVE;
                noCondenseWhiteConfig.textFlowInitialFormat = noCondenseWhiteFormat;
                htmlNoCondenseWhite = TextConverter.getImporter(TextConverter.TEXT_FIELD_HTML_FORMAT, noCondenseWhiteConfig);
                htmlCondenseWhite = TextConverter.getImporter(TextConverter.TEXT_FIELD_HTML_FORMAT, condenseWhiteConfig);
                xmlNoCondenseWhite = TextConverter.getImporter(TextConverter.TEXT_LAYOUT_FORMAT, noCondenseWhiteConfig);
                xmlCondenseWhite = TextConverter.getImporter(TextConverter.TEXT_LAYOUT_FORMAT, condenseWhiteConfig);
                textImporter = TextConverter.getImporter(TextConverter.PLAIN_TEXT_FORMAT);
            };
            var cacheEmbedFonts:* = this._embedFonts;
            var tf:* = this._containerManager.textFlow;
            if (tf){
                this.removeTextFlowEventListeners();
                txtFormat = this._containerManager.hostFormat;
                cacheAntiAliasType = this.antiAliasType;
                cacheEmbedFonts = this.embedFonts;
                cacheEmbedFontsSet = true;
                cacheGridFitType = this.gridFitType;
                this._prevAutoSize = this._autoSize;
                resolver = tf.formatResolver;
            };
            if (importType == TextConverter.TEXT_FIELD_HTML_FORMAT){
                if (this._condenseWhite){
                    dataImporter = htmlCondenseWhite;
                } else {
                    dataImporter = htmlNoCondenseWhite;
                };
            } else {
                if (importType == TextConverter.TEXT_LAYOUT_FORMAT){
                    if (this._condenseWhite){
                        dataImporter = xmlCondenseWhite;
                    } else {
                        dataImporter = xmlNoCondenseWhite;
                    };
                } else {
                    if (importType == TextConverter.PLAIN_TEXT_FORMAT){
                        dataImporter = textImporter;
                    };
                };
            };
            dataImporter.throwOnError = false;
            try {
                if (((((this.canUseTCMForTextFlow(tf)) && ((importType == TextConverter.PLAIN_TEXT_FORMAT)))) && ((value.search(/[\r\n]/g) == -1)))){
                    this._containerManager = this._containerManager.convert(SingleTextContainerManager);
                    this._containerManager.text = value;
                } else {
                    tmpTextFlow = dataImporter.importToFlow(value);
                };
                if (dataImporter.errors){
                    for each (errorString in dataImporter.errors) {
                        errMsg = (errMsg + (("Error: " + errorString) + "\n"));
                    };
                };
                if (tmpTextFlow){
                    tmpTextFlow.flowComposer.removeAllControllers();
                    i = 0;
                    while (i < tf.flowComposer.numControllers) {
                        tmpTextFlow.flowComposer.addController(tf.flowComposer.getControllerAt(i));
                        i = (i + 1);
                    };
                    this.textFlow = tmpTextFlow;
                };
            } catch(e:Error) {
                dataImporter = textImporter;
                textFlow = dataImporter.importToFlow("");
            };
            if (resolver){
                this.textFlow.formatResolver = resolver;
            };
            if (txtFormat){
                this._containerManager.hostFormat = txtFormat;
            } else {
                cacheDefaultTextFormat = this._defaultTextFormat;
                this.defaultTextFormat = null;
                this.defaultTextFormat = cacheDefaultTextFormat;
            };
            this.addTextFlowEventListeners();
            if (cacheAntiAliasType != null){
                this.antiAliasType = cacheAntiAliasType;
            } else {
                this.antiAliasType = this._antiAliasType;
            };
            this.embedFonts = cacheEmbedFonts;
            if (cacheGridFitType != null){
                this.gridFitType = cacheGridFitType;
            } else {
                this.gridFitType = this._gridFitType;
            };
            this.wordWrap = this._wordWrap;
            var cacheAutoSize:* = this._autoSize;
            this._autoSize = "NA";
            this.autoSize = cacheAutoSize;
            var cacheSelectable:* = this._selectable;
            this._selectable = !(this._selectable);
            this.selectable = cacheSelectable;
            this.invalidate(INVALID_ALL);
            this.scrollV = 0;
        }
        public function get columnWidth():Object{
            return (this._containerManager.columnWidth);
        }
        public function set firstBaselineOffset(_arg1:Object):void{
            var n:* = NaN;
            var value:* = _arg1;
            try {
                this._containerManager.firstBaselineOffset = value;
            } catch(e:Error) {
                n = Number(value);
                if (isNaN(n)){
                    _containerManager.firstBaselineOffset = "auto";
                } else {
                    if (n < 0){
                        _containerManager.firstBaselineOffset = 0;
                    } else {
                        if (n > 1000){
                            _containerManager.firstBaselineOffset = 1000;
                        } else {
                            _containerManager.firstBaselineOffset = "auto";
                        };
                    };
                };
            };
            this.invalidate(INVALID_TEXT);
        }
        public function set columnWidth(_arg1:Object):void{
            var n:* = NaN;
            var value:* = _arg1;
            if (this._containerManager.columnWidth == value){
                return;
            };
            try {
                this._containerManager.columnWidth = value;
            } catch(e:Error) {
                n = Number(value);
                if ((((n < 0)) || (isNaN(n)))){
                    _containerManager.columnWidth = 0;
                } else {
                    if (n > 8000){
                        _containerManager.columnWidth = 8000;
                    };
                };
            };
            this.invalidate(INVALID_TEXT);
        }
        tlf_internal function getEditingMode(_arg1:ISelectionManager):String{
            return (((_arg1) ? _arg1.editingMode : EditingMode.READ_ONLY));
        }
        tlf_internal function get firstField():TLFTextField{
            var _local2:TLFContainerController;
            var _local1:TextFlow = ((this.TCMUsesTextStringAndFormat) ? null : this._containerManager.textFlow);
            if (_local1){
                if ((((_local1.flowComposer == null)) || ((_local1.flowComposer.numControllers == 0)))){
                    return (this);
                };
                _local2 = (_local1.flowComposer.getControllerAt(0) as TLFContainerController);
                if (_local2){
                    return (_local2.ownerField);
                };
                if (_local1.flowComposer.getControllerAt(0)){
                    return (this);
                };
            };
            return (null);
        }
        tlf_internal function addNextField(_arg1:TLFTextField):void{
            this._containerManager = this._containerManager.convert(MultiTextContainerManager);
            _arg1._containerManager = _arg1._containerManager.convert(MultiTextContainerManager);
            var _local2:IFlowComposer = this.textFlow.flowComposer;
            if (_local2.getControllerIndex(this.controller) < 0){
                _local2.addControllerAt(this.controller, 0);
            };
            if (_local2.getControllerIndex(_arg1.controller) < 0){
                _local2.addControllerAt(_arg1.controller, (_local2.getControllerIndex(this.controller) + 1));
            };
            _arg1.textFlow = this.textFlow;
            this.invalidate(INVALID_TEXT);
            _arg1.invalidate(INVALID_TEXT);
        }
        public function get styleSheet():StyleSheet{
            var _local1:CSSFormatResolver;
            if (((!(this.TCMUsesTextStringAndFormat)) && (this.textFlow))){
                _local1 = (this.textFlow.formatResolver as CSSFormatResolver);
                if (_local1){
                    return (_local1.styleSheet);
                };
            };
            return (null);
        }
        public function getFirstCharInParagraph(_arg1:int):int{
            var _local2:TextFlowLine = this.textFlow.flowComposer.findLineAtPosition(_arg1);
            if (_local2){
                return (_local2.paragraph.getAbsoluteStart());
            };
            throw (new RangeError("The character index specified is out of range."));
        }
        public function get border():Boolean{
            return (this._border);
        }
        public function set scrollH(_arg1:int):void{
            var _local2:String = ((this.TCMUsesTextStringAndFormat) ? this.hostFormat.blockProgression : this.textFlow.computedFormat.blockProgression);
            var _local3:String = ((this.TCMUsesTextStringAndFormat) ? this.hostFormat.direction : this.textFlow.computedFormat.direction);
            if (_arg1 < 0){
                _arg1 = 0;
            };
            if (_arg1 > this.maxScrollH){
                _arg1 = this.maxScrollH;
            };
            if (_local3 == Direction.RTL){
                _arg1 = -(_arg1);
            };
            if ((_local2 == BlockProgression.RL)){
                this._containerManager.verticalScrollPosition = _arg1;
            } else {
                this._containerManager.horizontalScrollPosition = _arg1;
            };
        }
        public function get textColor():uint{
            return (this._containerManager.textColor);
        }
        public function isFontCompatible(_arg1:String, _arg2:String):Boolean{
            var _local3:String;
            var _local4:String;
            if (_arg2 == FontStyle.REGULAR){
                _local3 = FontWeight.NORMAL;
                _local4 = FontPosture.NORMAL;
            } else {
                if (_arg2 == FontStyle.BOLD){
                    _local3 = FontWeight.BOLD;
                    _local4 = FontPosture.NORMAL;
                } else {
                    if (_arg2 == FontStyle.ITALIC){
                        _local3 = FontWeight.NORMAL;
                        _local4 = FontPosture.ITALIC;
                    } else {
                        if (_arg2 == FontStyle.BOLD_ITALIC){
                            _local3 = FontWeight.BOLD;
                            _local4 = FontPosture.ITALIC;
                        } else {
                            throw (new ArgumentError("The fontStyle specified is not a member of flash.text.FontStyle."));
                        };
                    };
                };
            };
            return (FontDescription.isFontCompatible(_arg1, _local3, _local4));
        }
        override public function set height(_arg1:Number):void{
            if (_arg1 != this._containerManager.compositionHeight){
                this._containerManager.setCompositionSize(this._containerManager.compositionWidth, _arg1);
                this.invalidate(INVALID_DIMENSIONS);
            };
        }
        public function get autoSize():String{
            return (this._autoSize);
        }
        public function get selectionBeginIndex():int{
            if (this.textFlow.interactionManager){
                return ((((this.textFlow.interactionManager.absoluteStart < 0)) ? 0 : this.textFlow.interactionManager.absoluteStart));
            };
            return (this._priorSelectionBeginIndex);
        }
        public function get selectable():Boolean{
            var _local1:TLFTextField = this.firstField;
            return (((_local1) ? _local1._selectable : this._selectable));
        }
        public function set scrollV(_arg1:int):void{
            var _local2:TextFlow = this._containerManager.textFlow;
            if (_local2 == null){
                return;
            };
            if (((this._maxScrollVCached) && ((this._maxScrollV == 0)))){
                return;
            };
            this.repaint();
            if (this._containerManager.container.scrollRect == null){
                return;
            };
            if (!this._maxScrollVCached){
                this.maxScrollV;
                if (((!(this._maxScrollVCached)) || ((this._maxScrollV == 0)))){
                    return;
                };
            };
            if (_arg1 < 0){
                _arg1 = 0;
            } else {
                if (_arg1 > this._maxScrollV){
                    _arg1 = this._maxScrollV;
                };
            };
            if (_arg1 == 0){
                if (_local2.blockProgression == BlockProgression.RL){
                    this._containerManager.horizontalScrollPosition = Math.max(0, this._maxScrollVFirstLineRect.right);
                } else {
                    this._containerManager.verticalScrollPosition = Math.min(0, this._maxScrollVFirstLineRect.top);
                };
                return;
            };
            if (_arg1 == this._maxScrollV){
                if (_local2.blockProgression == BlockProgression.RL){
                    this._containerManager.horizontalScrollPosition = Math.min(this._containerManager.contentLeft, this._maxScrollVLastLineRect.left);
                } else {
                    this._containerManager.verticalScrollPosition = Math.max(this._containerManager.contentHeight, this._maxScrollVLastLineRect.bottom);
                };
                return;
            };
            var _local3:Rectangle = this._containerManager.getLineIndexBounds(((_arg1 + this._maxScrollVFirstLineIndex) - 1));
            if (_local2.blockProgression == BlockProgression.RL){
                if (Math.abs((this._containerManager.contentLeft - _local3.right)) < this._containerManager.compositionWidth){
                    this._containerManager.horizontalScrollPosition = Math.max(this._containerManager.contentLeft, this._maxScrollVLastLineRect.left);
                } else {
                    this._containerManager.horizontalScrollPosition = _local3.right;
                };
            } else {
                if ((this._containerManager.contentHeight - _local3.top) < this._containerManager.compositionHeight){
                    this._containerManager.verticalScrollPosition = Math.max(this._containerManager.contentHeight, this._maxScrollVLastLineRect.bottom);
                } else {
                    this._containerManager.verticalScrollPosition = _local3.top;
                };
            };
        }
        public function get pixelMaxScrollV():int{
            var _local1:String = ((this.TCMUsesTextStringAndFormat) ? this.hostFormat.blockProgression : this.textFlow.computedFormat.blockProgression);
            var _local2:int = (((_local1 == BlockProgression.RL)) ? (this._containerManager.contentWidth - this._containerManager.compositionWidth) : (this._containerManager.contentHeight - this._containerManager.compositionHeight));
            return ((((_local2 > 0)) ? _local2 : 0));
        }
        public function set verticalAlign(_arg1:String):void{
            this._containerManager.verticalAlign = _arg1;
            this.invalidate(INVALID_TEXT);
        }
        tlf_internal function textFlow_ScrollHandler(_arg1:TextLayoutEvent):void{
            this.invalidate(TLFTextField.INVALID_BORDER);
            this.repaint();
            dispatchEvent(new Event(Event.SCROLL, false, false));
        }
        public function set text(_arg1:String):void{
            if (_arg1 == null){
                _arg1 = "";
            };
            this._text = _arg1;
            this._containerManager.text = _arg1;
            this.invalidate(INVALID_ALL);
            this.scrollH = 0;
            this.pixelScrollV = 0;
        }
        public function set background(_arg1:Boolean):void{
            if (this._background == _arg1){
                return;
            };
            this._background = _arg1;
            this.invalidate(INVALID_BORDER);
        }
        public function set border(_arg1:Boolean):void{
            if (this._border == _arg1){
                return;
            };
            this._border = _arg1;
            this.invalidate(INVALID_BORDER);
        }
        public function get antiAliasType():String{
            return (this._containerManager.antialiasType);
        }
        public function get selectionEndIndex():int{
            if (this.textFlow.interactionManager){
                return ((((this.textFlow.interactionManager.absoluteEnd < 0)) ? 0 : this.textFlow.interactionManager.absoluteEnd));
            };
            return (this._priorSelectionEndIndex);
        }
        public function set styleSheet(_arg1:StyleSheet):void{
            var _local2:IFormatResolver = ((_arg1)!=null) ? new CSSFormatResolver(_arg1) : null;
            if (this.textFlow){
                this.textFlow.formatResolver = _local2;
                this.invalidate(INVALID_TEXT);
            };
        }
        public function set textColor(_arg1:uint):void{
            _arg1 = (_arg1 & 0xFFFFFF);
            var _local2:TextFormat = this.defaultTextFormat;
            _local2.color = _arg1;
            this.defaultTextFormat = _local2;
            this._containerManager.textColor = _arg1;
            this.invalidate(INVALID_TEXT);
        }
        tlf_internal function set generationID(_arg1:int):void{
            this._generationID = _arg1;
        }
        tlf_internal function get usesTCM():Boolean{
            return ((this._containerManager is SingleTextContainerManager));
        }
        tlf_internal function textFlow_flowOperationEndHandler(_arg1:FlowOperationEvent):void{
            var _local2:FlowOperation = _arg1.operation;
            if ((_local2 is PasteOperation)){
                this.handlePasteOperation(PasteOperation(_local2));
            };
            dispatchEvent(new Event(Event.CHANGE, false, false));
        }
        public function set type(_arg1:String):void{
            if (((!((_arg1 == TextFieldType.INPUT))) && (!((_arg1 == TextFieldType.DYNAMIC))))){
                throw (new ArgumentError("The type specified is not a member of flash.text.TextFieldType."));
            };
            var _local2:TLFTextField = this.firstField;
            if (!_local2){
                _local2 = this;
            };
            _local2._type = _arg1;
            this.doTypeSet(_local2);
        }
        tlf_internal function get minScrollV():int{
            var _local1:TextFlow = this._containerManager.textFlow;
            if (_local1 == null){
                return (0);
            };
            if (!this._maxScrollVCached){
                this.maxScrollV;
                if (!this._maxScrollVCached){
                    return (0);
                };
            };
            if (_local1.blockProgression == BlockProgression.RL){
                return (((this._maxScrollVFirstLineRect.right)>=0) ? 1 : 0);
            };
            return (((this._maxScrollVFirstLineRect.top)<=0) ? 1 : 0);
        }
        public function get wordWrap():Boolean{
            if ((this._invalidState & INVALID_WORD_WRAP)){
                return (this._wordWrap);
            };
            return ((this._containerManager.lineBreak == LineBreak.TO_FIT));
        }
        public function getLineIndexOfChar(_arg1:int):int{
            var _local2:TextFlowLine = this.textFlow.flowComposer.findLineAtPosition(_arg1);
            if (_local2){
                return (this.textFlow.flowComposer.findLineIndexAtPosition(_arg1));
            };
            throw (new RangeError("Character index out of range."));
        }
        public function get bottomScrollV():int{
            var _local7:TextFlowLine;
            var _local8:Rectangle;
            this.repaint();
            var _local1:IFlowComposer = this.textFlow.flowComposer;
            var _local2:int = _local1.findLineIndexAtPosition(this._containerManager.absoluteStart);
            var _local3:int = (this.numLines - 1);
            if (_local3 < 1){
                return (1);
            };
            var _local4:TextFlow = this._containerManager.textFlow;
            if (_local4.blockProgression == BlockProgression.RL){
                if (this._containerManager.compositionWidth > this._containerManager.contentWidth){
                    return ((_local3 + 1));
                };
            } else {
                if (this._containerManager.compositionHeight > this._containerManager.contentHeight){
                    return ((_local3 + 1));
                };
            };
            var _local5 = 1;
            var _local6:int = _local3;
            while (_local6 >= _local2) {
                _local7 = _local1.getLineAt(_local6);
                _local8 = _local7.getBounds();
                if (((_local7.textLineExists) && (_local7.getTextLine().parent))){
                    if (this._containerManager.textFlow.computedFormat.blockProgression == BlockProgression.RL){
                        if (int(_local7.x) >= this._containerManager.container.scrollRect.x){
                            _local5 = (_local6 + 1);
                            break;
                        };
                    } else {
                        if (int(_local8.bottom) <= this._containerManager.container.scrollRect.bottom){
                            _local5 = (_local6 + 1);
                            break;
                        };
                    };
                };
                _local6--;
            };
            return (_local5);
        }
        public function set alwaysShowSelection(_arg1:Boolean):void{
            var _local4:SelectionFormat;
            if ((((this.alwaysShowSelection == _arg1)) || ((this.selectable == false)))){
                return;
            };
            var _local2:TLFTextField = this.firstField;
            if (!_local2){
                _local2 = this;
            };
            _local2._alwaysShowSelection = _arg1;
            var _local3:ISelectionManager = _local2.textFlow.interactionManager;
            if (_local3 != null){
                if (_local3.focusedSelectionFormat != focusedSelectionFormat){
                    _local3.focusedSelectionFormat = focusedSelectionFormat;
                };
                if (_local3.inactiveSelectionFormat != inactiveSelectionFormat){
                    _local3.inactiveSelectionFormat = inactiveSelectionFormat;
                };
                _local4 = ((this.alwaysShowSelection) ? alwaysShowSelectionOnFormat : alwaysShowSelectionOffFormat);
                if (_local3.unfocusedSelectionFormat != _local4){
                    _local3.unfocusedSelectionFormat = _local4;
                };
            };
        }
        public function set sharpness(_arg1:Number):void{
        }
        tlf_internal function get prevField():TLFTextField{
            var _local1:int;
            var _local2:TLFContainerController;
            if (((this.textFlow) && (this.textFlow.flowComposer))){
                _local1 = this.textFlow.flowComposer.getControllerIndex(this.controller);
                if (_local1 > 0){
                    _local2 = (this.textFlow.flowComposer.getControllerAt((_local1 - 1)) as TLFContainerController);
                    if (_local2){
                        return (_local2.ownerField);
                    };
                };
            };
            return (null);
        }
        private function handlePasteOperation(_arg1:PasteOperation):void{
            if (((((!(this._restrict)) && (!(this._maxChars)))) && (!(this._displayAsPassword)))){
                return;
            };
            var _local2:String = (TextConverter.export(_arg1.textScrap.textFlow, TextConverter.PLAIN_TEXT_FORMAT, ConversionType.STRING_TYPE) as String);
            if (this._displayAsPassword){
                this._text = splice(this._text, _arg1.absoluteStart, _arg1.absoluteStart, _local2);
            };
            var _local3:EditManager = EditManager(this.textFlow.interactionManager);
            var _local4:SelectionState = new SelectionState(_arg1.textFlow, _arg1.absoluteStart, (_arg1.absoluteStart + _local2.length));
            _local3.deleteText(_local4);
            this.replaceText(_arg1.absoluteStart, (_arg1.absoluteStart + 1), _local2);
        }
        public function get paddingRight():Object{
            return (this._containerManager.paddingRight);
        }
        protected function drawBorder(_arg1:String):void{
            var _local2:Number;
            var _local3:Graphics = this._bgShape.graphics;
            _local3.clear();
            var _local4:Rectangle;
            if (((this._border) && ((this._borderWidth > 0)))){
                _local2 = ((this._borderWidth / 2) - this._borderWidth);
                if (this._background){
                    _local3.beginFill(this._backgroundColor, this._backgroundAlpha);
                };
                _local3.lineStyle(this._borderWidth, this._borderColor, this._borderAlpha, false, LineScaleMode.NORMAL, CapsStyle.NONE, JointStyle.MITER, 10);
                if (((this.isPointText) || (!((this._autoSize == TextFieldAutoSize.NONE))))){
                    if (this._wordWrap){
                        if (_arg1 != BlockProgression.RL){
                            if (!isNaN(this._containerManager.compositionWidth)){
                                _local4 = new Rectangle(_local2, _local2, (this._containerManager.compositionWidth + this.borderWidth), (this._containerManager.contentHeight + this.borderWidth));
                            };
                        } else {
                            if (!isNaN(this._containerManager.compositionHeight)){
                                _local4 = new Rectangle(_local2, _local2, (this._containerManager.contentWidth + this.borderWidth), (this._containerManager.compositionHeight + this.borderWidth));
                            };
                        };
                    } else {
                        _local4 = new Rectangle(_local2, _local2, (this._containerManager.contentWidth + this.borderWidth), (this._containerManager.contentHeight + this.borderWidth));
                    };
                } else {
                    if (((!(isNaN(this._containerManager.compositionWidth))) && (!(isNaN(this._containerManager.compositionHeight))))){
                        _local4 = new Rectangle(_local2, _local2, (this._containerManager.compositionWidth + this.borderWidth), (this._containerManager.compositionHeight + this.borderWidth));
                    };
                };
                if (_local4 != null){
                    _local3.drawRect(_local4.x, _local4.y, _local4.width, _local4.height);
                };
                if (this._background){
                    _local3.endFill();
                    if (this._bgShape2 != null){
                        removeChild(this._bgShape2);
                        this._bgShape2 = null;
                    };
                } else {
                    if (this._bgShape2 == null){
                        this._bgShape2 = new Shape();
                        this._bgShape2.visible = false;
                        addChildAt(this._bgShape2, 0);
                    };
                    _local3 = this._bgShape2.graphics;
                    _local3.clear();
                    _local3.beginFill(0);
                    if (_local4 != null){
                        _local3.drawRect(_local4.x, _local4.y, _local4.width, _local4.height);
                    } else {
                        _local3.drawRect(this._bgShape.x, this._bgShape.y, this._bgShape.width, this._bgShape.height);
                    };
                    _local3.endFill();
                };
                this._bgShape.visible = true;
            } else {
                if (this._bgShape2 != null){
                    removeChild(this._bgShape2);
                    this._bgShape2 = null;
                };
                _local3.beginFill(this._backgroundColor, this._backgroundAlpha);
                if (((this.isPointText) || (!((this._autoSize == TextFieldAutoSize.NONE))))){
                    _local3.drawRect(0, 0, this._containerManager.contentWidth, this._containerManager.contentHeight);
                } else {
                    if (((!(isNaN(this._containerManager.compositionWidth))) && (!(isNaN(this._containerManager.compositionHeight))))){
                        _local3.drawRect(0, 0, this._containerManager.compositionWidth, this._containerManager.compositionHeight);
                    };
                };
                _local3.endFill();
                this._bgShape.visible = this._background;
            };
        }
        public function get borderAlpha():Number{
            return (this._borderAlpha);
        }
        public function get borderColor():uint{
            return (this._borderColor);
        }
        public function set condenseWhite(_arg1:Boolean):void{
            this._condenseWhite = _arg1;
        }
        public function get textWidth():Number{
            this.repaint();
            this._containerManager.compose();
            var _local1:Number = ((isNaN(Number(this.paddingLeft))) ? 0 : Number(this.paddingLeft));
            var _local2:Number = ((isNaN(Number(this.paddingRight))) ? 0 : Number(this.paddingRight));
            return ((this._containerManager.contentWidth - (_local1 + _local2)));
        }
        public function set autoSize(_arg1:String):void{
            if (this._autoSize == _arg1){
                return;
            };
            if (((((((!((_arg1 == TextFieldAutoSize.NONE))) && (!((_arg1 == TextFieldAutoSize.LEFT))))) && (!((_arg1 == TextFieldAutoSize.RIGHT))))) && (!((_arg1 == TextFieldAutoSize.CENTER))))){
                throw (new ArgumentError("The autoSize specified is not a member of flash.text.TextFieldAutoSize."));
            };
            if (this._prevAutoSize == null){
                this._prevAutoSize = this._autoSize;
            };
            this._autoSize = _arg1;
            this.invalidate(INVALID_AUTO_SIZE);
        }
        public function get useRichTextClipboard():Boolean{
            return (this._useRichTextClipboard);
        }
        public function get embedFonts():Boolean{
            return (this._containerManager.embedFonts);
        }
        public function get multiline():Boolean{
            return (this._multiline);
        }
        public function set columnCount(_arg1:Object):void{
            var n:* = NaN;
            var value:* = _arg1;
            if (this._containerManager.columnCount == value){
                return;
            };
            try {
                this._containerManager.columnCount = value;
            } catch(e:Error) {
                n = Number(value);
                if ((((n < 1)) || (isNaN(n)))){
                    _containerManager.columnCount = 1;
                } else {
                    if (n > 50){
                        _containerManager.columnCount = 50;
                    };
                };
            };
            this.invalidate(INVALID_TEXT);
        }
        public function set selectable(_arg1:Boolean):void{
            if (this.selectable == _arg1){
                return;
            };
            var _local2:TLFTextField = this.firstField;
            if (!_local2){
                _local2 = this;
            };
            _local2._selectable = _arg1;
            this.doTypeSet(_local2);
        }
        public function get defaultTextFormat():TextFormat{
            if (this._defaultTextFormat == _initialDefaultTextFormat){
                this._defaultTextFormat = this.duplicateTextFormat(this._defaultTextFormat);
            };
            return (this._defaultTextFormat);
        }
        public function set displayAsPassword(_arg1:Boolean):void{
            if (this._displayAsPassword == _arg1){
                return;
            };
            if (_arg1){
                this._text = this.text;
            };
            this._displayAsPassword = _arg1;
            this.replaceText(0, this._containerManager.textLength, this._text);
        }
        public function getLineText(_arg1:int):String{
            if ((((_arg1 < 0)) || ((_arg1 >= this.numLines)))){
                throw (new RangeError("The line number specified is out of range."));
            };
            var _local2:TextFlowLine = this.getValidTextFlowLine(_arg1);
            var _local3:int = (_local2.absoluteStart - _local2.paragraph.getAbsoluteStart());
            return (_local2.paragraph.getText().substr(_local3, _local2.textLength));
        }
        public function get mouseWheelEnabled():Boolean{
            return (this._mouseWheelEnabled);
        }
        public function get textHeight():Number{
            this.repaint();
            this._containerManager.compose();
            var _local1:Number = ((isNaN(Number(this.paddingTop))) ? 0 : Number(this.paddingTop));
            var _local2:Number = ((isNaN(Number(this.paddingBottom))) ? 0 : Number(this.paddingBottom));
            return ((this._containerManager.contentHeight - (_local1 + _local2)));
        }
        public function get restrict():String{
            return (this._restrict);
        }
        public function get tlfMarkup():String{
            if (((!((this.textFlow.generation == this._tlfMarkupGenerationID))) || ((this._tlfMarkup == "")))){
                this._tlfMarkup = (TextConverter.export(this.textFlow, TextConverter.TEXT_LAYOUT_FORMAT, ConversionType.STRING_TYPE) as String);
                this._tlfMarkupGenerationID = this.textFlow.generation;
            };
            return (this._tlfMarkup);
        }
        private function canUseTCMForTextFlow(_arg1:TextFlow):Boolean{
            return (((useTCM) && (this.hasSingleContainer(_arg1))));
        }
        public function get gridFitType():String{
            if (((((!(this.TCMUsesTextStringAndFormat)) && ((this.textFlow.cffHinting == CFFHinting.NONE)))) || (((((this.TCMUsesTextStringAndFormat) && (this.hostFormat))) && ((this.hostFormat.cffHinting == CFFHinting.NONE)))))){
                this._gridFitType = GridFitType.NONE;
            } else {
                if (this._gridFitType != GridFitType.SUBPIXEL){
                    this._gridFitType = GridFitType.PIXEL;
                };
            };
            return (this._gridFitType);
        }
        private function getValidTextFlowLineFromCharIndex(_arg1:int):TextFlowLine{
            if ((((_arg1 >= 0)) && ((_arg1 < this._containerManager.textLength)))){
                return (this.textFlow.flowComposer.findLineAtPosition(_arg1));
            };
            throw (new RangeError("The character index specified is out of range."));
        }
        tlf_internal function get passwordCharacter():String{
            return (this._passwordCharacter);
        }
        tlf_internal function get contentWidth():Number{
            return (this._contentWidth);
        }
        public function get backgroundColor():uint{
            return (this._backgroundColor);
        }
        public function get maxChars():int{
            var _local1:TLFTextField = this.firstField;
            if (!_local1){
                _local1 = this;
            };
            return (((_local1) ? _local1._maxChars : 0));
        }
        tlf_internal function get isPointText():Boolean{
            return (((this._isPointText) && (((this.TCMUsesTextStringAndFormat) || (!((this.textFlow == null)))))));
        }
        tlf_internal function initController(_arg1:Sprite):TLFContainerController{
            this._containerManager.addListeners();
            return (new TLFContainerController(_arg1, this));
        }
        tlf_internal function get paddingLock():Boolean{
            return (this._paddingLock);
        }
        public function set antiAliasType(_arg1:String):void{
            if (this.antiAliasType == _arg1){
                return;
            };
            if (this._invalidTextLayoutFormat == null){
                this._invalidTextLayoutFormat = new TextLayoutFormat();
            };
            this._invalidTextLayoutFormat.renderingMode = FormatValue.INHERIT;
            this._containerManager.antialiasType = _arg1;
            this.invalidate(INVALID_TEXT);
        }
        public function get length():int{
            return (this.text.length);
        }
        tlf_internal function get inlineInfo(){
            return (this._inlineInfo);
        }
        public function get backgroundAlpha():Number{
            return (this._backgroundAlpha);
        }
        tlf_internal function composeComplete(_arg1:CompositionCompleteEvent):void{
            var _local3:Number;
            var _local4:Number;
            if (((((_arg1) && (!(this.TCMUsesTextStringAndFormat)))) && (!(((_arg1.target as TextFlow) == this.textFlow))))){
                return;
            };
            this._maxScrollVCached = false;
            if ((((this.originalWidth == int.MAX_VALUE)) || ((this.originalHeight == int.MAX_VALUE)))){
                this.invalidate(INVALID_TEXT);
                this.repaint();
            };
            var _local2:String = ((this.TCMUsesTextStringAndFormat) ? this.hostFormat.blockProgression : this.textFlow.computedFormat.blockProgression);
            if (this._autoSize != TextFieldAutoSize.NONE){
                _local3 = 0;
                _local4 = 0;
                if (_local2 != BlockProgression.RL){
                    if (!this._wordWrap){
                        if (this._autoSize == TextFieldAutoSize.RIGHT){
                            _local3 = (this.originalWidth - this._containerManager.contentWidth);
                        } else {
                            if (this._autoSize == TextFieldAutoSize.CENTER){
                                _local3 = ((this.originalWidth - this._containerManager.contentWidth) / 2);
                            };
                        };
                    };
                } else {
                    _local3 = (this.contentWidth - this.contentWidth);
                    if (!this._wordWrap){
                        if (this._autoSize == TextFieldAutoSize.RIGHT){
                            _local4 = (this.originalHeight - this._containerManager.contentHeight);
                        } else {
                            if (this._autoSize == TextFieldAutoSize.CENTER){
                                _local4 = ((this.originalHeight - this._containerManager.contentHeight) / 2);
                            };
                        };
                    };
                };
                if (_local3 != 0){
                    this.x = (this.x + _local3);
                };
                if (_local4 != 0){
                    this.y = (this.y + _local4);
                };
                this.contentWidth = this.contentWidth;
                this.contentHeight = this.contentHeight;
            };
            this.originalWidth = this._containerManager.contentWidth;
            this.originalHeight = this._containerManager.contentHeight;
            if (((this.isPointText) || (!((this._autoSize == TextFieldAutoSize.NONE))))){
                this.drawBorder(_local2);
            };
        }
        private function duplicateTextFormat(_arg1:TextFormat):TextFormat{
            var _local3:String;
            var _local2:TextFormat = new TextFormat();
            for (_local3 in _arg1) {
                _local2[_local3] = _arg1[_local3];
            };
            return (_local2);
        }
        public function set htmlText(_arg1:String):void{
            var _local3:FlowLeafElement;
            if (_arg1 == ""){
                this.text = "";
                this.hostFormat = createTextLayoutFormat(_initialDefaultTextFormat);
                return;
            };
            var _local2:TextFlow = this._containerManager.textFlow;
            if (this.styleSheet == null){
                _local3 = _local2.getFirstLeaf();
                if (_local3){
                    _local2.hostFormat = _local3.computedFormat;
                };
            };
            this.doImport(TextConverter.TEXT_FIELD_HTML_FORMAT, _arg1);
            this._htmlText = this.htmlText;
        }
        public function set thickness(_arg1:Number):void{
        }
        public function getLineMetrics(_arg1:int):TextLineMetrics{
            var _local3:Number;
            if ((((_arg1 < 0)) || ((_arg1 >= this.numLines)))){
                throw (new RangeError("The line number specified is out of range."));
            };
            var _local2:TextFlowLine = this.getValidTextFlowLine(_arg1);
            if (_local2){
                _local3 = _local2.height;
                if (_local3 < (_local2.ascent + _local2.descent)){
                    _local3 = (_local2.ascent + _local2.descent);
                };
                if (_arg1 == 0){
                    return (new TextLineMetrics(_local2.x, _local2.unjustifiedTextWidth, _local3, _local2.ascent, _local2.descent, 0));
                };
                return (new TextLineMetrics(_local2.x, _local2.unjustifiedTextWidth, _local3, _local2.ascent, _local2.descent, (_local2.height - (_local2.ascent + _local2.descent))));
            };
            return (null);
        }
        public function get borderWidth():Number{
            return (this._borderWidth);
        }
        public function set direction(_arg1:String):void{
            this._containerManager.direction = _arg1;
            this.invalidate(INVALID_ALL);
        }
        tlf_internal function get contentHeight():Number{
            return (this._contentHeight);
        }
        public function set paddingTop(_arg1:Object):void{
            var n:* = NaN;
            var value:* = _arg1;
            if (this._containerManager.paddingTop == value){
                return;
            };
            try {
                this._containerManager.paddingTop = value;
            } catch(e:Error) {
                n = Number(value);
                if (isNaN(n)){
                    var _local4 = "auto";
                    value = _local4;
                    _containerManager.paddingTop = _local4;
                } else {
                    if (n < -1000){
                        _local4 = -8000;
                        value = _local4;
                        _containerManager.paddingTop = _local4;
                    } else {
                        if (n > 1000){
                            _local4 = 8000;
                            value = _local4;
                            _containerManager.paddingTop = _local4;
                        } else {
                            _local4 = "auto";
                            value = _local4;
                            _containerManager.paddingTop = _local4;
                        };
                    };
                };
            };
            if (this._paddingLock){
                this._containerManager.paddingLeft = value;
                this._containerManager.paddingRight = value;
                this._containerManager.paddingBottom = value;
            };
            this.invalidate(INVALID_TEXT);
        }
        public function get caretIndex():int{
            if (this.textFlow.interactionManager){
                return ((((this.textFlow.interactionManager.activePosition < 0)) ? 0 : this.textFlow.interactionManager.activePosition));
            };
            return (this._priorSelectionBeginIndex);
        }
        tlf_internal function switchToEditingMode(_arg1:TextFlow, _arg2:String, _arg3:Boolean=true):void{
            if ((((_arg2 == null)) || ((this.getEditingMode(_arg1.interactionManager) == _arg2)))){
                return;
            };
            if (_arg1.interactionManager != null){
                this._priorSelectionBeginIndex = _arg1.interactionManager.anchorPosition;
                this._priorSelectionEndIndex = _arg1.interactionManager.activePosition;
            };
            this._containerManager.editMode = _arg2;
            if (_arg1.interactionManager){
                this.setSelection(this._priorSelectionBeginIndex, this._priorSelectionEndIndex);
                _arg1.interactionManager.focusedSelectionFormat = focusedSelectionFormat;
                _arg1.interactionManager.inactiveSelectionFormat = inactiveSelectionFormat;
                if (this.alwaysShowSelection){
                    _arg1.interactionManager.unfocusedSelectionFormat = alwaysShowSelectionOnFormat;
                } else {
                    _arg1.interactionManager.unfocusedSelectionFormat = alwaysShowSelectionOffFormat;
                };
            };
            if (_arg3){
                this.invalidate(INVALID_TEXT);
            };
        }
        public function set wordWrap(_arg1:Boolean):void{
            this._wordWrap = _arg1;
            this.invalidate(INVALID_WORD_WRAP);
        }
        public function set paddingRight(_arg1:Object):void{
            var n:* = NaN;
            var value:* = _arg1;
            if (this._containerManager.paddingRight == value){
                return;
            };
            try {
                this._containerManager.paddingRight = value;
            } catch(e:Error) {
                n = Number(value);
                if (isNaN(n)){
                    var _local4 = "auto";
                    value = _local4;
                    _containerManager.paddingRight = _local4;
                } else {
                    if (n < -1000){
                        _local4 = -8000;
                        value = _local4;
                        _containerManager.paddingRight = _local4;
                    } else {
                        if (n > 1000){
                            _local4 = 8000;
                            value = _local4;
                            _containerManager.paddingRight = _local4;
                        } else {
                            _local4 = "auto";
                            value = _local4;
                            _containerManager.paddingRight = _local4;
                        };
                    };
                };
            };
            if (this._paddingLock){
                this._containerManager.paddingLeft = value;
                this._containerManager.paddingTop = value;
                this._containerManager.paddingBottom = value;
            };
            this.invalidate(INVALID_TEXT);
        }
        public function get maxScrollH():int{
            var _local1:String = ((this.TCMUsesTextStringAndFormat) ? this.hostFormat.blockProgression : this.textFlow.computedFormat.blockProgression);
            var _local2:int = (((_local1 == BlockProgression.RL)) ? (this._containerManager.contentHeight - this._containerManager.compositionHeight) : (this._containerManager.contentWidth - this._containerManager.compositionWidth));
            return ((((_local2 > 0)) ? _local2 : 0));
        }
        public function get numLines():int{
            this.repaint();
            return (this._containerManager.numLines);
        }
        private function hasSingleContainer(_arg1:TextFlow):Boolean{
            if (_arg1 == null){
                return (true);
            };
            if (_arg1.flowComposer == null){
                return (true);
            };
            return ((_arg1.flowComposer.numControllers <= 1));
        }
        public function get maxScrollV():int{
            var _local9:Number;
            var _local1:TextFlow = this._containerManager.textFlow;
            if (_local1 == null){
                return (0);
            };
            if (this._maxScrollVCached){
                return (this._maxScrollV);
            };
            this.repaint();
            this._containerManager.compose();
            var _local2:IFlowComposer = _local1.flowComposer;
            if ((((_local2.numControllers > 0)) && ((_local2.getControllerIndex(this._containerManager.controller) < (_local2.numControllers - 1))))){
                this._maxScrollVCached = true;
                this._maxScrollV = 0;
                return (this._maxScrollV);
            };
            var _local3:int = this._containerManager.numLines;
            var _local4:int = ((((!(this._containerManager.columnCount)) || ((this._containerManager.columnCount == FormatValue.AUTO)))) ? 1 : int(this._containerManager.columnCount));
            var _local5:int = (_local4 - 1);
            this._maxScrollVFirstLineIndex = _local2.findLineIndexAtPosition(this._containerManager.absoluteStart);
            var _local6:TextFlowLine = _local2.getLineAt(this._maxScrollVFirstLineIndex);
            if (_local6 == null){
                this._maxScrollVCached = true;
                this._maxScrollV = 0;
                return (this._maxScrollV);
            };
            while (_local6.columnIndex != _local5) {
                this._maxScrollVFirstLineIndex++;
                if (this._maxScrollVFirstLineIndex >= _local3){
                    this._maxScrollVCached = true;
                    this._maxScrollV = 0;
                    return (this._maxScrollV);
                };
                _local6 = _local2.getLineAt(this._maxScrollVFirstLineIndex);
            };
            this._maxScrollVFirstLineRect = _local6.getBounds();
            var _local7:int = (_local3 - 1);
            var _local8:TextFlowLine = _local2.getLineAt(_local7);
            this._maxScrollVLastLineRect = _local8.getBounds();
            var _local10 = (_local1.blockProgression == BlockProgression.RL);
            if (_local10){
                _local9 = Math.round((Math.min(this._maxScrollVLastLineRect.left, this._containerManager.contentLeft) + this._containerManager.compositionWidth));
                if (_local9 >= 0){
                    this._maxScrollVCached = true;
                    this._maxScrollV = 0;
                    return (this._maxScrollV);
                };
            } else {
                _local9 = Math.round((Math.max(this._maxScrollVLastLineRect.bottom, this._containerManager.contentHeight) - this._containerManager.compositionHeight));
                if (_local9 <= 0){
                    this._maxScrollVCached = true;
                    this._maxScrollV = 0;
                    return (this._maxScrollV);
                };
            };
            _local7--;
            while (_local7 > this._maxScrollVFirstLineIndex) {
                _local8 = _local2.getLineAt(_local7);
                if (_local10){
                    if (Math.round(_local8.getBounds().right) > _local9){
                        break;
                    };
                } else {
                    if (Math.round(_local8.getBounds().top) < _local9){
                        break;
                    };
                };
                _local7--;
            };
            this._maxScrollV = ((_local7 - this._maxScrollVFirstLineIndex) + 2);
            this._maxScrollVCached = true;
            return (this._maxScrollV);
        }
        public function getImageReference(_arg1:String):DisplayObject{
            var _local3:InlineGraphicElement;
            var _local2:FlowLeafElement = this.textFlow.getFirstLeaf();
            while (_local2) {
                if ((_local2 is InlineGraphicElement)){
                    _local3 = InlineGraphicElement(_local2);
                    if (String(_local3.id).toUpperCase() == _arg1.toUpperCase()){
                        return (_local3.graphic);
                    };
                };
                _local2 = _local2.getNextLeaf();
            };
            return (null);
        }
        override public function get height():Number{
            this.repaint();
            return (super.height);
        }
        public function get scrollV():int{
            var _local4:Rectangle;
            var _local5:Number;
            var _local6:Number;
            var _local1:TextFlow = this._containerManager.textFlow;
            this.repaint();
            this._containerManager.compose();
            if (!this._maxScrollVCached){
                this.maxScrollV;
                if (((!(this._maxScrollVCached)) || ((this._maxScrollV == 0)))){
                    return (0);
                };
            };
            var _local2:int = this._containerManager.numLines;
            var _local3:int = this._maxScrollVFirstLineIndex;
            while (_local3 < _local2) {
                _local4 = this._containerManager.getLineIndexBounds(_local3);
                if (!_local4.isEmpty()){
                    if (_local1.blockProgression == BlockProgression.RL){
                        _local5 = Math.round(this._containerManager.horizontalScrollPosition);
                        if ((((_local5 <= Math.round(_local4.right))) && ((_local5 >= Math.round(_local4.left))))){
                            return ((_local3 + 1));
                        };
                    } else {
                        _local6 = Math.round(this._containerManager.verticalScrollPosition);
                        if ((((_local6 <= Math.round(_local4.bottom))) && ((_local6 >= Math.round(_local4.top))))){
                            return ((_local3 + 1));
                        };
                    };
                };
                _local3++;
            };
            return (0);
        }
        public function get scrollH():int{
            var _local1:String = ((this.TCMUsesTextStringAndFormat) ? this.hostFormat.blockProgression : this.textFlow.computedFormat.blockProgression);
            return ((((_local1 == BlockProgression.RL)) ? Math.abs(this._containerManager.verticalScrollPosition) : Math.abs(this._containerManager.horizontalScrollPosition)));
        }
        public function set borderAlpha(_arg1:Number):void{
            if (this._borderAlpha == _arg1){
                return;
            };
            this._borderAlpha = _arg1;
            if (this._borderAlpha < 0){
                this._borderAlpha = 0;
            } else {
                if (this._borderAlpha > 1){
                    this._borderAlpha = 1;
                };
            };
            this.invalidate(INVALID_BORDER);
        }
        public function get text():String{
            if (((this._displayAsPassword) || (((((!(this.TCMUsesTextStringAndFormat)) && (this.textFlow))) && ((this.textFlow.generation == this._generationID)))))){
                return (this._text);
            };
            if ((((((this._text == "")) || (this.TCMUsesTextStringAndFormat))) || (((this.textFlow) && (!((this.textFlow.generation == this._generationID))))))){
                this._text = this._containerManager.text;
                return (this._text);
            };
            return ("");
        }
        public function get verticalAlign():String{
            return (String(this._containerManager.verticalAlign));
        }
        tlf_internal function updateComplete(_arg1:UpdateCompleteEvent):void{
            this.composeComplete(null);
            dispatchEvent(new Event(Event.CHANGE, false, false));
        }
        public function getCharBoundaries(_arg1:int):Rectangle{
            var _local2:Rectangle;
            var _local10:Point;
            var _local11:Point;
            this.repaint();
            var _local3:TextFlowLine = this.textFlow.flowComposer.findLineAtPosition(_arg1);
            var _local4:TextLine = _local3.getTextLine(true);
            var _local5:int = _local4.getAtomIndexAtCharIndex((_arg1 - _local3.paragraph.getAbsoluteStart()));
            if (_local5 > -1){
                _local2 = _local4.getAtomBounds(_local5);
            };
            var _local6:TextFlowLine = this.getValidTextFlowLine(this.getLineIndexOfChar(_arg1));
            var _local7:Rectangle = _local6.getBounds();
            var _local8:String = this.textFlow.computedFormat.blockProgression;
            var _local9 = (_local8 == BlockProgression.RL);
            if (!_local9){
                _local2.x = (_local2.x + _local7.x);
                _local2.y = _local7.y;
                _local10 = this._containerManager.container.localToGlobal(new Point(_local2.x, _local2.y));
                _local11 = this.globalToLocal(_local10);
                _local2.x = _local11.x;
                _local2.y = _local11.y;
            } else {
                _local2.x = (_local2.x + _local7.x);
                _local2.y = (_local2.y + _local7.y);
                _local10 = this._containerManager.container.localToGlobal(new Point(_local2.x, _local2.y));
                _local11 = this.globalToLocal(_local10);
                _local2.x = _local11.x;
                _local2.y = _local11.y;
            };
            return (_local2);
        }
        public function set paddingBottom(_arg1:Object):void{
            var n:* = NaN;
            var value:* = _arg1;
            if (this._containerManager.paddingBottom == value){
                return;
            };
            try {
                this._containerManager.paddingBottom = value;
            } catch(e:Error) {
                n = Number(value);
                if (isNaN(n)){
                    var _local4 = "auto";
                    value = _local4;
                    _containerManager.paddingBottom = _local4;
                } else {
                    if (n < -1000){
                        _local4 = -8000;
                        value = _local4;
                        _containerManager.paddingBottom = _local4;
                    } else {
                        if (n > 1000){
                            _local4 = 8000;
                            value = _local4;
                            _containerManager.paddingBottom = _local4;
                        } else {
                            _local4 = "auto";
                            value = _local4;
                            _containerManager.paddingBottom = _local4;
                        };
                    };
                };
            };
            if (this._paddingLock){
                this._containerManager.paddingLeft = value;
                this._containerManager.paddingTop = value;
                this._containerManager.paddingRight = value;
            };
            this.invalidate(INVALID_TEXT);
        }
        public function get type():String{
            var _local1:TLFTextField = this.firstField;
            return (((_local1) ? _local1._type : this._type));
        }
        public function replaceSelectedText(_arg1:String):void{
            if (((this.textFlow) && (!((this.textFlow.formatResolver == null))))){
                throw (new Error("This method cannot be used on a text field with a style sheet."));
            };
            var _local2:String = this.getEditingMode(this.textFlow.interactionManager);
            if (_local2 != EditingMode.READ_WRITE){
                this.switchToEditingMode(this.textFlow, EditingMode.READ_WRITE);
            };
            var _local3:EditManager = EditManager(this.textFlow.interactionManager);
            _local3.beginCompositeOperation();
            if (!_local3.hasSelection()){
                _local3.selectRange(int.MAX_VALUE, int.MAX_VALUE);
            };
            var _local4:Number = _local3.anchorPosition;
            this.insertWithParagraphs(_local3, _arg1);
            this._containerManager.update();
            if (this._defaultTextFormat != null){
                this.setTextFormat(this._defaultTextFormat, _local4, (_local4 + _arg1.length));
            };
            _local3.endCompositeOperation();
            this.invalidate(INVALID_TEXT);
            if (_local2 != EditingMode.READ_WRITE){
                this.switchToEditingMode(this.textFlow, _local2);
            };
        }
        public function get background():Boolean{
            return (this._background);
        }
        public function get alwaysShowSelection():Boolean{
            var _local1:TLFTextField = this.firstField;
            return (((_local1) ? _local1._alwaysShowSelection : this._alwaysShowSelection));
        }
        public function get sharpness():Number{
            return (0);
        }
        tlf_internal function invalidate(_arg1:uint):void{
            var type:* = _arg1;
            this._maxScrollVCached = false;
            this._invalidState = (this._invalidState | type);
            if (stage != null){
                try {
                    stage.addEventListener(Event.RENDER, this.repaint, false, 0, true);
                    stage.invalidate();
                } catch(se:SecurityError) {
                    addEventListener(Event.FRAME_CONSTRUCTED, repaint, false, 0, true);
                };
            } else {
                if (parent == null){
                    addEventListener(Event.ADDED, this.repaint, false, 0, true);
                } else {
                    addEventListener(Event.ADDED_TO_STAGE, this.repaint, false, 0, true);
                    addEventListener(Event.FRAME_CONSTRUCTED, this.repaint, false, 0, true);
                };
            };
        }
        tlf_internal function insertWithParagraphs(_arg1:EditManager, _arg2:String):void{
            var _local3:Array;
            var _local4:Number;
            var _local5:String;
            _arg2 = _arg2.replace(/\r/g, "");
            if (_arg2 == ""){
                _arg1.insertText("");
            } else {
                _local3 = _arg2.split("\n");
                _local4 = _arg1.absoluteStart;
                _local5 = _local3.shift();
                while (_local5 != null) {
                    if (_local5.length){
                        _arg1.insertText(_local5);
                    };
                    _local4 = (_local4 + _local5.length);
                    if ((((_local3.length > 0)) && (!(this._displayAsPassword)))){
                        _arg1.selectRange(_local4, _local4);
                        _arg1.splitParagraph();
                        _local4++;
                    };
                    _local5 = _local3.shift();
                };
            };
        }
        public function set borderColor(_arg1:uint):void{
            if (this._borderColor == _arg1){
                return;
            };
            this._borderColor = _arg1;
            if (this._borderColor > 0xFFFFFF){
                this._borderColor = 0xFFFFFF;
            };
            this.invalidate(INVALID_BORDER);
        }
        public function set columnGap(_arg1:Object):void{
            var n:* = NaN;
            var value:* = _arg1;
            if (this._containerManager.columnGap == value){
                return;
            };
            try {
                this._containerManager.columnGap = value;
            } catch(e:Error) {
                n = Number(value);
                if ((((n < 0)) || (isNaN(n)))){
                    _containerManager.columnGap = 0;
                } else {
                    if (n > 1000){
                        _containerManager.columnGap = 1000;
                    };
                };
            };
            this.invalidate(INVALID_TEXT);
        }
        public function set defaultTextFormat(_arg1:TextFormat):void{
            var _local2:TLFTextField;
            if (((((!(this.TCMUsesTextStringAndFormat)) && (this.textFlow))) && (!((this.textFlow.formatResolver == null))))){
                throw (new Error("This method cannot be used on a text field with a style sheet."));
            };
            if (this._defaultTextFormat == _arg1){
                return;
            };
            this._defaultTextFormat = _arg1;
            if (_arg1){
                if (this._defaultTextFormat.font == null){
                    this._defaultTextFormat.font = "Times New Roman";
                };
                _local2 = this.firstField;
                if (!_local2){
                    _local2 = this;
                };
                _local2._containerManager.hostFormat = createTextLayoutFormat(_arg1);
            };
        }
        public function get condenseWhite():Boolean{
            return (this._condenseWhite);
        }
        public function get displayAsPassword():Boolean{
            return (this._displayAsPassword);
        }
        public function setSelection(_arg1:int, _arg2:int):void{
            if (_arg1 < 0){
                _arg1 = 0;
            } else {
                if (_arg1 > (this._containerManager.textLength + 1)){
                    _arg1 = (this.length + 1);
                };
            };
            if (_arg2 < 0){
                _arg2 = 0;
            } else {
                if (_arg2 > (this._containerManager.textLength + 1)){
                    _arg2 = (this.length + 1);
                };
            };
            if (this.textFlow.interactionManager){
                this.textFlow.interactionManager.selectRange(_arg1, _arg2);
                this.invalidate(INVALID_TEXT);
            } else {
                this._priorSelectionBeginIndex = _arg1;
                this._priorSelectionEndIndex = _arg2;
            };
        }
        public function set useRichTextClipboard(_arg1:Boolean):void{
            this._useRichTextClipboard = _arg1;
        }
        public function set embedFonts(_arg1:Boolean):void{
            if (this.embedFonts == _arg1){
                return;
            };
            this._containerManager.embedFonts = _arg1;
            this.invalidate(INVALID_TEXT);
        }
        public function get columnCount():Object{
            return (this._containerManager.columnCount);
        }
        public function set multiline(_arg1:Boolean):void{
            this._multiline = _arg1;
            this.invalidate(INVALID_TEXT);
        }
        tlf_internal function removeTextFlowEventListeners():void{
            this._containerManager.removeListeners();
        }
        public function set mouseWheelEnabled(_arg1:Boolean):void{
            this._mouseWheelEnabled = _arg1;
        }
        public function appendText(_arg1:String):void{
            this._containerManager.appendText(_arg1);
        }
        public function set tlfMarkup(_arg1:String):void{
            if (_arg1 == ""){
                this.text = "";
                this.hostFormat = new TextLayoutFormat();
                return;
            };
            this.doImport(TextConverter.TEXT_LAYOUT_FORMAT, _arg1);
            this._tlfMarkup = this.tlfMarkup;
        }
        public function set paddingLeft(_arg1:Object):void{
            var n:* = NaN;
            var value:* = _arg1;
            if (this._containerManager.paddingLeft == value){
                return;
            };
            try {
                this._containerManager.paddingLeft = value;
            } catch(e:Error) {
                n = Number(value);
                if (isNaN(n)){
                    var _local4 = "auto";
                    value = _local4;
                    _containerManager.paddingLeft = _local4;
                } else {
                    if (n < -1000){
                        _local4 = -8000;
                        value = _local4;
                        _containerManager.paddingLeft = _local4;
                    } else {
                        if (n > 1000){
                            _local4 = 8000;
                            value = _local4;
                            _containerManager.paddingLeft = _local4;
                        } else {
                            _local4 = "auto";
                            value = _local4;
                            _containerManager.paddingLeft = _local4;
                        };
                    };
                };
            };
            if (this._paddingLock){
                this._containerManager.paddingTop = value;
                this._containerManager.paddingRight = value;
                this._containerManager.paddingBottom = value;
            };
            this.invalidate(INVALID_TEXT);
        }
        public function get thickness():Number{
            return (0);
        }
        public function getLineIndexAtPoint(_arg1:Number, _arg2:Number):int{
            return (this.getLineIndexOfChar(this.getCharIndexAtPoint(_arg1, _arg2)));
        }
        public function get htmlText():String{
            if (((!((this.textFlow.generation == this._htmlTextGenerationID))) || ((this._htmlText == "")))){
                this._htmlText = (TextConverter.export(this.textFlow, TextConverter.TEXT_FIELD_HTML_FORMAT, ConversionType.STRING_TYPE) as String);
                this._htmlTextGenerationID = this.textFlow.generation;
            };
            return (this._htmlText);
        }
        public function getTextFormat(_arg1:int=-1, _arg2:int=-1):TextFormat{
            if ((((((((_arg1 > this._containerManager.textLength)) || ((_arg1 < -1)))) || ((_arg2 > this._containerManager.textLength)))) || ((_arg2 < -1)))){
                throw (new RangeError("The beginIndex or endIndex specified is out of range."));
            };
            return (this._containerManager.getTextFormat(_arg1, _arg2));
        }
        tlf_internal function set hostFormat(_arg1:ITextLayoutFormat):void{
            this._containerManager.hostFormat = _arg1;
        }
        public function get direction():String{
            return (this._containerManager.direction);
        }
        public function get paddingTop():Object{
            return (this._containerManager.paddingTop);
        }
        public function set pixelScrollV(_arg1:int):void{
            var _local2:String = ((this.TCMUsesTextStringAndFormat) ? this.hostFormat.blockProgression : this.textFlow.computedFormat.blockProgression);
            if (_arg1 < 0){
                _arg1 = 0;
            } else {
                if (_arg1 > this.pixelMaxScrollV){
                    _arg1 = this.pixelMaxScrollV;
                };
            };
            if ((_local2 == BlockProgression.RL)){
                this._containerManager.horizontalScrollPosition = -(_arg1);
            } else {
                this._containerManager.verticalScrollPosition = _arg1;
            };
        }
        public function set restrict(_arg1:String):void{
            this._restrict = _arg1;
        }
        public function set gridFitType(_arg1:String):void{
            var _local2:TextLayoutFormat;
            if (this.gridFitType == _arg1){
                return;
            };
            if (((((!((_arg1 == GridFitType.NONE))) && (!((_arg1 == GridFitType.PIXEL))))) && (!((_arg1 == GridFitType.SUBPIXEL))))){
                _arg1 = GridFitType.PIXEL;
            };
            this._gridFitType = _arg1;
            if (this._invalidTextLayoutFormat == null){
                this._invalidTextLayoutFormat = new TextLayoutFormat();
            };
            this._invalidTextLayoutFormat.cffHinting = FormatValue.INHERIT;
            if (this.TCMUsesTextStringAndFormat){
                _local2 = ((this.hostFormat) ? TextLayoutFormat(this.hostFormat) : new TextLayoutFormat());
                _local2.cffHinting = (((_arg1 == GridFitType.NONE)) ? CFFHinting.NONE : CFFHinting.HORIZONTAL_STEM);
                this.hostFormat = _local2;
            } else {
                this.textFlow.cffHinting = ((_arg1)==GridFitType.NONE) ? CFFHinting.NONE : CFFHinting.HORIZONTAL_STEM;
            };
            this.invalidate(INVALID_TEXT);
        }
        override public function set width(_arg1:Number):void{
            if (_arg1 != this._containerManager.compositionWidth){
                this._containerManager.setCompositionSize(_arg1, this._containerManager.compositionHeight);
                this.invalidate(INVALID_DIMENSIONS);
            };
        }
        public function setTextFormat(_arg1:TextFormat, _arg2:int=-1, _arg3:int=-1):void{
            var _local6:TextLayoutFormat;
            if ((((((((_arg2 > this._containerManager.textLength)) || ((_arg2 < -1)))) || ((_arg3 > this._containerManager.textLength)))) || ((_arg3 < -1)))){
                throw (new RangeError("The beginIndex or endIndex specified is out of range."));
            };
            var _local4:TextLayoutFormat = new TextLayoutFormat();
            var _local5:TextLayoutFormat = new TextLayoutFormat();
            this._containerManager.setTextFormat(_arg1, _arg2, _arg3, _local4, _local5);
            if (this.canUseTCMForTextFlow(this.textFlow)){
                this._containerManager = this._containerManager.convert(SingleTextContainerManager);
                if ((((((_arg2 == -1)) || ((_arg2 == 0)))) && ((((_arg3 == -1)) || ((_arg3 == this._containerManager.textLength)))))){
                    _local6 = new TextLayoutFormat(this._containerManager.hostFormat);
                    _local6.concat(_local5);
                    _local6.concat(_local4);
                    this._containerManager.hostFormat = _local6;
                    this._containerManager.text = this.text;
                };
            };
            this.invalidate(INVALID_TEXT);
        }
        tlf_internal function textFlow_flowOperationBeginHandler(_arg1:FlowOperationEvent):void{
            var _local3:SelectionState;
            var _local4:int;
            var _local5:int;
            var _local6:int;
            var _local7:InsertTextOperation;
            var _local8:String;
            var _local9:SelectionState;
            var _local10:int;
            var _local11:RegExp;
            var _local12:int;
            var _local13:int;
            var _local14:FlowTextOperation;
            var _local2:FlowOperation = _arg1.operation;
            if ((((_local2 is SplitParagraphOperation)) && (!(this._multiline)))){
                _arg1.preventDefault();
                dispatchEvent(new Event("Enter"));
                return;
            };
            if ((_local2 is SplitParagraphOperation)){
                _local3 = (_local2 as SplitParagraphOperation).originalSelectionState;
                _local4 = ((_local3)==null) ? 0 : (_local3.absoluteEnd - _local3.absoluteStart);
                if (this.maxChars != 0){
                    _local5 = (this._containerManager.textLength - _local4);
                    _local6 = 1;
                    if ((_local5 + _local6) > this.maxChars){
                        _arg1.preventDefault();
                        return;
                    };
                };
            };
            if ((_local2 is InsertTextOperation)){
                _local7 = InsertTextOperation(_local2);
                _local8 = _local7.text;
                if (this._displayAsPassword){
                    _local11 = /\t/g;
                    _local8 = _local8.replace(_local11, "");
                };
                if (this._restrict != null){
                    _local8 = restrictChar(_local8, this.restrict);
                };
                _local9 = _local7.deleteSelectionState;
                _local10 = ((_local9)==null) ? 0 : (_local9.absoluteEnd - _local9.absoluteStart);
                if (this.maxChars != 0){
                    _local12 = (this._containerManager.textLength - _local10);
                    _local13 = _local8.length;
                    if ((_local12 + _local13) > this.maxChars){
                        _local8 = _local8.substr(0, (this.maxChars - _local12));
                    };
                };
                if (this._displayAsPassword){
                    if (_local10 > 0){
                        this._text = splice(this._text, _local9.absoluteStart, _local9.absoluteEnd, "");
                    };
                    this._text = splice(this._text, _local7.absoluteStart, _local7.absoluteEnd, _local8);
                    _local8 = repeat(this._passwordCharacter, _local8);
                };
                _local7.text = _local8;
            } else {
                if ((_local2 is PasteOperation)){
                } else {
                    if ((((_local2 is DeleteTextOperation)) || ((_local2 is CutOperation)))){
                        _local14 = FlowTextOperation(_local2);
                        if (_local14.absoluteStart == _local14.absoluteEnd){
                            _arg1.preventDefault();
                            return;
                        };
                        if (this._displayAsPassword){
                            this._text = splice(this._text, _local14.absoluteStart, _local14.absoluteEnd, "");
                        };
                    };
                };
            };
        }
        public function get controller():ContainerController{
            return (ContainerController(this._containerManager.controller));
        }
        tlf_internal function get pixelMinScrollV():int{
            return (0);
        }
        tlf_internal function set contentWidth(_arg1:Number):void{
            this._contentWidth = _arg1;
        }
        public function get paddingBottom():Object{
            return (this._containerManager.paddingBottom);
        }
        public function getLineOffset(_arg1:int):int{
            if ((((_arg1 < 0)) || ((_arg1 >= this.numLines)))){
                throw (new RangeError("The line number specified is out of range."));
            };
            var _local2:TextFlowLine = this.getValidTextFlowLine(_arg1);
            return (_local2.absoluteStart);
        }
        tlf_internal function addTextFlowEventListeners():void{
            this._containerManager.addListeners();
        }
        public function set backgroundColor(_arg1:uint):void{
            if (this._backgroundColor == _arg1){
                return;
            };
            if (_arg1 > 0xFFFFFF){
                _arg1 = 0xFFFFFF;
            };
            this._backgroundColor = _arg1;
            this.invalidate(INVALID_BORDER);
        }
        public function set maxChars(_arg1:int):void{
            if (_arg1 < 0){
                _arg1 = 0;
            };
            var _local2:TLFTextField = this.firstField;
            if (!_local2){
                _local2 = this;
            };
            _local2._maxChars = _arg1;
        }
        tlf_internal function set isPointText(_arg1:Boolean):void{
            if (this._isPointText == _arg1){
                return;
            };
            this._isPointText = _arg1;
            this._autoSize = ((_arg1) ? TextFieldAutoSize.LEFT : TextFieldAutoSize.NONE);
            this.invalidate(INVALID_AUTO_SIZE);
        }
        public function set backgroundAlpha(_arg1:Number):void{
            if (this._backgroundAlpha == _arg1){
                return;
            };
            this._backgroundAlpha = _arg1;
            if (this._backgroundAlpha < 0){
                this._backgroundAlpha = 0;
            } else {
                if (this._backgroundAlpha > 1){
                    this._backgroundAlpha = 1;
                };
            };
            this.invalidate(INVALID_BORDER);
        }
        private function doTypeSet(_arg1:TLFTextField):void{
            var _local4:SelectionFormat;
            var _local2:ISelectionManager = ((_arg1.TCMUsesTextStringAndFormat) ? null : _arg1.textFlow.interactionManager);
            if (_local2 != null){
                this._priorSelectionBeginIndex = _local2.absoluteStart;
                this._priorSelectionEndIndex = _local2.absoluteEnd;
            };
            var _local3:String = EditingMode.READ_ONLY;
            if (this.type == TextFieldType.INPUT){
                _local3 = EditingMode.READ_WRITE;
            } else {
                if (this.selectable){
                    _local3 = EditingMode.READ_SELECT;
                };
            };
            _arg1._containerManager.editModeNoInteraction = _local3;
            _local2 = ((_arg1.TCMUsesTextStringAndFormat) ? null : _arg1.textFlow.interactionManager);
            if (_local2 != null){
                this.setSelection(this._priorSelectionBeginIndex, this._priorSelectionEndIndex);
                if (_local2.focusedSelectionFormat != focusedSelectionFormat){
                    _local2.focusedSelectionFormat = focusedSelectionFormat;
                };
                if (_local2.inactiveSelectionFormat != inactiveSelectionFormat){
                    _local2.inactiveSelectionFormat = inactiveSelectionFormat;
                };
                _local4 = ((this.alwaysShowSelection) ? alwaysShowSelectionOnFormat : alwaysShowSelectionOffFormat);
                if (_local2.unfocusedSelectionFormat != _local4){
                    _local2.unfocusedSelectionFormat = _local4;
                };
            };
        }
        tlf_internal function get TCMUsesTextStringAndFormat():Boolean{
            return (this._containerManager.isTextStringAndFormat());
        }
        tlf_internal function get hostFormat():ITextLayoutFormat{
            return (this._containerManager.hostFormat);
        }
        public function get columnGap():Object{
            return (this._containerManager.columnGap);
        }
        public function get pixelScrollV():int{
            var _local1:String = ((this.TCMUsesTextStringAndFormat) ? this.hostFormat.blockProgression : this.textFlow.computedFormat.blockProgression);
            return ((((_local1 == BlockProgression.RL)) ? Math.abs(this._containerManager.horizontalScrollPosition) : Math.abs(this._containerManager.verticalScrollPosition)));
        }
        public function getParagraphLength(_arg1:int):int{
            var _local2:int;
            var _local3:TextFlowLine;
            if ((((_arg1 > this._containerManager.textLength)) || ((_arg1 < 0)))){
                throw (new RangeError("The character index specified is out of range."));
            };
            _local2 = -1;
            _local3 = this.getValidTextFlowLineFromCharIndex(_arg1);
            if (_local3){
                _local2 = _local3.paragraph.textLength;
            };
            return (_local2);
        }
        override public function get width():Number{
            this.repaint();
            return (super.width);
        }
        tlf_internal function get nextField():TLFTextField{
            var _local1:int;
            var _local2:TLFContainerController;
            if (((this.textFlow) && (this.textFlow.flowComposer))){
                _local1 = this.textFlow.flowComposer.getControllerIndex(this.controller);
                if ((_local1 + 1) < this.textFlow.flowComposer.numControllers){
                    _local2 = (this.textFlow.flowComposer.getControllerAt((_local1 + 1)) as TLFContainerController);
                    if (_local2){
                        return (_local2.ownerField);
                    };
                };
            };
            return (null);
        }
        tlf_internal function set inlineInfo(_arg1):void{
            this._inlineInfo = _arg1;
        }
        tlf_internal function set paddingLock(_arg1:Boolean):void{
            this._paddingLock = _arg1;
            if (this._paddingLock){
                this._containerManager.paddingTop = this.paddingLeft;
                this._containerManager.paddingRight = this.paddingLeft;
                this._containerManager.paddingBottom = this.paddingLeft;
                this.invalidate(INVALID_TEXT);
            };
        }
        public function getCharIndexAtPoint(_arg1:Number, _arg2:Number):int{
            var _local4:Point;
            var _local5:int;
            var _local6:Rectangle;
            var _local3:TextFlow = this._containerManager.textFlow;
            if (_local3){
                _local4 = globalToLocal(new Point(_arg1, _arg2));
                _local5 = SelectionManager.computeSelectionIndex(_local3, this, null, _local4.x, _local4.y);
                _local6 = this.getCharBoundaries(_local5);
                return (((_local6.containsPoint(_local4)) ? _local5 : (((_local5 > 0)) ? (_local5 - 1) : _local5)));
            };
            return (-1);
        }
        public function get paddingLeft():Object{
            return (this._containerManager.paddingLeft);
        }
        tlf_internal function linkClick(_arg1:FlowElementMouseEvent):void{
            var _local2:String = LinkElement(_arg1.flowElement).href;
            var _local3:int = _local2.search("event:");
            if (_local3 >= 0){
                _local2 = _local2.substring((_local3 + 6), ((_local2.length - _local3) + 5));
                dispatchEvent(new TextEvent(TextEvent.LINK, false, false, _local2));
            };
        }
        public function set blockProgression(_arg1:Object):void{
            this._containerManager.blockProgression = _arg1;
            this.invalidate(INVALID_TEXT);
        }
        public function get blockProgression():Object{
            return (this._containerManager.blockProgression);
        }
        public function getLineLength(_arg1:int):int{
            if ((((_arg1 < 0)) || ((_arg1 >= this.numLines)))){
                throw (new RangeError("The line number specified is out of range."));
            };
            var _local2:TextFlowLine = this.getValidTextFlowLine(_arg1);
            if (_local2){
                return ((_local2.textLength - 1));
            };
            return (0);
        }
        public function set borderWidth(_arg1:Number):void{
            if (this._borderWidth == _arg1){
                return;
            };
            this._borderWidth = _arg1;
            if (this._borderWidth < 1){
                this._borderWidth = 1;
            } else {
                if (this._borderWidth > 100){
                    this._borderWidth = 100;
                };
            };
            this.invalidate(INVALID_BORDER);
        }
        public function set textFlow(_arg1:TextFlow):void{
            var _local2:TextFlow = this._containerManager.textFlow;
            if (_arg1 == _local2){
                return;
            };
            this.invalidate(INVALID_ALL);
            if (_local2 != null){
                this.removeTextFlowEventListeners();
            };
            this._containerManager.textFlow = _arg1;
            if (this._containerManager.textFlow != null){
                this._wordWrap = (_arg1.computedFormat.lineBreak == LineBreak.TO_FIT);
                this.addTextFlowEventListeners();
            };
        }
        public function get textFlow():TextFlow{
            if (!this._containerManager.textFlow){
                this.text = "";
                this._containerManager.textFlow.lineBreak = ((this._wordWrap) ? LineBreak.TO_FIT : LineBreak.EXPLICIT);
            };
            return (this._containerManager.textFlow);
        }
        private function getValidTextFlowLine(_arg1:int):TextFlowLine{
            var _local2:TextFlowLine;
            if ((((_arg1 >= 0)) && ((_arg1 < this.numLines)))){
                _local2 = this.textFlow.flowComposer.getLineAt(_arg1);
            } else {
                throw (new RangeError("The line number specified is out of range."));
            };
            return (_local2);
        }

    }
    var _local1:* = (TextFlow.defaultConfiguration.manageTabKey = false);
    return (_local1);
}//package fl.text 
﻿package fl.text {
    import flash.display.*;
    import flash.text.engine.*;
    import flash.events.*;
    import flash.geom.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flash.text.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.compose.*;
    import fl.text.*;
    import flashx.textLayout.events.*;

    class SingleTextContainerManager extends CommonTextContainerManager implements IContainerManager {

        private static var _alwaysShowOffConfiguration:Configuration;
        private static var initConfiguration:Boolean = true;
        private static var _alwaysShowOnConfiguration:Configuration;

        private var _tcm:TLFTextContainerManager;

        public function SingleTextContainerManager(_arg1:Sprite, _arg2:TLFTextField, _arg3:ContainerController=null){
            _controller = _arg3;
            _container = _arg1;
            _ownerField = _arg2;
            if (initConfiguration){
                _alwaysShowOffConfiguration = Configuration(Configuration(TextContainerManager.defaultConfiguration).clone());
                _alwaysShowOffConfiguration.focusedSelectionFormat = TLFTextField.focusedSelectionFormat;
                _alwaysShowOffConfiguration.inactiveSelectionFormat = TLFTextField.inactiveSelectionFormat;
                _alwaysShowOffConfiguration.unfocusedSelectionFormat = TLFTextField.alwaysShowSelectionOffFormat;
                _alwaysShowOnConfiguration = Configuration(Configuration(TextContainerManager.defaultConfiguration).clone());
                _alwaysShowOnConfiguration.focusedSelectionFormat = TLFTextField.focusedSelectionFormat;
                _alwaysShowOnConfiguration.inactiveSelectionFormat = TLFTextField.inactiveSelectionFormat;
                _alwaysShowOnConfiguration.unfocusedSelectionFormat = TLFTextField.alwaysShowSelectionOnFormat;
                initConfiguration = false;
            };
            this._tcm = new TLFTextContainerManager(_container, ((_arg2._alwaysShowSelection) ? _alwaysShowOnConfiguration : _alwaysShowOffConfiguration));
            this.addListeners();
            this._tcm.compositionHeight = int.MAX_VALUE;
            this._tcm.compositionWidth = int.MAX_VALUE;
        }
        public function get contentHeight():Number{
            return (this._tcm.getContentBounds().height);
        }
        override public function get textFlow():TextFlow{
            var _local1:TextLayoutFormat = ((this.isTextStringAndFormat()) ? TextLayoutFormat(this.hostFormat) : null);
            this._tcm.convertToTextFlowWithComposer();
            this.ConvertHostFormatToController(_local1);
            return (this._tcm.getTextFlow());
        }
        override public function set direction(_arg1:String):void{
            var _local2:TextLayoutFormat;
            if (!this.isTextStringAndFormat()){
                super.direction = _arg1;
            } else {
                _local2 = ((this.hostFormat) ? TextLayoutFormat(this.hostFormat) : new TextLayoutFormat());
                switch (_arg1){
                    case Direction.LTR:
                    case Direction.RTL:
                    case FormatValue.INHERIT:
                        _local2.direction = _arg1;
                        break;
                    default:
                        _local2.direction = Direction.LTR;
                };
                this.hostFormat = _local2;
            };
        }
        override public function replaceText(_arg1:int, _arg2:int, _arg3:String):void{
            if (((this.isTextStringAndFormat()) && ((_arg3.search(/[\n\r]/g) == -1)))){
                _ownerField.text = ((this.text.slice(0, _arg1) + _arg3) + this.text.slice((_arg2 + 1)));
            } else {
                super.replaceText(_arg1, _arg2, _arg3);
            };
        }
        public function setCompositionSize(_arg1:Number, _arg2:Number):void{
            this._tcm.compositionWidth = _arg1;
            this._tcm.compositionHeight = _arg2;
            if (this.controller){
                this.controller.setCompositionSize(_arg1, _arg2);
            };
        }
        public function set paddingTop(_arg1:Object):void{
            var _local2:TextLayoutFormat = ((this._tcm.hostFormat) ? TextLayoutFormat(this._tcm.hostFormat) : new TextLayoutFormat());
            _local2.paddingTop = ((this.isTextStringAndFormat()) ? _arg1 : 0);
            this._tcm.hostFormat = _local2;
            if (!this.isTextStringAndFormat()){
                this.controller.paddingTop = _arg1;
            };
        }
        public function set paddingRight(_arg1:Object):void{
            var _local2:TextLayoutFormat = ((this._tcm.hostFormat) ? TextLayoutFormat(this._tcm.hostFormat) : new TextLayoutFormat());
            _local2.paddingRight = ((this.isTextStringAndFormat()) ? _arg1 : 0);
            this._tcm.hostFormat = _local2;
            if (!this.isTextStringAndFormat()){
                this.controller.paddingRight = _arg1;
            };
        }
        public function get numLines():int{
            return (this._tcm.getActualNumLines());
        }
        public function removeListeners():void{
            this._tcm.removeEventListener(TextLayoutEvent.SCROLL, _ownerField.textFlow_ScrollHandler);
            this._tcm.removeEventListener(MouseEvent.CLICK, _ownerField.linkClick);
            this._tcm.removeEventListener(FlowOperationEvent.FLOW_OPERATION_BEGIN, _ownerField.textFlow_flowOperationBeginHandler);
            this._tcm.removeEventListener(FlowOperationEvent.FLOW_OPERATION_END, _ownerField.textFlow_flowOperationEndHandler);
            this._tcm.removeEventListener(CompositionCompleteEvent.COMPOSITION_COMPLETE, _ownerField.composeComplete);
            this._tcm.removeEventListener(UpdateCompleteEvent.UPDATE_COMPLETE, _ownerField.updateComplete);
            _ownerField.removeEventListener(FocusEvent.FOCUS_IN, this._tcm.focusInHandler);
        }
        public function get contentTop():Number{
            return (this._tcm.getContentBounds().top);
        }
        override public function isTextStringAndFormat():Boolean{
            return ((((this._tcm.composeState == TextContainerManager.COMPOSE_FACTORY)) && ((this._tcm.sourceState == TextContainerManager.SOURCE_STRING))));
        }
        public function get contentLeft():Number{
            return (this._tcm.getContentBounds().left);
        }
        public function get columnWidth():Object{
            if (this._tcm.hostFormat == null){
                return (FormatValue.AUTO);
            };
            return ((((this._tcm.hostFormat.columnWidth == FormatValue.INHERIT)) ? FormatValue.AUTO : this._tcm.hostFormat.columnWidth));
        }
        public function get firstBaselineOffset():Object{
            if (this._tcm.hostFormat == null){
                return (VerticalAlign.TOP);
            };
            return ((((this._tcm.hostFormat.firstBaselineOffset == FormatValue.INHERIT)) ? FormatValue.AUTO : this._tcm.hostFormat.firstBaselineOffset));
        }
        public function get absoluteStart():int{
            return (0);
        }
        public function get verticalScrollPosition():Number{
            return (this._tcm.verticalScrollPosition);
        }
        public function get text():String{
            return (this._tcm.getText("\n"));
        }
        override public function get textColor():uint{
            if (!this.isTextStringAndFormat()){
                return (super.textColor);
            };
            if (this.hostFormat != null){
                return (uint(this.hostFormat.color));
            };
            return (0);
        }
        public function set paddingBottom(_arg1:Object):void{
            var _local2:TextLayoutFormat = ((this._tcm.hostFormat) ? TextLayoutFormat(this._tcm.hostFormat) : new TextLayoutFormat());
            _local2.paddingBottom = ((this.isTextStringAndFormat()) ? _arg1 : 0);
            this._tcm.hostFormat = _local2;
            if (!this.isTextStringAndFormat()){
                this.controller.paddingBottom = _arg1;
            };
        }
        public function set columnGap(_arg1:Object):void{
            var _local2:TextLayoutFormat = ((this._tcm.hostFormat) ? TextLayoutFormat(this._tcm.hostFormat) : new TextLayoutFormat());
            _local2.columnGap = _arg1;
            this._tcm.hostFormat = _local2;
        }
        public function set columnWidth(_arg1:Object):void{
            var _local2:TextLayoutFormat = ((this._tcm.hostFormat) ? TextLayoutFormat(this._tcm.hostFormat) : new TextLayoutFormat());
            _local2.columnWidth = _arg1;
            this._tcm.hostFormat = _local2;
        }
        public function get compositionWidth():Number{
            return (this._tcm.compositionWidth);
        }
        private function ConvertHostFormatToController(_arg1:TextLayoutFormat):void{
            if (!_arg1){
                return;
            };
            this.controller.paddingLeft = _arg1.paddingLeft;
            this.controller.paddingTop = _arg1.paddingTop;
            this.controller.paddingRight = _arg1.paddingRight;
            this.controller.paddingBottom = _arg1.paddingBottom;
            this.controller.verticalAlign = _arg1.verticalAlign;
            this.controller.columnCount = _arg1.columnCount;
            this.controller.columnGap = _arg1.columnGap;
            this.controller.columnWidth = _arg1.columnWidth;
        }
        public function get verticalAlign():Object{
            if (this._tcm.hostFormat == null){
                return (FormatValue.AUTO);
            };
            return (this._tcm.hostFormat.verticalAlign);
        }
        public function set verticalScrollPosition(_arg1:Number):void{
            this._tcm.verticalScrollPosition = _arg1;
        }
        override public function set text(_arg1:String):void{
            var _local2:TextLayoutFormat;
            if (_arg1.search(/[\r\n]/g) != -1){
                super.text = _arg1;
            } else {
                if (this.isTextStringAndFormat()){
                    _local2 = TextLayoutFormat(this.hostFormat);
                } else {
                    _local2 = TextLayoutFormat(this.textFlow.getFirstLeaf().computedFormat);
                    this.ConvertContainerValuesToHostFormat(_local2);
                };
                if (!_ownerField.displayAsPassword){
                    this._tcm.setText(_arg1);
                } else {
                    this._tcm.setText(TLFTextField.repeat(_ownerField.passwordCharacter, _arg1));
                };
                this.hostFormat = _local2;
            };
        }
        public function getLineIndexBounds(_arg1:int):Rectangle{
            var _local2:TextLine = this._tcm.getLineAt(_arg1);
            if (_local2 == null){
                return (new Rectangle());
            };
            return (TextFlowLine(_local2.userData).getBounds());
        }
        public function set verticalAlign(_arg1:Object):void{
            var _local2:TextLayoutFormat = ((this._tcm.hostFormat) ? TextLayoutFormat(this._tcm.hostFormat) : new TextLayoutFormat());
            _local2.verticalAlign = _arg1;
            this._tcm.hostFormat = _local2;
            if (this.controller){
                this.controller.verticalAlign = _arg1;
            };
        }
        public function get columnCount():Object{
            if (this._tcm.hostFormat == null){
                return (FormatValue.AUTO);
            };
            return ((((this._tcm.hostFormat.columnCount == FormatValue.INHERIT)) ? FormatValue.AUTO : this._tcm.hostFormat.columnCount));
        }
        override public function appendText(_arg1:String):void{
            if (((this.isTextStringAndFormat()) && ((_arg1.search(/[\n\r]/g) == -1)))){
                _ownerField.text = (this.text + _arg1);
            } else {
                super.appendText(_arg1);
            };
        }
        public function get horizontalScrollPosition():Number{
            return (this._tcm.horizontalScrollPosition);
        }
        override public function set textColor(_arg1:uint):void{
            var _local2:TextLayoutFormat;
            if (this.isTextStringAndFormat()){
                _local2 = ((this.hostFormat) ? TextLayoutFormat(this.hostFormat) : new TextLayoutFormat());
                _local2.color = _arg1;
                this.hostFormat = _local2;
            } else {
                super.textColor = _arg1;
            };
        }
        public function set paddingLeft(_arg1:Object):void{
            var _local2:TextLayoutFormat = ((this._tcm.hostFormat) ? TextLayoutFormat(this._tcm.hostFormat) : new TextLayoutFormat());
            _local2.paddingLeft = ((this.isTextStringAndFormat()) ? _arg1 : 0);
            this._tcm.hostFormat = _local2;
            if (!this.isTextStringAndFormat()){
                this.controller.paddingLeft = _arg1;
            };
        }
        public function get compositionHeight():Number{
            return (this._tcm.compositionHeight);
        }
        override public function get lineBreak():String{
            if (!this.isTextStringAndFormat()){
                return (super.lineBreak);
            };
            if (this.hostFormat){
                return (this.hostFormat.lineBreak);
            };
            return (LineBreak.EXPLICIT);
        }
        override public function get textLength():int{
            return (this._tcm.getText().length);
        }
        public function set hostFormat(_arg1:ITextLayoutFormat):void{
            this._tcm.hostFormat = _arg1;
            if (!this.isTextStringAndFormat()){
                this.textFlow.hostFormat = _arg1;
                this.ConvertHostFormatToController((_arg1 as TextLayoutFormat));
            };
        }
        public function get paddingTop():Object{
            if (!this.isTextStringAndFormat()){
                return (this.controller.paddingTop);
            };
            if (this._tcm.hostFormat == null){
                return (2);
            };
            return (this._tcm.hostFormat.paddingTop);
        }
        override public function getTextFormat(_arg1:int, _arg2:int):TextFormat{
            var _local7:Number;
            var _local8:String;
            var _local9:Number;
            var _local10:int;
            var _local11:int;
            var _local12:TabStopFormat;
            if (!this.isTextStringAndFormat()){
                return (super.getTextFormat(_arg1, _arg2));
            };
            var _local3:TextFormat = new TextFormat();
            var _local4:TextLayoutFormat = ((this.hostFormat) ? TextLayoutFormat(this.hostFormat) : new TextLayoutFormat());
            if ((((((((_local4.textAlign == TextFormatAlign.LEFT)) || ((_local4.textAlign == TextFormatAlign.CENTER)))) || ((_local4.textAlign == TextFormatAlign.RIGHT)))) || ((_local4.textAlign == TextFormatAlign.JUSTIFY)))){
                _local3.align = _local4.textAlign;
            };
            _local3.bold = (_local4.fontWeight == FontWeight.BOLD);
            _local3.color = _local4.color;
            var _local5:Array = String(_local4.fontFamily).split(",");
            _local3.font = _local5[0];
            _local3.indent = _local4.textIndent;
            _local3.italic = (_local4.fontStyle == FontPosture.ITALIC);
            _local3.kerning = (((_local4.kerning == Kerning.ON)) || ((_local4.kerning == Kerning.AUTO)));
            if ((((_local4.lineHeight == undefined)) || ((_local4.lineHeight < -720)))){
                _local3.leading = null;
            } else {
                _local7 = Number.NaN;
                _local8 = _local4.lineHeight;
                if (_local8){
                    if (_local8.indexOf("%") == -1){
                        _local7 = Number(_local8);
                    } else {
                        _local9 = _local4.fontSize;
                        _local7 = ((Number(_local8.replace(/%/, "")) * _local9) / 100);
                    };
                };
                if (!isNaN(_local7)){
                    _local3.leading = _local7;
                };
            };
            _local3.leftMargin = _local4.paragraphStartIndent;
            _local3.letterSpacing = _local4.trackingRight;
            _local3.rightMargin = _local4.paragraphEndIndent;
            _local3.size = _local4.fontSize;
            var _local6:Array = [];
            if (_local4.tabStops != null){
                _local10 = _local4.tabStops.length;
                _local11 = 0;
                while (_local11 < _local10) {
                    _local12 = _local4.tabStops[_local11];
                    if (_local12.alignment == TabAlignment.DECIMAL){
                        _local6.push(_local12.position);
                    };
                    _local11++;
                };
                _local6.sort(Array.NUMERIC);
            };
            _local3.tabStops = _local6;
            _local3.underline = (_local4.textDecoration == TextDecoration.UNDERLINE);
            return (_local3);
        }
        override public function setTextFormat(_arg1:TextFormat, _arg2:int, _arg3:int, _arg4:TextLayoutFormat, _arg5:TextLayoutFormat):void{
            var _local8:Array;
            var _local9:String;
            var _local10:TabStopFormat;
            if (((((((((!(this.isTextStringAndFormat())) || (!((_arg1.url == null))))) || (!((_arg1.target == null))))) || ((_arg2 > 0)))) || ((((_arg3 > 0)) && ((_arg3 < this.textLength)))))){
                super.setTextFormat(_arg1, _arg2, _arg3, _arg4, _arg5);
                return;
            };
            var _local6:TextLayoutFormat = new TextLayoutFormat();
            if (_arg1.align != null){
                if ((((((((_arg1.align == TextFormatAlign.CENTER)) || ((_arg1.align == TextFormatAlign.JUSTIFY)))) || ((_arg1.align == TextFormatAlign.LEFT)))) || ((_arg1.align == TextFormatAlign.RIGHT)))){
                    _local6.textAlign = _arg1.align;
                } else {
                    _local6.textAlign = TextFormatAlign.RIGHT;
                };
            };
            if (((!((_arg1.blockIndent == null))) && (!((_arg1.leftMargin == null))))){
                _local6.paragraphStartIndent = (_arg1.blockIndent + _arg1.leftMargin);
            } else {
                if (_arg1.blockIndent != null){
                    _local6.paragraphStartIndent = _arg1.blockIndent;
                } else {
                    if (_arg1.leftMargin != null){
                        _local6.paragraphStartIndent = _arg1.leftMargin;
                    };
                };
            };
            if (_arg1.indent != null){
                _local6.textIndent = _arg1.indent;
            };
            if (_arg1.leading != null){
                _local6.leadingModel = LeadingModel.APPROXIMATE_TEXT_FIELD;
                _local6.lineHeight = _arg1.leading;
            };
            if (_arg1.rightMargin != null){
                _local6.paragraphEndIndent = _arg1.rightMargin;
            };
            if (_arg1.tabStops != null){
                _local8 = new Array();
                _arg1.tabStops.sort(Array.NUMERIC);
                for each (_local9 in _arg1.tabStops) {
                    _local10 = new TabStopFormat();
                    _local10.alignment = TabAlignment.DECIMAL;
                    _local10.position = int(_local9);
                    _local8.push(_local10);
                };
                _local6.tabStops = _local8;
            };
            if (_arg1.bold != null){
                _local6.fontWeight = ((_arg1.bold) ? FontWeight.BOLD : FontWeight.NORMAL);
            };
            if (_arg1.color != null){
                _local6.color = _arg1.color;
            };
            if (_arg1.font != null){
                _local6.fontFamily = _arg1.font;
            };
            if (_arg1.italic != null){
                _local6.fontStyle = ((_arg1.italic) ? FontPosture.ITALIC : FontPosture.NORMAL);
            };
            if (_arg1.kerning != null){
                _local6.kerning = ((_arg1.kerning) ? Kerning.ON : Kerning.OFF);
            };
            if (_arg1.letterSpacing != null){
                _local6.trackingRight = _arg1.letterSpacing;
            };
            if (_arg1.size != null){
                _local6.fontSize = _arg1.size;
            };
            if (_arg1.underline != null){
                _local6.textDecoration = ((_arg1.underline) ? TextDecoration.UNDERLINE : TextDecoration.NONE);
            };
            var _local7:TextLayoutFormat = TextLayoutFormat(this.hostFormat);
            _local7.apply(_local6);
            this.hostFormat = _local7;
        }
        override public function get direction():String{
            if (!this.isTextStringAndFormat()){
                return (super.direction);
            };
            if (((this.hostFormat) && (this.hostFormat.direction))){
                return (this.hostFormat.direction);
            };
            return (Direction.LTR);
        }
        public function set editModeNoInteraction(_arg1:String):void{
            if (this._tcm.editingMode == _arg1){
                return;
            };
            if (_arg1 == EditingMode.READ_WRITE){
                this._tcm.editingMode = EditingMode.READ_WRITE;
            } else {
                if (_arg1 == EditingMode.READ_SELECT){
                    this._tcm.editingMode = EditingMode.READ_SELECT;
                } else {
                    this._tcm.editingMode = EditingMode.READ_ONLY;
                };
            };
        }
        override public function compose():void{
            this._tcm.compose();
            _ownerField.composeComplete(null);
        }
        public function set firstBaselineOffset(_arg1:Object):void{
            var _local2:TextLayoutFormat = ((this._tcm.hostFormat) ? TextLayoutFormat(this._tcm.hostFormat) : new TextLayoutFormat());
            _local2.firstBaselineOffset = _arg1;
            this._tcm.hostFormat = _local2;
            if (this.controller){
                this.controller.firstBaselineOffset = _arg1;
            };
        }
        public function set editMode(_arg1:String):void{
            if (this._tcm.editingMode == _arg1){
                return;
            };
            if (_arg1 == EditingMode.READ_WRITE){
                if (this._tcm.editingMode != EditingMode.READ_ONLY){
                    this._tcm.endInteraction();
                };
                this._tcm.editingMode = EditingMode.READ_WRITE;
                this._tcm.beginInteraction();
            } else {
                if (_arg1 == EditingMode.READ_SELECT){
                    if (this._tcm.editingMode != EditingMode.READ_ONLY){
                        this._tcm.endInteraction();
                    };
                    this._tcm.editingMode = EditingMode.READ_SELECT;
                    this._tcm.beginInteraction();
                } else {
                    this._tcm.editingMode = EditingMode.READ_ONLY;
                    this._tcm.endInteraction();
                };
            };
        }
        public function get controller():ContainerController{
            if (((this.isTextStringAndFormat()) || ((this._tcm.getTextFlow().flowComposer == null)))){
                return (null);
            };
            return ((((this._tcm.getTextFlow().flowComposer.numControllers > 0)) ? this._tcm.getTextFlow().flowComposer.getControllerAt(0) : null));
        }
        public function addListeners():void{
            this._tcm.addEventListener(TextLayoutEvent.SCROLL, _ownerField.textFlow_ScrollHandler, false, 0, true);
            this._tcm.addEventListener(MouseEvent.CLICK, _ownerField.linkClick, false, 0, true);
            this._tcm.addEventListener(FlowOperationEvent.FLOW_OPERATION_BEGIN, _ownerField.textFlow_flowOperationBeginHandler, false, 0, true);
            this._tcm.addEventListener(FlowOperationEvent.FLOW_OPERATION_END, _ownerField.textFlow_flowOperationEndHandler, false, 0, true);
            this._tcm.addEventListener(CompositionCompleteEvent.COMPOSITION_COMPLETE, _ownerField.composeComplete, false, 0, true);
            this._tcm.addEventListener(UpdateCompleteEvent.UPDATE_COMPLETE, _ownerField.updateComplete, false, 0, true);
            _ownerField.addEventListener(FocusEvent.FOCUS_IN, this._tcm.focusInHandler, false, 0, true);
        }
        override public function setFormatForAllElements(_arg1:FlowGroupElement, _arg2:TextLayoutFormat):void{
            var _local3:TextLayoutFormat;
            if (this.isTextStringAndFormat()){
                _local3 = ((this.hostFormat) ? TextLayoutFormat(this.hostFormat) : new TextLayoutFormat());
                _local3.apply(_arg2);
                this.hostFormat = _local3;
            } else {
                super.setFormatForAllElements(_arg1, _arg2);
            };
        }
        public function get columnGap():Object{
            if (this._tcm.hostFormat == null){
                return (20);
            };
            return ((((this._tcm.hostFormat.columnGap == FormatValue.INHERIT)) ? 20 : this._tcm.hostFormat.columnGap));
        }
        private function ConvertContainerValuesToHostFormat(_arg1:TextLayoutFormat):void{
            if (((!((_arg1 == null))) && (!((this.controller == null))))){
                _arg1.paddingLeft = this.controller.paddingLeft;
                _arg1.paddingTop = this.controller.paddingTop;
                _arg1.paddingRight = this.controller.paddingRight;
                _arg1.paddingBottom = this.controller.paddingBottom;
                _arg1.verticalAlign = this.controller.verticalAlign;
                _arg1.columnCount = this.controller.columnCount;
                _arg1.columnGap = this.controller.columnGap;
                _arg1.columnWidth = this.controller.columnWidth;
            };
        }
        public function get paddingRight():Object{
            if (!this.isTextStringAndFormat()){
                return (this.controller.paddingRight);
            };
            if (this._tcm.hostFormat == null){
                return (2);
            };
            return (this._tcm.hostFormat.paddingRight);
        }
        public function set columnCount(_arg1:Object):void{
            var _local2:TextLayoutFormat = ((this._tcm.hostFormat) ? TextLayoutFormat(this._tcm.hostFormat) : new TextLayoutFormat());
            _local2.columnCount = _arg1;
            this._tcm.hostFormat = _local2;
            if (this.controller){
                this.controller.columnCount = _arg1;
            };
        }
        public function convert(_arg1:Class):IContainerManager{
            var _local3:TextLayoutFormat;
            if ((this is _arg1)){
                return (this);
            };
            if (((((this.textFlow) && (this.textFlow.flowComposer))) && (!(this.textFlow.flowComposer.composing)))){
                this.update();
            };
            var _local2:MultiTextContainerManager = new MultiTextContainerManager(_container, _ownerField, _controller);
            _local2.textFlow = this.textFlow;
            _local2.editMode = this._tcm.editingMode;
            _local2.setCompositionSize(this.compositionWidth, this.compositionHeight);
            _local2.paddingBottom = this.paddingBottom;
            _local2.paddingLeft = this.paddingLeft;
            _local2.paddingRight = this.paddingRight;
            _local2.paddingTop = this.paddingTop;
            _local2.columnCount = this.columnCount;
            if (this.hostFormat){
                _local3 = (this.hostFormat as TextLayoutFormat);
                _local3.paddingBottom = 0;
                _local3.paddingLeft = 0;
                _local3.paddingRight = 0;
                _local3.paddingTop = 0;
                _local2.hostFormat = _local3;
            };
            _local2.columnGap = this.columnGap;
            _local2.columnWidth = this.columnWidth;
            _local2.firstBaselineOffset = this.firstBaselineOffset;
            _local2.verticalAlign = this.verticalAlign;
            _local2.horizontalScrollPosition = this.horizontalScrollPosition;
            _local2.verticalScrollPosition = this.verticalScrollPosition;
            _local2.direction = this.direction;
            this._tcm.convertToTextFlowWithComposer();
            if (this.textFlow){
                if (this.textFlow.flowComposer == null){
                    this.textFlow.flowComposer = new this.textFlow.configuration.flowComposerClass();
                };
                this.textFlow.flowComposer.removeAllControllers();
                this.textFlow.flowComposer.addController(_local2.controller);
            };
            _container.removeEventListener(MouseEvent.MOUSE_OVER, this._tcm.requiredMouseOverHandler);
            _container.removeEventListener(FocusEvent.FOCUS_IN, this._tcm.requiredFocusInHandler);
            _container.removeEventListener(MouseEvent.MOUSE_OVER, this._tcm.requiredMouseOverHandler);
            _container.removeEventListener(MouseEvent.MOUSE_DOWN, this._tcm.mouseDownHandler);
            _container.removeEventListener(MouseEvent.MOUSE_OUT, this._tcm.mouseOutHandler);
            _container.removeEventListener(MouseEvent.MOUSE_WHEEL, this._tcm.mouseWheelHandler);
            _container.removeEventListener("imeStartComposition", this._tcm.imeStartCompositionHandler);
            if (_container.contextMenu){
                _container.contextMenu.removeEventListener(ContextMenuEvent.MENU_SELECT, this._tcm.menuSelectHandler);
            };
            _container.removeEventListener(Event.SELECT_ALL, this._tcm.editHandler);
            this.removeListeners();
            _local2.addListeners();
            this._tcm = null;
            _ownerField = null;
            _container = null;
            return (_local2);
        }
        public function get antialiasType():String{
            if (this._tcm.hostFormat){
                return ((((this._tcm.hostFormat.renderingMode == RenderingMode.NORMAL)) ? AntiAliasType.NORMAL : AntiAliasType.ADVANCED));
            };
            return (AntiAliasType.NORMAL);
        }
        public function get paddingLeft():Object{
            if (!this.isTextStringAndFormat()){
                return (this.controller.paddingLeft);
            };
            if (this._tcm.hostFormat == null){
                return (2);
            };
            return (this._tcm.hostFormat.paddingLeft);
        }
        public function set horizontalScrollPosition(_arg1:Number):void{
            this._tcm.horizontalScrollPosition = _arg1;
        }
        public function get paddingBottom():Object{
            if (!this.isTextStringAndFormat()){
                return (this.controller.paddingBottom);
            };
            if (this._tcm.hostFormat == null){
                return (2);
            };
            return (this._tcm.hostFormat.paddingBottom);
        }
        override public function get hostFormat():ITextLayoutFormat{
            var _local1:TextLayoutFormat;
            if (this.isTextStringAndFormat()){
                _local1 = (this._tcm.hostFormat as TextLayoutFormat);
            } else {
                _local1 = (this._tcm.getTextFlow().hostFormat as TextLayoutFormat);
                this.ConvertContainerValuesToHostFormat(_local1);
            };
            return (_local1);
        }
        public function get contentWidth():Number{
            return (this._tcm.getContentBounds().width);
        }
        override public function update():void{
            this._tcm.updateContainer();
            _ownerField.composeComplete(null);
        }
        override public function get embedFonts():Boolean{
            if (!this.isTextStringAndFormat()){
                return (super.embedFonts);
            };
            if (this.hostFormat){
                return ((this.hostFormat.fontLookup == FontLookup.EMBEDDED_CFF));
            };
            return (false);
        }
        override public function set embedFonts(_arg1:Boolean):void{
            var _local2:TextLayoutFormat;
            if (!this.isTextStringAndFormat()){
                super.embedFonts = _arg1;
            } else {
                _local2 = ((this.hostFormat) ? TextLayoutFormat(this.hostFormat) : new TextLayoutFormat());
                _local2.fontLookup = ((_arg1) ? FontLookup.EMBEDDED_CFF : FontLookup.DEVICE);
                this.hostFormat = _local2;
            };
        }
        override public function set lineBreak(_arg1:String):void{
            var _local2:TextLayoutFormat;
            if (!this.isTextStringAndFormat()){
                super.lineBreak = _arg1;
            } else {
                _local2 = ((this.hostFormat) ? TextLayoutFormat(this.hostFormat) : new TextLayoutFormat());
                _local2.lineBreak = _arg1;
                this.hostFormat = _local2;
            };
        }
        public function set antialiasType(_arg1:String):void{
            var _local2:TextLayoutFormat = ((this._tcm.hostFormat) ? TextLayoutFormat(this._tcm.hostFormat) : new TextLayoutFormat());
            _local2.renderingMode = ((_arg1)==AntiAliasType.ADVANCED) ? RenderingMode.CFF : RenderingMode.NORMAL;
            this._tcm.hostFormat = _local2;
        }
        override public function set blockProgression(_arg1:Object):void{
            if (!this.isTextStringAndFormat()){
                super.blockProgression = _arg1;
                return;
            };
            var _local2:TextLayoutFormat = ((this.hostFormat) ? TextLayoutFormat(this.hostFormat) : new TextLayoutFormat());
            switch (_arg1){
                case BlockProgression.RL:
                case BlockProgression.TB:
                case FormatValue.INHERIT:
                    _local2.blockProgression = _arg1;
                    break;
                default:
                    _local2.blockProgression = BlockProgression.TB;
            };
            this.hostFormat = _local2;
        }
        override public function get blockProgression():Object{
            if (!this.isTextStringAndFormat()){
                return (super.blockProgression);
            };
            if (((this.hostFormat) && (this.hostFormat.blockProgression))){
                return (this.hostFormat.blockProgression);
            };
            return (BlockProgression.TB);
        }
        override public function set textFlow(_arg1:TextFlow):void{
            this._tcm.setTextFlow(_arg1);
        }

    }
}//package fl.text 
﻿package fl.text {
    import flash.text.engine.*;
    import flashx.textLayout.formats.*;
    import flash.text.*;
    import flashx.textLayout.elements.*;
    import fl.text.*;

    class CSSFormatResolver implements IFormatResolver {

        private static const textFieldToTLFStyleMap:Object = {
            leading:"lineHeight",
            letterSpacing:"trackingRight",
            marginLeft:"paragraphStartIndent",
            marginRight:"paragraphEndIndent"
        };
        private static const tlfToTextFieldStyleMap:Object = {
            lineHeight:"leading",
            trackingRight:"letterSpacing",
            paragraphStartIndent:"marginLeft",
            paragraphEndIndent:"marginRight"
        };

        private var _styleSheet:StyleSheet;

        public function CSSFormatResolver(_arg1:StyleSheet):void{
            this._styleSheet = _arg1;
        }
        public function getResolverForNewFlow(_arg1:TextFlow, _arg2:TextFlow):IFormatResolver{
            return (this);
        }
        public function invalidate(_arg1:Object):void{
        }
        public function resolveFormat(_arg1:Object):ITextLayoutFormat{
            var attr:* = null;
            var attrName:* = null;
            var elem:* = _arg1;
            if ((elem is FlowElement)){
                try {
                    if (elem.typeName){
                        switch (elem.typeName){
                            case "TextFlow":
                                attr = this.addStyleAttributes(attr, "body");
                                break;
                            default:
                                attr = this.addStyleAttributes(attr, String(elem.typeName));
                        };
                    };
                    if (elem.styleName != null){
                        attr = this.addStyleAttributes(attr, ("." + elem.styleName));
                    };
                } catch(e:Error) {
                    for (attrName in tlfToTextFieldStyleMap) {
                        e.message = String(e.message).replace(attrName, tlfToTextFieldStyleMap[attrName]);
                    };
                    trace(((("Error (CSS Style Name - " + elem.styleName) + "): ") + e.message));
                    return (null);
                };
            };
            return (attr);
        }
        public function invalidateAll(_arg1:TextFlow):void{
        }
        private function addStyleAttributes(_arg1:TextLayoutFormat, _arg2:String):TextLayoutFormat{
            var _local4:*;
            var _local5:Object;
            var _local6:String;
            var _local7:String;
            var _local3:Object = this._styleSheet.getStyle(_arg2);
            if (_local3 != null){
                for (_local4 in _local3) {
                    _local5 = _local3[_local4];
                    if (_arg1 == null){
                        _arg1 = new TextLayoutFormat();
                    };
                    if (textFieldToTLFStyleMap[_local4]){
                        _local6 = textFieldToTLFStyleMap[_local4];
                        _arg1[_local6] = _local5;
                    } else {
                        if ((((_local4 == "color")) || ((_local4 == "backgroundColor")))){
                            _local7 = String(_local5);
                            if (((_local7) && ((_local7.charAt(0) == "#")))){
                                _arg1[_local4] = ("0x" + _local7.substring(1));
                            };
                        } else {
                            if (_local4 == "display"){
                            } else {
                                if (_local4 == "kerning"){
                                    if (String(_local5).toLowerCase() == "true"){
                                        _arg1.kerning = Kerning.ON;
                                    } else {
                                        _arg1.kerning = Kerning.OFF;
                                    };
                                } else {
                                    if (String(_local4).toLowerCase() == "textdecoration"){
                                        if (String(_local5).toLowerCase() == "line-through"){
                                            _arg1.lineThrough = true;
                                        } else {
                                            _arg1[_local4] = _local5;
                                        };
                                    } else {
                                        _arg1[_local4] = _local5;
                                    };
                                };
                            };
                        };
                    };
                };
            };
            return (_arg1);
        }
        public function resolveUserFormat(_arg1:Object, _arg2:String){
            var attr:* = null;
            var attrName:* = null;
            var elem:* = _arg1;
            var userStyle:* = _arg2;
            var flowElem:* = (elem as FlowElement);
            if (flowElem){
                try {
                    if (flowElem.styleName){
                        attr = this.addStyleAttributes(null, ("." + flowElem.styleName));
                    } else {
                        if ((flowElem is LinkElement)){
                            if (userStyle == "linkNormalFormat"){
                                attr = this.addStyleAttributes(null, "a:link");
                            } else {
                                if (userStyle == "linkHoverFormat"){
                                    attr = this.addStyleAttributes(null, "a:hover");
                                } else {
                                    if (userStyle == "linkActiveFormat"){
                                        attr = this.addStyleAttributes(null, "a:active");
                                    };
                                };
                            };
                        } else {
                            attr = this.addStyleAttributes(null, userStyle);
                        };
                    };
                } catch(e:Error) {
                    for (attrName in tlfToTextFieldStyleMap) {
                        e.message = String(e.message).replace(attrName, tlfToTextFieldStyleMap[attrName]);
                    };
                    trace(((("Error (CSS Style Name - " + elem.styleName) + "): ") + e.message));
                    return (null);
                };
            };
            return (((attr)!=null) ? attr : undefined);
        }
        public function get styleSheet():StyleSheet{
            return (this._styleSheet);
        }

    }
}//package fl.text 
﻿package fl.text {
    import flash.display.*;
    import flash.text.engine.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flash.text.*;
    import flashx.textLayout.elements.*;
    import flashx.textLayout.edit.*;
    import flashx.textLayout.conversion.*;
    import fl.text.*;

    class CommonTextContainerManager {

        protected var _container:Sprite;
        protected var _controller:ContainerController;
        protected var _ownerField:TLFTextField;

        public function get container():Sprite{
            return (this._container);
        }
        public function setTextFormat(_arg1:TextFormat, _arg2:int, _arg3:int, _arg4:TextLayoutFormat, _arg5:TextLayoutFormat):void{
            var _local9:SelectionState;
            var _local10:Array;
            var _local11:String;
            var _local12:TabStopFormat;
            if (((this.textFlow) && (!((this.textFlow.formatResolver == null))))){
                throw (new Error("This method cannot be used on a text field with a style sheet."));
            };
            var _local6:SelectionState;
            if (_arg1.align != null){
                if ((((((((_arg1.align == TextFormatAlign.CENTER)) || ((_arg1.align == TextFormatAlign.JUSTIFY)))) || ((_arg1.align == TextFormatAlign.LEFT)))) || ((_arg1.align == TextFormatAlign.RIGHT)))){
                    _arg5.textAlign = _arg1.align;
                } else {
                    _arg5.textAlign = TextFormatAlign.RIGHT;
                };
            };
            if (((!((_arg1.blockIndent == null))) && (!((_arg1.leftMargin == null))))){
                _arg5.paragraphStartIndent = (_arg1.blockIndent + _arg1.leftMargin);
            } else {
                if (_arg1.blockIndent != null){
                    _arg5.paragraphStartIndent = _arg1.blockIndent;
                } else {
                    if (_arg1.leftMargin != null){
                        _arg5.paragraphStartIndent = _arg1.leftMargin;
                    };
                };
            };
            if (_arg1.indent != null){
                _arg5.textIndent = _arg1.indent;
            };
            if (_arg1.leading != null){
                _arg5.leadingModel = LeadingModel.APPROXIMATE_TEXT_FIELD;
                _arg4.lineHeight = _arg1.leading;
            };
            if (_arg1.rightMargin != null){
                _arg5.paragraphEndIndent = _arg1.rightMargin;
            };
            if (_arg1.tabStops != null){
                _local10 = new Array();
                _arg1.tabStops.sort(Array.NUMERIC);
                for each (_local11 in _arg1.tabStops) {
                    _local12 = new TabStopFormat();
                    _local12.alignment = TabAlignment.START;
                    _local12.position = int(_local11);
                    _local10.push(_local12);
                };
                _arg5.tabStops = _local10;
            };
            if (_arg1.bold != null){
                _arg4.fontWeight = ((_arg1.bold) ? FontWeight.BOLD : FontWeight.NORMAL);
            };
            if (_arg1.color != null){
                _arg4.color = _arg1.color;
            };
            if (_arg1.font != null){
                _arg4.fontFamily = _arg1.font;
            };
            if (_arg1.italic != null){
                _arg4.fontStyle = ((_arg1.italic) ? FontPosture.ITALIC : FontPosture.NORMAL);
            };
            if (_arg1.kerning != null){
                _arg4.kerning = ((_arg1.kerning) ? Kerning.ON : Kerning.OFF);
            };
            if (_arg1.letterSpacing != null){
                _arg4.trackingRight = _arg1.letterSpacing;
            };
            if (_arg1.size != null){
                _arg4.fontSize = _arg1.size;
            };
            if (_arg1.underline != null){
                _arg4.textDecoration = ((_arg1.underline) ? TextDecoration.UNDERLINE : TextDecoration.NONE);
            };
            var _local7:String = this._ownerField.getEditingMode(this.textFlow.interactionManager);
            if (((!((_local7 == EditingMode.READ_ONLY))) && (!((_local7 == null))))){
                if (this.textFlow.interactionManager.hasSelection()){
                    _local6 = this.textFlow.interactionManager.getSelectionState();
                };
            };
            if (_local7 != EditingMode.READ_WRITE){
                this._ownerField.switchToEditingMode(this.textFlow, EditingMode.READ_WRITE);
            };
            var _local8:EditManager = EditManager(this.textFlow.interactionManager);
            _local8.beginCompositeOperation();
            if ((((_arg2 < 0)) || ((_arg3 < 0)))){
                _local9 = new SelectionState(this.textFlow, this.textFlow.getAbsoluteStart(), this.textLength);
                _local8.applyLeafFormat(_arg4, _local9);
                _local8.applyParagraphFormat(_arg5, _local9);
                if (_arg1.url != null){
                    if (_arg1.url != ""){
                        _local8.applyLink(_arg1.url, _arg1.target, false, _local9);
                    } else {
                        _local8.applyLink("", _arg1.target, false, _local9);
                    };
                };
            } else {
                _local9 = new SelectionState(this.textFlow, _arg2, _arg3);
                _local8.applyLeafFormat(_arg4, _local9);
                _local8.applyParagraphFormat(_arg5, _local9);
                if (_arg1.url != null){
                    if (_arg1.url != null){
                        _local8.applyLink(_arg1.url, _arg1.target, false, _local9);
                    } else {
                        _local8.applyLink("", _arg1.target, false, _local9);
                    };
                };
            };
            _local8.endCompositeOperation();
            if (this.textFlow.interactionManager){
                if (_local6){
                    this.textFlow.interactionManager.selectRange(_local6.anchorPosition, _local6.activePosition);
                } else {
                    this.textFlow.interactionManager.selectRange(-1, -1);
                };
            };
            if (_local7 != EditingMode.READ_WRITE){
                this._ownerField.switchToEditingMode(this.textFlow, _local7);
            };
        }
        public function replaceText(_arg1:int, _arg2:int, _arg3:String):void{
            if (((((this.textFlow) && (!((this.textFlow.formatResolver == null))))) && ((((_arg1 > 0)) || ((_arg2 < length)))))){
                throw (new Error("This method cannot be used on a text field with a style sheet."));
            };
            this.compose();
            if (_arg1 < 0){
                _arg1 = 0;
            };
            var _local4:String = this._ownerField.getEditingMode(this.textFlow.interactionManager);
            this._ownerField.switchToEditingMode(this.textFlow, EditingMode.READ_WRITE);
            var _local5:EditManager = EditManager(this.textFlow.interactionManager);
            _local5.beginCompositeOperation();
            _local5.selectRange(_arg1, _arg2);
            this._ownerField.insertWithParagraphs(_local5, _arg3);
            _local5.endCompositeOperation();
            this.update();
            this._ownerField.switchToEditingMode(this.textFlow, _local4);
        }
        public function update():void{
        }
        public function get hostFormat():ITextLayoutFormat{
            return (null);
        }
        public function setFormatForAllElements(_arg1:FlowGroupElement, _arg2:TextLayoutFormat):void{
            var _local5:FlowElement;
            var _local6:TextLayoutFormat;
            var _local3:int = _arg1.numChildren;
            var _local4:int;
            while (_local4 < _local3) {
                _local5 = _arg1.getChildAt(_local4);
                if ((_local5 is FlowGroupElement)){
                    this.setFormatForAllElements(FlowGroupElement(_local5), _arg2);
                } else {
                    _local6 = new TextLayoutFormat(_local5.format);
                    _local6.apply(_arg2);
                    _local5.format = _local6;
                };
                _local4++;
            };
        }
        public function compose():void{
        }
        public function set lineBreak(_arg1:String):void{
            if (!this.textFlow){
                this.textFlow = new TextFlow();
            };
            this.textFlow.lineBreak = _arg1;
        }
        public function set text(_arg1:String):void{
            var _local3:FlowLeafElement;
            var _local2:TextFlow = ((this.isTextStringAndFormat()) ? null : this.textFlow);
            if (!_local2){
                this._ownerField.doImport(TextConverter.PLAIN_TEXT_FORMAT, _arg1);
            } else {
                _local3 = _local2.getFirstLeaf();
                if (_local3){
                    _local2.hostFormat = _local3.computedFormat;
                };
                this._ownerField.replaceText(0, this._ownerField.length, _arg1);
            };
        }
        public function set blockProgression(_arg1:Object):void{
            switch (_arg1){
                case BlockProgression.RL:
                case BlockProgression.TB:
                case FormatValue.INHERIT:
                    this.textFlow.blockProgression = _arg1;
                    break;
                default:
                    this.textFlow.blockProgression = BlockProgression.TB;
            };
        }
        public function set embedFonts(_arg1:Boolean):void{
            if (!this.textFlow){
                this.textFlow = new TextFlow();
            };
            this.textFlow.fontLookup = ((_arg1) ? FontLookup.EMBEDDED_CFF : FontLookup.DEVICE);
        }
        public function appendText(_arg1:String):void{
            var _local2:String;
            var _local4:SelectionState;
            if (!this.textFlow.interactionManager){
                _local2 = EditingMode.READ_ONLY;
            } else {
                _local2 = this.textFlow.interactionManager.editingMode;
                _local4 = null;
            };
            if (((!((_local2 == EditingMode.READ_ONLY))) && (!((_local2 == null))))){
                if (this.textFlow.interactionManager.hasSelection()){
                    _local4 = this.textFlow.interactionManager.getSelectionState();
                };
            };
            if (_local2 != EditingMode.READ_WRITE){
                this._ownerField.switchToEditingMode(this.textFlow, EditingMode.READ_WRITE);
            };
            var _local3:EditManager = EditManager(this.textFlow.interactionManager);
            _local3.selectRange(int.MAX_VALUE, int.MAX_VALUE);
            _local3.beginCompositeOperation();
            this._ownerField.insertWithParagraphs(_local3, _arg1);
            _local3.endCompositeOperation();
            this.update();
            if (this.textFlow.interactionManager){
                if (_local4){
                    this.textFlow.interactionManager.selectRange(_local4.anchorPosition, _local4.activePosition);
                } else {
                    this.textFlow.interactionManager.selectRange(-1, -1);
                };
            };
            if (((!((_local2 == EditingMode.READ_WRITE))) && (!((_local2 == null))))){
                this._ownerField.switchToEditingMode(this.textFlow, _local2);
            };
        }
        public function get embedFonts():Boolean{
            if (this.textFlow){
                return ((this.textFlow.fontLookup == FontLookup.EMBEDDED_CFF));
            };
            return (false);
        }
        public function set textColor(_arg1:uint):void{
            this.textFlow.color = _arg1;
            var _local2:TextLayoutFormat = new TextLayoutFormat();
            _local2.color = _arg1;
            this.setFormatForAllElements(this.textFlow, _local2);
        }
        public function isTextStringAndFormat():Boolean{
            return (false);
        }
        public function get blockProgression():Object{
            if (((this.textFlow) && (this.textFlow.computedFormat.blockProgression))){
                return (this.textFlow.computedFormat.blockProgression);
            };
            return (BlockProgression.TB);
        }
        public function get lineBreak():String{
            if (this.textFlow){
                return (this.textFlow.lineBreak);
            };
            return (LineBreak.EXPLICIT);
        }
        public function get textLength():int{
            return (0);
        }
        public function set textFlow(_arg1:TextFlow):void{
        }
        public function getTextFormat(_arg1:int, _arg2:int):TextFormat{
            var _local6:int;
            var _local7:int;
            var _local12:Array;
            var _local13:Number;
            var _local14:String;
            var _local15:Number;
            var _local16:Array;
            var _local17:int;
            var _local18:int;
            var _local19:TabStopFormat;
            var _local20:ElementRange;
            var _local21:FlowLeafElement;
            var _local22:LinkElement;
            var _local3:TextFormat = new TextFormat();
            var _local4:SelectionState;
            var _local5:String = this._ownerField.getEditingMode(this.textFlow.interactionManager);
            if (((!((_local5 == EditingMode.READ_ONLY))) && (!((_local5 == null))))){
                if (this.textFlow.interactionManager.hasSelection()){
                    _local4 = this.textFlow.interactionManager.getSelectionState();
                };
            } else {
                this._ownerField.switchToEditingMode(this.textFlow, EditingMode.READ_SELECT);
            };
            if (_arg1 < 0){
                _local6 = this.textFlow.getAbsoluteStart();
                _local7 = this.textLength;
            } else {
                if ((((_arg1 >= 0)) && ((_arg2 < 0)))){
                    _local6 = _arg1;
                    _local7 = _arg1;
                } else {
                    _local6 = _arg1;
                    _local7 = _arg2;
                };
            };
            this._ownerField.setSelection(_local6, _local7);
            var _local8:TextLayoutFormat = TextLayoutFormat(this.textFlow.interactionManager.getCommonCharacterFormat());
            var _local9:TextLayoutFormat = TextLayoutFormat(this.textFlow.interactionManager.getCommonParagraphFormat());
            if (_local4){
                this.textFlow.interactionManager.selectRange(_local4.anchorPosition, _local4.activePosition);
            } else {
                this.textFlow.interactionManager.selectRange(-1, -1);
            };
            if (_local5 == EditingMode.READ_ONLY){
                this._ownerField.switchToEditingMode(this.textFlow, _local5);
            };
            if ((((((((_local9.textAlign == TextFormatAlign.LEFT)) || ((_local9.textAlign == TextFormatAlign.CENTER)))) || ((_local9.textAlign == TextFormatAlign.RIGHT)))) || ((_local9.textAlign == TextFormatAlign.JUSTIFY)))){
                _local3.align = _local9.textAlign;
            } else {
                _local3.align = null;
            };
            if (_local8.fontWeight == undefined){
                _local3.bold = null;
            } else {
                _local3.bold = (_local8.fontWeight == FontWeight.BOLD);
            };
            _local3.color = _local8.color;
            if (_local8.fontFamily == undefined){
                _local3.font = null;
            } else {
                _local12 = String(_local8.fontFamily).split(",");
                _local3.font = _local12[0];
            };
            _local3.indent = _local9.textIndent;
            if (_local8.fontStyle == undefined){
                _local3.italic = null;
            } else {
                _local3.italic = (_local8.fontStyle == FontPosture.ITALIC);
            };
            if (_local8.kerning == undefined){
                _local3.kerning = null;
            } else {
                _local3.kerning = (((_local8.kerning == Kerning.ON)) || ((_local8.kerning == Kerning.AUTO)));
            };
            if ((((_local8.lineHeight == undefined)) || ((_local8.lineHeight < -720)))){
                _local3.leading = null;
            } else {
                _local13 = Number.NaN;
                _local14 = _local8.lineHeight;
                if (_local14){
                    if (_local14.indexOf("%") == -1){
                        _local13 = Number(_local14);
                    } else {
                        _local15 = this.textFlow.findLeaf(_local6).computedFormat.fontSize;
                        _local13 = ((Number(_local14.replace(/%/, "")) * _local15) / 100);
                    };
                };
                if (!isNaN(_local13)){
                    _local3.leading = _local13;
                };
            };
            _local3.leftMargin = _local9.paragraphStartIndent;
            _local3.letterSpacing = _local8.trackingRight;
            _local3.rightMargin = _local9.paragraphEndIndent;
            _local3.size = _local8.fontSize;
            if (_local9.tabStops == undefined){
                _local3.tabStops = null;
            } else {
                _local16 = [];
                if (_local9.tabStops != null){
                    _local17 = _local9.tabStops.length;
                    _local18 = 0;
                    while (_local18 < _local17) {
                        _local19 = _local9.tabStops[_local18];
                        if (_local19.alignment == TabAlignment.START){
                            _local16.push(_local19.position);
                        };
                        _local18++;
                    };
                    _local16.sort(Array.NUMERIC);
                };
                _local3.tabStops = _local16;
            };
            if (_local8.textDecoration == undefined){
                _local3.underline = null;
            } else {
                _local3.underline = (_local8.textDecoration == TextDecoration.UNDERLINE);
            };
            var _local10:String;
            var _local11:String;
            if (_local6 <= _local7){
                _local20 = ElementRange.createElementRange(this.textFlow, _local6, _local7);
                _local21 = _local20.firstLeaf;
                while (_local21) {
                    _local22 = (_local21.getParentByType(LinkElement) as LinkElement);
                    if (_local22 != null){
                        if (_local10 == null){
                            _local10 = _local22.href;
                        } else {
                            if (_local10 != _local22.href){
                                _local10 = "";
                            };
                        };
                        if (_local11 == null){
                            if (_local22.target == null){
                                _local11 = "";
                            } else {
                                _local11 = _local22.target;
                            };
                        } else {
                            if (_local11 != _local22.target){
                                _local11 = "";
                            };
                        };
                    } else {
                        _local10 = "";
                        _local11 = "";
                    };
                    if (_local21 == _local20.lastLeaf){
                        break;
                    };
                    _local21 = _local21.getNextLeaf();
                };
            };
            _local3.url = (((_local10 == "")) ? null : _local10);
            _local3.target = (((_local11 == "")) ? null : _local11);
            return (_local3);
        }
        public function get textFlow():TextFlow{
            return (null);
        }
        public function get textColor():uint{
            if (this.textFlow){
                return (uint(this.textFlow.getFirstLeaf().computedFormat.color));
            };
            return (0);
        }
        public function set direction(_arg1:String):void{
            switch (_arg1){
                case Direction.LTR:
                case Direction.RTL:
                case FormatValue.INHERIT:
                    break;
                default:
                    _arg1 = Direction.LTR;
            };
            var _local2:TextLayoutFormat = new TextLayoutFormat();
            _local2.direction = _arg1;
            var _local3:ParagraphElement = this.textFlow.getFirstLeaf().getParagraph();
            while (_local3) {
                _local3.direction = _arg1;
                _local3 = _local3.getNextParagraph();
            };
            this.textFlow.direction = _arg1;
        }
        public function get direction():String{
            if (this.textFlow.direction != null){
                return (this.textFlow.direction);
            };
            return (Direction.LTR);
        }

    }
}//package fl.text 
﻿package fl.text {
    import flash.display.*;
    import flash.geom.*;
    import flashx.textLayout.container.*;
    import flashx.textLayout.formats.*;
    import flash.text.*;
    import flashx.textLayout.elements.*;

    interface IContainerManager {

        function get contentHeight():Number;
        function get container():Sprite;
        function get paddingTop():Object;
        function set direction(_arg1:String):void;
        function setTextFormat(_arg1:TextFormat, _arg2:int, _arg3:int, _arg4:TextLayoutFormat, _arg5:TextLayoutFormat):void;
        function set editModeNoInteraction(_arg1:String):void;
        function setCompositionSize(_arg1:Number, _arg2:Number):void;
        function get paddingRight():Object;
        function setFormatForAllElements(_arg1:FlowGroupElement, _arg2:TextLayoutFormat):void;
        function replaceText(_arg1:int, _arg2:int, _arg3:String):void;
        function compose():void;
        function set paddingRight(_arg1:Object):void;
        function set paddingTop(_arg1:Object):void;
        function get numLines():int;
        function set editMode(_arg1:String):void;
        function removeListeners():void;
        function get controller():ContainerController;
        function addListeners():void;
        function get columnWidth():Object;
        function set columnWidth(_arg1:Object):void;
        function get paddingBottom():Object;
        function isTextStringAndFormat():Boolean;
        function get contentLeft():Number;
        function set firstBaselineOffset(_arg1:Object):void;
        function get firstBaselineOffset():Object;
        function get absoluteStart():int;
        function get verticalScrollPosition():Number;
        function get text():String;
        function get verticalAlign():Object;
        function set columnCount(_arg1:Object):void;
        function convert(_arg1:Class):IContainerManager;
        function get contentTop():Number;
        function get antialiasType():String;
        function get textColor():uint;
        function set paddingBottom(_arg1:Object):void;
        function get embedFonts():Boolean;
        function set horizontalScrollPosition(_arg1:Number):void;
        function get compositionWidth():Number;
        function set antialiasType(_arg1:String):void;
        function get paddingLeft():Object;
        function set columnGap(_arg1:Object):void;
        function get columnGap():Object;
        function get hostFormat():ITextLayoutFormat;
        function update():void;
        function get contentWidth():Number;
        function set lineBreak(_arg1:String):void;
        function set verticalScrollPosition(_arg1:Number):void;
        function get columnCount():Object;
        function set text(_arg1:String):void;
        function set blockProgression(_arg1:Object):void;
        function getLineIndexBounds(_arg1:int):Rectangle;
        function set verticalAlign(_arg1:Object):void;
        function get horizontalScrollPosition():Number;
        function set embedFonts(_arg1:Boolean):void;
        function appendText(_arg1:String):void;
        function get lineBreak():String;
        function set textColor(_arg1:uint):void;
        function get blockProgression():Object;
        function set paddingLeft(_arg1:Object):void;
        function get compositionHeight():Number;
        function get textLength():int;
        function set textFlow(_arg1:TextFlow):void;
        function getTextFormat(_arg1:int, _arg2:int):TextFormat;
        function get textFlow():TextFlow;
        function set hostFormat(_arg1:ITextLayoutFormat):void;
        function get direction():String;

    }
}//package fl.text 
﻿package fl.events {
    import flash.events.*;

    public class ScrollEvent extends Event {

        public static const SCROLL:String = "scroll";

        private var _direction:String;
        private var _delta:Number;
        private var _position:Number;

        public function ScrollEvent(_arg1:String, _arg2:Number, _arg3:Number){
            super(ScrollEvent.SCROLL, false, false);
            _direction = _arg1;
            _delta = _arg2;
            _position = _arg3;
        }
        public function get direction():String{
            return (_direction);
        }
        public function get delta():Number{
            return (_delta);
        }
        public function get position():Number{
            return (_position);
        }
        override public function toString():String{
            return (formatToString("ScrollEvent", "type", "bubbles", "cancelable", "direction", "delta", "position"));
        }
        override public function clone():Event{
            return (new ScrollEvent(_direction, _delta, _position));
        }

    }
}//package fl.events 
﻿package fl.events {
    import flash.events.*;

    public class ComponentEvent extends Event {

        public static const BUTTON_DOWN:String = "buttonDown";
        public static const LABEL_CHANGE:String = "labelChange";
        public static const HIDE:String = "hide";
        public static const SHOW:String = "show";
        public static const RESIZE:String = "resize";
        public static const MOVE:String = "move";
        public static const ENTER:String = "enter";

        public function ComponentEvent(_arg1:String, _arg2:Boolean=false, _arg3:Boolean=false){
            super(_arg1, _arg2, _arg3);
        }
        override public function toString():String{
            return (formatToString("ComponentEvent", "type", "bubbles", "cancelable"));
        }
        override public function clone():Event{
            return (new ComponentEvent(type, bubbles, cancelable));
        }

    }
}//package fl.events 
﻿package {
    import flash.display.*;

    public dynamic class ScrollThumb_Up_Dark extends MovieClip {

    }
}//package 
﻿package {
    import flash.display.*;

    public dynamic class TextArea_upSkin extends MovieClip {

    }
}//package 
﻿package {
    import flash.display.*;

    public dynamic class ScrollThumb_overSkin extends MovieClip {

    }
}//package 
﻿package flash.text.ime {

    public final class CompositionAttributeRange {

        public var relativeStart:int;
        public var relativeEnd:int;
        public var selected:Boolean;
        public var converted:Boolean;

        public function CompositionAttributeRange(_arg1:int, _arg2:int, _arg3:Boolean, _arg4:Boolean){
            this.relativeStart = _arg1;
            this.relativeEnd = _arg2;
            this.selected = _arg3;
            this.converted = _arg4;
        }
    }
}//package flash.text.ime 
﻿package flash.text.ime {
    import flash.geom.*;
    import __AS3__.vec.*;

    public interface IIMEClient {

        function updateComposition(_arg1:String, _arg2:Vector.<CompositionAttributeRange>, _arg3:int, _arg4:int):void;
        function confirmComposition(_arg1:String=null, _arg2:Boolean=false):void;
        function getTextBounds(_arg1:int, _arg2:int):Rectangle;
        function get compositionStartIndex():int;
        function get compositionEndIndex():int;
        function get verticalTextLayout():Boolean;
        function get selectionAnchorIndex():int;
        function get selectionActiveIndex():int;
        function selectRange(_arg1:int, _arg2:int):void;
        function getTextInRange(_arg1:int, _arg2:int):String;

    }
}//package flash.text.ime 
﻿package {
    import flash.display.*;

    public dynamic class ScrollThumb_downSkin extends MovieClip {

    }
}//package 
﻿package com.adobe.serialization.json {

    public class JSONToken {

        private var _value:Object;
        private var _type:int;

        public function JSONToken(_arg1:int=-1, _arg2:Object=null){
            this._type = _arg1;
            this._value = _arg2;
        }
        public function get value():Object{
            return (this._value);
        }
        public function get type():int{
            return (this._type);
        }
        public function set type(_arg1:int):void{
            this._type = _arg1;
        }
        public function set value(_arg1:Object):void{
            this._value = _arg1;
        }

    }
}//package com.adobe.serialization.json 
﻿package com.adobe.serialization.json {
    import flash.utils.*;

    public class JSONEncoder {

        private var jsonString:String;

        public function JSONEncoder(_arg1){
            this.jsonString = this.convertToString(_arg1);
        }
        private function escapeString(_arg1:String):String{
            var _local3:String;
            var _local6:String;
            var _local7:String;
            var _local2 = "";
            var _local4:Number = _arg1.length;
            var _local5:int;
            while (_local5 < _local4) {
                _local3 = _arg1.charAt(_local5);
                switch (_local3){
                    case "\"":
                        _local2 = (_local2 + "\\\"");
                        break;
                    case "\\":
                        _local2 = (_local2 + "\\\\");
                        break;
                    case "\b":
                        _local2 = (_local2 + "\\b");
                        break;
                    case "\f":
                        _local2 = (_local2 + "\\f");
                        break;
                    case "\n":
                        _local2 = (_local2 + "\\n");
                        break;
                    case "\r":
                        _local2 = (_local2 + "\\r");
                        break;
                    case "\t":
                        _local2 = (_local2 + "\\t");
                        break;
                    default:
                        if (_local3 < " "){
                            _local6 = _local3.charCodeAt(0).toString(16);
                            _local7 = (((_local6.length == 2)) ? "00" : "000");
                            _local2 = (_local2 + (("\\u" + _local7) + _local6));
                        } else {
                            _local2 = (_local2 + _local3);
                        };
                };
                _local5++;
            };
            return ((("\"" + _local2) + "\""));
        }
        private function arrayToString(_arg1:Array):String{
            var _local2 = "";
            var _local3:int;
            while (_local3 < _arg1.length) {
                if (_local2.length > 0){
                    _local2 = (_local2 + ",");
                };
                _local2 = (_local2 + this.convertToString(_arg1[_local3]));
                _local3++;
            };
            return ((("[" + _local2) + "]"));
        }
        public function getString():String{
            return (this.jsonString);
        }
        private function objectToString(_arg1:Object):String{
            var value:* = null;
            var key:* = null;
            var v:* = null;
            var o:* = _arg1;
            var s:* = "";
            var classInfo:* = describeType(o);
            if (classInfo.@name.toString() == "Object"){
                for (key in o) {
                    value = o[key];
                    if ((value is Function)){
                    } else {
                        if (s.length > 0){
                            s = (s + ",");
                        };
                        s = (s + ((this.escapeString(key) + ":") + this.convertToString(value)));
                    };
                };
            } else {
                for each (v in classInfo..*.(((name() == "variable")) || ((((name() == "accessor")) && ((attribute("access").charAt(0) == "r")))))) {
                    if (((v.metadata) && ((v.metadata.(@name == "Transient").length() > 0)))){
                    } else {
                        if (s.length > 0){
                            s = (s + ",");
                        };
                        s = (s + ((this.escapeString(v.@name.toString()) + ":") + this.convertToString(o[v.@name])));
                    };
                };
            };
            return ((("{" + s) + "}"));
        }
        private function convertToString(_arg1):String{
            if ((_arg1 is String)){
                return (this.escapeString((_arg1 as String)));
            };
            if ((_arg1 is Number)){
                return (((isFinite((_arg1 as Number))) ? _arg1.toString() : "null"));
            };
            if ((_arg1 is Boolean)){
                return (((_arg1) ? "true" : "false"));
            };
            if ((_arg1 is Array)){
                return (this.arrayToString((_arg1 as Array)));
            };
            if ((((_arg1 is Object)) && (!((_arg1 == null))))){
                return (this.objectToString(_arg1));
            };
            return ("null");
        }

    }
}//package com.adobe.serialization.json 
﻿package com.adobe.serialization.json {

    public class JSONParseError extends Error {

        private var _location:int;
        private var _text:String;

        public function JSONParseError(_arg1:String="", _arg2:int=0, _arg3:String=""){
            super(_arg1);
            name = "JSONParseError";
            this._location = _arg2;
            this._text = _arg3;
        }
        public function get location():int{
            return (this._location);
        }
        public function get text():String{
            return (this._text);
        }

    }
}//package com.adobe.serialization.json 
﻿package com.adobe.serialization.json {

    public class JSONTokenizer {

        private var ch:String;
        private var loc:int;
        private var jsonString:String;
        private var strict:Boolean;
        private var controlCharsRegExp:RegExp;
        private var obj:Object;

        public function JSONTokenizer(_arg1:String, _arg2:Boolean){
            this.controlCharsRegExp = /[\x00-\x1F]/;
            super();
            this.jsonString = _arg1;
            this.strict = _arg2;
            this.loc = 0;
            this.nextChar();
        }
        private function skipComments():void{
            if (this.ch == "/"){
                this.nextChar();
                switch (this.ch){
                    case "/":
                        do  {
                            this.nextChar();
                        } while (((!((this.ch == "\n"))) && (!((this.ch == "")))));
                        this.nextChar();
                        break;
                    case "*":
                        this.nextChar();
                        while (true) {
                            if (this.ch == "*"){
                                this.nextChar();
                                if (this.ch == "/"){
                                    this.nextChar();
                                    break;
                                };
                            } else {
                                this.nextChar();
                            };
                            if (this.ch == ""){
                                this.parseError("Multi-line comment not closed");
                            };
                        };
                        break;
                    default:
                        this.parseError((("Unexpected " + this.ch) + " encountered (expecting '/' or '*' )"));
                };
            };
        }
        private function isDigit(_arg1:String):Boolean{
            return ((((_arg1 >= "0")) && ((_arg1 <= "9"))));
        }
        private function readNumber():JSONToken{
            var _local3:JSONToken;
            var _local1 = "";
            if (this.ch == "-"){
                _local1 = (_local1 + "-");
                this.nextChar();
            };
            if (!this.isDigit(this.ch)){
                this.parseError("Expecting a digit");
            };
            if (this.ch == "0"){
                _local1 = (_local1 + this.ch);
                this.nextChar();
                if (this.isDigit(this.ch)){
                    this.parseError("A digit cannot immediately follow 0");
                } else {
                    if (((!(this.strict)) && ((this.ch == "x")))){
                        _local1 = (_local1 + this.ch);
                        this.nextChar();
                        if (this.isHexDigit(this.ch)){
                            _local1 = (_local1 + this.ch);
                            this.nextChar();
                        } else {
                            this.parseError("Number in hex format require at least one hex digit after \"0x\"");
                        };
                        while (this.isHexDigit(this.ch)) {
                            _local1 = (_local1 + this.ch);
                            this.nextChar();
                        };
                    };
                };
            } else {
                while (this.isDigit(this.ch)) {
                    _local1 = (_local1 + this.ch);
                    this.nextChar();
                };
            };
            if (this.ch == "."){
                _local1 = (_local1 + ".");
                this.nextChar();
                if (!this.isDigit(this.ch)){
                    this.parseError("Expecting a digit");
                };
                while (this.isDigit(this.ch)) {
                    _local1 = (_local1 + this.ch);
                    this.nextChar();
                };
            };
            if ((((this.ch == "e")) || ((this.ch == "E")))){
                _local1 = (_local1 + "e");
                this.nextChar();
                if ((((this.ch == "+")) || ((this.ch == "-")))){
                    _local1 = (_local1 + this.ch);
                    this.nextChar();
                };
                if (!this.isDigit(this.ch)){
                    this.parseError("Scientific notation number needs exponent value");
                };
                while (this.isDigit(this.ch)) {
                    _local1 = (_local1 + this.ch);
                    this.nextChar();
                };
            };
            var _local2:Number = Number(_local1);
            if (((isFinite(_local2)) && (!(isNaN(_local2))))){
                _local3 = new JSONToken();
                _local3.type = JSONTokenType.NUMBER;
                _local3.value = _local2;
                return (_local3);
            };
            this.parseError((("Number " + _local2) + " is not valid!"));
            return (null);
        }
        public function unescapeString(_arg1:String):String{
            var _local6:*;
            var _local7:*;
            var _local8:*;
            var _local9:*;
            var _local10:*;
            if (((this.strict) && (this.controlCharsRegExp.test(_arg1)))){
                this.parseError("String contains unescaped control character (0x00-0x1F)");
            };
            var _local2 = "";
            var _local3:int;
            var _local4:int;
            var _local5:int = _arg1.length;
            do  {
                _local3 = _arg1.indexOf("\\", _local4);
                if (_local3 >= 0){
                    _local2 = (_local2 + _arg1.substr(_local4, (_local3 - _local4)));
                    _local4 = (_local3 + 2);
                    _local6 = (_local3 + 1);
                    _local7 = _arg1.charAt(_local6);
                    switch (_local7){
                        case "\"":
                            _local2 = (_local2 + "\"");
                            break;
                        case "\\":
                            _local2 = (_local2 + "\\");
                            break;
                        case "n":
                            _local2 = (_local2 + "\n");
                            break;
                        case "r":
                            _local2 = (_local2 + "\r");
                            break;
                        case "t":
                            _local2 = (_local2 + "\t");
                            break;
                        case "u":
                            _local8 = "";
                            if ((_local4 + 4) > _local5){
                                this.parseError("Unexpected end of input.  Expecting 4 hex digits after \\u.");
                            };
                            _local9 = _local4;
                            while (_local9 < (_local4 + 4)) {
                                _local10 = _arg1.charAt(_local9);
                                if (!this.isHexDigit(_local10)){
                                    this.parseError(("Excepted a hex digit, but found: " + _local10));
                                };
                                _local8 = (_local8 + _local10);
                                _local9++;
                            };
                            _local2 = (_local2 + String.fromCharCode(parseInt(_local8, 16)));
                            _local4 = (_local4 + 4);
                            break;
                        case "f":
                            _local2 = (_local2 + "\f");
                            break;
                        case "/":
                            _local2 = (_local2 + "/");
                            break;
                        case "b":
                            _local2 = (_local2 + "\b");
                            break;
                        default:
                            _local2 = (_local2 + ("\\" + _local7));
                    };
                } else {
                    _local2 = (_local2 + _arg1.substr(_local4));
                    break;
                };
            } while (_local4 < _local5);
            return (_local2);
        }
        private function skipWhite():void{
            while (this.isWhiteSpace(this.ch)) {
                this.nextChar();
            };
        }
        private function isWhiteSpace(_arg1:String):Boolean{
            if ((((((((_arg1 == " ")) || ((_arg1 == "\t")))) || ((_arg1 == "\n")))) || ((_arg1 == "\r")))){
                return (true);
            };
            if (((!(this.strict)) && ((_arg1.charCodeAt(0) == 160)))){
                return (true);
            };
            return (false);
        }
        public function parseError(_arg1:String):void{
            throw (new JSONParseError(_arg1, this.loc, this.jsonString));
        }
        private function readString():JSONToken{
            var _local3:*;
            var _local4:*;
            var _local1:int = this.loc;
            do  {
                _local1 = this.jsonString.indexOf("\"", _local1);
                if (_local1 >= 0){
                    _local3 = 0;
                    _local4 = (_local1 - 1);
                    while (this.jsonString.charAt(_local4) == "\\") {
                        _local3++;
                        _local4--;
                    };
                    if ((_local3 % 2) == 0){
                        break;
                    };
                    _local1++;
                } else {
                    this.parseError("Unterminated string literal");
                };
            } while (true);
            var _local2:JSONToken = new JSONToken();
            _local2.type = JSONTokenType.STRING;
            _local2.value = this.unescapeString(this.jsonString.substr(this.loc, (_local1 - this.loc)));
            this.loc = (_local1 + 1);
            this.nextChar();
            return (_local2);
        }
        private function nextChar():String{
            return ((this.ch = this.jsonString.charAt(this.loc++)));
        }
        private function skipIgnored():void{
            var _local1:int;
            do  {
                _local1 = this.loc;
                this.skipWhite();
                this.skipComments();
            } while (_local1 != this.loc);
        }
        private function isHexDigit(_arg1:String):Boolean{
            return (((((this.isDigit(_arg1)) || ((((_arg1 >= "A")) && ((_arg1 <= "F")))))) || ((((_arg1 >= "a")) && ((_arg1 <= "f"))))));
        }
        public function getNextToken():JSONToken{
            var _local2:String;
            var _local3:String;
            var _local4:String;
            var _local5:String;
            var _local1:JSONToken = new JSONToken();
            this.skipIgnored();
            switch (this.ch){
                case "{":
                    _local1.type = JSONTokenType.LEFT_BRACE;
                    _local1.value = "{";
                    this.nextChar();
                    break;
                case "}":
                    _local1.type = JSONTokenType.RIGHT_BRACE;
                    _local1.value = "}";
                    this.nextChar();
                    break;
                case "[":
                    _local1.type = JSONTokenType.LEFT_BRACKET;
                    _local1.value = "[";
                    this.nextChar();
                    break;
                case "]":
                    _local1.type = JSONTokenType.RIGHT_BRACKET;
                    _local1.value = "]";
                    this.nextChar();
                    break;
                case ",":
                    _local1.type = JSONTokenType.COMMA;
                    _local1.value = ",";
                    this.nextChar();
                    break;
                case ":":
                    _local1.type = JSONTokenType.COLON;
                    _local1.value = ":";
                    this.nextChar();
                    break;
                case "t":
                    _local2 = ((("t" + this.nextChar()) + this.nextChar()) + this.nextChar());
                    if (_local2 == "true"){
                        _local1.type = JSONTokenType.TRUE;
                        _local1.value = true;
                        this.nextChar();
                    } else {
                        this.parseError(("Expecting 'true' but found " + _local2));
                    };
                    break;
                case "f":
                    _local3 = (((("f" + this.nextChar()) + this.nextChar()) + this.nextChar()) + this.nextChar());
                    if (_local3 == "false"){
                        _local1.type = JSONTokenType.FALSE;
                        _local1.value = false;
                        this.nextChar();
                    } else {
                        this.parseError(("Expecting 'false' but found " + _local3));
                    };
                    break;
                case "n":
                    _local4 = ((("n" + this.nextChar()) + this.nextChar()) + this.nextChar());
                    if (_local4 == "null"){
                        _local1.type = JSONTokenType.NULL;
                        _local1.value = null;
                        this.nextChar();
                    } else {
                        this.parseError(("Expecting 'null' but found " + _local4));
                    };
                    break;
                case "N":
                    _local5 = (("N" + this.nextChar()) + this.nextChar());
                    if (_local5 == "NaN"){
                        _local1.type = JSONTokenType.NAN;
                        _local1.value = NaN;
                        this.nextChar();
                    } else {
                        this.parseError(("Expecting 'NaN' but found " + _local5));
                    };
                    break;
                case "\"":
                    _local1 = this.readString();
                    break;
                default:
                    if (((this.isDigit(this.ch)) || ((this.ch == "-")))){
                        _local1 = this.readNumber();
                    } else {
                        if (this.ch == ""){
                            return (null);
                        };
                        this.parseError((("Unexpected " + this.ch) + " encountered"));
                    };
            };
            return (_local1);
        }

    }
}//package com.adobe.serialization.json 
﻿package com.adobe.serialization.json {

    public class JSONTokenType {

        public static const FALSE:int = 8;
        public static const RIGHT_BRACKET:int = 4;
        public static const NULL:int = 9;
        public static const NUMBER:int = 11;
        public static const TRUE:int = 7;
        public static const RIGHT_BRACE:int = 2;
        public static const STRING:int = 10;
        public static const LEFT_BRACKET:int = 3;
        public static const LEFT_BRACE:int = 1;
        public static const UNKNOWN:int = -1;
        public static const COMMA:int = 0;
        public static const NAN:int = 12;
        public static const COLON:int = 6;

    }
}//package com.adobe.serialization.json 
﻿package com.adobe.serialization.json {

    public class JSONDecoder {

        private var strict:Boolean;
        private var value;
        private var tokenizer:JSONTokenizer;
        private var token:JSONToken;

        public function JSONDecoder(_arg1:String, _arg2:Boolean){
            this.strict = _arg2;
            this.tokenizer = new JSONTokenizer(_arg1, _arg2);
            this.nextToken();
            this.value = this.parseValue();
            if (((_arg2) && (!((this.nextToken() == null))))){
                this.tokenizer.parseError("Unexpected characters left in input stream");
            };
        }
        private function nextToken():JSONToken{
            return ((this.token = this.tokenizer.getNextToken()));
        }
        private function parseObject():Object{
            var _local2:String;
            var _local1:Object = new Object();
            this.nextToken();
            if (this.token.type == JSONTokenType.RIGHT_BRACE){
                return (_local1);
            };
            if (((!(this.strict)) && ((this.token.type == JSONTokenType.COMMA)))){
                this.nextToken();
                if (this.token.type == JSONTokenType.RIGHT_BRACE){
                    return (_local1);
                };
                this.tokenizer.parseError(("Leading commas are not supported.  Expecting '}' but found " + this.token.value));
            };
            if (this.token.type == JSONTokenType.STRING){
                _local2 = String(this.token.value);
                this.nextToken();
                if (this.token.type == JSONTokenType.COLON){
                    this.nextToken();
                    _local1[_local2] = this.parseValue();
                    this.nextToken();
                    if (this.token.type == JSONTokenType.RIGHT_BRACE){
                        return (_local1);
                    };
                    if (this.token.type == JSONTokenType.COMMA){
                        this.nextToken();
                        if (!this.strict){
                            if (this.token.type == JSONTokenType.RIGHT_BRACE){
                                return (_local1);
                            };
                        };
                    } else {
                        this.tokenizer.parseError(("Expecting } or , but found " + this.token.value));
                    };
                } else {
                    this.tokenizer.parseError(("Expecting : but found " + this.token.value));
                };
            } else {
                this.tokenizer.parseError(("Expecting string but found " + this.token.value));
            };
            //unresolved jump
        }
        private function parseArray():Array{
            var _local1:Array = new Array();
            this.nextToken();
            if (this.token.type == JSONTokenType.RIGHT_BRACKET){
                return (_local1);
            };
            if (((!(this.strict)) && ((this.token.type == JSONTokenType.COMMA)))){
                this.nextToken();
                if (this.token.type == JSONTokenType.RIGHT_BRACKET){
                    return (_local1);
                };
                this.tokenizer.parseError(("Leading commas are not supported.  Expecting ']' but found " + this.token.value));
            };
            _local1.push(this.parseValue());
            this.nextToken();
            if (this.token.type == JSONTokenType.RIGHT_BRACKET){
                return (_local1);
            };
            if (this.token.type == JSONTokenType.COMMA){
                this.nextToken();
                if (!this.strict){
                    if (this.token.type == JSONTokenType.RIGHT_BRACKET){
                        return (_local1);
                    };
                };
            } else {
                this.tokenizer.parseError(("Expecting ] or , but found " + this.token.value));
            };
            //unresolved jump
        }
        public function getValue(){
            return (this.value);
        }
        private function parseValue():Object{
            if (this.token == null){
                this.tokenizer.parseError("Unexpected end of input");
            };
            switch (this.token.type){
                case JSONTokenType.LEFT_BRACE:
                    return (this.parseObject());
                case JSONTokenType.LEFT_BRACKET:
                    return (this.parseArray());
                case JSONTokenType.STRING:
                case JSONTokenType.NUMBER:
                case JSONTokenType.TRUE:
                case JSONTokenType.FALSE:
                case JSONTokenType.NULL:
                    return (this.token.value);
                case JSONTokenType.NAN:
                    if (!this.strict){
                        return (this.token.value);
                    };
                    this.tokenizer.parseError(("Unexpected " + this.token.value));
                default:
                    this.tokenizer.parseError(("Unexpected " + this.token.value));
            };
            return (null);
        }

    }
}//package com.adobe.serialization.json 
﻿package com.adobe.serialization.json {

    public class JSON {

        public static function decode(_arg1:String, _arg2:Boolean=true){
            return (new JSONDecoder(_arg1, _arg2).getValue());
        }
        public static function encode(_arg1:Object):String{
            return (new JSONEncoder(_arg1).getString());
        }

    }
}//package com.adobe.serialization.json 
﻿package com.adobe.utils {

    public class StringUtil {

        public static function beginsWith(_arg1:String, _arg2:String):Boolean{
            return ((_arg2 == _arg1.substring(0, _arg2.length)));
        }
        public static function trim(_arg1:String):String{
            return (StringUtil.ltrim(StringUtil.rtrim(_arg1)));
        }
        public static function stringsAreEqual(_arg1:String, _arg2:String, _arg3:Boolean):Boolean{
            if (_arg3){
                return ((_arg1 == _arg2));
            };
            return ((_arg1.toUpperCase() == _arg2.toUpperCase()));
        }
        public static function replace(_arg1:String, _arg2:String, _arg3:String):String{
            return (_arg1.split(_arg2).join(_arg3));
        }
        public static function rtrim(_arg1:String):String{
            var _local2:Number = _arg1.length;
            var _local3:Number = _local2;
            while (_local3 > 0) {
                if (_arg1.charCodeAt((_local3 - 1)) > 32){
                    return (_arg1.substring(0, _local3));
                };
                _local3--;
            };
            return ("");
        }
        public static function endsWith(_arg1:String, _arg2:String):Boolean{
            return ((_arg2 == _arg1.substring((_arg1.length - _arg2.length))));
        }
        public static function stringHasValue(_arg1:String):Boolean{
            return (((!((_arg1 == null))) && ((_arg1.length > 0))));
        }
        public static function remove(_arg1:String, _arg2:String):String{
            return (StringUtil.replace(_arg1, _arg2, ""));
        }
        public static function ltrim(_arg1:String):String{
            var _local2:Number = _arg1.length;
            var _local3:Number = 0;
            while (_local3 < _local2) {
                if (_arg1.charCodeAt(_local3) > 32){
                    return (_arg1.substring(_local3));
                };
                _local3++;
            };
            return ("");
        }

    }
}//package com.adobe.utils 
﻿package com.adobe.net {

    public interface IURIResolver {

        function resolve(_arg1:URI):URI;

    }
}//package com.adobe.net 
﻿package com.adobe.net {
    import flash.utils.*;

    public class URIEncodingBitmap extends ByteArray {

        public function URIEncodingBitmap(_arg1:String):void{
            var _local2:int;
            var _local4:int;
            var _local5:int;
            super();
            var _local3:ByteArray = new ByteArray();
            _local2 = 0;
            while (_local2 < 16) {
                this.writeByte(0);
                _local2++;
            };
            _local3.writeUTFBytes(_arg1);
            _local3.position = 0;
            while (_local3.bytesAvailable) {
                _local4 = _local3.readByte();
                if (_local4 > 127){
                } else {
                    this.position = (_local4 >> 3);
                    _local5 = this.readByte();
                    _local5 = (_local5 | (1 << (_local4 & 7)));
                    this.position = (_local4 >> 3);
                    this.writeByte(_local5);
                };
            };
        }
        public function ShouldEscape(_arg1:String):int{
            var _local3:int;
            var _local4:int;
            var _local2:ByteArray = new ByteArray();
            _local2.writeUTFBytes(_arg1);
            _local2.position = 0;
            _local3 = _local2.readByte();
            if ((_local3 & 128)){
                return (0);
            };
            if ((((_local3 < 31)) || ((_local3 == 127)))){
                return (_local3);
            };
            this.position = (_local3 >> 3);
            _local4 = this.readByte();
            if ((_local4 & (1 << (_local3 & 7)))){
                return (_local3);
            };
            return (0);
        }

    }
}//package com.adobe.net 
﻿package com.adobe.net {

    public class URI {

        protected static const URIqueryPartExcludedBitmap:URIEncodingBitmap = new URIEncodingBitmap(URIqueryPartEscape);
        protected static const URIbaselineExcludedBitmap:URIEncodingBitmap = new URIEncodingBitmap(URIbaselineEscape);
        public static const EQUAL:int = 2;
        public static const URIqueryEscape:String = (URImustEscape + "#");
        protected static const URIauthorityExcludedBitmap:URIEncodingBitmap = URIbaselineExcludedBitmap;
        public static const PARENT:int = 3;
        protected static const URIqueryExcludedBitmap:URIEncodingBitmap = new URIEncodingBitmap(URIqueryEscape);
        public static const URImustEscape:String = " %";
        protected static const URIportExludedBitmap:URIEncodingBitmap = URIbaselineExcludedBitmap;
        public static const URIpathEscape:String = (URImustEscape + "?#");
        protected static const URIfragmentExcludedBitmap:URIEncodingBitmap = URIqueryExcludedBitmap;
        public static const UNKNOWN_SCHEME:String = "unknown";
        protected static const URIuserpassExcludedBitmap:URIEncodingBitmap = URIbaselineExcludedBitmap;
        protected static const URInonHierexcludedBitmap:URIEncodingBitmap = new URIEncodingBitmap(URInonHierEscape);
        protected static const URIschemeExcludedBitmap:URIEncodingBitmap = URIbaselineExcludedBitmap;
        public static const URIqueryPartEscape:String = (URImustEscape + "#&=");
        protected static const URIpathExcludedBitmap:URIEncodingBitmap = new URIEncodingBitmap(URIpathEscape);
        public static const URIbaselineEscape:String = (URImustEscape + ":?#/@");
        public static const URInonHierEscape:String = (URImustEscape + "?#/");
        public static const CHILD:int = 1;
        public static const NOT_RELATED:int = 0;

        protected static var _resolver:IURIResolver = null;

        protected var _path:String = "";
        protected var _relative:Boolean = false;
        protected var _fragment:String = "";
        protected var _username:String = "";
        protected var _nonHierarchical:String = "";
        protected var _authority:String = "";
        protected var _query:String = "";
        protected var _scheme:String = "";
        protected var _port:String = "";
        protected var _password:String = "";
        protected var _valid:Boolean = false;

        public function URI(_arg1:String=null):void{
            if (_arg1 == null){
                this.initialize();
            } else {
                this.constructURI(_arg1);
            };
        }
        public static function get resolver():IURIResolver{
            return (_resolver);
        }
        protected static function compareStr(_arg1:String, _arg2:String, _arg3:Boolean=true):Boolean{
            if (_arg3 == false){
                _arg1 = _arg1.toLowerCase();
                _arg2 = _arg2.toLowerCase();
            };
            return ((_arg1 == _arg2));
        }
        public static function set resolver(_arg1:IURIResolver):void{
            _resolver = _arg1;
        }
        public static function unescapeChars(_arg1:String):String{
            var _local2:String;
            _local2 = decodeURIComponent(_arg1);
            return (_local2);
        }
        public static function queryPartEscape(_arg1:String):String{
            var _local2:String = _arg1;
            _local2 = URI.fastEscapeChars(_arg1, URI.URIqueryPartExcludedBitmap);
            return (_local2);
        }
        public static function escapeChars(_arg1:String):String{
            return (fastEscapeChars(_arg1, URI.URIbaselineExcludedBitmap));
        }
        public static function fastEscapeChars(_arg1:String, _arg2:URIEncodingBitmap):String{
            var _local4:String;
            var _local5:int;
            var _local6:int;
            var _local3 = "";
            _local6 = 0;
            while (_local6 < _arg1.length) {
                _local4 = _arg1.charAt(_local6);
                _local5 = _arg2.ShouldEscape(_local4);
                if (_local5){
                    _local4 = _local5.toString(16);
                    if (_local4.length == 1){
                        _local4 = ("0" + _local4);
                    };
                    _local4 = ("%" + _local4);
                    _local4 = _local4.toUpperCase();
                };
                _local3 = (_local3 + _local4);
                _local6++;
            };
            return (_local3);
        }
        public static function queryPartUnescape(_arg1:String):String{
            var _local2:String = _arg1;
            _local2 = unescapeChars(_local2);
            return (_local2);
        }
        protected static function resolve(_arg1:URI):URI{
            var _local2:URI = new (URI)();
            _local2.copyURI(_arg1);
            if (_resolver != null){
                return (_resolver.resolve(_local2));
            };
            return (_local2);
        }

        public function set queryRaw(_arg1:String):void{
            this._query = _arg1;
        }
        public function get port():String{
            return (URI.unescapeChars(this._port));
        }
        public function set port(_arg1:String):void{
            this._port = URI.escapeChars(_arg1);
            this.hierState = true;
        }
        public function getCommonParent(_arg1:URI, _arg2:Boolean=true):URI{
            var _local6:String;
            var _local7:String;
            var _local3:URI = URI.resolve(this);
            var _local4:URI = URI.resolve(_arg1);
            if (((((((!(_local3.isAbsolute())) || (!(_local4.isAbsolute())))) || ((_local3.isHierarchical() == false)))) || ((_local4.isHierarchical() == false)))){
                return (null);
            };
            var _local5:int = _local3.getRelation(_local4);
            if (_local5 == URI.NOT_RELATED){
                return (null);
            };
            _local3.chdir(".");
            _local4.chdir(".");
            do  {
                _local5 = _local3.getRelation(_local4, _arg2);
                if ((((_local5 == URI.EQUAL)) || ((_local5 == URI.PARENT)))){
                    break;
                };
                _local6 = _local3.toString();
                _local3.chdir("..");
                _local7 = _local3.toString();
            } while (_local6 != _local7);
            return (_local3);
        }
        public function get nonHierarchical():String{
            return (URI.unescapeChars(this._nonHierarchical));
        }
        protected function set hierState(_arg1:Boolean):void{
            if (_arg1){
                this._nonHierarchical = "";
                if ((((this._scheme == "")) || ((this._scheme == UNKNOWN_SCHEME)))){
                    this._relative = true;
                } else {
                    this._relative = false;
                };
                if ((((this._authority.length == 0)) && ((this._path.length == 0)))){
                    this._valid = false;
                } else {
                    this._valid = true;
                };
            } else {
                this._authority = "";
                this._username = "";
                this._password = "";
                this._port = "";
                this._path = "";
                this._relative = false;
                if ((((this._scheme == "")) || ((this._scheme == UNKNOWN_SCHEME)))){
                    this._valid = false;
                } else {
                    this._valid = true;
                };
            };
        }
        public function setQueryValue(_arg1:String, _arg2:String):void{
            var _local3:Object;
            _local3 = this.getQueryByMap();
            _local3[_arg1] = _arg2;
            this.setQueryByMap(_local3);
        }
        public function getFilename(_arg1:Boolean=false):String{
            var _local3:String;
            var _local4:int;
            if (this.isDirectory()){
                return (String(""));
            };
            var _local2:String = this.path;
            _local4 = _local2.lastIndexOf("/");
            if (_local4 != -1){
                _local3 = _local2.substr((_local4 + 1));
            } else {
                _local3 = _local2;
            };
            if (_arg1){
                _local4 = _local3.lastIndexOf(".");
                if (_local4 != -1){
                    _local3 = _local3.substr(0, _local4);
                };
            };
            return (_local3);
        }
        public function set authority(_arg1:String):void{
            _arg1 = _arg1.toLowerCase();
            this._authority = URI.fastEscapeChars(_arg1, URI.URIauthorityExcludedBitmap);
            this.hierState = true;
        }
        protected function initialize():void{
            this._valid = false;
            this._relative = false;
            this._scheme = UNKNOWN_SCHEME;
            this._authority = "";
            this._username = "";
            this._password = "";
            this._port = "";
            this._path = "";
            this._query = "";
            this._fragment = "";
            this._nonHierarchical = "";
        }
        public function getQueryByMap():Object{
            var _local1:String;
            var _local2:String;
            var _local3:Array;
            var _local4:Array;
            var _local5:String;
            var _local6:String;
            var _local7:int;
            var _local8:Object = new Object();
            _local1 = this._query;
            _local3 = _local1.split("&");
            for each (_local2 in _local3) {
                if (_local2.length == 0){
                } else {
                    _local4 = _local2.split("=");
                    if (_local4.length > 0){
                        _local5 = _local4[0];
                    } else {
                        continue;
                    };
                    if (_local4.length > 1){
                        _local6 = _local4[1];
                    } else {
                        _local6 = "";
                    };
                    _local5 = queryPartUnescape(_local5);
                    _local6 = queryPartUnescape(_local6);
                    _local8[_local5] = _local6;
                };
            };
            return (_local8);
        }
        protected function constructURI(_arg1:String):Boolean{
            if (!this.parseURI(_arg1)){
                this._valid = false;
            };
            return (this.isValid());
        }
        public function isRelative():Boolean{
            return (this._relative);
        }
        public function getExtension(_arg1:Boolean=false):String{
            var _local3:String;
            var _local4:int;
            var _local2:String = this.getFilename();
            if (_local2 == ""){
                return (String(""));
            };
            _local4 = _local2.lastIndexOf(".");
            if ((((_local4 == -1)) || ((_local4 == 0)))){
                return (String(""));
            };
            _local3 = _local2.substr(_local4);
            if (((_arg1) && ((_local3.charAt(0) == ".")))){
                _local3 = _local3.substr(1);
            };
            return (_local3);
        }
        public function get password():String{
            return (URI.unescapeChars(this._password));
        }
        public function setParts(_arg1:String, _arg2:String, _arg3:String, _arg4:String, _arg5:String, _arg6:String):void{
            this.scheme = _arg1;
            this.authority = _arg2;
            this.port = _arg3;
            this.path = _arg4;
            this.query = _arg5;
            this.fragment = _arg6;
            this.hierState = true;
        }
        public function set query(_arg1:String):void{
            this._query = URI.fastEscapeChars(_arg1, URI.URIqueryExcludedBitmap);
        }
        public function set fragment(_arg1:String):void{
            this._fragment = URI.fastEscapeChars(_arg1, URIfragmentExcludedBitmap);
        }
        public function get path():String{
            return (URI.unescapeChars(this._path));
        }
        public function setQueryByMap(_arg1:Object):void{
            var _local2:String;
            var _local3:String;
            var _local4:String;
            var _local6:String;
            var _local7:String;
            var _local5 = "";
            for (_local2 in _arg1) {
                _local3 = _local2;
                _local4 = _arg1[_local2];
                if (_local4 == null){
                    _local4 = "";
                };
                _local3 = queryPartEscape(_local3);
                _local4 = queryPartEscape(_local4);
                _local6 = _local3;
                if (_local4.length > 0){
                    _local6 = (_local6 + "=");
                    _local6 = (_local6 + _local4);
                };
                if (_local5.length != 0){
                    _local5 = (_local5 + "&");
                };
                _local5 = (_local5 + _local6);
            };
            this._query = _local5;
        }
        public function makeAbsoluteURI(_arg1:URI):Boolean{
            if (((this.isAbsolute()) || (_arg1.isRelative()))){
                return (false);
            };
            var _local2:URI = new URI();
            _local2.copyURI(_arg1);
            if (_local2.chdir(this.toString()) == false){
                return (false);
            };
            this.copyURI(_local2);
            return (true);
        }
        public function chdir(_arg1:String, _arg2:Boolean=false):Boolean{
            var _local3:URI;
            var _local5:String;
            var _local6:String;
            var _local7:Array;
            var _local8:Array;
            var _local14:String;
            var _local15:int;
            var _local17:String;
            var _local4:String = _arg1;
            if (_arg2){
                _local4 = URI.escapeChars(_arg1);
            };
            if (_local4 == ""){
                return (true);
            };
            if (_local4.substr(0, 2) == "//"){
                _local17 = ((this.scheme + ":") + _local4);
                return (this.constructURI(_local17));
            };
            if (_local4.charAt(0) == "?"){
                _local4 = ("./" + _local4);
            };
            _local3 = new URI(_local4);
            if (((_local3.isAbsolute()) || ((_local3.isHierarchical() == false)))){
                this.copyURI(_local3);
                return (true);
            };
            var _local9:Boolean;
            var _local10:Boolean;
            var _local11:Boolean;
            var _local12:Boolean;
            var _local13:Boolean;
            _local5 = this.path;
            _local6 = _local3.path;
            if (_local5.length > 0){
                _local7 = _local5.split("/");
            } else {
                _local7 = new Array();
            };
            if (_local6.length > 0){
                _local8 = _local6.split("/");
            } else {
                _local8 = new Array();
            };
            if ((((_local7.length > 0)) && ((_local7[0] == "")))){
                _local11 = true;
                _local7.shift();
            };
            if ((((_local7.length > 0)) && ((_local7[(_local7.length - 1)] == "")))){
                _local9 = true;
                _local7.pop();
            };
            if ((((_local8.length > 0)) && ((_local8[0] == "")))){
                _local12 = true;
                _local8.shift();
            };
            if ((((_local8.length > 0)) && ((_local8[(_local8.length - 1)] == "")))){
                _local10 = true;
                _local8.pop();
            };
            if (_local12){
                this.path = _local3.path;
                this.queryRaw = _local3.queryRaw;
                this.fragment = _local3.fragment;
                return (true);
            };
            if ((((_local8.length == 0)) && ((_local3.query == "")))){
                this.fragment = _local3.fragment;
                return (true);
            };
            if ((((_local9 == false)) && ((_local7.length > 0)))){
                _local7.pop();
            };
            this.queryRaw = _local3.queryRaw;
            this.fragment = _local3.fragment;
            _local7 = _local7.concat(_local8);
            _local15 = 0;
            while (_local15 < _local7.length) {
                _local14 = _local7[_local15];
                _local13 = false;
                if (_local14 == "."){
                    _local7.splice(_local15, 1);
                    _local15--;
                    _local13 = true;
                } else {
                    if (_local14 == ".."){
                        if (_local15 >= 1){
                            if (_local7[(_local15 - 1)] == ".."){
                            } else {
                                _local7.splice((_local15 - 1), 2);
                                _local15 = (_local15 - 2);
                            };
                        } else {
                            if (this.isRelative()){
                            } else {
                                _local7.splice(_local15, 1);
                                _local15--;
                            };
                        };
                        _local13 = true;
                    };
                };
                _local15++;
            };
            var _local16 = "";
            _local10 = ((_local10) || (_local13));
            _local16 = this.joinPath(_local7, _local11, _local10);
            this.path = _local16;
            return (true);
        }
        public function get scheme():String{
            return (URI.unescapeChars(this._scheme));
        }
        public function makeRelativeURI(_arg1:URI, _arg2:Boolean=true):Boolean{
            var _local4:Array;
            var _local5:Array;
            var _local7:String;
            var _local8:String;
            var _local9:String;
            var _local13:int;
            var _local3:URI = new URI();
            _local3.copyURI(_arg1);
            var _local6:Array = new Array();
            var _local10:String = this.path;
            var _local11:String = this.queryRaw;
            var _local12:String = this.fragment;
            var _local14:Boolean;
            var _local15:Boolean;
            if (this.isRelative()){
                return (true);
            };
            if (_local3.isRelative()){
                return (false);
            };
            if ((((this.isOfType(_arg1.scheme) == false)) || (!((this.authority == _arg1.authority))))){
                return (false);
            };
            _local15 = this.isDirectory();
            _local3.chdir(".");
            _local4 = _local10.split("/");
            _local5 = _local3.path.split("/");
            if ((((_local4.length > 0)) && ((_local4[0] == "")))){
                _local4.shift();
            };
            if ((((_local4.length > 0)) && ((_local4[(_local4.length - 1)] == "")))){
                _local15 = true;
                _local4.pop();
            };
            if ((((_local5.length > 0)) && ((_local5[0] == "")))){
                _local5.shift();
            };
            if ((((_local5.length > 0)) && ((_local5[(_local5.length - 1)] == "")))){
                _local5.pop();
            };
            while (_local5.length > 0) {
                if (_local4.length == 0){
                    break;
                };
                _local7 = _local4[0];
                _local8 = _local5[0];
                if (compareStr(_local7, _local8, _arg2)){
                    _local4.shift();
                    _local5.shift();
                } else {
                    break;
                };
            };
            var _local16 = "..";
            _local13 = 0;
            while (_local13 < _local5.length) {
                _local6.push(_local16);
                _local13++;
            };
            _local6 = _local6.concat(_local4);
            _local9 = this.joinPath(_local6, false, _local15);
            if (_local9.length == 0){
                _local9 = "./";
            };
            this.setParts("", "", "", _local9, _local11, _local12);
            return (true);
        }
        public function set password(_arg1:String):void{
            this._password = URI.fastEscapeChars(_arg1, URI.URIuserpassExcludedBitmap);
            this.hierState = true;
        }
        public function toDisplayString():String{
            return (this.toStringInternal(true));
        }
        protected function parseURI(_arg1:String):Boolean{
            var _local3:int;
            var _local4:int;
            var _local2:String = _arg1;
            this.initialize();
            _local3 = _local2.indexOf("#");
            if (_local3 != -1){
                if (_local2.length > (_local3 + 1)){
                    this._fragment = _local2.substr((_local3 + 1), (_local2.length - (_local3 + 1)));
                };
                _local2 = _local2.substr(0, _local3);
            };
            _local3 = _local2.indexOf("?");
            if (_local3 != -1){
                if (_local2.length > (_local3 + 1)){
                    this._query = _local2.substr((_local3 + 1), (_local2.length - (_local3 + 1)));
                };
                _local2 = _local2.substr(0, _local3);
            };
            _local3 = _local2.search(":");
            _local4 = _local2.search("/");
            var _local5 = !((_local3 == -1));
            var _local6 = !((_local4 == -1));
            var _local7:Boolean = ((!(_local6)) || ((_local3 < _local4)));
            if (((_local5) && (_local7))){
                this._scheme = _local2.substr(0, _local3);
                this._scheme = this._scheme.toLowerCase();
                _local2 = _local2.substr((_local3 + 1));
                if (_local2.substr(0, 2) == "//"){
                    this._nonHierarchical = "";
                    _local2 = _local2.substr(2, (_local2.length - 2));
                } else {
                    this._nonHierarchical = _local2;
                    if ((this._valid = this.validateURI()) == false){
                        this.initialize();
                    };
                    return (this.isValid());
                };
            } else {
                this._scheme = "";
                this._relative = true;
                this._nonHierarchical = "";
            };
            if (this.isRelative()){
                this._authority = "";
                this._port = "";
                this._path = _local2;
            } else {
                if (_local2.substr(0, 2) == "//"){
                    while (_local2.charAt(0) == "/") {
                        _local2 = _local2.substr(1, (_local2.length - 1));
                    };
                };
                _local3 = _local2.search("/");
                if (_local3 == -1){
                    this._authority = _local2;
                    this._path = "";
                } else {
                    this._authority = _local2.substr(0, _local3);
                    this._path = _local2.substr(_local3, (_local2.length - _local3));
                };
                _local3 = this._authority.search("@");
                if (_local3 != -1){
                    this._username = this._authority.substr(0, _local3);
                    this._authority = this._authority.substr((_local3 + 1));
                    _local3 = this._username.search(":");
                    if (_local3 != -1){
                        this._password = this._username.substring((_local3 + 1), this._username.length);
                        this._username = this._username.substr(0, _local3);
                    } else {
                        this._password = "";
                    };
                } else {
                    this._username = "";
                    this._password = "";
                };
                _local3 = this._authority.search(":");
                if (_local3 != -1){
                    this._port = this._authority.substring((_local3 + 1), this._authority.length);
                    this._authority = this._authority.substr(0, _local3);
                } else {
                    this._port = "";
                };
                this._authority = this._authority.toLowerCase();
            };
            if ((this._valid = this.validateURI()) == false){
                this.initialize();
            };
            return (this.isValid());
        }
        public function set username(_arg1:String):void{
            this._username = URI.fastEscapeChars(_arg1, URI.URIuserpassExcludedBitmap);
            this.hierState = true;
        }
        public function copyURI(_arg1:URI):void{
            this._scheme = _arg1._scheme;
            this._authority = _arg1._authority;
            this._username = _arg1._username;
            this._password = _arg1._password;
            this._port = _arg1._port;
            this._path = _arg1._path;
            this._query = _arg1._query;
            this._fragment = _arg1._fragment;
            this._nonHierarchical = _arg1._nonHierarchical;
            this._valid = _arg1._valid;
            this._relative = _arg1._relative;
        }
        public function isAbsolute():Boolean{
            return (!(this._relative));
        }
        protected function get hierState():Boolean{
            return ((this._nonHierarchical.length == 0));
        }
        public function get queryRaw():String{
            return (this._query);
        }
        public function get query():String{
            return (URI.unescapeChars(this._query));
        }
        public function set scheme(_arg1:String):void{
            var _local2:String = _arg1.toLowerCase();
            this._scheme = URI.fastEscapeChars(_local2, URI.URIschemeExcludedBitmap);
        }
        public function forceEscape():void{
            this.scheme = this.scheme;
            this.setQueryByMap(this.getQueryByMap());
            this.fragment = this.fragment;
            if (this.isHierarchical()){
                this.authority = this.authority;
                this.path = this.path;
                this.port = this.port;
                this.username = this.username;
                this.password = this.password;
            } else {
                this.nonHierarchical = this.nonHierarchical;
            };
        }
        public function getDefaultPort():String{
            if (this._scheme == "http"){
                return (String("80"));
            };
            if (this._scheme == "ftp"){
                return (String("21"));
            };
            if (this._scheme == "file"){
                return (String(""));
            };
            if (this._scheme == "sftp"){
                return (String("22"));
            };
            return (String(""));
        }
        public function get fragment():String{
            return (URI.unescapeChars(this._fragment));
        }
        public function set path(_arg1:String):void{
            this._path = URI.fastEscapeChars(_arg1, URI.URIpathExcludedBitmap);
            if (this._scheme == UNKNOWN_SCHEME){
                this._scheme = "";
            };
            this.hierState = true;
        }
        public function get authority():String{
            return (URI.unescapeChars(this._authority));
        }
        public function isHierarchical():Boolean{
            return (this.hierState);
        }
        protected function toStringInternal(_arg1:Boolean):String{
            var _local2 = "";
            var _local3 = "";
            if (this.isHierarchical() == false){
                _local2 = (_local2 + ((_arg1) ? this.scheme : this._scheme));
                _local2 = (_local2 + ":");
                _local2 = (_local2 + ((_arg1) ? this.nonHierarchical : this._nonHierarchical));
            } else {
                if (this.isRelative() == false){
                    if (this._scheme.length != 0){
                        _local3 = ((_arg1) ? this.scheme : this._scheme);
                        _local2 = (_local2 + (_local3 + ":"));
                    };
                    if (((!((this._authority.length == 0))) || (this.isOfType("file")))){
                        _local2 = (_local2 + "//");
                        if (this._username.length != 0){
                            _local3 = ((_arg1) ? this.username : this._username);
                            _local2 = (_local2 + _local3);
                            if (this._password.length != 0){
                                _local3 = ((_arg1) ? this.password : this._password);
                                _local2 = (_local2 + (":" + _local3));
                            };
                            _local2 = (_local2 + "@");
                        };
                        _local3 = ((_arg1) ? this.authority : this._authority);
                        _local2 = (_local2 + _local3);
                        if (this.port.length != 0){
                            _local2 = (_local2 + (":" + this.port));
                        };
                    };
                };
                _local3 = ((_arg1) ? this.path : this._path);
                _local2 = (_local2 + _local3);
            };
            if (this._query.length != 0){
                _local3 = ((_arg1) ? this.query : this._query);
                _local2 = (_local2 + ("?" + _local3));
            };
            if (this.fragment.length != 0){
                _local3 = ((_arg1) ? this.fragment : this._fragment);
                _local2 = (_local2 + ("#" + _local3));
            };
            return (_local2);
        }
        public function get username():String{
            return (URI.unescapeChars(this._username));
        }
        public function unknownToURI(_arg1:String, _arg2:String="http"):Boolean{
            var _local3:String;
            var _local5:String;
            if (_arg1.length == 0){
                this.initialize();
                return (false);
            };
            _arg1 = _arg1.replace(/\\/g, "/");
            if (_arg1.length >= 2){
                _local3 = _arg1.substr(0, 2);
                if (_local3 == "//"){
                    _arg1 = ((_arg2 + ":") + _arg1);
                };
            };
            if (_arg1.length >= 3){
                _local3 = _arg1.substr(0, 3);
                if (_local3 == "://"){
                    _arg1 = (_arg2 + _arg1);
                };
            };
            var _local4:URI = new URI(_arg1);
            if (_local4.isHierarchical() == false){
                if (_local4.scheme == UNKNOWN_SCHEME){
                    this.initialize();
                    return (false);
                };
                this.copyURI(_local4);
                this.forceEscape();
                return (true);
            };
            if (((!((_local4.scheme == UNKNOWN_SCHEME))) && ((_local4.scheme.length > 0)))){
                if ((((_local4.authority.length > 0)) || ((_local4.scheme == "file")))){
                    this.copyURI(_local4);
                    this.forceEscape();
                    return (true);
                };
                if ((((_local4.authority.length == 0)) && ((_local4.path.length == 0)))){
                    this.setParts(_local4.scheme, "", "", "", "", "");
                    return (false);
                };
            } else {
                _local5 = _local4.path;
                if ((((((((_local5 == "..")) || ((_local5 == ".")))) || ((((_local5.length >= 3)) && ((_local5.substr(0, 3) == "../")))))) || ((((_local5.length >= 2)) && ((_local5.substr(0, 2) == "./")))))){
                    this.copyURI(_local4);
                    this.forceEscape();
                    return (true);
                };
            };
            _local4 = new URI(((_arg2 + "://") + _arg1));
            if ((((_local4.scheme.length > 0)) && ((_local4.authority.length > 0)))){
                this.copyURI(_local4);
                this.forceEscape();
                return (true);
            };
            this.initialize();
            return (false);
        }
        public function isDirectory():Boolean{
            if (this._path.length == 0){
                return (false);
            };
            return ((this._path.charAt((this.path.length - 1)) == "/"));
        }
        protected function verifyAlpha(_arg1:String):Boolean{
            var _local3:int;
            var _local2:RegExp = /[^a-z]/;
            _arg1 = _arg1.toLowerCase();
            _local3 = _arg1.search(_local2);
            if (_local3 == -1){
                return (true);
            };
            return (false);
        }
        public function isOfFileType(_arg1:String):Boolean{
            var _local2:String;
            var _local3:int;
            _local3 = _arg1.lastIndexOf(".");
            if (_local3 != -1){
                _arg1 = _arg1.substr((_local3 + 1));
            };
            _local2 = this.getExtension(true);
            if (_local2 == ""){
                return (false);
            };
            if (compareStr(_local2, _arg1, false) == 0){
                return (true);
            };
            return (false);
        }
        public function set nonHierarchical(_arg1:String):void{
            this._nonHierarchical = URI.fastEscapeChars(_arg1, URInonHierexcludedBitmap);
            this.hierState = false;
        }
        protected function joinPath(_arg1:Array, _arg2:Boolean, _arg3:Boolean):String{
            var _local5:int;
            var _local4 = "";
            _local5 = 0;
            while (_local5 < _arg1.length) {
                if (_local4.length > 0){
                    _local4 = (_local4 + "/");
                };
                _local4 = (_local4 + _arg1[_local5]);
                _local5++;
            };
            if (((_arg3) && ((_local4.length > 0)))){
                _local4 = (_local4 + "/");
            };
            if (_arg2){
                _local4 = ("/" + _local4);
            };
            return (_local4);
        }
        public function isValid():Boolean{
            return (this._valid);
        }
        public function toString():String{
            if (this == null){
                return ("");
            };
            return (this.toStringInternal(false));
        }
        protected function validateURI():Boolean{
            if (this.isAbsolute()){
                if ((((this._scheme.length <= 1)) || ((this._scheme == UNKNOWN_SCHEME)))){
                    return (false);
                };
                if (this.verifyAlpha(this._scheme) == false){
                    return (false);
                };
            };
            if (this.hierState){
                if (this._path.search("\\") != -1){
                    return (false);
                };
                if ((((this.isRelative() == false)) && ((this._scheme == UNKNOWN_SCHEME)))){
                    return (false);
                };
            } else {
                if (this._nonHierarchical.search("\\") != -1){
                    return (false);
                };
            };
            return (true);
        }
        public function getRelation(_arg1:URI, _arg2:Boolean=true):int{
            var _local9:Array;
            var _local10:Array;
            var _local11:String;
            var _local12:String;
            var _local13:int;
            var _local3:URI = URI.resolve(this);
            var _local4:URI = URI.resolve(_arg1);
            if (((_local3.isRelative()) || (_local4.isRelative()))){
                return (URI.NOT_RELATED);
            };
            if ((((_local3.isHierarchical() == false)) || ((_local4.isHierarchical() == false)))){
                if ((((((_local3.isHierarchical() == false)) && ((_local4.isHierarchical() == true)))) || ((((_local3.isHierarchical() == true)) && ((_local4.isHierarchical() == false)))))){
                    return (URI.NOT_RELATED);
                };
                if (_local3.scheme != _local4.scheme){
                    return (URI.NOT_RELATED);
                };
                if (_local3.nonHierarchical != _local4.nonHierarchical){
                    return (URI.NOT_RELATED);
                };
                return (URI.EQUAL);
            };
            if (_local3.scheme != _local4.scheme){
                return (URI.NOT_RELATED);
            };
            if (_local3.authority != _local4.authority){
                return (URI.NOT_RELATED);
            };
            var _local5:String = _local3.port;
            var _local6:String = _local4.port;
            if (_local5 == ""){
                _local5 = _local3.getDefaultPort();
            };
            if (_local6 == ""){
                _local6 = _local4.getDefaultPort();
            };
            if (_local5 != _local6){
                return (URI.NOT_RELATED);
            };
            if (compareStr(_local3.path, _local4.path, _arg2)){
                return (URI.EQUAL);
            };
            var _local7:String = _local3.path;
            var _local8:String = _local4.path;
            if ((((((_local7 == "/")) || ((_local8 == "/")))) && ((((_local7 == "")) || ((_local8 == "")))))){
                return (URI.EQUAL);
            };
            _local9 = _local7.split("/");
            _local10 = _local8.split("/");
            if (_local9.length > _local10.length){
                _local12 = _local10[(_local10.length - 1)];
                if (_local12.length > 0){
                    return (URI.NOT_RELATED);
                };
                _local10.pop();
                _local13 = 0;
                while (_local13 < _local10.length) {
                    _local11 = _local9[_local13];
                    _local12 = _local10[_local13];
                    if (compareStr(_local11, _local12, _arg2) == false){
                        return (URI.NOT_RELATED);
                    };
                    _local13++;
                };
                return (URI.CHILD);
            };
            if (_local9.length < _local10.length){
                _local11 = _local9[(_local9.length - 1)];
                if (_local11.length > 0){
                    return (URI.NOT_RELATED);
                };
                _local9.pop();
                _local13 = 0;
                while (_local13 < _local9.length) {
                    _local11 = _local9[_local13];
                    _local12 = _local10[_local13];
                    if (compareStr(_local11, _local12, _arg2) == false){
                        return (URI.NOT_RELATED);
                    };
                    _local13++;
                };
                return (URI.PARENT);
            };
            return (URI.NOT_RELATED);
        }
        public function isOfType(_arg1:String):Boolean{
            _arg1 = _arg1.toLowerCase();
            return ((this._scheme == _arg1));
        }
        public function getQueryValue(_arg1:String):String{
            var _local2:Object;
            var _local3:String;
            var _local4:String;
            _local2 = this.getQueryByMap();
            for (_local3 in _local2) {
                if (_local3 == _arg1){
                    _local4 = _local2[_local3];
                    return (_local4);
                };
            };
            return (new String(""));
        }

    }
}//package com.adobe.net 
﻿package com.slskin.ignitenetwork {
    import flash.utils.*;
    import flash.events.*;
    import com.slskin.ignitenetwork.events.*;

    public class Model extends EventDispatcher {

        public const DIM:String = "^";
        public const DlMSep:String = "|";
        public const DlMSep2:String = ";";
        public const DATA_PATH:String = "_root.Data.";
        public const TEXT_PATH:String = "_root.Text.";
        public const ROOT_PATH:String = "_root.";
        public const APP_DATA_PATH:String = "_root.Data:";

        private var main:Main;
        private var propertyMap:Dictionary;

        public function Model(_arg1:Main){
            this.main = _arg1;
            this.propertyMap = new Dictionary();
        }
        public function dispatcher(_arg1:String, _arg2:String):void{
            this.dispatchEvent(new SLEvent(_arg1, _arg2));
            this.propertyMap[_arg1] = _arg2;
            if (((!((_arg1 == "MouseWheel"))) && (!((_arg1 == "UpdateApplicationList"))))){
                this.main.debugger.write(((("SL Event:  " + _arg1) + ", ") + _arg2));
            };
        }
        public function addProperty(_arg1, _arg2:String):void{
            this.propertyMap[_arg1] = _arg2;
            this.dispatcher(SLEvent.VALUE_ADDED, ((_arg1 + this.DIM) + _arg2));
        }
        public function getProperty(_arg1:String, _arg2:String=""):String{
            var _local3:* = this.propertyMap[(_arg2 + _arg1)];
            return ((((_local3 == undefined)) ? null : _local3));
        }

    }
}//package com.slskin.ignitenetwork 
﻿package com.slskin.ignitenetwork {
    import flash.display.*;
    import flash.events.*;
    import flash.text.*;
    import com.slskin.ignitenetwork.apps.*;
    import com.slskin.ignitenetwork.events.*;
    import com.slskin.ignitenetwork.views.*;
    import fl.transitions.*;
    import flash.net.*;
    import com.slskin.ignitenetwork.views.accountsetup.*;
    import flash.system.*;
    import com.slskin.ignitenetwork.fonts.*;
    import flash.media.*;
    import com.slskin.ignitenetwork.views.desktop.*;
    import flash.external.*;

    public class Main extends MovieClip {

        public const VERSION:String = "1.6.5";
        public const MIN_FLASH_VER:Number = 10;
        public const CONFIG_FILE:String = "config.xml";

        private var _model:Model;
        private var _viewManager:ViewManager;
        private var _wallpaperManager:WallpaperManager;
        private var _appManager:AppManager;
        private var _lang:Language;
        private var _config:XML;
        public var debugger:DebugConsole;

        public function Main():void{
            var _local1:String;
            super();
            addFrameScript(0, this.frame1);
            this.debugger = new DebugConsole();
            this._model = new Model(this);
            this._viewManager = new ViewManager(this);
            this._appManager = new AppManager(this);
            this._wallpaperManager = new WallpaperManager();
            Language.model = this._model;
            Language.logFunction = this.log;
            LoadingView.parentObj = this;
            ErrorView.parentObj = this;
            this.debugger.write(("Interface Version:  " + this.VERSION));
            this.debugger.write(((("Flash Version:  " + Capabilities.playerType) + ", ") + Capabilities.version));
            if (!this.isValidFlashVersion()){
                _local1 = (((("Flash version " + Capabilities.version) + " found. Required version is ") + this.MIN_FLASH_VER) + " or above.");
                this.debugger.write(_local1);
                this.showMessageBox(_local1);
            };
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.model.addEventListener(SLEvent.LOGIN_COMPLETED, this.onLoginComplete);
            this.model.addEventListener(SLEvent.LOGGING_OUT, this.onLogoutStart);
            this.model.addEventListener(SLEvent.PLAY_SOUND, this.onPlaySoundEvent);
            loaderInfo.uncaughtErrorEvents.addEventListener(UncaughtErrorEvent.UNCAUGHT_ERROR, this.uncaughtErrorHandler);
            Font.registerFont(TahomaBold);
            Font.registerFont(MyriadSemiBold);
            Font.registerFont(MyriadRegular);
            Font.registerFont(MyriadBold);
            Font.registerFont(TahomaRegular);
        }
        public function get config():XML{
            return (this._config);
        }
        public function get model():Model{
            return (this._model);
        }
        public function get viewManager():ViewManager{
            return (this._viewManager);
        }
        public function get appManager():AppManager{
            return (this._appManager);
        }
        public function get wallpaperManager():WallpaperManager{
            return (this._wallpaperManager);
        }
        private function isValidFlashVersion():Boolean{
            var _local1:Array = Capabilities.version.split(",");
            var _local2:* = Number(_local1[0].split(" ")[1]);
            return ((_local2 >= this.MIN_FLASH_VER));
        }
        private function uncaughtErrorHandler(_arg1:UncaughtErrorEvent):void{
            var _local2:Error;
            var _local3:ErrorEvent;
            if ((_arg1.error is Error)){
                _local2 = (_arg1.error as Error);
                this.log(("Uncaught Exception:  " + _local2.toString()));
                if (this.debugger.debug){
                    throw (_local2);
                };
                ErrorView.getInstance().showError(this.config.Strings.ErrorString);
            } else {
                if ((_arg1.error is ErrorEvent)){
                    _local3 = (_arg1.error as ErrorEvent);
                    this.log(("Uncaught Exception:  " + _local3.toString()));
                    if (this.debugger.debug){
                        ErrorView.getInstance().showError(_local3.text);
                    } else {
                        ErrorView.getInstance().showError(this.config.Strings.ErrorString);
                    };
                };
            };
        }
        private function onAdded(_arg1:Event):void{
            var enableAsteroids:* = null;
            var evt:* = _arg1;
            enableAsteroids = function (_arg1:SLEvent):void{
                var slevent:* = _arg1;
                model.removeEventListener(SLEvent.LOGIN_COMPLETED, enableAsteroids);
                stage.addEventListener(MouseEvent.CLICK, function (_arg1:MouseEvent):void{
                    if (((((stage.stageWidth - _arg1.stageX) <= 5)) && ((_arg1.stageY <= 5)))){
                        ErrorView.getInstance().showError("Asteroids!");
                    };
                });
            };
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            if (ExternalInterface.available){
                ExternalInterface.addCallback("dispatchEvent", this._model.dispatcher);
                ExternalInterface.addCallback("addProperty", this._model.addProperty);
                ExternalInterface.addCallback("getProperty", this._model.getProperty);
                ExternalInterface.call("Ready");
                this.debugger.write("ExternalInterface Ready!");
            } else {
                this.debugger.write("ExternalInterface is not Available!");
            };
            var loader:* = new URLLoader();
            loader.addEventListener(Event.COMPLETE, this.onConfigLoad);
            loader.addEventListener(IOErrorEvent.IO_ERROR, this.onConfigLoadError);
            loader.load(new URLRequest(this.CONFIG_FILE));
            this.addEventListener(SLEvent.CONFIG_LOADED, this.configureUI);
            var _local3 = stage;
            with (_local3) {
                frameRate = 31;
                showDefaultContextMenu = false;
                scaleMode = StageScaleMode.NO_SCALE;
                align = StageAlign.TOP_LEFT;
            };
            this.model.addEventListener(SLEvent.LOGIN_COMPLETED, enableAsteroids);
        }
        private function onConfigLoad(_arg1:Event):void{
            var errorStr:* = null;
            var evt:* = _arg1;
            try {
                this._config = XML(evt.target.data);
                this.debugger.debug = (this.config.@debug == "true");
                this.dispatchEvent(new Event(SLEvent.CONFIG_LOADED));
            } catch(e:TypeError) {
                errorStr = "XML Malformed in config.xml. Check log for more details.";
                this.log(e);
                this.showMessageBox(errorStr);
            };
        }
        private function onConfigLoadError(_arg1:IOErrorEvent):void{
            this.log(_arg1.text);
            this.showMessageBox("Error loading config.xml. Check log for details.");
        }
        private function configureUI(_arg1:Event):void{
            this.removeEventListener(SLEvent.CONFIG_LOADED, this.configureUI);
            this.viewManager.removeEventListener(SLView.HIDE_COMPLETE, this.configureUI);
            this.addChildAt(this.wallpaperManager, 0);
            this.viewManager.addView(new LoginView());
            this.viewManager.addView(new DesktopView());
            this.addChild(this.debugger);
            this.wallpaperManager.init();
            this.wallpaperManager.addEventListener(TweenEvent.MOTION_FINISH, this.viewManager.displayNextView);
        }
        private function onLoginComplete(_arg1:SLEvent):void{
            var _local2:uint = uint(this.model.getProperty("RequiredInformationAtLogin", this.model.DATA_PATH));
            var _local3 = !((_local2 == 0));
            var _local4:String = this.model.getProperty("Username", this.model.DATA_PATH);
            var _local5:Boolean;
            if (_local4 != null){
                _local5 = (_local4.substring(0, 5).toLowerCase() == "guest");
            };
            if (((!((_local2 == 3))) && (!(_local5)))){
                this.playSound(this.config.Sounds.WelcomeBack);
            };
            if (_local3){
                this.model.addEventListener(SLEvent.REQUIRED_INFO_ENTERED, this.onAccountSetupComplete);
                this.viewManager.addViewAsNext(new AccountSetupView(_local2));
                this.playSound(this.config.Sounds.EnterInformation);
            };
            this.viewManager.displayNextView();
        }
        private function onAccountSetupComplete(_arg1:Event):void{
            this.model.removeEventListener(SLEvent.REQUIRED_INFO_ENTERED, this.onAccountSetupComplete);
            this.viewManager.displayNextView();
        }
        private function onLogoutStart(_arg1:SLEvent):void{
            this.model.addEventListener(SLEvent.VALUE_ADDED, this.onLogoutValueAdded);
        }
        private function onLogoutValueAdded(_arg1:SLEvent):void{
            var _local2:Array = String(_arg1.argument).split(this.model.DIM);
            var _local3:String = _local2[0];
            var _local4:String = _local2[1];
            switch (_local3){
                case (this.model.DATA_PATH + "LoadingStatus"):
                    if (_local4 == "Done"){
                        this.model.removeEventListener(SLEvent.VALUE_ADDED, this.onLogoutValueAdded);
                        this.onLogoutComplete();
                    };
                    break;
            };
        }
        private function onLogoutComplete():void{
            this.viewManager.addEventListener(SLView.HIDE_COMPLETE, this.configureUI);
            this.viewManager.clearAllViews();
            this.wallpaperManager.fadeOutImage();
        }
        public function getStageHeight():Number{
            if (stage.displayState == StageDisplayState.FULL_SCREEN){
                return (stage.fullScreenHeight);
            };
            return (stage.stageHeight);
        }
        public function getStageWidth():Number{
            if (stage.displayState == StageDisplayState.FULL_SCREEN){
                return (stage.fullScreenWidth);
            };
            return (stage.stageWidth);
        }
        public function log(_arg1:String):void{
            trace(("Log:  " + _arg1));
            this.debugger.write(("Log:  " + _arg1));
            if (ExternalInterface.available){
                ExternalInterface.call("LogAdd", _arg1);
            };
        }
        public function showMessageBox(_arg1:String):void{
            if (ExternalInterface.available){
                ExternalInterface.call("MessageBox", _arg1);
            };
        }
        public function onPlaySoundEvent(_arg1:SLEvent):void{
            this.playSound(this.config.Sounds[(_arg1.argument as String)]);
        }
        public function playSound(_arg1:String):void{
            var onloadError:* = null;
            var loadComplete:* = null;
            var url:* = _arg1;
            onloadError = function (_arg1:IOErrorEvent){
                if (debugger.debug){
                    log(("Unable to play sound: " + _arg1.text));
                };
            };
            loadComplete = function (_arg1:Event){
                var _local2:Sound = (_arg1.target as Sound);
                var _local3:SoundChannel = _local2.play();
            };
            var sound:* = new Sound(new URLRequest(url));
            sound.addEventListener(Event.COMPLETE, loadComplete);
            sound.addEventListener(IOErrorEvent.IO_ERROR, onloadError);
        }
        function frame1(){
            stop();
        }

    }
}//package com.slskin.ignitenetwork 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import flash.net.*;
    import com.slskin.ignitenetwork.fonts.*;

    public class NewsItem extends MovieClip {

        public var newsIcon:MovieClip;
        public var contentTLF:TLFTextField;
        public var headerTLF:TLFTextField;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;
        private var _contentTitle:String = "";
        private var _contentText:String = "";
        private var _datePosted:Date;
        private var _url:String;
        private var _isTweet:Boolean;
        private var urlRegex:RegExp;
        private var titleFormat:TextFormat;
        private var rollOverFormat:TextFormat;
        private var defaultFormat:TextFormat;

        public function NewsItem(){
            this.urlRegex = new RegExp("^http[s]?: \\/\\/([^\\/]+)\\/");
            this.titleFormat = new TextFormat("Tahoma", 14, 33023);
            this.rollOverFormat = new TextFormat("Tahoma", 12, 0xFFFFFF, false, false, true);
            this.defaultFormat = new TextFormat("Tahoma", 12, 0xCCCCCC, false, false, false);
            super();
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.TahomaBold";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "headerTLF", new Rectangle(0, 0, 75.95, 15.65), <tlfTextObject type="Point" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="top" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="0" textAlign="start" textAlignLast="end" textIndent="0" textJustify="distribute"><span color="#ffffff" fontFamily="Tahoma-Bold*" fontSize="12" fontStyle="normal" fontWeight="normal" kerning="auto" lineHeight="120%" textAlpha="1" textRotation="auto" trackingRight="0%">Mon Jan 30</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
                RuntimeManager.getSingleton().addInstance(this, "contentTLF", new Rectangle(0, 0, 230, 81), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="top" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#ffffff" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="toFit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="0" textAlign="start" textAlignLast="end" textIndent="0" textJustify="distribute"><span color="#cccccc" fontFamily="Tahoma-Regular*" fontSize="12" fontStyle="normal" fontWeight="normal" kerning="auto" lineHeight="120%" textAlpha="1" textRotation="auto" trackingRight="2.5%">Proudly announcing Ignition Chicago: 2nd Gear Fighting Game Tournament! On Saturday Feb. 11th challenge Chicago's... http://t.co/TBzG5bIc</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
        }
        public function __registerTLFFonts():void{
            Font.registerFont(TahomaBold);
            Font.registerFont(TahomaRegular);
            RuntimeFontMapper.addFontMapEntry("['Tahoma-Bold*','normal','normal']", ["Tahoma", "bold", "normal"]);
            RuntimeFontMapper.addFontMapEntry("['Tahoma-Regular*','normal','normal']", ["Tahoma", "normal", "normal"]);
        }
        private function test(_arg1:Event){
            trace(_arg1);
        }
        public function set contentTitle(_arg1:String):void{
            this._contentTitle = _arg1;
        }
        public function set contentText(_arg1:String):void{
            this._contentText = _arg1;
            this.contentTLF.text = _arg1;
            this.contentTLF.autoSize = TextFieldAutoSize.LEFT;
            this.contentTLF.textFlow.flowComposer.updateAllControllers();
        }
        public function set datePosted(_arg1:Date):void{
            this._datePosted = _arg1;
            this.headerTLF.text = this._datePosted.toDateString();
        }
        public function get datePosted():Date{
            return (this._datePosted);
        }
        public function set isTweet(_arg1:Boolean):void{
            this._isTweet = _arg1;
            if (!this._isTweet){
                this.newsIcon.gotoAndStop(2);
            };
        }
        public function set url(_arg1:String):void{
            var _local2:Object = this.urlRegex.exec(_arg1);
            if (((!((_local2 == null))) || ((_arg1.length < 0x1000)))){
                this._url = _arg1;
            };
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.contentTLF.setTextFormat(this.titleFormat, 0, this._contentTitle.length);
            this.contentTLF.setTextFormat(this.defaultFormat, this._contentTitle.length, this._contentText.length);
            this.contentTLF.textFlow.flowComposer.updateAllControllers();
            if (this._url.length > 0){
                this.contentTLF.buttonMode = true;
                this.contentTLF.useHandCursor = true;
                this.contentTLF.addEventListener(MouseEvent.ROLL_OVER, this.onNewsRollOver);
                this.contentTLF.addEventListener(MouseEvent.ROLL_OUT, this.onNewsRollOut);
                this.contentTLF.addEventListener(MouseEvent.CLICK, this.onNewsClick);
            };
        }
        private function onNewsRollOver(_arg1:MouseEvent):void{
            this.contentTLF.setTextFormat(this.rollOverFormat, this._contentTitle.length, this._contentText.length);
            this.contentTLF.textFlow.flowComposer.updateAllControllers();
        }
        private function onNewsRollOut(_arg1:MouseEvent):void{
            this.contentTLF.setTextFormat(this.defaultFormat, this._contentTitle.length, this._contentText.length);
            this.contentTLF.textFlow.flowComposer.updateAllControllers();
        }
        private function onNewsClick(_arg1:MouseEvent):void{
            navigateToURL(new URLRequest(this._url), "_blank");
        }
        override public function toString():String{
            return (this._datePosted.toDateString());
        }

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;
    import flash.events.*;
    import flashx.textLayout.formats.*;
    import flash.text.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.fonts.*;

    public class CheckBox extends MovieClip {

        private const LINK_COLOR:uint = 33023;
        private const LINK_ROLLOVER_COLOR:uint = 0xFFFFFF;

        public var check:MovieClip;
        private var _label:TLFTextField;
        private var checkMark:MovieClip;
        private var _labelText:String;
        private var _labelColor:uint;
        private var _rollOverColor:uint;
        private var _selected:Boolean;
        private var _fontSize:String;
        private var labelFormat:TextLayoutFormat;

        public function CheckBox(_arg1:String="Check Box", _arg2:uint=0xCCCCCC, _arg3:uint=0xFFFFFF, _arg4:String="11"){
            this._labelText = _arg1;
            this._labelColor = _arg2;
            this._fontSize = _arg4;
            this._rollOverColor = _arg3;
            this._selected = false;
            this._label = new TLFTextField();
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
        }
        public function get selected():Boolean{
            return (this._selected);
        }
        public function set selected(_arg1:Boolean){
            this._selected = _arg1;
            if (this.checkMark != null){
                this.checkMark.visible = _arg1;
            };
        }
        public function set labelText(_arg1:String):void{
            this._labelText = _arg1;
            this._label.htmlText = _arg1;
            this._label.textFlow.flowComposer.updateAllControllers();
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.checkMark = this.check;
            this.checkMark.visible = this._selected;
            var _local2:Sprite = new Sprite();
            _local2.tabEnabled = false;
            _local2.buttonMode = true;
            _local2.graphics.beginFill(0, 0);
            _local2.graphics.drawRect(0, 0, this.width, this.height);
            _local2.graphics.endFill();
            this.addChild(_local2);
            _local2.addEventListener(MouseEvent.CLICK, this.onCheckClick, false, 1);
            _local2.addEventListener(MouseEvent.ROLL_OVER, this.onMouseRollOver);
            _local2.addEventListener(MouseEvent.ROLL_OUT, this.onMouseRollOut);
            this.configureLabel();
        }
        private function configureLabel():void{
            var _local2 = this._label;
            with (_local2) {
                x = (this.width + 5);
                height = this.height;
                embedFont = true;
                selectable = false;
            };
            this._label.defaultTextFormat = new TextFormat(new TahomaRegular().fontName, this._fontSize, this._labelColor);
            this._label.text = this._labelText;
            var textWidth:* = this._label.textWidth;
            this._label.htmlText = this._labelText;
            this._label.width = textWidth;
            this.labelFormat = new TextLayoutFormat();
            _local2 = this.labelFormat;
            with (_local2) {
                color = this._labelColor;
                fontFamily = new TahomaRegular().fontName;
                fontSize = this._fontSize;
            };
            this._label.textFlow.hostFormat = this.labelFormat;
            this._label.textFlow.linkNormalFormat = {
                color:this.LINK_COLOR,
                textDecoration:"underline"
            };
            this._label.textFlow.linkHoverFormat = {
                color:this.LINK_ROLLOVER_COLOR,
                textDecoration:"underline"
            };
            this._label.textFlow.flowComposer.updateAllControllers();
            InteractiveObject(this._label.getChildAt(1)).tabEnabled = false;
            this._label.y = ((this.height - this._label.textHeight) / 2);
            this._label.y = (this._label.y + 2);
            this.addChild(this._label);
        }
        private function onCheckClick(_arg1:MouseEvent):void{
            this._selected = !(this._selected);
            this.checkMark.visible = this._selected;
        }
        private function onMouseRollOver(_arg1:MouseEvent):void{
            this.labelFormat.color = this._rollOverColor;
            this._label.textFlow.hostFormat = this.labelFormat;
            this._label.textFlow.flowComposer.updateAllControllers();
        }
        private function onMouseRollOut(_arg1:MouseEvent):void{
            this.labelFormat.color = this._labelColor;
            this._label.textFlow.hostFormat = this.labelFormat;
            this._label.textFlow.flowComposer.updateAllControllers();
        }

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import flash.net.*;
    import fl.containers.*;
    import com.slskin.ignitenetwork.fonts.*;

    public class IconLink extends MovieClip {

        private const ICON_SIZE:Number = 24;
        private const TLF_PADDING:Number = 5;

        public var iconLoader:UILoader;
        public var missingIcon:MovieClip;
        public var corner:MovieClip;
        public var hintTLF:TLFTextField;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;
        private var urlReq:URLRequest;
        private var iconPath:String;
        private var alias:String;

        public function IconLink(_arg1:String, _arg2:String, _arg3:String){
            var alias:* = _arg1;
            var url:* = _arg2;
            var iconPath:* = _arg3;
            super();
            this.urlReq = new URLRequest(url);
            this.iconPath = iconPath;
            this.alias = alias;
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.TahomaRegular";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "hintTLF", new Rectangle(0, 0, 23, 13), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="top" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="0" paddingBottom="0" background="true" backgroundColor="#000000" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="0" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#ffffff" fontFamily="Tahoma-Regular*" fontSize="10" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="100%" textAlpha="1" textRotation="auto" trackingRight="0%">url</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
        }
        public function __registerTLFFonts():void{
            Font.registerFont(TahomaRegular);
            RuntimeFontMapper.addFontMapEntry("['Tahoma-Regular*','normal','normal']", ["Tahoma", "normal", "normal"]);
        }
        private function onAdded(_arg1:Event):void{
            var evt:* = _arg1;
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.hintTLF.visible = false;
            this.corner.visible = false;
            this.missingIcon.visible = false;
            var _local3 = this.iconLoader;
            with (_local3) {
                addEventListener(IOErrorEvent.IO_ERROR, onIconLoadError);
                load(new URLRequest(iconPath));
                buttonMode = true;
                useHandCursor = true;
                addEventListener(MouseEvent.ROLL_OVER, onIconRollOver);
                addEventListener(MouseEvent.ROLL_OUT, onIconRollOut);
                addEventListener(MouseEvent.CLICK, onIconClick);
            };
        }
        private function onIconRollOver(_arg1:MouseEvent):void{
            this.hintTLF.text = this.alias;
            this.hintTLF.width = (this.hintTLF.textWidth + this.TLF_PADDING);
            this.hintTLF.visible = true;
            this.corner.visible = true;
        }
        private function onIconRollOut(_arg1:MouseEvent):void{
            this.hintTLF.visible = false;
            this.corner.visible = false;
            this.hintTLF.text = "";
            this.hintTLF.width = this.hintTLF.textWidth;
        }
        private function onIconClick(_arg1:MouseEvent):void{
            navigateToURL(this.urlReq);
        }
        private function onIconLoadError(_arg1:IOErrorEvent):void{
            var _local2:Main = (root as Main);
            _local2.debugger.write(_arg1.toString());
            _local2.log(_arg1.text);
            this.missingIcon.visible = true;
        }

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;
    import flash.events.*;
    import com.slskin.ignitenetwork.events.*;

    public class List extends MovieClip {

        private var container:Sprite;
        private var itemVerticalPadding:Number;
        private var leftPadding:Number;
        private var backgroundSprite:DisplayObject;
        private var _listItems:Array;
        private var _listWidth:Number = 0;
        private var _listHeight:Number = 0;
        private var selectedIndex:Number = -1;
        private var selectedItem:ListItem;

        public function List(_arg1:Array, _arg2:Number=0, _arg3:Number=0, _arg4:DisplayObject=null, _arg5:Boolean=false){
            this.itemVerticalPadding = _arg2;
            this.leftPadding = _arg3;
            this.backgroundSprite = _arg4;
            this._listItems = _arg1;
            if (_arg5){
                this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            };
            this.layoutList();
        }
        public function get listHeight():Number{
            return (this._listHeight);
        }
        public function get selectedListItem():ListItem{
            return (this.selectedItem);
        }
        public function get listWidth():Number{
            return (this._listWidth);
        }
        public function getItemAt(_arg1:uint):ListItem{
            return (this._listItems[_arg1]);
        }
        private function onAdded(_arg1:Event):void{
            stage.addEventListener(KeyboardEvent.KEY_UP, this.onKeyUpHandler);
            this.addEventListener(Event.REMOVED_FROM_STAGE, this.onRemoved);
        }
        private function onRemoved(_arg1:Event):void{
            stage.removeEventListener(KeyboardEvent.KEY_UP, this.onKeyUpHandler);
        }
        private function layoutList():void{
            var _local2:ListItem;
            if (((!((this.container == null))) && (this.contains(this.container)))){
                this.removeChild(this.container);
            };
            this.container = new Sprite();
            this.addChild(this.container);
            var _local1:uint = this._listItems.length;
            var _local3:Number = 0;
            var _local4:uint;
            while (_local4 < _local1) {
                _local2 = this._listItems[_local4];
                if (!(_local2 is ListItem)){
                } else {
                    if (_local2.itemWidth > this._listWidth){
                        this._listWidth = _local2.itemWidth;
                    };
                    _local2.x = this.leftPadding;
                    _local2.y = _local3;
                    _local3 = (_local3 + (_local2.itemHeight + this.itemVerticalPadding));
                    this.container.addChildAt(_local2, 0);
                };
                _local4++;
            };
            if (_local2 != null){
                _local2.seperatorVisible = false;
            };
            this._listHeight = _local3;
            this._listWidth = (this._listWidth + this.leftPadding);
            this.selectedIndex = -1;
            this.selectedItem = null;
            if (this.backgroundSprite != null){
                this.backgroundSprite.width = (this._listWidth + this.leftPadding);
                this.backgroundSprite.height = _local3;
                this.container.addChildAt(this.backgroundSprite, 0);
            };
        }
        private function onKeyUpHandler(_arg1:KeyboardEvent):void{
            if (this._listItems == null){
                return;
            };
            if (_arg1.keyCode == 40){
                this.selectedIndex = ((this.selectedIndex + 1) % this._listItems.length);
            } else {
                if (_arg1.keyCode == 38){
                    this.selectedIndex = ((this.selectedIndex - 1) % this._listItems.length);
                    if (this.selectedIndex < 0){
                        this.selectedIndex = (this._listItems.length + this.selectedIndex);
                    };
                } else {
                    if ((((_arg1.keyCode == 13)) && (!((this.selectedItem == null))))){
                        this.dispatchEvent(new SLEvent(SLEvent.LIST_ITEM_CLICK, this.selectedItem));
                    };
                };
            };
            if ((((_arg1.keyCode == 38)) || ((_arg1.keyCode == 40)))){
                if (this.selectedItem != null){
                    this.selectedItem.selected = false;
                };
                this.selectedItem = this._listItems[this.selectedIndex];
                if (this.selectedItem != null){
                    this.selectedItem.selected = true;
                };
            };
        }

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.fonts.*;

    public dynamic class CountBubble extends MovieClip {

        public var countTLF:TLFTextField;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;

        public function CountBubble(){
            super();
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.TahomaBold";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "countTLF", new Rectangle(0, 0, 22, 13.75), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="top" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="center" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#ffffff" fontFamily="Tahoma-Bold*" fontSize="11" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="130.00%" textAlpha="1" textRotation="auto" trackingRight="0.00%">00</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
        }
        public function __registerTLFFonts():void{
            Font.registerFont(TahomaBold);
            RuntimeFontMapper.addFontMapEntry("['Tahoma-Bold*','normal','normal']", ["Tahoma", "bold", "normal"]);
        }

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;

    public dynamic class DottedSeperator extends MovieClip {

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import flash.ui.*;
    import com.slskin.ignitenetwork.fonts.*;

    public class SLButton extends MovieClip {

        public static const CLICK_EVENT:String = "buttonClick";
        public static const DISABLED_CLICK_EVENT:String = "disabledClick";

        private const DEFAULT_COLOR:uint = 0xFFFFFF;
        private const ROLLOVER_COLOR:uint = 0xFFFFFF;

        public var button:SimpleButton;
        public var bg:MovieClip;
        public var field:TLFTextField;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;
        private var tlf:TLFTextField;
        private var disabledCursor:Bitmap;

        public function SLButton(){
            super();
            addFrameScript(0, this.frame1);
            this.tabChildren = false;
            this.enabled = true;
            this.disabledCursor = new Bitmap(new DisabledCursor());
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.MyriadSemiBold";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "field", new Rectangle(0, 0, 110.25, 23.15), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#333333" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="2" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="justify" textAlignLast="center" textIndent="0" textJustify="interWord"><span backgroundAlpha="1" backgroundColor="transparent" color="#ffffff" fontFamily="MyriadPro-SemiBold*" fontSize="16" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="130%" textAlpha="1" textRotation="auto" trackingRight="0%">Label</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
        }
        public function __registerTLFFonts():void{
            Font.registerFont(MyriadSemiBold);
            RuntimeFontMapper.addFontMapEntry("['MyriadPro-SemiBold*','normal','normal']", ["Myriad Pro Light", "bold", "normal"]);
        }
        public function get label():String{
            return (this.field.text);
        }
        public function set label(_arg1:String):void{
            this.field.text = _arg1;
        }
        public function enable():void{
            this.bg.gotoAndStop("up");
            this.button.removeEventListener(MouseEvent.ROLL_OVER, this.disabledOver);
            this.button.removeEventListener(MouseEvent.ROLL_OUT, this.disabledOut);
            this.button.addEventListener(MouseEvent.ROLL_OVER, this.onMouseOver);
            this.button.addEventListener(MouseEvent.ROLL_OUT, this.onMouseOut);
            this.button.addEventListener(MouseEvent.CLICK, this.onMouseClick);
            this.button.enabled = true;
            this.enabled = true;
            this.button.removeEventListener(MouseEvent.CLICK, this.disabledClick);
        }
        public function disable():void{
            this.bg.gotoAndStop("disabled");
            this.button.addEventListener(MouseEvent.ROLL_OVER, this.disabledOver);
            this.button.addEventListener(MouseEvent.ROLL_OUT, this.disabledOut);
            this.button.removeEventListener(MouseEvent.ROLL_OVER, this.onMouseOver);
            this.button.removeEventListener(MouseEvent.ROLL_OUT, this.onMouseOut);
            this.button.removeEventListener(MouseEvent.CLICK, this.onMouseClick);
            this.button.enabled = false;
            this.enabled = false;
            this.button.addEventListener(MouseEvent.CLICK, this.disabledClick);
        }
        private function onAdded(_arg1:Event):void{
            this.tlf = this.field;
            this.tlf.textColor = this.DEFAULT_COLOR;
            if (enabled){
                this.enable();
            } else {
                this.disable();
            };
        }
        private function disabledOver(_arg1:MouseEvent):void{
            this.disabledCursor.visible = false;
            this.addChild(this.disabledCursor);
            Mouse.hide();
            stage.addEventListener(MouseEvent.MOUSE_MOVE, this.onMouseMoveHandler);
        }
        private function disabledOut(_arg1:MouseEvent):void{
            this.removeChild(this.disabledCursor);
            Mouse.show();
            stage.removeEventListener(MouseEvent.MOUSE_MOVE, this.onMouseMoveHandler);
        }
        private function disabledClick(_arg1:MouseEvent):void{
            this.dispatchEvent(new Event(SLButton.DISABLED_CLICK_EVENT));
        }
        private function onMouseMoveHandler(_arg1:MouseEvent):void{
            var _local2:Point = globalToLocal(new Point(_arg1.stageX, _arg1.stageY));
            this.disabledCursor.x = _local2.x;
            this.disabledCursor.y = _local2.y;
            this.disabledCursor.visible = true;
        }
        private function onMouseOver(_arg1:MouseEvent):void{
            this.tlf.textColor = this.ROLLOVER_COLOR;
            this.bg.gotoAndStop("over");
        }
        private function onMouseOut(_arg1:MouseEvent):void{
            this.field.textColor = this.DEFAULT_COLOR;
            this.bg.gotoAndStop("up");
        }
        private function onMouseClick(_arg1:MouseEvent):void{
            this.dispatchEvent(new Event(SLButton.CLICK_EVENT));
        }
        function frame1(){
            stop();
        }

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;

    public dynamic class DottedSeperatorShort extends MovieClip {

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.events.*;
    import flash.geom.*;
    import flashx.textLayout.formats.*;
    import flash.text.*;
    import fl.text.*;
    import fl.transitions.*;
    import fl.transitions.easing.*;
    import com.slskin.ignitenetwork.fonts.*;
    import flash.filters.*;

    public class TextInput extends MovieClip {

        public static const FIELD_ERROR:String = "FieldError";
        public static const FIELD_VALID:String = "FieldValid";
        public static const VALIDATION_CHANGE:String = "ValidationChange";

        private const FIELD_WIDTH:Number = 150;
        private const ERRORFIELD_PADDING:uint = 10;
        private const MAX_CHARS:uint = 50;
        private const BORDER_DEFAULT_COLOR:uint = 0x333333;
        private const BORDER_ERROR_COLOR:uint = 0x990000;
        private const DEFAULT_REQUIRED_TEXT:String = "Required";

        public var fieldHint:TLFTextField;
        public var tlf:TLFTextField;
        public var border:MovieClip;
        public var ef:MovieClip;
        public var bg:MovieClip;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;
        private var _hint:String;
        private var _field:TLFTextField;
        private var _hasError:Boolean;
        private var _required:Boolean;
        private var requiredText:String;
        private var errorField:MovieClip;
        private var validator:Function;
        private var hintTween:Tween;
        private var errorTween:Tween;

        public function TextInput(_arg1:String="Field", _arg2:Function=null){
            var hint:String = _arg1;
            var v = _arg2;
            super();
            this.hint = hint;
            this.validator = v;
            this.required = false;
            this.requiredText = Language.translate("Required", this.DEFAULT_REQUIRED_TEXT);
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.MyriadRegular";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "fieldHint", new Rectangle(0, 0, 149, 22.25), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="bottom" firstBaselineOffset="auto" paddingLeft="5" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#666666" fontFamily="MyriadPro-Reg*" fontSize="13" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">Hint</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
                RuntimeManager.getSingleton().addInstance(this, "tlf", new Rectangle(0, 0, 149, 22.25), <tlfTextObject type="Paragraph" editPolicy="readWrite" columnCount="1" columnGap="20" verticalAlign="bottom" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true" maxChars="0"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#333333" fontFamily="MyriadPro-SemiBold*" fontSize="13" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%"></span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
        }
        public function __registerTLFFonts():void{
            Font.registerFont(MyriadRegular);
            Font.registerFont(MyriadSemiBold);
            RuntimeFontMapper.addFontMapEntry("['MyriadPro-Reg*','normal','normal']", ["Myriad Pro", "normal", "normal"]);
            RuntimeFontMapper.addFontMapEntry("['MyriadPro-SemiBold*','normal','normal']", ["Myriad Pro Light", "bold", "normal"]);
        }
        public function set hint(_arg1:String):void{
            this._hint = _arg1;
            if (this.fieldHint != null){
                this.fieldHint.text = _arg1;
            };
        }
        override public function set tabIndex(_arg1:int):void{
            if (this.field != null){
                InteractiveObject(this.field.getChildAt(1)).tabIndex = _arg1;
            };
        }
        public function set required(_arg1:Boolean):void{
            this._required = _arg1;
        }
        public function set field(_arg1:TLFTextField):void{
            this._field = _arg1;
        }
        public function set fieldValidator(_arg1:Function):void{
            this.validator = _arg1;
        }
        public function set displayAsPassword(_arg1:Boolean):void{
            this.field.displayAsPassword = _arg1;
        }
        public function set text(_arg1:String):void{
            this.field.text = _arg1;
            this.field.textFlow.flowComposer.updateAllControllers();
        }
        public function set upperCase(_arg1:Boolean):void{
            if (_arg1){
                this.field.textFlow.typographicCase = TLFTypographicCase.UPPERCASE;
            } else {
                this.field.textFlow.typographicCase = TLFTypographicCase.DEFAULT;
            };
        }
        public function get field():TLFTextField{
            if (this._field == null){
                return (this.tlf);
            };
            return (this._field);
        }
        public function get hint():String{
            return (this._hint);
        }
        public function get text():String{
            return (this.field.text);
        }
        public function get hasError():Boolean{
            return (this._hasError);
        }
        public function get required():Boolean{
            return (this._required);
        }
        override public function get width():Number{
            return (this.FIELD_WIDTH);
        }
        private function onAdded(_arg1:Event):void{
            this.field = this.tlf;
            this.errorField = this.ef;
            this.errorField.tlf.autoSize = "left";
            if (this.enabled){
                this.enable();
            } else {
                this.disable();
            };
            if (this.field.maxChars == 0){
                this.field.maxChars = this.MAX_CHARS;
            };
            if (this.text != ""){
                this.fieldHint.alpha = 0;
            } else {
                this.text = "";
            };
            this.errorField.visible = false;
            this.errorField.tabChildren = false;
            this.fieldHint.text = this.hint;
            InteractiveObject(this.fieldHint.getChildAt(1)).tabEnabled = false;
            this.field.addEventListener(FocusEvent.FOCUS_IN, this.onFieldFocusIn);
            this.field.addEventListener(FocusEvent.FOCUS_OUT, this.onFieldFocusOut);
            this.field.addEventListener(Event.CHANGE, this.validate);
        }
        private function onFieldFocusIn(_arg1:FocusEvent):void{
            if (this.isEmpty()){
                this.hintTween = new Tween(this.fieldHint, "alpha", Regular.easeOut, this.fieldHint.alpha, 0.4, 0.2, true);
            };
            if (this.hasError){
                this.errorField.visible = true;
            };
            this.field.addEventListener(Event.CHANGE, this.onFieldChange);
        }
        private function onFieldChange(_arg1:Event){
            if (!this.isEmpty()){
                this.fieldHint.alpha = 0;
            } else {
                this.fieldHint.alpha = 1;
            };
            this.checkRequired();
        }
        private function onFieldFocusOut(_arg1:FocusEvent):void{
            var _local2:TLFTextField = (_arg1.currentTarget as TLFTextField);
            if (_local2.text.length <= 0){
                this.hintTween = new Tween(this.fieldHint, "alpha", Regular.easeIn, this.fieldHint.alpha, 1, 0.5, true);
            };
            this.field.removeEventListener(Event.CHANGE, this.onFieldChange);
            this.checkRequired();
            this.errorField.visible = false;
        }
        private function highlight(_arg1:uint, _arg2:Array=null):void{
            var _local3:ColorTransform = new ColorTransform();
            _local3.color = _arg1;
            this.border.transform.colorTransform = _local3;
            this.border.filters = _arg2;
        }
        public function checkRequired():void{
            if (this.required){
                if (this.isEmpty()){
                    this.showError(this.requiredText);
                } else {
                    if (this.errorField.tlf.text == this.requiredText){
                        this.hideError();
                    };
                };
            };
        }
        public function addKeyDownListener(_arg1:Function):void{
            InteractiveObject(this.field.getChildAt(1)).addEventListener(KeyboardEvent.KEY_DOWN, _arg1);
        }
        public function validate(_arg1:Event=null):void{
            if (this.validator == null){
                return;
            };
            if (this.isEmpty()){
                return;
            };
            var _local2:String;
            _local2 = this.validator(this.text);
            if (_local2 != null){
                this.showError(_local2);
            } else {
                this.hideError();
            };
        }
        public function showError(_arg1:String):void{
            var _local2:Array = new Array(new GlowFilter(this.BORDER_ERROR_COLOR, 1, 2, 2, 2, 5));
            this.highlight(this.BORDER_ERROR_COLOR, _local2);
            this.errorField.tlf.text = _arg1;
            this.errorField.x = (this.border.width + (this.ERRORFIELD_PADDING / 2));
            if (!this.errorField.visible){
                this.errorField.alpha = 0;
                this.errorField.visible = true;
                this.errorTween = new Tween(this.errorField, "alpha", Strong.easeIn, this.errorField.alpha, 1, 0.5, true);
            };
            var _local3:Boolean = this.hasError;
            this._hasError = true;
            if (_local3 != this.hasError){
                this.dispatchEvent(new Event(TextInput.VALIDATION_CHANGE));
            };
            this.dispatchEvent(new Event(TextInput.FIELD_ERROR));
        }
        public function hideError():void{
            this.highlight(this.BORDER_DEFAULT_COLOR);
            this.errorField.tlf.text = "";
            this.errorField.x = this.border.width;
            this.errorField.visible = false;
            var _local1:Boolean = this.hasError;
            this._hasError = false;
            if (_local1 != this.hasError){
                this.dispatchEvent(new Event(TextInput.VALIDATION_CHANGE));
            };
            this.dispatchEvent(new Event(TextInput.FIELD_VALID));
        }
        public function disable():void{
            this.alpha = 0.2;
            this.enabled = false;
            if (this.field != null){
                this.field.selectable = false;
                this.field.type = "dynamic";
                InteractiveObject(this.field.getChildAt(1)).tabEnabled = false;
            };
        }
        public function enable():void{
            this.alpha = 1;
            this.enabled = true;
            if (this.field != null){
                this.field.selectable = true;
                this.field.type = "input";
                InteractiveObject(this.field.getChildAt(1)).tabEnabled = true;
            };
        }
        public function clearField():void{
            stage.focus = null;
            this.field.text = "";
            this.field.textFlow.flowComposer.updateAllControllers();
            this.hideError();
            this.fieldHint.alpha = 1;
        }
        public function isEmpty():Boolean{
            return ((this.field.text.length == 0));
        }

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.fonts.*;

    public class LaunchButton extends MovieClip {

        public var bg:MovieClip;
        public var labelTLF:TLFTextField;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;

        public function LaunchButton(){
            super();
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.MyriadSemiBold";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "labelTLF", new Rectangle(0, 0, 103.25, 21), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="true" backgroundColor="#ffffff" backgroundAlpha="0" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="center" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#ffffff" fontFamily="MyriadPro-SemiBold*" fontSize="14" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="100%" textAlpha="1" textRotation="auto" trackingRight="0%">PLAY</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
        }
        public function __registerTLFFonts():void{
            Font.registerFont(MyriadSemiBold);
            RuntimeFontMapper.addFontMapEntry("['MyriadPro-SemiBold*','normal','normal']", ["Myriad Pro Light", "bold", "normal"]);
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.buttonMode = (this.useHandCursor = true);
            this.labelTLF.text = Language.translate("Start", "Start").toUpperCase();
            addEventListener(MouseEvent.ROLL_OVER, this.onLaunchRollOver);
            addEventListener(MouseEvent.ROLL_OUT, this.onLaunchRollOut);
            addEventListener(MouseEvent.CLICK, this.onLaunchClick);
            addEventListener(MouseEvent.MOUSE_DOWN, this.onLaunchDown);
        }
        private function onLaunchRollOver(_arg1:MouseEvent):void{
            this.bg.gotoAndStop("Over");
            _arg1.stopPropagation();
        }
        private function onLaunchRollOut(_arg1:MouseEvent):void{
            this.bg.gotoAndStop("Up");
            _arg1.stopPropagation();
        }
        private function onLaunchDown(_arg1:MouseEvent):void{
            this.bg.gotoAndStop("Down");
        }
        private function onLaunchClick(_arg1:MouseEvent):void{
            this.bg.gotoAndStop("Over");
        }

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;
    import flash.events.*;
    import __AS3__.vec.*;
    import flash.text.*;
    import com.slskin.ignitenetwork.apps.*;
    import com.slskin.ignitenetwork.events.*;

    public class SearchField extends MovieClip {

        public static const SEARCH_RESULTS:String = "onSearchResults";
        public static const SEARCH_CLEAR_CLICK:String = "onSearchClearClick";

        private const LIST_ITEM_HEIGHT:Number = 32;
        private const QUICK_RESULT_PADDING:Number = 3;
        private const MAX_QUICK_RESULTS:int = 7;

        public var clearButton:SimpleButton;
        public var _field:TextField;
        private var _hint:String;
        private var dp:Vector.<IListItem>;
        private var listItems:Array;
        private var quickResults:List;
        private var searchResults:Array;
        private var field:TextField;

        public function SearchField(){
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.field = this._field;
            this.field.tabEnabled = false;
            this.field.alpha = 0.5;
            this.field.addEventListener(FocusEvent.FOCUS_IN, this.onFocusIn);
            this.field.addEventListener(FocusEvent.FOCUS_OUT, this.onFocusOut);
            this.field.addEventListener(Event.CHANGE, this.onSearchChange);
            this.field.text = this._hint;
            this.clearButton.visible = false;
            this.clearButton.addEventListener(MouseEvent.CLICK, this.onClearClick);
        }
        public function set hint(_arg1:String):void{
            this._hint = _arg1;
        }
        public function set dataProvider(_arg1:Vector.<IListItem>):void{
            this.dp = _arg1;
            this.createListItems(_arg1);
        }
        public function get text():String{
            return (this._field.text);
        }
        public function clearField():void{
            this.clearButton.visible = false;
            this.removeQuickResults();
            if (this._field.text != this._hint){
                this._field.text = "";
                stage.focus = null;
            };
        }
        private function createListItems(_arg1:Vector.<IListItem>):void{
            var _local2:ListItem;
            this.listItems = new Array();
            var _local3:uint;
            while (_local3 < _arg1.length) {
                _local2 = new ListItem(_arg1[_local3], this.width, this.LIST_ITEM_HEIGHT, 0x333333, "11", 0xCCCCCC, new DottedSeperatorSearch());
                _local2.addEventListener(SLEvent.LIST_ITEM_CLICK, this.onListItemClick);
                this.listItems.push(_local2);
                _local3++;
            };
        }
        private function displayQuickResults(_arg1:Array):void{
            var _local3:uint;
            var _local4:int;
            var _local5:ListItem;
            this.removeQuickResults();
            this.searchResults = _arg1;
            var _local2:Array = new Array();
            if (_arg1.length > this.MAX_QUICK_RESULTS){
                _local3 = 0;
                while (_local3 < this.MAX_QUICK_RESULTS) {
                    _local2.push(_arg1[_local3]);
                    _local3++;
                };
                _local4 = (_arg1.length - this.MAX_QUICK_RESULTS);
                _local5 = new ListItem(new Application("-7", (_local4 + " More Results...")), this.width, this.LIST_ITEM_HEIGHT, 0x333333, "11", 0xCCCCCC, new DottedSeperatorSearch());
                _local5.addEventListener(SLEvent.LIST_ITEM_CLICK, this.onListItemClick);
                _local2.push(_local5);
            } else {
                _local2 = _arg1;
            };
            this.quickResults = new List(_local2, 0, 0, new PanelBackground(), true);
            this.quickResults.addEventListener(SLEvent.LIST_ITEM_CLICK, this.onListItemClick);
            this.quickResults.y = (this.height + this.QUICK_RESULT_PADDING);
            this.addChild(this.quickResults);
        }
        private function removeQuickResults():void{
            if (((!((this.quickResults == null))) && (this.contains(this.quickResults)))){
                this.removeChild(this.quickResults);
            };
        }
        private function onSearchChange(_arg1:Event):void{
            this.clearButton.visible = (this.field.text.length > 0);
            if (this.field.text.length > 0){
                this.displayQuickResults(this.listItems.filter(this.filterFunc));
            } else {
                this.removeQuickResults();
            };
        }
        private function filterFunc(_arg1:ListItem, _arg2:int, _arg3:Array):Boolean{
            _arg1.clearFormat();
            _arg1.seperatorVisible = true;
            _arg1.selected = false;
            var _local4:String = _arg1.dataProvider.itemLabel.toLocaleLowerCase();
            var _local5:String = this.field.text.toLocaleLowerCase();
            var _local6:int = _local4.search(_local5);
            if (_local6 == -1){
                return (false);
            };
            _arg1.highlight(_local6, (_local6 + _local5.length));
            return (true);
        }
        private function dispatchSearchEvent(_arg1:Event=null):void{
            this.removeQuickResults();
            this.dispatchEvent(new SLEvent(SearchField.SEARCH_RESULTS, this.searchResults));
        }
        private function onFocusIn(_arg1:FocusEvent):void{
            _arg1.target.alpha = 1;
            if (_arg1.target.text == this._hint){
                _arg1.target.text = "";
            };
            _arg1.target.addEventListener(KeyboardEvent.KEY_UP, this.onKeyboardUp);
        }
        private function onFocusOut(_arg1:FocusEvent):void{
            if (_arg1.target.text == ""){
                _arg1.target.text = this._hint;
                _arg1.target.alpha = 0.5;
            };
            _arg1.target.removeEventListener(KeyboardEvent.KEY_UP, this.onKeyboardUp);
        }
        private function onClearClick(_arg1:MouseEvent):void{
            this.clearField();
            this.dispatchEvent(new Event(SearchField.SEARCH_CLEAR_CLICK));
        }
        private function onKeyboardUp(_arg1:KeyboardEvent):void{
            if (_arg1.keyCode == 27){
                this.clearField();
            } else {
                if ((((_arg1.keyCode == 13)) && ((this.quickResults.selectedListItem == null)))){
                    this.dispatchSearchEvent();
                };
            };
        }
        private function onListItemClick(_arg1:SLEvent):void{
            if (((_arg1.argument as ListItem).dataProvider as Application).appID == "-7"){
                this.dispatchSearchEvent();
            } else {
                this.dispatchEvent(new SLEvent(SLEvent.LIST_ITEM_CLICK, _arg1.argument));
            };
        }

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;

    public dynamic class DottedSeperatorSearch extends MovieClip {

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;

    public dynamic class SpinnerDark extends MovieClip {

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;

    public dynamic class LoaderCloseButton extends SimpleButton {

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;
    import __AS3__.vec.*;
    import flash.text.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.events.*;
    import com.slskin.ignitenetwork.fonts.*;

    public class DropDownSelector extends MovieClip {

        private const DROP_DOWN_WIDTH:Number = 150;
        private const LIST_ITEM_HEIGHT:Number = 25;
        private const DROP_DOWN_PADDING:Number = 3;
        private const ITEM_ROLLOVER_COLOR:uint = 0x333333;
        private const ITEM_LABEL_SIZE:String = "11";
        private const ITEM_LABEL_COLOR:uint = 0xE1E1E1;

        public var background:MovieClip;
        public var title:TLFTextField;
        public var SelectorHitBox:SimpleButton;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;
        private var _dropDownList:List;
        private var dp:Vector.<IListItem>;

        public function DropDownSelector(){
            super();
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.TahomaRegular";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "title", new Rectangle(0, 0, 151, 15), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="0" paddingTop="2" paddingRight="0" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#ffffff" fontFamily="Tahoma-Reg*" fontSize="11" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">Select</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
        }
        public function __registerTLFFonts():void{
            Font.registerFont(TahomaRegular);
            RuntimeFontMapper.addFontMapEntry("['Tahoma-Reg*','normal','normal']", ["Tahoma", "normal", "normal"]);
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            InteractiveObject(this.title.getChildAt(1)).tabEnabled = false;
            this.buttonMode = (this.useHandCursor = true);
            this.SelectorHitBox.tabEnabled = false;
            this.addEventListener(MouseEvent.CLICK, this.onSelectorClick);
            stage.addEventListener(MouseEvent.CLICK, this.onMasterClick);
        }
        public function set dataProvider(_arg1:Vector.<IListItem>):void{
            this.dp = _arg1;
            this.createDropDown(_arg1);
        }
        public function set label(_arg1:String):void{
            this.title.text = _arg1;
        }
        private function createDropDown(_arg1:Vector.<IListItem>):void{
            var _local3:ListItem;
            var _local2:Array = new Array();
            var _local4:uint;
            while (_local4 < _arg1.length) {
                _local3 = new ListItem(_arg1[_local4], this.DROP_DOWN_WIDTH, this.LIST_ITEM_HEIGHT, this.ITEM_ROLLOVER_COLOR, this.ITEM_LABEL_SIZE, this.ITEM_LABEL_COLOR, new DottedSeperatorShort());
                _local3.addEventListener(SLEvent.LIST_ITEM_CLICK, this.onListItemClick);
                _local2.push(_local3);
                _local4++;
            };
            this._dropDownList = new List(_local2, 0, 0, new PanelBackground());
            this._dropDownList.visible = false;
            this._dropDownList.y = (this.height + this.DROP_DOWN_PADDING);
            this.addChild(this._dropDownList);
        }
        private function toggleDropDown():void{
            if (this._dropDownList.visible){
                this.background.gotoAndStop("Up");
            } else {
                this.background.gotoAndStop("Down");
            };
            this._dropDownList.visible = !(this._dropDownList.visible);
        }
        private function onSelectorClick(_arg1:MouseEvent):void{
            this.toggleDropDown();
            _arg1.stopPropagation();
        }
        private function onMasterClick(_arg1:MouseEvent):void{
            if (((!((this._dropDownList == null))) && (this._dropDownList.visible))){
                this.toggleDropDown();
            };
        }
        private function onListItemClick(_arg1:SLEvent):void{
            this.dispatchEvent(new SLEvent(SLEvent.LIST_ITEM_CLICK, _arg1.argument));
        }

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.events.*;
    import flash.text.*;
    import com.slskin.ignitenetwork.apps.*;
    import fl.text.*;
    import fl.transitions.*;
    import flash.net.*;
    import fl.containers.*;
    import fl.transitions.easing.*;
    import com.slskin.ignitenetwork.fonts.*;
    import com.slskin.ignitenetwork.loaders.*;
    import flash.filters.*;

    public class DockIcon extends MovieClip {

        public const ICON_SIZE:Number = 48;
        private const CAPTION_HEIGHT:Number = 20;
        private const CAPTION_MIN_WIDTH:Number = 75;
        private const PILL_PADDING:Number = 4;
        private const ICON_PATH:String = "./assets/dock/";

        public var defaultIcon:MovieClip;
        public var iconButton:SimpleButton;
        public var corner:MovieClip;
        public var _iconLoader:UILoader;
        public var bubble:MovieClip;
        private var _category:MainCategory;
        private var _dropDownVisible:Boolean;
        private var _isSelected:Boolean;
        private var captionPill:Sprite;
        private var captionTLF:TLFTextField;
        private var captionContainer:MovieClip;
        private var dropDownContainer:MovieClip;
        private var iconLoader:UILoader;
        private var loaderMC:Roller;

        public function DockIcon(_arg1:MainCategory){
            this._category = _arg1;
            this.captionContainer = new MovieClip();
            this.captionContainer.y = this.ICON_SIZE;
            this.loaderMC = new Roller();
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
        }
        public function get category():MainCategory{
            return (this._category);
        }
        public function get dropDownVisible():Boolean{
            return (this._dropDownVisible);
        }
        public function get isSelected():Boolean{
            return (this._isSelected);
        }
        public function set isSelected(_arg1:Boolean){
            var _local2:GlowFilter;
            this._isSelected = _arg1;
            if (_arg1){
                _local2 = new GlowFilter(0x666666, 1, 6, 6, 1, 1, false, false);
                this.iconLoader.filters = new Array(_local2);
                this.iconButton.enabled = false;
                this.iconButton.useHandCursor = false;
                this.bubble.visible = true;
            } else {
                this.iconLoader.filters = null;
                this.iconButton.enabled = true;
                this.iconButton.useHandCursor = true;
                this.bubble.visible = false;
            };
        }
        private function onAdded(_arg1:Event):void{
            var evt:* = _arg1;
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.iconLoader = this._iconLoader;
            this.isSelected = false;
            this.corner.visible = false;
            this.loaderMC.visible = false;
            this.captionContainer.addChild(this.loaderMC);
            this.captionContainer.visible = false;
            this.addChildAt(this.captionContainer, (this.getChildIndex(this.corner) - 1));
            var _local3 = this.iconLoader;
            with (_local3) {
                maintainAspectRatio = true;
                scaleContent = true;
                height = ICON_SIZE;
                height = ICON_SIZE;
                addEventListener(IOErrorEvent.IO_ERROR, onIconLoadError);
            };
            this.loadIcon(((this.ICON_PATH + this._category.name.toLowerCase().replace(" ", "_")) + ".png"));
            this.createCaptionTLF();
            this.setCaption(this.category.localeName);
            this.loaderMC.x = (this.captionPill.width - this.loaderMC.width);
            this.loaderMC.y = ((this.captionPill.height - this.loaderMC.height) / 2);
            this.iconButton.addEventListener(MouseEvent.ROLL_OVER, this.onIconRollOver);
            this.iconButton.addEventListener(MouseEvent.ROLL_OUT, this.onIconRollOut);
            this.iconButton.tabEnabled = false;
        }
        public function loadIcon(_arg1:String):void{
            this.iconLoader.load(new URLRequest(_arg1));
        }
        private function createCaptionTLF():void{
            this.captionTLF = new TLFTextField();
            this.captionTLF.defaultTextFormat = new TextFormat(new MyriadSemiBold().fontName, "14", 0xFFFFFF, true);
            var _local2 = this.captionTLF;
            with (_local2) {
                embedFonts = true;
                multiline = false;
                autoSize = TextFieldAutoSize.LEFT;
                antiAliasType = AntiAliasType.ADVANCED;
                selectable = false;
            };
            this.captionContainer.addChild(this.captionTLF);
        }
        private function setCaption(_arg1:String):void{
            if (this.captionTLF == null){
                return;
            };
            this.captionTLF.text = _arg1;
            var _local2:Number = (this.captionTLF.width + this.PILL_PADDING);
            if (_local2 < this.CAPTION_MIN_WIDTH){
                _local2 = this.CAPTION_MIN_WIDTH;
            };
            var _local3:Number = (this.CAPTION_HEIGHT + this.PILL_PADDING);
            this.drawPill(_local2, _local3);
            this.captionTLF.x = ((this.ICON_SIZE - this.captionTLF.width) / 2);
            this.captionTLF.y = ((_local3 - this.captionTLF.height) / 2);
        }
        private function drawPill(_arg1:Number, _arg2:Number):void{
            if (((!((this.captionPill == null))) && (!((this.captionPill.stage == null))))){
                this.removeChild(this.captionPill);
            };
            var _local3:Sprite = new Sprite();
            _local3.graphics.beginFill(0, 0.75);
            _local3.graphics.lineStyle(1, 0x999999, 1);
            _local3.graphics.drawRect(0, 0, _arg1, _arg2);
            _local3.graphics.endFill();
            var _local4:GlowFilter = new GlowFilter(0, 1, 6, 6, 1, 1, false, false);
            _local3.filters = new Array(_local4);
            _local3.x = ((this.ICON_SIZE - _arg1) / 2);
            this.captionPill = _local3;
            this.captionContainer.addChildAt(_local3, 0);
        }
        public function showLoader():void{
            if (!this.loaderMC.visible){
                this.captionPill.width = (this.captionPill.width + (this.loaderMC.width + this.PILL_PADDING));
                this.loaderMC.visible = true;
            };
        }
        public function hideLoader():void{
            if (this.loaderMC.visible){
                this.captionPill.width = (this.captionPill.width - (this.loaderMC.width + this.PILL_PADDING));
                this.loaderMC.visible = false;
            };
        }
        public function displayDropDown(_arg1:List):void{
            if (((!((this.dropDownContainer == null))) && (!((this.dropDownContainer.stage == null))))){
                this.removeChild(this.dropDownContainer);
            };
            this.captionContainer.visible = false;
            this.dropDownContainer = new MovieClip();
            this.dropDownContainer.y = this.ICON_SIZE;
            var _local2:Number = 2;
            var _local3:Sprite = new Sprite();
            _local3.graphics.beginFill(0, 0.75);
            _local3.graphics.lineStyle(1, 0x999999, 1);
            _local3.graphics.drawRect(0, 0, (_arg1.listWidth + _local2), (_arg1.listHeight + _local2));
            _local3.graphics.endFill();
            _arg1.x = (_arg1.y = (_local2 / 2));
            _local3.addChild(_arg1);
            var _local4:GlowFilter = new GlowFilter(0, 1, 6, 6, 1, 1, false, false);
            _local3.filters = new Array(_local4);
            this.dropDownContainer.addChild(_local3);
            this.dropDownContainer.visible = false;
            this.addChildAt(this.dropDownContainer, (this.getChildIndex(this.corner) - 1));
            TransitionManager.start(this.dropDownContainer, {
                type:Fade,
                direction:Transition.IN,
                duration:1,
                easing:Strong.easeInOut
            });
            TransitionManager.start(this.corner, {
                type:Fade,
                direction:Transition.IN,
                duration:1,
                easing:Strong.easeInOut
            });
            this.iconButton.removeEventListener(MouseEvent.ROLL_OVER, this.onIconRollOver);
            this.iconButton.removeEventListener(MouseEvent.ROLL_OUT, this.onIconRollOut);
            this._dropDownVisible = true;
            stage.addEventListener(MouseEvent.CLICK, this.onMasterClick);
        }
        public function hideDropDown():void{
            if (!this._dropDownVisible){
                return;
            };
            if (((!((this.dropDownContainer == null))) && (!((this.dropDownContainer.stage == null))))){
                this.removeChild(this.dropDownContainer);
            };
            this.corner.visible = false;
            this.iconButton.addEventListener(MouseEvent.ROLL_OVER, this.onIconRollOver);
            this.iconButton.addEventListener(MouseEvent.ROLL_OUT, this.onIconRollOut);
            this._dropDownVisible = false;
        }
        private function onMasterClick(_arg1:MouseEvent):void{
            if (this._dropDownVisible){
                this.hideDropDown();
                stage.removeEventListener(MouseEvent.CLICK, this.onMasterClick);
            };
        }
        private function onIconRollOver(_arg1:Event):void{
            if (this.isSelected){
                return;
            };
            this.corner.visible = true;
            this.captionContainer.visible = true;
        }
        private function onIconRollOut(_arg1:Event):void{
            this.corner.visible = false;
            this.captionContainer.visible = false;
        }
        private function onIconLoadError(_arg1:IOErrorEvent):void{
            var _local2:Main = (root as Main);
            _local2.debugger.write(_arg1.toString());
            _local2.log(_arg1.text);
            this.defaultIcon.alpha = 1;
        }

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;

    public dynamic class PanelBackground extends MovieClip {

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {

    public interface IListItem {

        function get itemID():String;
        function get itemLabel():String;
        function get iconPath():String;
        function get imagePath():String;

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;

    public dynamic class DisabledCursor extends BitmapData {

        public function DisabledCursor(_arg1:int=16, _arg2:int=16){
            super(_arg1, _arg2);
        }
    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;

    public dynamic class GreyArrow extends MovieClip {

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.events.*;
    import flashx.textLayout.formats.*;
    import flash.text.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.events.*;
    import flash.net.*;
    import fl.containers.*;
    import fl.transitions.easing.*;
    import com.slskin.ignitenetwork.fonts.*;

    public class ListItem extends MovieClip {

        private var HPADDING:Number = 3;
        private var ROLLOVER_ALPHA:Number = 0.5;
        private var SELECTED_ALPHA:Number = 0.75;
        private var labelTLF:TLFTextField;
        private var rollOverSprite:Sprite;
        private var seperator:DisplayObject;
        private var defaultFormat:TextFormat;
        private var defaultHighlight:TextFormat;
        private var defaultFont:Font;
        private var _itemWidth:Number;
        private var _itemHeight:Number;
        private var _dp:IListItem;
        private var _icon:UILoader;
        private var _iconSize:Number;
        private var _selected:Boolean;
        private var _highlightStart:int;
        private var _highlightEnd:int;

        public function ListItem(_arg1:IListItem, _arg2:Number, _arg3:Number, _arg4:uint=0x333333, _arg5:Object="12", _arg6:uint=0xCCCCCC, _arg7:DisplayObject=null, _arg8:Font=null, _arg9:Number=16){
            this._dp = _arg1;
            this.seperator = _arg7;
            this.defaultFont = (((_arg8 == null)) ? new TahomaBold() : _arg8);
            this.defaultFormat = new TextFormat(this.defaultFont.fontName, _arg5, _arg6, false, false, false);
            this.defaultHighlight = new TextFormat(this.defaultFont.fontName, _arg5, 0xFFFFFF, true, false, true);
            this._itemWidth = _arg2;
            this._itemHeight = _arg3;
            this._iconSize = _arg9;
            this.createRollOverSprite(_arg4);
            this.setupTLF();
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
        }
        public function get dataProvider():IListItem{
            return (this._dp);
        }
        public function get itemHeight():Number{
            return (this._itemHeight);
        }
        public function get itemWidth():Number{
            return (this._itemWidth);
        }
        public function get iconSize():Number{
            return (this._iconSize);
        }
        public function get highlightStart():int{
            return (this._highlightStart);
        }
        public function get highlightEnd():int{
            return (this._highlightEnd);
        }
        public function set selected(_arg1:Boolean):void{
            this._selected = _arg1;
            this.rollOverSprite.alpha = ((_arg1) ? this.SELECTED_ALPHA : 0);
        }
        public function set seperatorVisible(_arg1:Boolean):void{
            if (this.seperator != null){
                this.seperator.visible = _arg1;
            };
        }
        private function setupTLF():void{
            this.labelTLF = new TLFTextField();
            var _local2 = this.labelTLF;
            with (_local2) {
                width = this._itemWidth;
                height = this._itemHeight;
                defaultTextFormat = this.defaultFormat;
                embedFonts = true;
                multiline = false;
                selectable = false;
                antiAliasType = AntiAliasType.ADVANCED;
                text = this._dp.itemLabel;
                verticalAlign = VerticalAlign.MIDDLE;
                paddingRight = (paddingLeft = this.HPADDING);
            };
            this.labelTLF.setTextFormat(this.defaultFormat);
            this.labelTLF.textFlow.flowComposer.updateAllControllers();
        }
        private function createRollOverSprite(_arg1:uint):void{
            this.rollOverSprite = new Sprite();
            this.rollOverSprite.graphics.beginFill(_arg1);
            this.rollOverSprite.graphics.drawRect(0, 0, this._itemWidth, this._itemHeight);
            this.rollOverSprite.graphics.endFill();
            this.rollOverSprite.alpha = 0;
        }
        public function highlight(_arg1:int=-1, _arg2:int=-1):void{
            try {
                this.labelTLF.setTextFormat(this.defaultHighlight, _arg1, _arg2);
                this._highlightStart = _arg1;
                this._highlightEnd = _arg2;
                this.labelTLF.textFlow.flowComposer.updateAllControllers();
            } catch(error:RangeError) {
            };
        }
        public function configureHighlight(_arg1:uint, _arg2:Object, _arg3:Boolean, _arg4:Boolean):void{
            this.defaultHighlight = new TextFormat(this.defaultFont.fontName, _arg2, _arg1, false, _arg3, _arg4);
        }
        public function clearFormat():void{
            this.labelTLF.setTextFormat(this.defaultFormat);
            this.labelTLF.textFlow.flowComposer.updateAllControllers();
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.layoutListItem();
            if ((root as Main).model.getProperty("showAppIDs") == "1"){
                this.labelTLF.appendText(((" (" + this._dp.itemID) + ")"));
            };
            this.buttonMode = true;
            this.useHandCursor = true;
            this.addEventListener(MouseEvent.ROLL_OVER, this.onMouseRollOver);
            this.addEventListener(MouseEvent.ROLL_OUT, this.onMouseRollOut);
            this.addEventListener(MouseEvent.CLICK, this.onMouseClick);
        }
        private function layoutListItem():void{
            var xPos:* = (this.HPADDING * 2);
            if (this._dp.iconPath != null){
                this._icon = new UILoader();
                var _local2 = this._icon;
                with (_local2) {
                    width = (height = this.iconSize);
                    maintainAspectRatio = true;
                    scaleContent = true;
                    x = xPos;
                    y = ((this._itemHeight - this.iconSize) / 2);
                };
                this.addChild(this._icon);
                xPos = (xPos + (this._icon.width + this.HPADDING));
                this._icon.addEventListener(IOErrorEvent.IO_ERROR, this.onIconLoadError);
                this._icon.load(new URLRequest(this._dp.iconPath));
            };
            this.labelTLF.x = xPos;
            this.labelTLF.width = (this.labelTLF.width - xPos);
            this.addChild(this.labelTLF);
            if (this.seperator != null){
                this.seperator.y = this._itemHeight;
                this.addChild(this.seperator);
            };
            this.addChildAt(this.rollOverSprite, 0);
        }
        private function onIconLoadError(_arg1:IOErrorEvent):void{
            this.labelTLF.x = (this.labelTLF.x - this.iconSize);
        }
        private function onMouseRollOver(_arg1:MouseEvent):void{
            this.rollOverSprite.alpha = this.ROLLOVER_ALPHA;
            _arg1.stopPropagation();
        }
        private function onMouseRollOut(_arg1:MouseEvent):void{
            this.rollOverSprite.alpha = ((this._selected) ? this.SELECTED_ALPHA : 0);
            _arg1.stopPropagation();
        }
        private function onMouseClick(_arg1:MouseEvent):void{
            this.dispatchEvent(new SLEvent(SLEvent.LIST_ITEM_CLICK, this));
        }

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;

    public dynamic class TileList extends MovieClip {

        private var container:Sprite;
        private var _listItems:Array;
        private var _listWidth:Number;
        private var _vPadding:Number;
        private var _hPadding:Number;

        public function TileList(_arg1:Array, _arg2:Number, _arg3:Number, _arg4:Number){
            this._listItems = _arg1;
            this._listWidth = _arg2;
            this._vPadding = _arg3;
            this._hPadding = _arg4;
            this.graphics.beginFill(0, 0);
            this.graphics.drawRect(0, 0, 1, 1);
            this.graphics.endFill();
            this.layoutTileList();
        }
        public function get listWidth():Number{
            return (this._listWidth);
        }
        public function getItemAt(_arg1:uint):BoxShot{
            return (this._listItems[_arg1]);
        }
        private function layoutTileList():void{
            var _local12:uint;
            var _local13:BoxShot;
            if (((!((this.container == null))) && (this.contains(this.container)))){
                this.removeChild(this.container);
            };
            this.container = new Sprite();
            addChild(this.container);
            var _local1:uint = this._listItems.length;
            var _local2:uint = (this._listWidth / (BoxShot.BOX_WIDTH + this._hPadding));
            var _local3:uint = Math.ceil((_local1 / _local2));
            var _local4:uint = _local2;
            var _local5:Number = 0;
            var _local6:Number = 0;
            var _local7:Number = BoxShot.BOX_WIDTH;
            var _local8:Number = ((BoxShot.BOX_HEIGHT + BoxShot.LABEL_HEIGHT) + BoxShot.LABEL_PADDING);
            var _local9:uint;
            var _local10:uint;
            while (_local10 < _local3) {
                _local5 = (((_local10 * _local8) + (_local10 * this._vPadding)) + this._vPadding);
                _local12 = 0;
                while (_local12 < _local4) {
                    if (_local9 >= _local1){
                        break;
                    };
                    _local6 = (((_local12 * _local7) + (_local12 * this._hPadding)) + this._hPadding);
                    var _temp1 = _local9;
                    _local9 = (_local9 + 1);
                    _local13 = this._listItems[_temp1];
                    _local13.x = _local6;
                    _local13.y = _local5;
                    this.container.addChild(_local13);
                    _local12++;
                };
                _local10++;
            };
            var _local11:Sprite = new Sprite();
            _local11.graphics.beginFill(0, 0);
            _local11.graphics.drawRect(0, (_local5 + _local8), 1, (2 * this._vPadding));
            _local11.graphics.endFill();
            this.container.addChild(_local11);
        }

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;

    public dynamic class DiagonalLines extends MovieClip {

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.fonts.*;

    public dynamic class ErrorCloseButton extends SimpleButton {

        public var __id2_:TCMText;
        public var __id1_:TCMText;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;

        public function ErrorCloseButton(){
            super();
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.TahomaRegular";
            if (!TCMRuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, TCMRuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                TCMRuntimeManager.getSingleton().addInstance(this, "__id1_", new Rectangle(0, 0, 88, 16), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="top" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="toFit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="0" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#cccccc" fontFamily="Tahoma-Reg*" fontSize="10" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">Click here to close</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
                TCMRuntimeManager.getSingleton().addInstance(this, "__id2_", new Rectangle(0, 0, 88, 16), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="top" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="toFit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="0" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#ffffff" fontFamily="Tahoma-Reg*" fontSize="10" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">Click here to close</span></p></TextFlow></tlfTextObject>
                , null, undefined, 1, 0, "", false, true);
                TCMRuntimeManager.getSingleton().addInstance(this, "__id2_", new Rectangle(0, 0, 88, 16), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="top" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="toFit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="0" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#ffffff" fontFamily="Tahoma-Reg*" fontSize="10" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">Click here to close</span></p></TextFlow></tlfTextObject>
                , null, undefined, 2, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            TCMRuntimeManager.getSingleton().addInstanceComplete(this);
        }
        public function __registerTLFFonts():void{
            Font.registerFont(TahomaRegular);
            RuntimeFontMapper.addFontMapEntry("['Tahoma-Reg*','normal','normal']", ["Tahoma", "normal", "normal"]);
        }

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;

    public dynamic class BlueArrow extends MovieClip {

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;

    public dynamic class SpinnerLight extends MovieClip {

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.events.*;

    public class SexSelector extends MovieClip {

        public static const MALE:String = "Male";
        public static const FEMALE:String = "Female";

        public var femaleCB:CheckBox;
        public var maleCB:CheckBox;

        public function SexSelector(){
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
        }
        public function get isSelected():Boolean{
            return (((this.maleCB.selected) || (this.femaleCB.selected)));
        }
        public function get selectedGender():String{
            if (this.maleCB.selected){
                return (SexSelector.MALE);
            };
            return (SexSelector.FEMALE);
        }
        public function set selectedGender(_arg1:String):void{
            if (_arg1 == SexSelector.MALE){
                this.maleCB.selected = true;
            } else {
                if (_arg1 == SexSelector.FEMALE){
                    this.femaleCB.selected = true;
                };
            };
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.maleCB.labelText = Language.translate("Male", "Male");
            this.femaleCB.labelText = Language.translate("Female", "Female");
            this.maleCB.addEventListener(MouseEvent.CLICK, this.onMaleSelected);
            this.femaleCB.addEventListener(MouseEvent.CLICK, this.onFemaleSelected);
        }
        private function onMaleSelected(_arg1:MouseEvent):void{
            this.femaleCB.selected = false;
        }
        private function onFemaleSelected(_arg1:MouseEvent){
            this.maleCB.selected = false;
        }

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.components {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.utils.*;
    import flash.events.*;
    import flash.geom.*;
    import com.slskin.ignitenetwork.apps.*;
    import com.slskin.ignitenetwork.events.*;
    import flash.net.*;
    import fl.containers.*;
    import com.slskin.ignitenetwork.views.desktop.*;
    import flash.filters.*;

    public class BoxShot extends MovieClip {

        public static const BOX_WIDTH:Number = 103;
        public static const BOX_HEIGHT:Number = 147;
        public static const LABEL_HEIGHT:Number = 40;
        public static const LABEL_PADDING:Number = 3;

        public static var appDetails:AppDetailsView;

        private const SHOW_DETAILS_SECONDS:Number = 1;
        private const HIDE_DETAILS_SECONDS:Number = 1;
        private const LABEL_FONT_SIZE:String = "10";
        private const LABEL_FONT_COLOR:uint = 0xCCCCCC;
        private const LABEL_BG_COLOR:uint = 0x333333;

        private var _label:ListItem;
        private var app:Application;
        private var main:Main;
        private var image:UILoader;
        private var sessionsBubble:CountBubble;
        private var launchButton:LaunchButton;
        private var showDetailsTimer:Timer;
        private var hideDetailsTimer:Timer;

        public function BoxShot(_arg1:Application){
            this.app = _arg1;
            this.launchButton = new LaunchButton();
            this.sessionsBubble = new CountBubble();
            this.showDetailsTimer = new Timer((this.SHOW_DETAILS_SECONDS * 1000));
            this.hideDetailsTimer = new Timer((this.HIDE_DETAILS_SECONDS * 1000));
            this.hideDetailsTimer.addEventListener(TimerEvent.TIMER, this.onHideDetailsTimer);
            this.showDetailsTimer.addEventListener(TimerEvent.TIMER, this.onShowDetailsTimer);
            if (BoxShot.appDetails == null){
                BoxShot.appDetails = new AppDetailsView();
            };
            this._label = new ListItem(_arg1, BoxShot.BOX_WIDTH, BoxShot.LABEL_HEIGHT, this.LABEL_BG_COLOR, this.LABEL_FONT_SIZE, this.LABEL_FONT_COLOR);
            this._label.y = (BOX_HEIGHT + BoxShot.LABEL_PADDING);
            this.addEventListener(Event.ADDED_TO_STAGE, this.onInitAdded);
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.addEventListener(Event.REMOVED_FROM_STAGE, this.onRemoved);
        }
        public function get dataProvider():Application{
            return (this.app);
        }
        public function get label():ListItem{
            return (this._label);
        }
        private function onInitAdded(_arg1:Event):void{
            var evt:* = _arg1;
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onInitAdded);
            this.main = (root as Main);
            addChild(this._label);
            this.buttonMode = (this.useHandCursor = true);
            this.addEventListener(MouseEvent.ROLL_OVER, this.onMouseOver);
            this.addEventListener(MouseEvent.ROLL_OUT, this.onMouseOut);
            this.addEventListener(MouseEvent.CLICK, this.onClick);
            this.image = new UILoader();
            var _local3 = this.image;
            with (_local3) {
                width = BoxShot.BOX_WIDTH;
                height = BoxShot.BOX_HEIGHT;
                maintainAspectRatio = true;
                scaleContent = true;
            };
            addChild(this.image);
            this.image.addEventListener(IOErrorEvent.IO_ERROR, this.onImageLoadError);
            this.image.load(new URLRequest(this.app.imagePath));
            this.filters = [new DropShadowFilter(2, 45, 0, 1, 4, 4, 1, 15)];
            this.sessionsBubble.filter = [new DropShadowFilter(2, 45, 0, 1, 4, 4, 1, 15)];
            this.launchButton.y = ((BoxShot.BOX_HEIGHT - this.launchButton.height) / 2);
            this.launchButton.visible = false;
            addChild(this.launchButton);
        }
        private function onAdded(_arg1:Event):void{
            this.main.model.addEventListener(SLEvent.VALUE_ADDED, this.checkActiveSessions);
            this.updateActiveSessions();
        }
        private function onRemoved(_arg1:Event):void{
            this.main.model.removeEventListener(SLEvent.VALUE_ADDED, this.checkActiveSessions);
        }
        private function onAppDetailsRemoved(_arg1:Event):void{
            this.label.selected = false;
        }
        private function checkActiveSessions(_arg1:SLEvent):void{
            var _local2:Array = String(_arg1.argument).split(this.main.model.DIM);
            var _local3:String = _local2[0];
            switch (_local3){
                case (((this.main.model.DATA_PATH + "Application_") + this.app.appID) + "_ActiveSessions"):
                    this.updateActiveSessions();
            };
        }
        private function updateActiveSessions():void{
            var _local1:String = this.main.model.getProperty((("Application_" + this.app.appID) + "_ActiveSessions"), this.main.model.DATA_PATH);
            if (((!((_local1 == null))) && ((_local1.length > 0)))){
                _local1 = Number(_local1.match(/\d+/)).toString();
                if (this.sessionsBubble.stage == null){
                    this.sessionsBubble.x = (BoxShot.BOX_WIDTH - (this.sessionsBubble.width * (3 / 4)));
                    this.sessionsBubble.y = ((this.sessionsBubble.height / 4) * -1);
                    this.addChild(this.sessionsBubble);
                };
                this.sessionsBubble.countTLF.text = _local1;
            } else {
                if (this.sessionsBubble.stage != null){
                    this.removeChild(this.sessionsBubble);
                };
            };
        }
        private function onShowDetailsTimer(_arg1:TimerEvent):void{
            this.showDetailsTimer.stop();
            BoxShot.appDetails.addEventListener(MouseEvent.ROLL_OVER, this.onDetailsRollOver);
            BoxShot.appDetails.addEventListener(MouseEvent.ROLL_OUT, this.onDetailsRollOut);
            var _local2:Number = 20;
            var _local3:Number = (this.mouseY + (_local2 / 2));
            if (_local3 > BoxShot.BOX_HEIGHT){
                _local3 = (_local3 - (_local2 / 2));
            } else {
                if (_local3 <= _local2){
                    _local3 = (_local3 + (_local2 / 2));
                };
            };
            var _local4:Point = new Point(BoxShot.BOX_WIDTH, _local3);
            _local4 = this.localToGlobal(_local4);
            BoxShot.appDetails.x = _local4.x;
            BoxShot.appDetails.y = _local4.y;
            if (BoxShot.appDetails.stage == null){
                BoxShot.appDetails.app = this.app;
                this.main.addChild(BoxShot.appDetails);
                BoxShot.appDetails.addEventListener(Event.REMOVED_FROM_STAGE, this.onAppDetailsRemoved);
                this.label.selected = true;
            };
        }
        private function onHideDetailsTimer(_arg1:TimerEvent):void{
            this.hideDetailsTimer.stop();
            BoxShot.appDetails.removeEventListener(MouseEvent.ROLL_OVER, this.onDetailsRollOver);
            BoxShot.appDetails.removeEventListener(MouseEvent.ROLL_OUT, this.onDetailsRollOut);
            if (((!((BoxShot.appDetails == null))) && (!((BoxShot.appDetails.stage == null))))){
                this.main.removeChild(BoxShot.appDetails);
                BoxShot.appDetails.removeEventListener(Event.REMOVED_FROM_STAGE, this.onAppDetailsRemoved);
                this.label.selected = false;
            };
        }
        private function onImageLoadError(_arg1:IOErrorEvent):void{
            this.addChildAt(new DiagonalLines(), 0);
        }
        private function onMouseOver(_arg1:MouseEvent):void{
            this._label.dispatchEvent(new MouseEvent(MouseEvent.ROLL_OVER));
            this.launchButton.visible = true;
            this.showDetailsTimer.start();
            if (BoxShot.appDetails.stage != null){
                this.hideDetailsTimer.stop();
            };
        }
        private function onMouseOut(_arg1:MouseEvent):void{
            this._label.dispatchEvent(new MouseEvent(MouseEvent.ROLL_OUT));
            this.launchButton.visible = false;
            this.showDetailsTimer.stop();
            this.hideDetailsTimer.start();
        }
        private function onDetailsRollOver(_arg1:MouseEvent):void{
            this.hideDetailsTimer.stop();
        }
        private function onDetailsRollOut(_arg1:MouseEvent):void{
            this.hideDetailsTimer.start();
        }
        private function onClick(_arg1:MouseEvent):void{
            this.dispatchEvent(new SLEvent(SLEvent.LIST_ITEM_CLICK, this));
        }

    }
}//package com.slskin.ignitenetwork.components 
﻿package com.slskin.ignitenetwork.util {

    public class ArrayIterator {

        private var items:Array;
        private var index:int;

        public function ArrayIterator(_arg1:Array){
            this.items = _arg1;
            if (this.items == null){
                this.items = new Array();
            };
            this.index = 0;
        }
        public function hasNext():Boolean{
            return ((this.index < this.items.length));
        }
        public function next(){
            return (this.items[this.index++]);
        }
        public function getItemAt(_arg1:int){
            return (this.items[_arg1]);
        }
        public function getIndex():int{
            return (this.index);
        }
        public function reset():void{
            this.index = 0;
        }

    }
}//package com.slskin.ignitenetwork.util 
﻿package com.slskin.ignitenetwork.util {

    public class Strings {

        public static function trim(_arg1:String):String{
            var _local2:int;
            while (isWhitespace(_arg1.charAt(_local2))) {
                _local2++;
            };
            var _local3:int = (_arg1.length - 1);
            while (isWhitespace(_arg1.charAt(_local3))) {
                _local3--;
            };
            if (_local3 >= _local2){
                return (_arg1.slice(_local2, (_local3 + 1)));
            };
            return ("");
        }
        public static function trimArrayElements(_arg1:String, _arg2:String):String{
            var _local3:Array;
            var _local4:int;
            var _local5:int;
            if (((!((_arg1 == ""))) && (!((_arg1 == null))))){
                _local3 = _arg1.split(_arg2);
                _local4 = _local3.length;
                _local5 = 0;
                while (_local5 < _local4) {
                    _local3[_local5] = Strings.trim(_local3[_local5]);
                    _local5++;
                };
                if (_local4 > 0){
                    _arg1 = _local3.join(_arg2);
                };
            };
            return (_arg1);
        }
        public static function isWhitespace(_arg1:String):Boolean{
            switch (_arg1){
                case " ":
                case "\t":
                case "\r":
                case "\n":
                case "\f":
                    return (true);
                default:
                    return (false);
            };
        }
        public static function substitute(_arg1:String, ... _args):String{
            var _local4:Array;
            var _local3:uint = _args.length;
            if ((((_local3 == 1)) && ((_args[0] is Array)))){
                _local4 = (_args[0] as Array);
                _local3 = _local4.length;
            } else {
                _local4 = _args;
            };
            var _local5:int;
            while (_local5 < _local3) {
                _arg1 = _arg1.replace(new RegExp((("\\{" + _local5) + "\\}"), "g"), _local4[_local5]);
                _local5++;
            };
            return (_arg1);
        }
        public static function correctCase(_arg1:String):String{
            if (_arg1 == null){
                return ("");
            };
            return ((_arg1.charAt(0).toUpperCase() + _arg1.substr(1, (_arg1.length - 1)).toLowerCase()));
        }

    }
}//package com.slskin.ignitenetwork.util 
﻿package com.slskin.ignitenetwork {
    import flash.display.*;
    import flash.events.*;
    import com.slskin.ignitenetwork.views.*;
    import com.slskin.ignitenetwork.util.*;

    public class ViewManager extends EventDispatcher {

        private var main:Main;
        private var views:Array;
        private var vi:ArrayIterator;
        private var currentView:SLView;

        public function ViewManager(_arg1:Main){
            this.main = _arg1;
            this.currentView = null;
            this.views = new Array();
            this.vi = new ArrayIterator(this.views);
        }
        public function displayNextView(_arg1:Event=null):void{
            if (this.currentView != null){
                this.currentView.hideView();
                this.currentView.addEventListener(SLView.HIDE_COMPLETE, this.onViewHideComplete);
            };
            if (this.vi.hasNext()){
                this.currentView = this.vi.next();
                this.main.addChild(this.currentView);
            };
        }
        public function addView(_arg1:SLView):void{
            this.views.push(_arg1);
        }
        public function clearAllViews():void{
            if (this.currentView != null){
                this.currentView.hideView();
                this.currentView.addEventListener(SLView.HIDE_COMPLETE, this.onViewHideComplete);
            };
            this.currentView = null;
            this.views = new Array();
            this.vi = new ArrayIterator(this.views);
        }
        public function addViewAsNext(_arg1:SLView):void{
            this.views.splice(this.vi.getIndex(), 0, _arg1);
        }
        private function onViewHideComplete(_arg1:Event):void{
            if (this.main.contains((_arg1.target as DisplayObject))){
                this.main.removeChild((_arg1.target as DisplayObject));
            };
            this.dispatchEvent(_arg1);
        }

    }
}//package com.slskin.ignitenetwork 
﻿package com.slskin.ignitenetwork.views {
    import fl.controls.*;
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.utils.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.events.*;
    import flash.ui.*;
    import com.slskin.ignitenetwork.components.*;
    import com.slskin.ignitenetwork.fonts.*;

    public class DebugConsole extends MovieClip {

        public var debugOut:TextArea;
        public var __id4_:TCMText;
        public var injectButton:SLButton;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;
        private var _debug:Boolean;
        private var main:Main;

        public function DebugConsole(_arg1:Boolean=true){
            var debug:Boolean = _arg1;
            super();
            this.debug = debug;
            this.tabChildren = false;
            this.write("Debug Mode Enabled. You can toggle this console with the ` key.");
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.MyriadRegular";
            if (!TCMRuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, TCMRuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                TCMRuntimeManager.getSingleton().addInstance(this, "__id4_", new Rectangle(0, 0, 178, 28), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="top" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="0" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#ffffff" fontFamily="MyriadPro-Reg*" fontSize="25" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">Debug Console</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            TCMRuntimeManager.getSingleton().addInstanceComplete(this);
            this.__setProp_debugOut_DebugConsole_ta_0();
        }
        public function __registerTLFFonts():void{
            Font.registerFont(MyriadRegular);
            RuntimeFontMapper.addFontMapEntry("['MyriadPro-Reg*','normal','normal']", ["Myriad Pro", "normal", "normal"]);
        }
        public function set debug(_arg1:Boolean):void{
            this._debug = _arg1;
        }
        public function get debug():Boolean{
            return (this._debug);
        }
        private function onInjectClick(_arg1:MouseEvent):void{
            this.write("Injecting the following Data:  ");
            this.main.model.addProperty((this.main.model.DATA_PATH + "RequiredInformationAtLogin"), "0");
            this.main.model.addProperty((this.main.model.DATA_PATH + "Firstname"), "Ruben");
            this.main.model.addProperty((this.main.model.DATA_PATH + "Email"), "ruben@ignitenetwork.com");
            this.main.model.addProperty((this.main.model.DATA_PATH + "Username"), "rubeydoo");
            this.main.model.addProperty((this.main.model.DATA_PATH + "Birthday_Year"), "1987");
            this.main.model.addProperty((this.main.model.DATA_PATH + "Balance"), "-30.50");
            this.main.model.addProperty((this.main.model.DATA_PATH + "Time"), "-375");
            this.main.model.addProperty((this.main.model.TEXT_PATH + "Welcome_Message"), "Welcome back Ruben<br><font color='#0080FF' size='+1'>Time used: </font> 6 hour and 30 minutes<br><font color='#0080FF' size='+1'>Last Visit: </font> 2/8/2012 2: 24: 27 pm");
            this.main.model.addProperty((this.main.model.TEXT_PATH + "Headline1"), "ignite network gaming lounge");
            this.main.model.addProperty((this.main.model.TEXT_PATH + "Headline2"), "2/09/2012 - PC 48");
            this.main.model.addProperty((this.main.model.ROOT_PATH + "OptionsList"), "Your Profile|-2");
            this.main.model.addProperty((this.main.model.TEXT_PATH + "Logout_UpperCase"), "LOGOUT");
            this.main.model.dispatcher(SLEvent.UPDATE_CATEGORY_LIST, "Games;1;0;Games|Most Played FPS;23;15;Most Played FPS|Strategy;32;14;Strategy|mmorpgs;22;3;mmorpgs|FPS;35;8;FPS|Classics;16;17;Classics|^Programs;17;0;Programs|Chat;33;6;Chat|Office;20;1;Office|Pictures;36;3;Pictures|Media;34;1;Media|Other;21;4;Other|^Internet;3;1;Internet|^Options;-2;4;Options|");
            this.main.model.dispatcher(SLEvent.UPDATE_FAVORITES, "Counter-Strike|1^World Of Warcraft|2^League of Legends|3^Warcraft III:  Frozen Throne|6^Modern Warfare 3|7");
            this.main.model.addProperty((this.main.model.DATA_PATH + "Sex"), "2");
            this.main.model.addProperty("InjectApps", "1");
            this.main.model.addProperty("showAppIDs", "0");
            this.main.model.addProperty((this.main.model.APP_DATA_PATH + "Application_Status"), "<FONT COLOR=\"#FFFFFF\"><B>Players: </B></FONT><BR><FONT COLOR=\"#B5B5A4\">7 users are currently playing this game.</FONT><BR><BR><FONT COLOR=\"#FFFFFF\"><B>Game type: </B></FONT><BR><FONT COLOR=\"#B5B5A4\">Singleplayer, Multiplayer</FONT>");
            this.main.model.addProperty((this.main.model.APP_DATA_PATH + "Application_Headline"), "Unreal Tournament 2004");
            this.main.model.addProperty((this.main.model.APP_DATA_PATH + "Application_Type"), "Game");
            this.main.model.addProperty((this.main.model.DATA_PATH + "Application_1_ActiveSessions"), "4");
            this.main.model.addProperty((this.main.model.APP_DATA_PATH + "Application_Description"), "The original StarCraft made its debut in 1998, and it quickly became one of the most popular real-time strategy games of all time.We've waited a long time for an updated sequel, and rumors of it were periodically dangled in front of us like a space carrot over the years.");
            this.main.model.addProperty((this.main.model.DATA_PATH + "RequiredUserInformation"), "11111111101111111");
            this.main.model.addProperty((this.main.model.DATA_PATH + "PersonalInfoArray"), "Firstname|Lastname|Birthday|Address|City|Zip|State|Country|Email|Telephone|Mobilephone|Sex|PersonalNumber");
            this.main.model.dispatcher(SLEvent.UPDATE_NEWS_EVENTS, "1/28/2012|Join us on facebook.|You can now follow us on facebook. Connect with others who come to ignite and keep up with new games, events, and promotions at facebook.com/ignitenetwork.|http: // facebook.com/ignitenetwork");
            this.main.model.dispatcher(SLEvent.LOGIN_COMPLETED, "Complete");
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            if (!this.debug){
                this.toggleConsole();
                return;
            };
            this.main = (root as Main);
            this.onStageResize(null);
            this.stage.addEventListener(Event.RESIZE, this.onStageResize);
            stage.addEventListener(KeyboardEvent.KEY_DOWN, this.onKeyPress);
            this.injectButton.label = "Inject";
            this.injectButton.button.addEventListener(MouseEvent.CLICK, this.onInjectClick);
        }
        public function showView():void{
            this.x = 0;
            this.y = ((stage.stageHeight - this.debugOut.height) - 50);
        }
        public function hideView():void{
            (parent as MovieClip).removeChild(this);
        }
        private function onKeyPress(_arg1:KeyboardEvent):void{
            if (_arg1.keyCode == Keyboard.BACKQUOTE){
                this.toggleConsole();
            };
        }
        private function toggleConsole():void{
            if (this.visible){
                this.visible = false;
            } else {
                this.visible = true;
            };
        }
        private function onStageResize(_arg1:Event):void{
            this.showView();
        }
        public function write(_arg1:String):void{
            var line:* = _arg1;
            if (this.debug){
                this.debugOut.appendText((("==> " + line) + "\n"));
                setTimeout(function ():void{
                    debugOut.verticalScrollPosition = debugOut.maxVerticalScrollPosition;
                }, 100);
            };
        }
        function __setProp_debugOut_DebugConsole_ta_0(){
            try {
                this.debugOut["componentInspectorSetting"] = true;
            } catch(e:Error) {
            };
            this.debugOut.condenseWhite = false;
            this.debugOut.editable = false;
            this.debugOut.enabled = true;
            this.debugOut.horizontalScrollPolicy = "auto";
            this.debugOut.htmlText = "";
            this.debugOut.maxChars = 0;
            this.debugOut.restrict = "";
            this.debugOut.text = "";
            this.debugOut.verticalScrollPolicy = "auto";
            this.debugOut.visible = true;
            this.debugOut.wordWrap = true;
            try {
                this.debugOut["componentInspectorSetting"] = false;
            } catch(e:Error) {
            };
        }

    }
}//package com.slskin.ignitenetwork.views 
﻿package com.slskin.ignitenetwork.views {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.events.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.events.*;
    import com.slskin.ignitenetwork.components.*;

    public class LoadingView extends MovieClip {

        private static var instance:LoadingView;
        public static var parentObj:DisplayObjectContainer;

        private const DEFAULT_TEXT:String = "Loading...";
        private const TLF_DEFAULT_PADDING:Number = 10;
        private const OVERLAY_COLOR:uint = 0;
        private const OVERLAY_ALPHA:Number = 0.7;

        public var loader:MovieClip;
        private var overlay:Sprite;
        private var loadingTLF:TLFTextField;
        private var closeButton:LoaderCloseButton;

        public function LoadingView(_arg1:SingletonKey){
            if (_arg1 == null){
                throw (new Error("Error:  Instantiation failed:  Use LoadingView.getInstance() instead of new."));
            };
            this.loadingTLF = this.loader.loadingTLF;
            this.overlay = new Sprite();
            this.closeButton = new LoaderCloseButton();
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.addEventListener(Event.REMOVED_FROM_STAGE, this.onRemoved);
        }
        public static function getInstance():LoadingView{
            if (LoadingView.instance == null){
                LoadingView.instance = new LoadingView(new SingletonKey());
                return (LoadingView.instance);
            };
            return (LoadingView.instance);
        }

        public function set loadingText(_arg1:String):void{
            if (this.stage != null){
                this.loadingTLF.text = _arg1;
                this.loadingTLF.width = ((this.loadingTLF.textWidth + this.loadingTLF.paddingLeft) + this.TLF_DEFAULT_PADDING);
                this.loader.width = this.loadingTLF.width;
                this.centerLoader();
                this.positionCloseButton();
            };
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.stage.addEventListener(Event.RESIZE, this.onStageResize);
            this.overlay.graphics.clear();
            this.overlay.graphics.beginFill(this.OVERLAY_COLOR, this.OVERLAY_ALPHA);
            this.overlay.graphics.drawRect(0, 0, stage.stageWidth, stage.stageHeight);
            this.overlay.graphics.endFill();
            this.addChildAt(this.overlay, 0);
            this.loadingText = Language.translate("Loading", this.DEFAULT_TEXT);
            this.disableClose();
        }
        public function showLoader():void{
            if (LoadingView.parentObj == null){
                throw (new Error("No parent display object defined in LoadingView.parentObj"));
            };
            if (this.stage == null){
                LoadingView.parentObj.addChild(this);
            };
        }
        public function hideLoader(_arg1:Event=null):void{
            if (stage != null){
                this.removeChild(this.overlay);
                this.stage.removeEventListener(Event.RESIZE, this.onStageResize);
                this.dispatchEvent(new Event(Event.CLOSE));
                LoadingView.parentObj.removeChild(this);
            };
        }
        public function enableClose():void{
            this.addChild(this.closeButton);
            this.closeButton.addEventListener(MouseEvent.CLICK, this.hideLoader);
        }
        public function disableClose():void{
            if (this.contains(this.closeButton)){
                this.removeChild(this.closeButton);
            };
            if (this.closeButton.hasEventListener(MouseEvent.CLICK)){
                this.closeButton.removeEventListener(MouseEvent.CLICK, this.hideLoader);
            };
        }
        private function onRemoved(_arg1:Event):void{
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
        }
        private function centerLoader():void{
            if (stage == null){
                return;
            };
            this.loader.x = ((stage.stageWidth - this.loader.width) / 2);
            this.loader.y = ((stage.stageHeight - this.loader.height) / 2);
        }
        private function positionCloseButton():void{
            if (stage == null){
                return;
            };
            this.closeButton.x = (this.loader.x + this.loader.width);
            this.closeButton.y = this.loader.y;
        }
        private function onStageResize(_arg1:Event):void{
            if (stage == null){
                return;
            };
            this.centerLoader();
        }

    }
}//package com.slskin.ignitenetwork.views 

class SingletonKey {

    public function SingletonKey(){
    }
}
﻿package com.slskin.ignitenetwork.views {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.events.*;
    import flash.geom.*;
    import fl.transitions.*;
    import fl.transitions.easing.*;

    public class SLView extends MovieClip {

        public static const SHOW_COMPLETE:String = "showComplete";
        public static const HIDE_COMPLETE:String = "hideComplete";

        protected var xTween:Tween;
        protected var yTween:Tween;
        protected var alphaTween:Tween;
        protected var startPos:Point;
        protected var endPos:Point;
        protected var centerX:Number = 0;
        protected var centerY:Number = 0;
        protected var yPadding:Number = 0;
        protected var xPadding:Number = 0;
        protected var main:Main;

        public function SLView(){
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded, false, 1);
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.main = (root as Main);
            this.setupView();
        }
        public function setupView():void{
            this.updateCenter();
            this.startPos = new Point(((this.width * -1) + this.xPadding), (this.centerY + this.yPadding));
            this.moveToStart();
            this.stage.addEventListener(Event.RESIZE, this.updateCenter);
            this.stage.addEventListener(Event.RESIZE, this.showView);
        }
        protected function moveToStart():void{
            this.x = this.startPos.x;
            this.y = this.startPos.y;
        }
        protected function updateCenter(_arg1:Event=null):void{
            this.centerX = ((this.main.getStageWidth() - this.width) / 2);
            this.centerY = ((this.main.getStageHeight() - this.height) / 2);
        }
        public function showView(_arg1:Event=null):void{
            this.endPos = new Point((this.centerX + this.xPadding), (this.centerY + this.yPadding));
            this.xTween = new Tween(this, "x", Strong.easeInOut, this.x, this.endPos.x, 1, true);
            this.yTween = new Tween(this, "y", Strong.easeInOut, this.y, this.endPos.y, 1, true);
            this.xTween.addEventListener(TweenEvent.MOTION_FINISH, this.onShowTweenFinish);
        }
        private function onShowTweenFinish(_arg1:TweenEvent):void{
            this.xTween.removeEventListener(TweenEvent.MOTION_FINISH, this.onShowTweenFinish);
            this.dispatchEvent(new Event(SLView.SHOW_COMPLETE));
        }
        public function hideView(_arg1:Event=null):void{
            var _local2:Number = (this.width + this.main.getStageWidth());
            this.xTween = new Tween(this, "x", Strong.easeOut, this.x, _local2, 1, true);
            this.stage.removeEventListener(Event.RESIZE, this.updateCenter);
            this.stage.removeEventListener(Event.RESIZE, this.showView);
            this.xTween.addEventListener(TweenEvent.MOTION_FINISH, this.onHideTweenFinish);
        }
        protected function onHideTweenFinish(_arg1:TweenEvent):void{
            _arg1.target.removeEventListener(TweenEvent.MOTION_FINISH, this.onHideTweenFinish);
            this.dispatchEvent(new Event(SLView.HIDE_COMPLETE));
        }

    }
}//package com.slskin.ignitenetwork.views 
﻿package com.slskin.ignitenetwork.views {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.components.*;
    import com.slskin.ignitenetwork.fonts.*;
    import com.slskin.ignitenetwork.asteroids.*;

    public class ErrorView extends MovieClip {

        private static var instance:ErrorView;
        public static var parentObj:DisplayObjectContainer;

        private const DEFAULT_TEXT:String = ": (";
        private const OVERLAY_COLOR:uint = 0;
        private const OVERLAY_ALPHA:Number = 0.7;
        private const CLOSE_BUTTON_PADDING:Number = 10;

        public var errorTLF:TLFTextField;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;
        private var overlay:Sprite;
        private var closeButton:ErrorCloseButton;
        private var asteroids:AsteroidsGame;

        public function ErrorView(_arg1:SingletonKey){
            var key:* = _arg1;
            super();
            if (key == null){
                throw (new Error("Error:  Instantiation failed:  Use ErrorView.getInstance() instead of new."));
            };
            this.overlay = new Sprite();
            this.closeButton = new ErrorCloseButton();
            this.closeButton.addEventListener(MouseEvent.CLICK, this.hideError);
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.addEventListener(Event.REMOVED_FROM_STAGE, this.onRemoved);
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.MyriadSemiBold";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "errorTLF", new Rectangle(0, 0, 71, 40), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="5" paddingTop="2" paddingRight="5" paddingBottom="2" background="true" backgroundColor="#990000" backgroundAlpha="1" border="false" borderColor="#0000ff" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="0" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#cccccc" fontFamily="MyriadPro-SemiBold*" fontSize="14" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">Error :(</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
        }
        public static function getInstance():ErrorView{
            if (ErrorView.instance == null){
                ErrorView.instance = new ErrorView(new SingletonKey());
                return (ErrorView.instance);
            };
            return (ErrorView.instance);
        }

        public function __registerTLFFonts():void{
            Font.registerFont(MyriadSemiBold);
            RuntimeFontMapper.addFontMapEntry("['MyriadPro-SemiBold*','normal','normal']", ["Myriad Pro Light", "bold", "normal"]);
        }
        public function set error(_arg1:String):void{
            this.errorTLF.text = _arg1;
            this.centerErrorText();
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.stage.addEventListener(Event.RESIZE, this.onStageResize);
            this.overlay.graphics.clear();
            this.overlay.graphics.beginFill(this.OVERLAY_COLOR, this.OVERLAY_ALPHA);
            this.overlay.graphics.drawRect(0, 0, stage.stageWidth, stage.stageHeight);
            this.overlay.graphics.endFill();
            this.addChildAt(this.overlay, 0);
            this.errorTLF.autoSize = TextFieldAutoSize.LEFT;
            this.asteroids = new AsteroidsGame();
            stage.addChild(this.asteroids);
            this.closeButton.x = ((stage.stageWidth - this.closeButton.width) - this.CLOSE_BUTTON_PADDING);
            this.closeButton.y = this.CLOSE_BUTTON_PADDING;
            this.addChild(this.closeButton);
        }
        public function showError(_arg1:String=": ("):void{
            if (ErrorView.parentObj == null){
                throw (new Error("No parent display object defined in ErrorView.parentObj"));
            };
            if (this.stage == null){
                ErrorView.parentObj.addChild(this);
            };
            this.error = _arg1;
        }
        public function hideError(_arg1:Event=null):void{
            if (stage != null){
                if (this.asteroids != null){
                    stage.removeChild(this.asteroids);
                };
                this.removeChild(this.overlay);
                this.removeChild(this.closeButton);
                this.stage.addEventListener(Event.RESIZE, this.onStageResize);
                ErrorView.parentObj.removeChild(this);
            };
        }
        private function onRemoved(_arg1:Event):void{
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
        }
        private function centerErrorText():void{
            if (stage == null){
                return;
            };
            this.errorTLF.x = ((stage.stageWidth - this.errorTLF.width) / 2);
            this.errorTLF.y = ((stage.stageHeight - this.errorTLF.height) / 2);
        }
        private function onStageResize(_arg1:Event):void{
            if (stage == null){
                return;
            };
            this.centerErrorText();
        }

    }
}//package com.slskin.ignitenetwork.views 

class SingletonKey {

    public function SingletonKey(){
    }
}
﻿package com.slskin.ignitenetwork.views.desktop {
    import flash.display.*;
    import flash.utils.*;
    import flash.events.*;
    import flashx.textLayout.formats.*;
    import com.slskin.ignitenetwork.apps.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.views.*;
    import fl.transitions.*;
    import flash.net.*;
    import com.slskin.ignitenetwork.components.*;
    import fl.containers.*;
    import flash.system.*;
    import com.slskin.ignitenetwork.util.*;
    import fl.transitions.easing.*;
    import com.slskin.ignitenetwork.fonts.*;
    import flash.filters.*;

    public class HomeView extends SLView {

        private const YOUTUBE_CHROMELESS_URL:String = "http://www.youtube.com/apiplayer?version=3";
        private const YOUTUBE_EMBEDDED_URL:String = "http://www.youtube.com/v/{0}?version=3&modestbranding=1&rel=0&fs=0";
        private const YOUTUBE_IMAGE_URL:String = "http://img.youtube.com/vi/{0}/default.jpg";
        private const LEFT_PADDING:Number = -135;
        private const TOP_PADDING:Number = -53;
        private const CONTENT_WIDTH:Number = 700;
        private const CONTENT_HEIGHT:Number = 393.75;
        private const THUMBNAIL_WIDTH:Number = 120;
        private const THUMBNAIL_HEIGHT:Number = 90;
        private const CONTROLS_PADDING:Number = 15;
        private const THUMBNAIL_PADDING:Number = 10;
        private const CAPTION_FONT_SIZE:Number = 15;
        private const CAPTION_HEIGHT:Number = 30;
        private const CAPTION_LINK_COLOR:String = "#0080FF";
        private const CAPTION_PADDING:Number = 10;
        private const TIMER_PROGRESS_TINT:uint = 10276401;

        private var bg:Sprite;
        private var captionSprite:Sprite;
        private var captionTLF:TLFTextField;
        private var captionTextFormat:TextLayoutFormat;
        private var contentParent:Sprite;
        private var contentArray:Array;
        private var contentThumbnails:Array;
        private var currentContentIndex:int;
        private var currentVideo:Object;
        private var contentTween:Tween;
        private var autoScrollTimer:Timer;
        private var autoScrollSeconds:Number;
        private var timerTween:Tween;
        private var thumbScrollPane:ScrollPane;

        public function HomeView(){
            super();
            Security.allowDomain("http://www.youtube.com");
            Security.allowDomain("http://img.youtube.com");
            Security.allowDomain("http://s.ytimg.com");
            Security.allowDomain("http://i.ytimg.com");
            this.bg = new Sprite();
            this.bg.graphics.beginFill(0x333333, 1);
            this.bg.graphics.lineStyle(1, 0xFFFFFF, 1);
            this.bg.graphics.drawRect(0, 0, this.CONTENT_WIDTH, this.CONTENT_HEIGHT);
            this.bg.graphics.endFill();
            this.bg.filters = new Array(new GlowFilter(0x666666, 1, 6, 6, 1, 1, false, false));
            this.bg.blendMode = BlendMode.MULTIPLY;
            this.addChild(this.bg);
            var contentMask:* = new Sprite();
            contentMask.graphics.beginFill(0, 1);
            contentMask.graphics.drawRect(1, 1, (this.CONTENT_WIDTH - 2), (this.CONTENT_HEIGHT - 1));
            contentMask.graphics.endFill();
            this.addChild(contentMask);
            this.contentParent = new Sprite();
            this.contentParent.mask = contentMask;
            this.addChild(this.contentParent);
            this.captionTLF = new TLFTextField();
            this.captionTLF.height = this.CAPTION_HEIGHT;
            this.captionTLF.width = this.CONTENT_WIDTH;
            this.captionTLF.addEventListener(TextEvent.LINK, this.onCaptionLinkClick);
            var _local2 = this.captionTLF;
            with (_local2) {
                embedFonts = true;
                multiline = false;
                selectable = false;
            };
            this.captionTextFormat = new TextLayoutFormat();
            _local2 = this.captionTextFormat;
            with (_local2) {
                color = 0xFFFFFF;
                fontFamily = new TahomaRegular().fontName;
                fontSize = 12;
            };
            this.captionSprite = new Sprite();
            this.captionSprite.graphics.beginFill(0x333333, 0.3);
            this.captionSprite.graphics.drawRect(1, 1, (this.CONTENT_WIDTH - 1), this.captionTLF.height);
            this.captionSprite.graphics.moveTo(1, 1);
            this.captionSprite.graphics.lineStyle(1, 0x666666);
            this.captionSprite.graphics.lineTo((this.CONTENT_WIDTH - 1), 1);
            this.captionSprite.graphics.endFill();
            this.captionSprite.y = (this.CONTENT_HEIGHT - this.captionSprite.height);
            this.captionSprite.visible = false;
            this.captionSprite.addChild(this.captionTLF);
            this.addChild(this.captionSprite);
            this.currentContentIndex = -1;
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
        }
        override public function get width():Number{
            return (this.CONTENT_WIDTH);
        }
        override public function get height():Number{
            return (((this.CONTENT_HEIGHT + this.CONTROLS_PADDING) + this.THUMBNAIL_HEIGHT));
        }
        private function onAdded(_arg1:Event):void{
            var _local2:Sprite;
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.parseContent();
            if (this.contentArray.length > 0){
                this.layoutContent();
                this.createContentControls();
                this.loadAndDisplayAt(0);
                this.startAutoScroll();
                _local2 = this.contentThumbnails[0].timerSprite;
                if (_local2 != null){
                    this.timerTween = new Tween(_local2, "scaleX", Regular.easeInOut, 0, 1, this.autoScrollSeconds, true);
                };
            };
            this.xPadding = this.LEFT_PADDING;
            this.yPadding = this.TOP_PADDING;
            this.setupView();
            this.showView();
        }
        override public function hideView(_arg1:Event=null):void{
            super.hideView(_arg1);
            this.stopAutoScroll();
            if (this.currentVideo != null){
                this.currentVideo.pauseVideo();
            };
        }
        public function destroyVideoPlayers():void{
            var _local2:Object;
            var _local1:uint;
            while (_local1 < this.contentArray.length) {
                _local2 = this.contentArray[_local1];
                if ((((_local2.type == "youtube")) && (!((_local2.loader.content == null))))){
                    _local2.loader.content.stopVideo();
                };
                _local1++;
            };
        }
        private function parseContent():void{
            var _local3:XML;
            var _local4:String;
            var _local5:String;
            var _local6:String;
            var _local7:String;
            var _local8:String;
            this.contentArray = new Array();
            var _local1:XMLList = this.main.config.HomeViewContent.content;
            var _local2:uint;
            while (_local2 < _local1.length()) {
                _local3 = _local1[_local2];
                if (_local3.localName() != "content"){
                    this.main.log(("Unsupported xml node " + _local3.localName()));
                } else {
                    _local4 = _local3.@type;
                    _local5 = _local3.@thumbnail;
                    _local6 = _local3.url;
                    _local7 = _local3.caption;
                    switch (_local4){
                        case "youtube":
                            _local8 = this.parseYouTubeID(_local6);
                            _local6 = Strings.substitute(this.YOUTUBE_EMBEDDED_URL, _local8);
                            _local5 = (((_local5 == "")) ? Strings.substitute(this.YOUTUBE_IMAGE_URL, _local8) : _local5);
                            this.contentArray.push({
                                type:_local4,
                                loader:new Loader(),
                                contentURL:_local6,
                                caption:_local7,
                                thumbURL:_local5
                            });
                            break;
                        case "image":
                        case "swf":
                            _local5 = (((_local5 == "")) ? _local3.url : _local5);
                            this.contentArray.push({
                                type:_local4,
                                loader:new Loader(),
                                contentURL:_local6,
                                caption:_local7,
                                thumbURL:_local5
                            });
                            break;
                        default:
                            this.main.log(("HomeViewContent - unsupported attribute type " + _local4));
                    };
                };
                _local2++;
            };
        }
        private function parseYouTubeID(_arg1:String):String{
            var _local2:RegExp = /[A-Za-z0-9_-]{11}/ig;
            var _local3:Object = _arg1.match(_local2);
            if (((!((_local3.length == 1))) || ((_local3 == null)))){
                main.log((("Unable to parse youtube video id. " + _arg1) + " might be malformed."));
                return ("");
            };
            return (_local3[0]);
        }
        private function loadAndDisplayAt(_arg1:uint):void{
            var newX:* = NaN;
            var index:* = _arg1;
            index = (index % this.contentArray.length);
            var contentItem:* = this.contentArray[index];
            if (contentItem.loader.content == null){
                this.contentThumbnails[index].spinner.visible = true;
                contentItem.loader.contentLoaderInfo.addEventListener(SecurityErrorEvent.SECURITY_ERROR, this.onContentLoadError);
                contentItem.loader.contentLoaderInfo.addEventListener(IOErrorEvent.IO_ERROR, this.onContentLoadError);
                contentItem.loader.contentLoaderInfo.addEventListener(Event.COMPLETE, this.getLoadCompleteHandler(index));
                contentItem.loader.load(new URLRequest(contentItem.contentURL));
                if (contentItem.type == "youtube"){
                    contentItem.loader.contentLoaderInfo.addEventListener(Event.INIT, this.onYouTubeInit);
                };
            } else {
                this.contentThumbnails[index].spinner.visible = false;
                this.contentThumbnails[index].rollOverSprite.visible = true;
                this.contentThumbnails[index].buttonMode = false;
                if (this.currentContentIndex != -1){
                    this.contentThumbnails[this.currentContentIndex].buttonMode = true;
                    this.contentThumbnails[this.currentContentIndex].rollOverSprite.visible = false;
                };
                this.currentContentIndex = index;
                newX = ((index * this.CONTENT_WIDTH) * -1);
                this.contentTween = new Tween(this.contentParent, "x", Strong.easeOut, this.contentParent.x, newX, 1, true);
                var _local3 = this.captionTLF;
                with (_local3) {
                    htmlText = this.contentArray[index].caption;
                    paddingLeft = (paddingRight = (paddingTop = this.CAPTION_PADDING));
                    textFlow.hostFormat = this.captionTextFormat;
                    textFlow.linkNormalFormat = {
                        color:this.CAPTION_LINK_COLOR,
                        textDecoration:"underline"
                    };
                    textFlow.linkHoverFormat = {
                        color:0xFFFFFF,
                        textDecoration:"underline"
                    };
                    textFlow.flowComposer.updateAllControllers();
                };
                this.captionSprite.visible = (this.contentArray[index].caption.length > 0);
            };
        }
        public function startAutoScroll():void{
            this.autoScrollSeconds = Number(main.config.HomeViewContent.@autoScrollSeconds);
            this.autoScrollTimer = new Timer(((this.autoScrollSeconds + 0.5) * 1000));
            this.autoScrollTimer.addEventListener(TimerEvent.TIMER, this.onScrollTimerTick);
            this.autoScrollTimer.start();
        }
        public function stopAutoScroll():void{
            if (this.currentContentIndex != -1){
                this.timerTween.stop();
                this.contentThumbnails[this.currentContentIndex].timerSprite.scaleX = 0;
            };
            if (this.autoScrollTimer != null){
                this.autoScrollTimer.stop();
            };
        }
        private function onScrollTimerTick(_arg1:TimerEvent):void{
            var _local2:Sprite = this.contentThumbnails[this.currentContentIndex].timerSprite;
            if (_local2 != null){
                _local2.scaleX = 0;
            };
            var _local3:uint = ((this.currentContentIndex + 1) % this.contentArray.length);
            this.loadAndDisplayAt(_local3);
            this.thumbScrollPane.horizontalScrollPosition = this.contentThumbnails[_local3].x;
            _local2 = this.contentThumbnails[_local3].timerSprite;
            if (_local2 != null){
                this.timerTween = new Tween(_local2, "scaleX", Regular.easeInOut, 0, 1, this.autoScrollSeconds, true);
            };
        }
        private function onYouTubeInit(_arg1:Event):void{
            _arg1.target.loader.content.addEventListener("onReady", this.onYouTubeReady);
            _arg1.target.loader.content.addEventListener("onError", this.onYouTubeError);
            _arg1.target.loader.content.addEventListener("onStateChange", this.onVideoStateChange);
            _arg1.target.loader.content.addEventListener(MouseEvent.CLICK, this.onContentClick);
        }
        private function onVideoStateChange(_arg1:Event):void{
            var _local2:Object = _arg1.currentTarget;
            var _local3:Number = Object(_arg1).data;
            if (_local3 == 1){
                if (this.currentVideo != null){
                    this.currentVideo.pauseVideo();
                };
                this.currentVideo = _local2;
            } else {
                if (_local3 == 2){
                    this.currentVideo = null;
                };
            };
        }
        private function onContentClick(_arg1:MouseEvent):void{
            _arg1.currentTarget.removeEventListener(MouseEvent.CLICK, this.onContentClick);
            this.stopAutoScroll();
        }
        private function onYouTubeReady(_arg1:Event):void{
            _arg1.target.setSize(this.CONTENT_WIDTH, this.CONTENT_HEIGHT);
        }
        private function onYouTubeError(_arg1:Event):void{
            main.log(("Error loading youtube video:  " + Object(_arg1).data));
        }
        private function getLoadCompleteHandler(_arg1:uint):Function{
            var thumbIndex:* = _arg1;
            return (function (_arg1:Event):void{
                loadAndDisplayAt(thumbIndex);
            });
        }
        private function layoutContent():void{
            var _local1:Object;
            var _local2:uint;
            while (_local2 < this.contentArray.length) {
                _local1 = this.contentArray[_local2];
                _local1.loader.x = (_local2 * this.CONTENT_WIDTH);
                this.contentParent.addChild(_local1.loader);
                _local2++;
            };
        }
        private function createContentControls():void{
            var _local3:Object;
            var _local4:MovieClip;
            var _local5:UILoader;
            var _local6:Sprite;
            var _local7:SpinnerLight;
            var _local8:Number;
            var _local9:Sprite;
            if (this.contentArray == null){
                trace("Can't create content controls, the content array is null");
                return;
            };
            var _local1:MovieClip = new MovieClip();
            this.contentThumbnails = new Array();
            var _local2:uint;
            while (_local2 < this.contentArray.length) {
                _local3 = this.contentArray[_local2];
                _local4 = new MovieClip();
                _local4.index = _local2;
                _local4.graphics.beginFill(0, 1);
                _local4.graphics.drawRect(0, 0, this.THUMBNAIL_WIDTH, this.THUMBNAIL_HEIGHT);
                _local4.graphics.endFill();
                _local4.filters = [new DropShadowFilter(2, 45, 0, 1, 4, 4, 1, 15)];
                _local4.x = ((_local2 * this.THUMBNAIL_WIDTH) + (_local2 * this.THUMBNAIL_PADDING));
                _local5 = new UILoader();
                new UILoader().scaleContent = (_local5.maintainAspectRatio = true);
                _local5.width = this.THUMBNAIL_WIDTH;
                _local5.height = this.THUMBNAIL_HEIGHT;
                _local5.addEventListener(IOErrorEvent.IO_ERROR, this.onContentLoadError);
                _local5.load(new URLRequest(_local3.thumbURL));
                _local6 = new Sprite();
                _local6.graphics.beginFill(0xFFFFFF, 0);
                _local6.graphics.lineStyle(1.5, 0xFFFFFF);
                _local6.graphics.drawRect(0, 0, this.THUMBNAIL_WIDTH, this.THUMBNAIL_HEIGHT);
                _local6.graphics.endFill();
                _local6.visible = false;
                _local4.rollOverSprite = _local6;
                _local7 = new SpinnerLight();
                _local7.x = ((this.THUMBNAIL_WIDTH - _local7.width) / 2);
                _local7.y = ((this.THUMBNAIL_HEIGHT - _local7.height) / 2);
                _local7.graphics.beginFill(0, 0.9);
                _local8 = (_local7.width / 2);
                _local7.graphics.drawCircle(_local8, _local8, (_local8 + 2));
                _local7.graphics.endFill();
                _local7.visible = false;
                _local4.spinner = _local7;
                _local9 = new Sprite();
                _local9.graphics.lineStyle(1, this.TIMER_PROGRESS_TINT, 1, true, "normal", CapsStyle.SQUARE, JointStyle.MITER, 3);
                _local9.graphics.moveTo(2, (this.THUMBNAIL_HEIGHT - 3));
                _local9.graphics.lineTo((this.THUMBNAIL_WIDTH - 2), (this.THUMBNAIL_HEIGHT - 3));
                _local9.graphics.endFill();
                _local9.scaleX = 0;
                _local4.timerSprite = _local9;
                _local4.addChild(_local5);
                _local4.addChild(_local9);
                _local4.addChild(_local6);
                _local4.addChild(_local7);
                _local4.buttonMode = true;
                _local4.addEventListener(MouseEvent.CLICK, this.onThumbClick);
                _local4.addEventListener(MouseEvent.CLICK, this.onContentClick, false, 1);
                _local4.addEventListener(MouseEvent.ROLL_OVER, this.onThumbRollOver);
                _local4.addEventListener(MouseEvent.ROLL_OUT, this.onThumbRollOut);
                _local1.addChild(_local4);
                this.contentThumbnails[_local2] = _local4;
                _local2++;
            };
            this.thumbScrollPane = new ScrollPane();
            this.thumbScrollPane.width = this.CONTENT_WIDTH;
            this.thumbScrollPane.height = (this.THUMBNAIL_HEIGHT + (this.THUMBNAIL_PADDING * 1.5));
            this.thumbScrollPane.y = (this.CONTENT_HEIGHT + this.CONTROLS_PADDING);
            this.thumbScrollPane.source = _local1;
            this.thumbScrollPane.scrollDrag = false;
            this.setPaneStyle(this.thumbScrollPane);
            this.addChild(this.thumbScrollPane);
        }
        private function onThumbClick(_arg1:MouseEvent):void{
            if (this.currentContentIndex != _arg1.currentTarget.index){
                this.loadAndDisplayAt(_arg1.currentTarget.index);
            };
        }
        private function onThumbRollOver(_arg1:MouseEvent):void{
            _arg1.currentTarget.rollOverSprite.visible = true;
        }
        private function onThumbRollOut(_arg1:MouseEvent):void{
            if (this.currentContentIndex != _arg1.currentTarget.index){
                _arg1.currentTarget.rollOverSprite.visible = false;
            };
        }
        private function onCaptionLinkClick(_arg1:TextEvent):void{
            var _local5:Array;
            var _local6:String;
            var _local7:String;
            var _local2:String = _arg1.text;
            var _local3:RegExp = /^launchApp\(\d+,(.)+\)$/;
            var _local4:RegExp = /\d+,(.)+/ig;
            if (_local2.search(_local3) != -1){
                _local5 = _local2.match(_local4).toString().split(",");
                _local6 = Strings.trim(_local5[0]);
                _local7 = Strings.trim((_local5[1] as String).substr(0, (_local5[1].length - 1)));
                this.main.appManager.verifyAppLaunch(new Application(_local6, _local7));
                this.stopAutoScroll();
            };
        }
        private function onContentLoadError(_arg1:IOErrorEvent):void{
            main.log(_arg1.toString());
        }
        private function setPaneStyle(_arg1:ScrollPane):void{
            var pane:* = _arg1;
            var _local3 = pane;
            with (_local3) {
                setStyle("scrollBarWidth", 8);
                setStyle("scrollArrowHeight", 0);
                setStyle("trackUpSkin", ScrollTrack_Invisible);
                setStyle("trackOverSkin", ScrollTrack_Invisible);
                setStyle("trackDownSkin", ScrollTrack_Invisible);
                setStyle("thumbUpSkin", ScrollThumb_Up_Dark);
                setStyle("thumbOverSkin", ScrollThumb_Up_Dark);
                setStyle("thumbDownSkin", ScrollThumb_Up_Dark);
                setStyle("downArrowUpSkin", ArrowSkin_Invisible);
                setStyle("upArrowUpSkin", ArrowSkin_Invisible);
            };
        }

    }
}//package com.slskin.ignitenetwork.views.desktop 
﻿package com.slskin.ignitenetwork.views.desktop {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.events.*;
    import fl.containers.*;
    import com.slskin.ignitenetwork.fonts.*;

    public class UserInfoWidget extends MovieClip {

        public var welcomeTLF:TLFTextField;
        public var balanceTLF:TLFTextField;
        public var timeTLF:TLFTextField;
        public var titleTLF:TLFTextField;
        public var welcomePane:ScrollPane;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;
        private var main:Main;

        public function UserInfoWidget(){
            super();
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.MyriadRegular";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "timeTLF", new Rectangle(0, 0, 100, 18.55), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="top" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="0" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#ffffff" fontFamily="Tahoma-Bold*" fontSize="14" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="100%" textAlpha="1" textRotation="auto" trackingRight="0%">2h 32m</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
                RuntimeManager.getSingleton().addInstance(this, "balanceTLF", new Rectangle(0, 0, 100, 18.55), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="top" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="0" textAlign="end" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#ffffff" fontFamily="Tahoma-Bold*" fontSize="14" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="100%" textAlpha="1" textRotation="auto" trackingRight="0%">$0.00</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
                RuntimeManager.getSingleton().addInstance(this, "welcomeTLF", new Rectangle(0, 0, 247.5, 86.5), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="top" firstBaselineOffset="auto" paddingLeft="5" paddingTop="5" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="3" paragraphSpaceBefore="0" paragraphStartIndent="0" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#cccccc" fontFamily="Tahoma-Reg*" fontSize="12" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="100%" textAlpha="1" textRotation="auto" trackingRight="0%">Welcome back Ruben</span></p><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="3" paragraphSpaceBefore="0" paragraphStartIndent="0" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#cccccc" fontFamily="Tahoma-Reg*" fontSize="12" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="100%" textAlpha="1" textRotation="auto" trackingRight="0%">Last Visit: 02/06/2012</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
                RuntimeManager.getSingleton().addInstance(this, "titleTLF", new Rectangle(0, 0, 139.95, 16.5), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#ffffff" fontFamily="MyriadPro-Reg*" fontSize="16" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">User Info</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
            this.__setProp_welcomePane_UserInfoWidget_ScrollPane_0();
        }
        public function __registerTLFFonts():void{
            Font.registerFont(MyriadRegular);
            Font.registerFont(TahomaBold);
            Font.registerFont(TahomaRegular);
            RuntimeFontMapper.addFontMapEntry("['MyriadPro-Reg*','normal','normal']", ["Myriad Pro", "normal", "normal"]);
            RuntimeFontMapper.addFontMapEntry("['Tahoma-Bold*','normal','normal']", ["Tahoma", "bold", "normal"]);
            RuntimeFontMapper.addFontMapEntry("['Tahoma-Reg*','normal','normal']", ["Tahoma", "normal", "normal"]);
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.main = (root as Main);
            this.welcomeTLF.autoSize = TextFieldAutoSize.LEFT;
            this.updateUserInfo();
            this.titleTLF.text = Language.translate("User_Info", "User Info");
            this.setupScrollPane();
            this.welcomePane.source = this.welcomeTLF;
            this.main.model.addEventListener(SLEvent.VALUE_ADDED, this.onValueAdded);
        }
        private function onValueAdded(_arg1:SLEvent):void{
            var _local2:Array = String(_arg1.argument).split(this.main.model.DIM);
            var _local3:String = _local2[0];
            var _local4:String = _local2[1];
            switch (_local3){
                case (this.main.model.TEXT_PATH + "Welcome_Message"):
                case (this.main.model.DATA_PATH + "Time"):
                case (this.main.model.DATA_PATH + "Balance"):
                    this.updateUserInfo();
                    break;
            };
        }
        private function updateUserInfo(){
            this.welcomeTLF.htmlText = this.main.model.getProperty("Welcome_Message", this.main.model.TEXT_PATH);
            var _local1:Number = Number(this.main.model.getProperty("Time", this.main.model.DATA_PATH));
            var _local2 = (_local1 < 0);
            if (_local2){
                _local1 = (_local1 * -1);
            };
            var _local3:int = (_local1 / 60);
            var _local4:int = (_local1 % 60);
            this.timeTLF.text = ((((((_local2) ? "-" : "") + _local3) + "h ") + _local4) + "min");
            var _local5:Number = Number(this.main.model.getProperty("Balance", this.main.model.DATA_PATH));
            _local2 = (_local5 < 0);
            if (_local2){
                _local5 = (_local5 * -1);
            };
            this.balanceTLF.text = (((((_local2) ? "(" : "") + "$") + _local5.toFixed(2)) + ((_local2) ? ")" : ""));
        }
        private function setupScrollPane():void{
            this.welcomePane.setStyle("scrollArrowHeight", 0);
            this.welcomePane.setStyle("scrollBarWidth", 8);
            this.welcomePane.setStyle("trackUpSkin", ScrollTrack_Invisible);
            this.welcomePane.setStyle("trackOverSkin", ScrollTrack_Invisible);
            this.welcomePane.setStyle("trackDownSkin", ScrollTrack_Invisible);
            this.welcomePane.setStyle("trackDisabledSkin", ScrollTrack_Invisible);
            this.welcomePane.setStyle("thumbUpSkin", ScrollThumb_Up_Dark);
            this.welcomePane.setStyle("thumbOverSkin", ScrollThumb_Up_Dark);
            this.welcomePane.setStyle("thumbDownSkin", ScrollThumb_Up_Dark);
            this.welcomePane.setStyle("downArrowUpSkin", ArrowSkin_Invisible);
            this.welcomePane.setStyle("upArrowUpSkin", ArrowSkin_Invisible);
        }
        function __setProp_welcomePane_UserInfoWidget_ScrollPane_0(){
            try {
                this.welcomePane["componentInspectorSetting"] = true;
            } catch(e:Error) {
            };
            this.welcomePane.enabled = true;
            this.welcomePane.horizontalLineScrollSize = 4;
            this.welcomePane.horizontalPageScrollSize = 0;
            this.welcomePane.horizontalScrollPolicy = "off";
            this.welcomePane.scrollDrag = false;
            this.welcomePane.source = "";
            this.welcomePane.verticalLineScrollSize = 10;
            this.welcomePane.verticalPageScrollSize = 0;
            this.welcomePane.verticalScrollPolicy = "auto";
            this.welcomePane.visible = true;
            try {
                this.welcomePane["componentInspectorSetting"] = false;
            } catch(e:Error) {
            };
        }

    }
}//package com.slskin.ignitenetwork.views.desktop 
﻿package com.slskin.ignitenetwork.views.desktop {
    import flash.display.*;
    import flash.utils.*;
    import flash.events.*;
    import flash.geom.*;
    import __AS3__.vec.*;
    import flash.text.*;
    import com.slskin.ignitenetwork.apps.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.events.*;
    import com.slskin.ignitenetwork.views.*;
    import fl.transitions.*;
    import flash.net.*;
    import com.slskin.ignitenetwork.components.*;
    import fl.containers.*;
    import fl.events.*;
    import com.slskin.ignitenetwork.util.*;
    import fl.transitions.easing.*;
    import com.slskin.ignitenetwork.fonts.*;
    import flash.external.*;

    public class CategoryView extends SLView {

        private const LEFT_PADDING:Number = -132;
        private const TOP_PADDING:Number = -53;
        private const ICON_PATH:String = "./assets/dock/";
        private const TOTAL_STRING:String = "{0} of {1}";
        private const BOX_VPADDING:Number = 10;
        private const BOX_HPADDING:Number = 30;

        public var titleIcon:UILoader;
        public var statusTLF:TLFTextField;
        public var _selector:DropDownSelector;
        public var scrollPane:ScrollPane;
        public var _searchField:SearchField;
        public var ribbonBar:MovieClip;
        public var title:TLFTextField;
        public var totalTLF:TLFTextField;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;
        public var category:MainCategory;
        private var subCategoryIter:ArrayIterator;
        private var boxShots:Dictionary;
        private var selector:DropDownSelector;
        private var searchField:SearchField;
        private var totalApps:int = 0;
        private var allCategory:SubCategory;

        public function CategoryView(_arg1:MainCategory){
            var category:* = _arg1;
            super();
            this.category = category;
            this.allCategory = new SubCategory("-1", "allCategory", ("All " + category.localeName), "-1");
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.MyriadRegular";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "statusTLF", new Rectangle(0, 0, 103.25, 14), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="true" backgroundColor="#000000" backgroundAlpha="0.75" border="true" borderColor="#333333" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span backgroundAlpha="1" backgroundColor="transparent" color="#cccccc" fontFamily="Tahoma-Regular*" fontSize="11" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">Search results for</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
                RuntimeManager.getSingleton().addInstance(this, "totalTLF", new Rectangle(0, 0, 98, 14.1), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="true" backgroundColor="#000000" backgroundAlpha="1" border="true" borderColor="#333333" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="center" textAlignLast="start" textIndent="0" textJustify="interWord"><span backgroundAlpha="1" backgroundColor="transparent" color="#cccccc" fontFamily="Tahoma-Regular*" fontSize="11" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">10 of 10</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
                RuntimeManager.getSingleton().addInstance(this, "title", new Rectangle(0, 0, 142.9, 23.25), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#990000" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span backgroundAlpha="1" backgroundColor="transparent" color="#ffffff" fontFamily="MyriadPro-Reg*" fontSize="20" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">Category Name</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
            this.__setProp_scrollPane_CategoryView_BoxShotPane_0();
            this.__setProp_titleIcon_CategoryView_title();
        }
        public function __registerTLFFonts():void{
            Font.registerFont(MyriadRegular);
            Font.registerFont(TahomaRegular);
            RuntimeFontMapper.addFontMapEntry("['MyriadPro-Reg*','normal','normal']", ["Myriad Pro", "normal", "normal"]);
            RuntimeFontMapper.addFontMapEntry("['Tahoma-Regular*','normal','normal']", ["Tahoma", "normal", "normal"]);
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.setPaneStyle();
            this.selector = this._selector;
            this.searchField = this._searchField;
            this.searchField.hint = ("Search " + this.category.localeName);
            this.statusTLF.autoSize = "left";
            this.xPadding = this.LEFT_PADDING;
            this.yPadding = this.TOP_PADDING;
            super.setupView();
            this.title.autoSize = "left";
            this.title.text = this.category.localeName;
            var _local2:URLRequest = new URLRequest(((this.ICON_PATH + this.category.name.toLowerCase().replace(" ", "_")) + ".png"));
            this.titleIcon.load(_local2);
            this.loadAllApplications();
            this.addEventListener(Event.COMPLETE, this.onAllAppsLoaded);
            if (main.model.getProperty("InjectApps") == "1"){
                this.createMockApps();
                this.onAllAppsLoaded(null);
                this.showView();
            };
            this.addEventListener(Event.COMPLETE, showView);
        }
        private function loadAllApplications():void{
            LoadingView.getInstance().loadingText = (("Loading " + this.category.localeName) + "...");
            LoadingView.getInstance().showLoader();
            this.subCategoryIter = new ArrayIterator(this.category.subCategories);
            this.boxShots = new Dictionary();
            this.selector.enabled = false;
            main.model.addEventListener(SLEvent.UPDATE_APP_LIST, this.onAppListUpdate);
            this.updateNextCategory();
        }
        private function onAppListUpdate(_arg1:SLEvent):void{
            var _local2:SubCategory = this.category.subCategories[(this.subCategoryIter.getIndex() - 1)];
            var _local3:Array = main.appManager.parseAppString(_arg1.argument);
            _local2.applications = _local3;
            main.debugger.write(((("Received Application List for " + _local2.name) + " => ") + _arg1.argument));
            this.updateNextCategory();
        }
        private function updateNextCategory():void{
            var _local1:SubCategory;
            if (this.subCategoryIter.hasNext()){
                _local1 = this.subCategoryIter.next();
                if (ExternalInterface.available){
                    ExternalInterface.call("GetApplicationList", _local1.id);
                };
                main.debugger.write(("Getting Application List for " + _local1.name));
            } else {
                main.model.removeEventListener(SLEvent.UPDATE_APP_LIST, this.onAppListUpdate);
                this.dispatchEvent(new Event(Event.COMPLETE));
            };
        }
        private function onAllAppsLoaded(_arg1:Event):void{
            this.selector.enabled = true;
            LoadingView.getInstance().hideLoader();
            this.selector.dataProvider = this.createDropDownDP();
            this.searchField.dataProvider = this.createSearchDP();
            this.totalTLF.text = Strings.substitute(this.TOTAL_STRING, 0, this.totalApps);
            this.selector.addEventListener(SLEvent.LIST_ITEM_CLICK, this.onSubCategoryClick);
            this.searchField.addEventListener(SLEvent.LIST_ITEM_CLICK, this.onSearchItemClick);
            this.searchField.addEventListener(SearchField.SEARCH_RESULTS, this.onSearchResults);
            this.searchField.addEventListener(SearchField.SEARCH_CLEAR_CLICK, this.onSearchClearClick);
            this.scrollPane.addEventListener(ScrollEvent.SCROLL, this.onScrollPaneScroll);
            this.createBoxShots();
            this.displaySubCategory(this.allCategory);
        }
        private function createDropDownDP():Vector.<IListItem>{
            var _local1:Vector.<IListItem> = new Vector.<IListItem>();
            _local1.push(this.allCategory);
            var _local2:uint;
            while (_local2 < this.category.subCategories.length) {
                _local1.push(this.category.subCategories[_local2]);
                _local2++;
            };
            return (_local1);
        }
        private function createSearchDP():Vector.<IListItem>{
            var _local2:Array;
            var _local3:SubCategory;
            var _local5:uint;
            var _local1:Vector.<IListItem> = new Vector.<IListItem>();
            var _local4:uint;
            while (_local4 < this.category.subCategories.length) {
                _local3 = this.category.subCategories[_local4];
                _local2 = _local3.applications;
                this.totalApps = (this.totalApps + _local2.length);
                _local5 = 0;
                while (_local5 < _local2.length) {
                    _local1.push(_local2[_local5]);
                    _local5++;
                };
                _local4++;
            };
            return (_local1);
        }
        private function createBoxShots():void{
            var _local3:Array;
            var _local4:Array;
            var _local5:uint;
            var _local6:BoxShot;
            var _local1:Array = new Array();
            var _local2:uint;
            while (_local2 < this.category.subCategories.length) {
                _local3 = new Array();
                _local4 = this.category.subCategories[_local2].applications;
                _local5 = 0;
                while (_local5 < _local4.length) {
                    _local6 = new BoxShot(_local4[_local5]);
                    _local6.addEventListener(SLEvent.LIST_ITEM_CLICK, this.onBoxShotClick);
                    _local3.push(_local6);
                    _local1.push(_local6);
                    _local5++;
                };
                this.boxShots[this.category.subCategories[_local2].name] = _local3;
                _local2++;
            };
            this.boxShots[this.allCategory.name] = _local1;
        }
        private function displaySubCategory(_arg1:SubCategory):void{
            var _local2:Array = this.boxShots[_arg1.name];
            var _local3:TileList = new TileList(_local2, this.scrollPane.width, this.BOX_VPADDING, this.BOX_HPADDING);
            this.scrollPane.source = _local3;
            TransitionManager.start(_local3, {
                type:Fade,
                direction:Transition.IN,
                duration:1,
                easing:Strong.easeOut
            });
            var _local4:Number = (((_arg1 == this.allCategory)) ? this.totalApps : _arg1.applications.length);
            this.totalTLF.text = Strings.substitute(this.TOTAL_STRING, _local4, this.totalApps);
            this.statusTLF.text = ("Displaying " + _arg1.localeName);
            this.selector.label = _arg1.localeName;
            this.searchField.clearField();
        }
        private function onSearchResults(_arg1:SLEvent):void{
            var _local6:BoxShot;
            var _local2:Array = (_arg1.argument as Array);
            var _local3:Array = new Array();
            var _local4:uint;
            while (_local4 < _local2.length) {
                _local6 = new BoxShot(_local2[_local4].dataProvider);
                _local6.addEventListener(SLEvent.LIST_ITEM_CLICK, this.onBoxShotClick);
                _local3.push(_local6);
                _local6.label.highlight(_local2[_local4].highlightStart, _local2[_local4].highlightEnd);
                _local4++;
            };
            var _local5:TileList = new TileList(_local3, this.scrollPane.width, this.BOX_VPADDING, this.BOX_HPADDING);
            this.scrollPane.source = _local5;
            TransitionManager.start(_local5, {
                type:Fade,
                direction:Transition.IN,
                duration:1,
                easing:Strong.easeOut
            });
            this.totalTLF.text = Strings.substitute(this.TOTAL_STRING, _local2.length, this.totalApps);
            this.statusTLF.text = (("Search results for '" + this.searchField.text) + "'");
            this.selector.label = "...";
        }
        private function onSubCategoryClick(_arg1:SLEvent):void{
            this.displaySubCategory((_arg1.argument.dataProvider as SubCategory));
        }
        private function onBoxShotClick(_arg1:SLEvent):void{
            main.appManager.launchApp((_arg1.argument.dataProvider as Application));
            if (this.category.name.toLowerCase() == "games"){
                main.playSound(main.config.Sounds.GameStarting);
            };
        }
        private function onSearchItemClick(_arg1:SLEvent):void{
            main.appManager.verifyAppLaunch((_arg1.argument.dataProvider as Application));
        }
        private function onSearchClearClick(_arg1:Event):void{
            this.displaySubCategory(this.allCategory);
        }
        private function onScrollPaneScroll(_arg1:ScrollEvent):void{
            if (((!((BoxShot.appDetails == null))) && (!((BoxShot.appDetails.stage == null))))){
                this.main.removeChild(BoxShot.appDetails);
            };
        }
        override public function hideView(_arg1:Event=null):void{
            super.hideView();
            if (((!((BoxShot.appDetails == null))) && (!((BoxShot.appDetails.stage == null))))){
                this.main.removeChild(BoxShot.appDetails);
            };
        }
        private function setPaneStyle():void{
            var _local2 = this.scrollPane;
            with (_local2) {
                setStyle("scrollBarWidth", 8);
                setStyle("scrollArrowHeight", 0);
                setStyle("trackUpSkin", ScrollTrack_Invisible);
                setStyle("trackOverSkin", ScrollTrack_Invisible);
                setStyle("trackDownSkin", ScrollTrack_Invisible);
                setStyle("thumbUpSkin", ScrollThumb_Up_Dark);
                setStyle("thumbOverSkin", ScrollThumb_Up_Dark);
                setStyle("thumbDownSkin", ScrollThumb_Up_Dark);
                setStyle("downArrowUpSkin", ArrowSkin_Invisible);
                setStyle("upArrowUpSkin", ArrowSkin_Invisible);
            };
        }
        private function createMockApps():void{
            var _local1 = ((("Counter-Strike|1^World of Warcraft|2^" + "League of Legends|3^Starcraft II|4^Warcraft III:  Frozen Throne|6^") + "Call of Duty:  Modern Warfare III|7^Counter-Strike:  Source|9^Battlefield 3|10^") + "Left 4 Dead 2|320^Portal 2|342^Diablo 3|13");
            var _local2:Array = main.appManager.parseAppString(_local1);
            var _local3:SubCategory = new SubCategory("-1", "Test", "Test Category", "4");
            _local3.applications = _local2;
            this.category.addSubCategory(_local3);
        }
        function __setProp_scrollPane_CategoryView_BoxShotPane_0(){
            try {
                this.scrollPane["componentInspectorSetting"] = true;
            } catch(e:Error) {
            };
            this.scrollPane.enabled = true;
            this.scrollPane.horizontalLineScrollSize = 4;
            this.scrollPane.horizontalPageScrollSize = 0;
            this.scrollPane.horizontalScrollPolicy = "off";
            this.scrollPane.scrollDrag = false;
            this.scrollPane.source = "";
            this.scrollPane.verticalLineScrollSize = 10;
            this.scrollPane.verticalPageScrollSize = 0;
            this.scrollPane.verticalScrollPolicy = "auto";
            this.scrollPane.visible = true;
            try {
                this.scrollPane["componentInspectorSetting"] = false;
            } catch(e:Error) {
            };
        }
        function __setProp_titleIcon_CategoryView_title(){
            try {
                this.titleIcon["componentInspectorSetting"] = true;
            } catch(e:Error) {
            };
            this.titleIcon.autoLoad = false;
            this.titleIcon.enabled = true;
            this.titleIcon.maintainAspectRatio = true;
            this.titleIcon.scaleContent = true;
            this.titleIcon.source = "";
            this.titleIcon.visible = true;
            try {
                this.titleIcon["componentInspectorSetting"] = false;
            } catch(e:Error) {
            };
        }

    }
}//package com.slskin.ignitenetwork.views.desktop 
﻿package com.slskin.ignitenetwork.views.desktop {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import com.slskin.ignitenetwork.apps.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.components.*;
    import fl.containers.*;
    import com.slskin.ignitenetwork.fonts.*;

    public class FavoritesWidget extends MovieClip {

        private const LIST_ITEM_WIDTH:Number = 250;
        private const LIST_ITEM_HEIGHT:Number = 25;

        public var favePane:ScrollPane;
        public var titleTLF:TLFTextField;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;
        private var main:Main;

        public function FavoritesWidget(){
            super();
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.MyriadRegular";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "titleTLF", new Rectangle(0, 0, 139.95, 16.5), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#ffffff" fontFamily="MyriadPro-Reg*" fontSize="16" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">Favorites</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
            this.__setProp_favePane_FavoritesWidget_ScrollPane_0();
        }
        public function __registerTLFFonts():void{
            Font.registerFont(MyriadRegular);
            RuntimeFontMapper.addFontMapEntry("['MyriadPro-Reg*','normal','normal']", ["Myriad Pro", "normal", "normal"]);
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.main = (root as Main);
            this.titleTLF.text = Language.translate("Your_Favorites", "Your Favorites");
            this.setPaneStyle();
            this.createFavList(this.main.appManager.favorites);
        }
        private function createFavList(_arg1:Array):void{
            var _local3:ListItem;
            var _local2:Array = new Array();
            var _local4:uint;
            while (_local4 < _arg1.length) {
                _local3 = new ListItem(_arg1[_local4], this.LIST_ITEM_WIDTH, this.LIST_ITEM_HEIGHT, 0x333333, "12", 0xCCCCCC, new DottedSeperator());
                _local3.addEventListener(MouseEvent.CLICK, this.onFavoriteItemClick);
                _local2.push(_local3);
                _local4++;
            };
            this.favePane.source = new List(_local2, 0, 2);
        }
        private function onFavoriteItemClick(_arg1:MouseEvent):void{
            var _local2:Application = ((_arg1.currentTarget as ListItem).dataProvider as Application);
            this.main.appManager.verifyAppLaunch(_local2);
        }
        private function setPaneStyle():void{
            this.favePane.setStyle("scrollBarWidth", 8);
            this.favePane.setStyle("scrollArrowHeight", 0);
            this.favePane.setStyle("trackUpSkin", ScrollTrack_Invisible);
            this.favePane.setStyle("trackOverSkin", ScrollTrack_Invisible);
            this.favePane.setStyle("trackDownSkin", ScrollTrack_Invisible);
            this.favePane.setStyle("thumbUpSkin", ScrollThumb_Up_Dark);
            this.favePane.setStyle("thumbOverSkin", ScrollThumb_Up_Dark);
            this.favePane.setStyle("thumbDownSkin", ScrollThumb_Up_Dark);
            this.favePane.setStyle("downArrowUpSkin", ArrowSkin_Invisible);
            this.favePane.setStyle("upArrowUpSkin", ArrowSkin_Invisible);
        }
        function __setProp_favePane_FavoritesWidget_ScrollPane_0(){
            try {
                this.favePane["componentInspectorSetting"] = true;
            } catch(e:Error) {
            };
            this.favePane.enabled = true;
            this.favePane.horizontalLineScrollSize = 4;
            this.favePane.horizontalPageScrollSize = 0;
            this.favePane.horizontalScrollPolicy = "off";
            this.favePane.scrollDrag = false;
            this.favePane.source = "";
            this.favePane.verticalLineScrollSize = 10;
            this.favePane.verticalPageScrollSize = 0;
            this.favePane.verticalScrollPolicy = "auto";
            this.favePane.visible = true;
            try {
                this.favePane["componentInspectorSetting"] = false;
            } catch(e:Error) {
            };
        }

    }
}//package com.slskin.ignitenetwork.views.desktop 
﻿package com.slskin.ignitenetwork.views.desktop {
    import flash.events.*;
    import flash.geom.*;
    import com.slskin.ignitenetwork.views.*;
    import fl.transitions.*;

    public class DashBoardView extends SLView {

        private const LEFT_PADDING:Number = 105;

        public function DashBoardView(){
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.xPadding = (this.LEFT_PADDING + this.width);
            this.startPos = new Point((main.getStageWidth() + this.width), centerY);
            this.moveToStart();
            this.showView();
        }
        override public function showView(_arg1:Event=null):void{
            super.showView();
            this.xTween.addEventListener(TweenEvent.MOTION_FINISH, this.onTweenFinish);
        }
        private function onTweenFinish(_arg1:TweenEvent):void{
            this.dispatchEvent(_arg1);
        }

    }
}//package com.slskin.ignitenetwork.views.desktop 
﻿package com.slskin.ignitenetwork.views.desktop {
    import flash.display.*;
    import flash.utils.*;
    import flash.events.*;
    import flash.geom.*;
    import com.slskin.ignitenetwork.apps.*;
    import com.slskin.ignitenetwork.events.*;
    import com.slskin.ignitenetwork.views.*;
    import fl.transitions.*;
    import com.slskin.ignitenetwork.components.*;
    import fl.transitions.easing.*;
    import flash.external.*;
    import flash.filters.*;

    public class DockView extends SLView {

        private const DOCK_HEIGHT:Number = 65;
        private const TOP_PADDING:Number = 8;
        private const LEFT_RIGHT_PADDING:Number = 10;
        private const ICON_PADDING:Number = 15;

        private var iconHolder:MovieClip;
        private var iconMap:Dictionary;
        private var dockBackground:Sprite;
        private var selectedIcon:DockIcon;
        private var clickedIcon:DockIcon;

        public function DockView(){
            this.iconHolder = new MovieClip();
            this.iconMap = new Dictionary();
            this.iconHolder.x = this.LEFT_RIGHT_PADDING;
            this.iconHolder.y = this.TOP_PADDING;
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.refreshDockIcons();
            centerX = ((this.main.getStageWidth() - this.dockBackground.width) / 2);
            this.startPos = new Point(centerX, (this.height * -1));
            this.moveToStart();
            this.addChild(this.iconHolder);
            main.appManager.addEventListener(SLEvent.UPDATE_CATEGORY_LIST, this.onCategoryListUpdate);
            this.showView();
        }
        override public function showView(_arg1:Event=null):void{
            if (this.dockBackground != null){
                centerX = ((this.main.getStageWidth() - this.dockBackground.width) / 2);
            };
            this.endPos = new Point(centerX, 0);
            this.xTween = new Tween(this, "x", Strong.easeInOut, this.x, this.endPos.x, 1, true);
            this.yTween = new Tween(this, "y", Strong.easeInOut, this.y, this.endPos.y, 1, true);
        }
        private function onCategoryListUpdate(_arg1:SLEvent):void{
            this.refreshDockIcons();
        }
        private function refreshDockIcons():void{
            var _local2:DockIcon;
            var _local1:Array = main.appManager.categories;
            while (this.iconHolder.numChildren > 0) {
                this.iconHolder.removeChildAt(0);
            };
            var _local3:Number = 0;
            var _local4:uint;
            while (_local4 < _local1.length) {
                _local2 = new DockIcon((_local1[_local4] as MainCategory));
                this.iconMap[(_local1[_local4] as MainCategory).name] = _local2;
                _local2.x = ((_local4 * _local2.ICON_SIZE) + (_local4 * this.ICON_PADDING));
                _local3 = (_local3 + (_local2.ICON_SIZE + this.ICON_PADDING));
                this.iconHolder.addChildAt(_local2, 0);
                _local2.addEventListener(MouseEvent.CLICK, this.onDockIconClick);
                _local4++;
            };
            this.drawDockBackground(_local3, this.DOCK_HEIGHT);
            this.updateCenter();
            this.x = centerX;
        }
        private function drawDockBackground(_arg1:Number, _arg2:Number):void{
            if (((!((this.dockBackground == null))) && (!((this.dockBackground.stage == null))))){
                this.removeChild(this.dockBackground);
            };
            var _local3:Number = -10;
            _arg2 = (_arg2 + (_local3 * -1));
            _arg1 = (_arg1 + this.LEFT_RIGHT_PADDING);
            var _local4:Sprite = new Sprite();
            _local4.graphics.beginFill(0x333333);
            _local4.graphics.lineStyle(1.5, 0xFFFFFF, 1, true, "normal", CapsStyle.ROUND, JointStyle.ROUND);
            _local4.graphics.drawRoundRect(0, _local3, _arg1, _arg2, 8);
            _local4.graphics.endFill();
            var _local5:GlowFilter = new GlowFilter(0x666666, 1, 6, 6, 1, 1, false, false);
            _local4.filters = new Array(_local5);
            _local4.blendMode = BlendMode.MULTIPLY;
            this.dockBackground = _local4;
            this.addChildAt(this.dockBackground, 0);
        }
        public function clickIcon(_arg1:String):void{
            if (_arg1 == null){
                return;
            };
            if (this.iconMap == null){
                return;
            };
            var _local2:DockIcon = this.iconMap[_arg1];
            if (_local2 == null){
                throw (new Error((_arg1 + " does not have a corresponding DockIcon.")));
            };
            _local2.dispatchEvent(new MouseEvent(MouseEvent.CLICK));
        }
        private function onDockIconClick(_arg1:MouseEvent):void{
            var _local3:SLEvent;
            var _local2:MainCategory = (_arg1.currentTarget as DockIcon).category;
            this.clickedIcon = (_arg1.currentTarget as DockIcon);
            if ((((_local2.numOfSubCategories > 0)) || ((_local2.name == "Home")))){
                _local3 = new SLEvent(SLEvent.DOCK_ICON_CLICK, _local2);
                this.dispatchEvent(_local3);
                if (this.selectedIcon != null){
                    this.selectedIcon.isSelected = false;
                };
                this.selectedIcon = (_arg1.currentTarget as DockIcon);
                this.selectedIcon.isSelected = true;
            } else {
                if (_local2.numOfApps == 1){
                    this.main.appManager.launchCategory(_local2);
                } else {
                    if (!this.clickedIcon.dropDownVisible){
                        this.clickedIcon.showLoader();
                        this.main.model.addEventListener(SLEvent.UPDATE_APP_LIST, this.onReceiveAppList);
                        if (ExternalInterface.available){
                            ExternalInterface.call("GetApplicationList", _local2.id);
                        };
                        _arg1.stopPropagation();
                    };
                };
            };
        }
        public function onReceiveAppList(_arg1:SLEvent):void{
            var _local4:ListItem;
            this.main.model.removeEventListener(SLEvent.UPDATE_APP_LIST, this.onReceiveAppList);
            this.clickedIcon.hideLoader();
            var _local2:Array = this.main.appManager.parseAppString(_arg1.argument);
            var _local3:Array = new Array();
            var _local5:uint;
            while (_local5 < _local2.length) {
                _local4 = new ListItem(_local2[_local5], 150, 30, 0x666666, "11", 0xE1E1E1, new DottedSeperatorShort());
                _local4.addEventListener(MouseEvent.CLICK, this.onAppItemClick);
                _local3.push(_local4);
                _local5++;
            };
            this.clickedIcon.displayDropDown(new List(_local3, 0, 0));
        }
        private function onAppItemClick(_arg1:MouseEvent):void{
            var _local2:Application = ((_arg1.currentTarget as ListItem).dataProvider as Application);
            this.main.appManager.launchApp(_local2, true);
        }

    }
}//package com.slskin.ignitenetwork.views.desktop 
﻿package com.slskin.ignitenetwork.views.desktop {
    import flash.display.*;
    import flash.utils.*;
    import flash.events.*;
    import flash.geom.*;
    import com.slskin.ignitenetwork.views.*;
    import flash.net.*;
    import fl.containers.*;
    import com.slskin.ignitenetwork.util.*;
    import flash.filters.*;

    public class AdsView extends SLView {

        private const AD_WIDTH:Number = 608;
        private const AD_HEIGHT:Number = 50;
        private const LEFT_PADDING:Number = -93;
        private const TOP_PADDING:Number = 340;

        private var scrollTimer:Timer;
        private var currentAd:UILoader;
        private var currentLink:URLRequest;
        private var adPaths:Array;
        private var adIter:ArrayIterator;
        private var adSettings:XMLList;
        private var impressionData:URLVariables;

        public function AdsView(){
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
        }
        override public function get width():Number{
            return (this.AD_WIDTH);
        }
        override public function get height():Number{
            return (this.AD_HEIGHT);
        }
        private function onAdded(_arg1:Event):void{
            var evt:* = _arg1;
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.adSettings = new XMLList(this.main.config.adSettings);
            if ((((this.adSettings.length() == 0)) || ((this.adSettings.@enabled == "false")))){
                return;
            };
            this.startPos = new Point(centerX, (main.getStageHeight() + this.height));
            this.xPadding = this.LEFT_PADDING;
            this.yPadding = this.TOP_PADDING;
            this.startPos.x = (this.startPos.x + this.xPadding);
            this.startPos.y = (this.startPos.y + this.yPadding);
            this.moveToStart();
            var username:* = main.model.getProperty("Username", main.model.DATA_PATH);
            var age:* = (new Date().fullYear - Number(main.model.getProperty("Birthday_Year", main.model.DATA_PATH)));
            var gender:* = (((main.model.getProperty("Sex", main.model.DATA_PATH) == "1")) ? "m" : "f");
            this.impressionData = new URLVariables();
            this.impressionData.sl_username = username;
            this.impressionData.user_age = age;
            this.impressionData.gender = gender;
            var adContainer:* = new Sprite();
            adContainer.graphics.beginFill(0x333333, 1);
            adContainer.graphics.lineStyle(1, 0xFFFFFF, 1, true, "normal", CapsStyle.ROUND, JointStyle.ROUND);
            adContainer.graphics.drawRoundRect(0, 0, this.width, this.height, 8);
            adContainer.graphics.endFill();
            var glow:* = new GlowFilter(0x666666, 1, 6, 6, 1, 1, false, false);
            adContainer.filters = new Array(glow);
            adContainer.blendMode = BlendMode.MULTIPLY;
            this.addChild(adContainer);
            this.currentAd = new UILoader();
            var _local3 = this.currentAd;
            with (_local3) {
                width = AD_WIDTH;
                height = AD_HEIGHT;
                scaleContent = true;
                maintainAspectRation = true;
                useHandCursor = true;
                buttonMode = true;
            };
            this.currentAd.addEventListener("click", this.onAdClick);
            var mask:* = new Sprite();
            mask.graphics.beginFill(0x333333, 1);
            mask.graphics.lineStyle(1, 0xFFFFFF, 1, true, "normal", CapsStyle.ROUND, JointStyle.ROUND);
            mask.graphics.drawRoundRect(0, 0, this.width, this.height, 8);
            mask.graphics.endFill();
            this.currentAd.mask = mask;
            this.addChild(mask);
            this.addChild(this.currentAd);
            var adLoader:* = new URLLoader(new URLRequest(((this.adSettings.adURL + "?") + Math.random())));
            adLoader.addEventListener(Event.COMPLETE, this.onAdsLoaded);
            this.showView();
        }
        private function onAdsLoaded(_arg1:Event):void{
            var timerDelay:* = NaN;
            var evt:* = _arg1;
            var ads:* = new XML();
            try {
                ads = XML(evt.target.data);
            } catch(e:TypeError) {
                main.log(("Failed to parse ad data: " + e));
            };
            var numAds:* = ads.ad.length();
            this.adPaths = new Array();
            var i:* = 0;
            while (i < numAds) {
                this.adPaths.push(XML(ads.ad[i]));
                i = (i + 1);
            };
            this.adIter = new ArrayIterator(this.adPaths);
            if (numAds > 1){
                timerDelay = (Number(this.adSettings.@autoScrollSeconds) * 1000);
                this.scrollTimer = new Timer(timerDelay);
                this.scrollTimer.addEventListener(TimerEvent.TIMER, this.onIntervalTick);
                this.scrollTimer.start();
            };
            this.loadNextImage();
        }
        private function loadNextImage():void{
            if (!this.adIter.hasNext()){
                this.adIter.reset();
            };
            var _local1:XML = this.adIter.next();
            this.currentAd.load(new URLRequest(_local1.@asset));
            var _local2:URLRequest = new URLRequest(this.adSettings.impressionsURL);
            this.impressionData.ad_id = _local1.@id;
            this.impressionData.redirect = _local1.@href;
            _local2.data = this.impressionData;
            this.currentLink = _local2;
        }
        private function onAdClick(_arg1:Event):void{
            navigateToURL(this.currentLink, "_blank");
        }
        private function onIntervalTick(_arg1:Event):void{
            this.loadNextImage();
        }

    }
}//package com.slskin.ignitenetwork.views.desktop 
﻿package com.slskin.ignitenetwork.views.desktop {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import org.httpclient.*;
    import flash.utils.*;
    import com.adobe.net.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import com.adobe.serialization.json.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.events.*;
    import org.httpclient.events.*;
    import fl.transitions.*;
    import com.slskin.ignitenetwork.components.*;
    import fl.containers.*;
    import com.slskin.ignitenetwork.util.*;
    import fl.transitions.easing.*;
    import com.slskin.ignitenetwork.fonts.*;
    import org.httpclient.http.*;

    public class NewsWidget extends MovieClip {

        private const TWITTER_API:String = "https://api.twitter.com/1.1/statuses/user_timeline.json?screen_name={0}&count={1}&trim_user=true&exclude_replies={2}";
        private const TWEET_URL:String = "https://twitter.com/{0}/status/{1}";
        private const TWEET_COUNT:int = 15;
        private const PADDING:Number = 12;
        private const LEFT_PADDING:Number = 5;

        public var loader:SpinnerLight;
        public var titleTLF:TLFTextField;
        public var newsPane:ScrollPane;
        public var InstanceName_0:MovieClip;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;
        private var main:Main;

        public function NewsWidget(){
            super();
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.MyriadRegular";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "titleTLF", new Rectangle(0, 0, 138.9, 16.5), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#ffffff" fontFamily="MyriadPro-Reg*" fontSize="16" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">News</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
            this.__setProp_newsPane_NewsWidget_NewsPane_0();
        }
        public function __registerTLFFonts():void{
            Font.registerFont(MyriadRegular);
            RuntimeFontMapper.addFontMapEntry("['MyriadPro-Reg*','normal','normal']", ["Myriad Pro", "normal", "normal"]);
        }
        private function onAdded(_arg1:Event):void{
            this.main = (root as Main);
            this.loader.visible = true;
            (parent as DashBoardView).addEventListener(TweenEvent.MOTION_FINISH, this.onTweenComplete);
            this.titleTLF.text = Language.translate("News_And_Events", "News and Events");
            this.setPaneStyle();
        }
        private function onTweenComplete(_arg1:TweenEvent):void{
            (parent as DashBoardView).removeEventListener(TweenEvent.MOTION_FINISH, this.onTweenComplete);
            this.main.model.addEventListener(SLEvent.UPDATE_NEWS_EVENTS, this.loadNews);
            this.loadNews();
        }
        private function loadNews(_arg1:SLEvent=null){
            var screenName:* = null;
            var excludeReplies:* = false;
            var url:* = null;
            var client:* = null;
            var listener:* = null;
            var uri:* = null;
            var req:* = null;
            var slNews:* = null;
            var evt = _arg1;
            if ((this.newsPane.source is DisplayObject)){
                this.newsPane.source.alpha = 0.5;
            };
            this.loader.visible = true;
            if (this.main.config.Social.@showTweetsInNews == "true"){
                screenName = this.main.config.Social.@twitterScreenName;
                excludeReplies = !((this.main.config.Social.@showRepliesInNews == "true"));
                url = Strings.substitute(this.TWITTER_API, screenName, this.TWEET_COUNT, String(excludeReplies));
                client = new HttpClient();
                listener = new HttpDataListener();
                uri = new URI(url);
                req = new Get();
                req.addHeader("Authorization", this.main.config.Social.@twitterAuthHeader);
                req.header.remove("Connection");
                listener.onDataComplete = function (_arg1:HttpResponseEvent, _arg2:ByteArray):void{
                    _arg2.position = 0;
                    onTweetLoadComplete(_arg2.readUTFBytes(_arg2.length));
                };
                client.request(uri, req, -1, listener);
            } else {
                slNews = this.parseSLNews(this.main.model.getProperty("UpdateNewsAndEvents"));
                this.addNewsItems(slNews);
                this.loader.visible = false;
            };
        }
        private function onTweetLoadComplete(_arg1:String):void{
            var rawJson:* = _arg1;
            var parsedJson:* = new Array();
            try {
                parsedJson = JSON.decode(rawJson);
            } catch(e:Error) {
                main.log(("Error parsing twitter json: " + e.message));
            };
            var tweets:* = this.parseTweets(parsedJson);
            var slNews:* = this.parseSLNews(this.main.model.getProperty("UpdateNewsAndEvents"));
            var merged:* = this.mergeNewsSources(tweets, slNews);
            this.addNewsItems(merged);
            this.loader.visible = false;
        }
        private function parseTweets(_arg1:Array):Array{
            var _local4:NewsItem;
            var _local2:int = _arg1.length;
            var _local3:String = this.main.config.Social.@twitterScreenName;
            var _local5:Array = new Array();
            var _local6:uint;
            while (_local6 < _local2) {
                _local4 = new NewsItem();
                _local4.contentText = _arg1[_local6].text;
                _local4.datePosted = new Date(Date.parse(_arg1[_local6].created_at));
                _local4.url = Strings.substitute(this.TWEET_URL, _local3, _arg1[_local6].id_str);
                _local4.isTweet = true;
                _local5.push(_local4);
                _local6++;
            };
            return (_local5);
        }
        private function parseSLNews(_arg1:String):Array{
            var _local3:Array;
            var _local5:NewsItem;
            if ((((_arg1 == null)) || ((_arg1.length == 0)))){
                return (new Array());
            };
            var _local2:Array = _arg1.split(this.main.model.DIM);
            var _local4:Array = new Array();
            var _local6:uint;
            while (_local6 < _local2.length) {
                if (_local2[_local6].length == 0){
                } else {
                    _local3 = _local2[_local6].split(this.main.model.DlMSep);
                    _local5 = new NewsItem();
                    _local5.datePosted = new Date(Date.parse(_local3[0]));
                    _local5.contentTitle = (((_local3[1] == null)) ? "" : (_local3[1] + " "));
                    _local5.contentText = ((((_local3[1] == null)) ? "" : (_local3[1] + " ")) + (((_local3[2] == null)) ? "" : _local3[2]));
                    _local5.url = (((_local3[3] == null)) ? "" : _local3[3]);
                    _local5.isTweet = false;
                    _local4.push(_local5);
                };
                _local6++;
            };
            return (_local4);
        }
        private function mergeNewsSources(_arg1:Array, _arg2:Array):Array{
            var _local3:uint;
            var _local4:uint;
            var _local5:Array = new Array();
            while ((((_local3 < _arg1.length)) && ((_local4 < _arg2.length)))) {
                if (this.compareDates(_arg1[_local3].datePosted, _arg2[_local4].datePosted) <= 0){
                    var _temp1 = _local3;
                    _local3 = (_local3 + 1);
                    _local5.push(_arg1[_temp1]);
                } else {
                    var _temp2 = _local4;
                    _local4 = (_local4 + 1);
                    _local5.push(_arg2[_temp2]);
                };
            };
            while (_local3 < _arg1.length) {
                var _temp3 = _local3;
                _local3 = (_local3 + 1);
                _local5.push(_arg1[_temp3]);
            };
            while (_local4 < _arg2.length) {
                var _temp4 = _local4;
                _local4 = (_local4 + 1);
                _local5.push(_arg2[_temp4]);
            };
            return (_local5);
        }
        private function addNewsItems(_arg1:Array):void{
            var _local2:MovieClip = new MovieClip();
            var _local3:Number = this.PADDING;
            var _local4:int;
            while (_local4 < _arg1.length) {
                _local2.addChild(_arg1[_local4]);
                _arg1[_local4].x = this.LEFT_PADDING;
                _arg1[_local4].y = _local3;
                _local3 = (_local3 + ((_arg1[_local4].contentTLF.y + _arg1[_local4].contentTLF.height) + this.PADDING));
                _local4++;
            };
            var _local5:Sprite = new Sprite();
            _local5.graphics.beginFill(0xFFFFFF);
            _local5.graphics.drawRect(this.PADDING, _local3, 20, 20);
            _local5.graphics.endFill();
            _local5.visible = false;
            _local2.addChild(_local5);
            this.newsPane.source = _local2;
        }
        private function setPaneStyle():void{
            this.newsPane.setStyle("scrollBarWidth", 8);
            this.newsPane.setStyle("scrollArrowHeight", 0);
            this.newsPane.setStyle("trackUpSkin", ScrollTrack_Invisible);
            this.newsPane.setStyle("trackOverSkin", ScrollTrack_Invisible);
            this.newsPane.setStyle("trackDownSkin", ScrollTrack_Invisible);
            this.newsPane.setStyle("thumbUpSkin", ScrollThumb_Up_Dark);
            this.newsPane.setStyle("thumbOverSkin", ScrollThumb_Up_Dark);
            this.newsPane.setStyle("thumbDownSkin", ScrollThumb_Up_Dark);
            this.newsPane.setStyle("downArrowUpSkin", ArrowSkin_Invisible);
            this.newsPane.setStyle("upArrowUpSkin", ArrowSkin_Invisible);
        }
        private function compareDates(_arg1:Date, _arg2:Date):int{
            var _local3:Number = _arg1.getTime();
            var _local4:Number = _arg2.getTime();
            if (_local3 > _local4){
                return (-1);
            };
            if (_local3 < _local4){
                return (1);
            };
            return (0);
        }
        public function onTwitterLoadError(_arg1:IOErrorEvent):void{
            this.main.log(_arg1.text);
        }
        function __setProp_newsPane_NewsWidget_NewsPane_0(){
            try {
                this.newsPane["componentInspectorSetting"] = true;
            } catch(e:Error) {
            };
            this.newsPane.enabled = true;
            this.newsPane.horizontalLineScrollSize = 4;
            this.newsPane.horizontalPageScrollSize = 0;
            this.newsPane.horizontalScrollPolicy = "off";
            this.newsPane.scrollDrag = false;
            this.newsPane.source = "";
            this.newsPane.verticalLineScrollSize = 10;
            this.newsPane.verticalPageScrollSize = 0;
            this.newsPane.verticalScrollPolicy = "auto";
            this.newsPane.visible = true;
            try {
                this.newsPane["componentInspectorSetting"] = false;
            } catch(e:Error) {
            };
        }

    }
}//package com.slskin.ignitenetwork.views.desktop 
﻿package com.slskin.ignitenetwork.views.desktop {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.events.*;
    import com.slskin.ignitenetwork.views.*;
    import flash.net.*;
    import com.slskin.ignitenetwork.components.*;
    import com.slskin.ignitenetwork.views.accountsetup.*;
    import fl.containers.*;
    import com.slskin.ignitenetwork.util.*;
    import fl.transitions.easing.*;
    import com.slskin.ignitenetwork.fonts.*;
    import flash.external.*;

    public class FooterView extends SLView {

        private const LEFT_PADDING:Number = -137;
        private const TOP_PADDING:Number = 268;
        private const LOGO_SIZE:Number = 75;
        private const ICON_PADDING:Number = 8;
        private const RIBBON_PADDING:Number = 5;
        private const LOGOUT_TEXT_COLOR:uint = 0x333333;
        private const STATUS_USERNAME_COLOR:uint = 33023;
        private const STATUS_DEFAULT_COLOR:uint = 0xCCCCCC;
        private const LOGOUT_ROLLOVER_COLOR:uint = 0x990000;

        public var statusTLF:TLFTextField;
        public var subHeadlineTLF:TLFTextField;
        public var ribbon:MovieClip;
        public var logoLoader:UILoader;
        public var headLineTLF:TLFTextField;
        public var logoutButton:MovieClip;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;
        private var socialIcons:MovieClip;
        private var username:String;
        private var setup:AccountSetupView;
        private var defaultFormat:TextFormat;
        private var usernameFormat:TextFormat;
        private var linkUsernameFormat:TextFormat;
        private var rollOverUsername:TextFormat;

        public function FooterView(){
            this.defaultFormat = new TextFormat("Tahoma", 12, this.STATUS_DEFAULT_COLOR, false, false, false);
            this.usernameFormat = new TextFormat("Tahoma", 13, this.STATUS_USERNAME_COLOR, false, false, false);
            this.linkUsernameFormat = new TextFormat("Tahoma", 13, this.STATUS_USERNAME_COLOR, false, false, true);
            this.rollOverUsername = new TextFormat("Tahoma", 13, this.STATUS_DEFAULT_COLOR, false, false, true);
            super();
            this.socialIcons = new MovieClip();
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.TahomaRegular";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "statusTLF", new Rectangle(0, 0, 310, 15.65), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="top" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2.3" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="toFit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="0" textAlign="end" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#cccccc" fontFamily="Tahoma-Reg*" fontSize="12" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="100%" textAlpha="1" textRotation="auto" trackingRight="0%">Logged in as Ruben. </span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
                RuntimeManager.getSingleton().addInstance(this, "subHeadlineTLF", new Rectangle(0, 0, 275, 30), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="toFit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="0" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#cccccc" fontFamily="Tahoma-Reg*" fontSize="12" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="100%" textAlpha="1" textRotation="auto" trackingRight="0%">02/09/2012 - PC 00</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
                RuntimeManager.getSingleton().addInstance(this, "headLineTLF", new Rectangle(0, 0, 188, 23.45), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="0" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span backgroundAlpha="1" backgroundColor="transparent" color="#ffffff" fontFamily="Tahoma-Regular*" fontSize="13" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="100%" locale="en" textAlpha="1" textRotation="auto" trackingRight="0%">ignite network gaming lounge</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
        }
        public function __registerTLFFonts():void{
            Font.registerFont(TahomaRegular);
            RuntimeFontMapper.addFontMapEntry("['Tahoma-Reg*','normal','normal']", ["Tahoma", "normal", "normal"]);
            RuntimeFontMapper.addFontMapEntry("['Tahoma-Regular*','normal','normal']", ["Tahoma", "normal", "normal"]);
        }
        private function onAdded(_arg1:Event):void{
            var evt:* = _arg1;
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.startPos = new Point(centerX, (main.getStageHeight() + this.height));
            this.xPadding = this.LEFT_PADDING;
            this.yPadding = this.TOP_PADDING;
            this.startPos.x = (this.startPos.x + this.xPadding);
            this.startPos.y = (this.startPos.y + this.yPadding);
            this.moveToStart();
            var _local3 = this.logoLoader;
            with (_local3) {
                width = this.LOGO_SIZE;
                height = this.LOGO_SIZE;
                scale = (maintainAspectRatio = true);
                load(new URLRequest(main.config.Images.footerLogo));
            };
            this.setHeadline(main.model.getProperty("Headline1", main.model.TEXT_PATH));
            this.subHeadlineTLF.text = main.model.getProperty("Headline2", main.model.TEXT_PATH);
            _local3 = this.logoutButton;
            with (_local3) {
                tlf.autoSize = "right";
                tlf.text = Language.translate("Logout", "Logout");
                bg.width = ((tlf.width + icon.width) + 10);
                hitbox.width = bg.width;
                icon.x = Math.floor((((bg.width * -1) + icon.width) + 6));
            };
            this.username = main.model.getProperty("Username", main.model.DATA_PATH);
            this.statusTLF.text = ((Language.translate("Current_User", "Current user") + " ") + this.username);
            this.setUsernamFormat(this.usernameFormat);
            this.logoutButton.hitbox.tabEnabled = false;
            this.logoutButton.hitbox.addEventListener(MouseEvent.CLICK, this.onLogoutClick);
            this.logoutButton.hitbox.addEventListener(MouseEvent.ROLL_OVER, this.onLogoutRollOver);
            this.logoutButton.hitbox.addEventListener(MouseEvent.ROLL_OUT, this.onLogoutRollOut);
            this.addSocialIcons();
            this.addEditProfileLink();
            this.showView();
            this.main.model.addEventListener(SLEvent.LOGGING_OUT, this.onUserLoggingOut);
        }
        private function setUsernamFormat(_arg1:TextFormat):void{
            this.statusTLF.setTextFormat(this.defaultFormat, 0, (this.statusTLF.text.length - this.username.length));
            this.statusTLF.setTextFormat(_arg1, (this.statusTLF.text.length - this.username.length), this.statusTLF.length);
        }
        private function setHeadline(_arg1:String):void{
            this.headLineTLF.text = _arg1;
            var _local2:Number = (this.headLineTLF.textWidth + this.ICON_PADDING);
            this.headLineTLF.width = _local2;
            this.ribbon.bar.width = (_local2 + this.RIBBON_PADDING);
            this.ribbon.lines.width = this.ribbon.bar.width;
        }
        private function addSocialIcons():void{
            var _local1:IconLink;
            this.socialIcons = new MovieClip();
            this.socialIcons.x = ((this.ribbon.bar.width + (this.ICON_PADDING * 2)) + this.LOGO_SIZE);
            this.socialIcons.y = this.ribbon.y;
            var _local2:uint = main.config.Social.link.length();
            var _local3:uint;
            while (_local3 < _local2) {
                _local1 = new IconLink(main.config.Social.link[_local3].@alias, main.config.Social.link[_local3], main.config.Social.link[_local3].@iconPath);
                _local1.x = ((_local3 * _local1.width) + (_local3 * this.ICON_PADDING));
                this.socialIcons.addChild(_local1);
                _local3++;
            };
            this.addChild(this.socialIcons);
        }
        private function addEditProfileLink():void{
            var _local1:String = main.model.getProperty("OptionsList", main.model.ROOT_PATH);
            if ((((_local1 == null)) || ((_local1.search("-2") == -1)))){
                return;
            };
            var _local2:Array = _local1.split(main.model.DIM);
            _local2[0] = _local2[0].split(main.model.DlMSep);
            this.setUsernamFormat(this.linkUsernameFormat);
            this.statusTLF.buttonMode = (this.statusTLF.useHandCursor = true);
            this.statusTLF.addEventListener(MouseEvent.ROLL_OVER, this.onStatusRollOver);
            this.statusTLF.addEventListener(MouseEvent.ROLL_OUT, this.onStatusRollOut);
            this.statusTLF.addEventListener(MouseEvent.CLICK, this.onStatusClick);
        }
        private function onLogoutClick(_arg1:Event):void{
            if (ExternalInterface.available){
                ExternalInterface.call("UserLogout", "");
                this.main.model.addEventListener(SLEvent.VALUE_ADDED, this.onValueAdded);
            };
        }
        private function onUserLoggingOut(_arg1:SLEvent):void{
            if (((!((this.setup == null))) && (main.contains(this.setup)))){
                main.removeChild(this.setup);
            };
            LoadingView.getInstance().showLoader();
            LoadingView.getInstance().loadingText = Language.translate("Logging_Out", main.config.Strings.LoggingOut);
            this.main.model.removeEventListener(SLEvent.LOGGING_OUT, this.onUserLoggingOut);
        }
        private function onAccountEditComplete(_arg1:SLEvent):void{
            var evt:* = _arg1;
            if (this.setup == null){
                return;
            };
            main.model.removeEventListener(SLEvent.REQUIRED_INFO_ENTERED, this.onAccountEditComplete);
            this.setup.hideView();
            this.setup.addEventListener(SLView.HIDE_COMPLETE, function (_arg1:Event):void{
                main.removeChild((_arg1.target as DisplayObject));
                setup = null;
            });
        }
        private function onValueAdded(_arg1:SLEvent):void{
            var _local2:Array = String(_arg1.argument).split(main.model.DIM);
            var _local3:String = _local2[0];
            var _local4:String = _local2[1];
            switch (_local3){
                case (main.model.DATA_PATH + "LoadingStatus"):
                    if (_local4 == "Done"){
                        LoadingView.getInstance().hideLoader();
                        main.model.removeEventListener(SLEvent.VALUE_ADDED, this.onValueAdded);
                    } else {
                        if (_local4 == "Failed"){
                            LoadingView.getInstance().hideLoader();
                            ErrorView.getInstance().showError(main.config.Strings.ErrorString);
                            main.model.removeEventListener(SLEvent.VALUE_ADDED, this.onValueAdded);
                        };
                    };
                    break;
                case (main.model.TEXT_PATH + "LoadingText"):
                case (main.model.DATA_PATH + "LoadingText"):
                    LoadingView.getInstance().loadingText = _local4;
                    break;
            };
        }
        private function onLogoutRollOver(_arg1:MouseEvent):void{
            this.logoutButton.tlf.textColor = this.LOGOUT_ROLLOVER_COLOR;
            this.logoutButton.bg.gotoAndStop("Down");
        }
        private function onLogoutRollOut(_arg1:MouseEvent):void{
            this.logoutButton.tlf.textColor = this.LOGOUT_TEXT_COLOR;
            this.logoutButton.bg.gotoAndStop("Up");
        }
        private function onStatusClick(_arg1:MouseEvent):void{
            if (this.setup != null){
                return;
            };
            this.setup = new AccountSetupView(2);
            main.model.addEventListener(SLEvent.REQUIRED_INFO_ENTERED, this.onAccountEditComplete);
            main.addChild(this.setup);
        }
        private function onStatusRollOver(_arg1:MouseEvent):void{
            this.setUsernamFormat(this.rollOverUsername);
        }
        private function onStatusRollOut(_arg1:MouseEvent):void{
            this.setUsernamFormat(this.linkUsernameFormat);
        }

    }
}//package com.slskin.ignitenetwork.views.desktop 
﻿package com.slskin.ignitenetwork.views.desktop {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.events.*;
    import flashx.textLayout.formats.*;
    import flash.text.*;
    import com.slskin.ignitenetwork.apps.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.events.*;
    import fl.transitions.*;
    import com.slskin.ignitenetwork.components.*;
    import fl.containers.*;
    import fl.transitions.easing.*;
    import com.slskin.ignitenetwork.fonts.*;
    import flash.external.*;

    public class AppDetailsView extends MovieClip {

        private const WIN_MIN_HEIGHT:Number = 120;
        private const WIN_MAX_HEIGHT:Number = 300;
        private const TITLE_WIDTH:Number = 215;
        private const TILTE_HEIGHT:Number = 64;
        private const DESC_START_X:Number = 32;
        private const DESC_START_Y:Number = 70;
        private const DESC_PADDING_LEFT:Number = 3;
        private const DESC_PADDING_RIGHT:Number = 15;

        public var loader:SpinnerLight;
        public var bg:MovieClip;
        public var content:MovieClip;
        public var corner:MovieClip;
        private var currentApp:Application;
        private var main:Main;
        private var titleFormat:TextFormat;
        private var titleRollOverFormat:TextFormat;
        private var titleTLF:TLFTextField;
        private var descTF:TextField;
        private var scrollPane:ScrollPane;

        public function AppDetailsView(){
            super();
            this.titleTLF = new TLFTextField();
            this.titleFormat = new TextFormat(new MyriadRegular().fontName, "22", 0xFFFFFF, false, false, false);
            this.titleRollOverFormat = new TextFormat(new MyriadRegular().fontName, "22", 0xFFFFFF, false, false, true);
            var _local2 = this.titleTLF;
            with (_local2) {
                defaultTextFormat = this.titleFormat;
                selectable = false;
                embedFonts = true;
                verticalAlign = VerticalAlign.MIDDLE;
                antiAliasType = AntiAliasType.ADVANCED;
                mutiline = (wordWrap = true);
                width = this.TITLE_WIDTH;
                height = this.TILTE_HEIGHT;
                paddingLeft = (paddingRight = 5);
            };
            this.descTF = new TextField();
            _local2 = this.descTF;
            with (_local2) {
                defaultTextFormat = new TextFormat(new TahomaRegular().fontName, "11", 0xCCCCCC);
                selectable = false;
                embedFonts = true;
                antiAliasType = AntiAliasType.ADVANCED;
                mutiline = (wordWrap = true);
                autoSize = "left";
                x = (DESC_START_X + this.DESC_PADDING_LEFT);
                y = DESC_START_Y;
            };
            this.addEventListener(Event.ADDED_TO_STAGE, this.onInitAdded);
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.addEventListener(Event.REMOVED_FROM_STAGE, this.onRemoved);
        }
        public function set app(_arg1:Application):void{
            this.currentApp = _arg1;
        }
        private function onInitAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onInitAdded);
            this.main = (root as Main);
            this.loader.visible = false;
            this.scrollPane = new ScrollPane();
            this.setPaneStyle();
            this.scrollPane.x = (this.DESC_START_X + this.DESC_PADDING_LEFT);
            this.scrollPane.y = this.DESC_START_Y;
            this.scrollPane.width = (this.bg.width - 6);
            this.scrollPane.horizontalScrollPolicy = "off";
            addChild(this.scrollPane);
            this.descTF.width = (this.bg.width - this.DESC_PADDING_RIGHT);
            this.scrollPane.source = this.descTF;
            this.content.addChild(this.titleTLF);
            this.titleTLF.buttonMode = (this.titleTLF.useHandCursor = true);
            this.titleTLF.addEventListener(MouseEvent.CLICK, this.onTitleClick);
            this.titleTLF.addEventListener(MouseEvent.ROLL_OVER, this.onTitleRollOver);
            this.titleTLF.addEventListener(MouseEvent.ROLL_OUT, this.onTitleRollOut);
            this.content.moreInfoButton.addEventListener(MouseEvent.CLICK, this.onMoreInfoClick);
        }
        private function onAdded(_arg1:Event):void{
            this.loader.visible = true;
            this.content.visible = false;
            this.descTF.visible = false;
            this.scrollPane.visible = false;
            this.bg.height = this.WIN_MIN_HEIGHT;
            if (this.currentApp == null){
                this.content.titleTLF.text = "No App Defined";
                return;
            };
            this.main.model.addEventListener(SLEvent.APP_DETAILS_RECEIVED, this.onAppDetailsReceived);
            if (ExternalInterface.available){
                ExternalInterface.call("GetApplicationDetails", this.currentApp.appID);
            };
            if (this.main.model.getProperty("InjectApps") == "1"){
                this.onAppDetailsReceived();
            };
        }
        private function onRemoved(_arg1:Event):void{
            this.main.model.removeEventListener(SLEvent.APP_DETAILS_RECEIVED, this.onAppDetailsReceived);
        }
        private function onAppDetailsReceived(_arg1:SLEvent=null):void{
            this.main.model.removeEventListener(SLEvent.APP_DETAILS_RECEIVED, this.onAppDetailsReceived);
            this.loader.visible = false;
            var _local2:String = this.main.model.getProperty("Application_Headline", this.main.model.APP_DATA_PATH);
            var _local3:String = this.main.model.getProperty("Application_Description", this.main.model.APP_DATA_PATH);
            this.setTitle(_local2);
            this.descTF.text = (((_local3 == null)) ? "" : _local3);
            this.scrollPane.refreshPane();
            this.main.debugger.write(("Loaded Application ID:  " + this.currentApp.appID));
            this.setAppStatus();
            this.adjustHeight();
            this.content.visible = true;
            this.descTF.visible = true;
            this.scrollPane.visible = true;
        }
        private function setAppStatus():void{
            var _local1:String = this.main.model.getProperty("Application_Type", this.main.model.APP_DATA_PATH);
            var _local2:String = this.main.model.getProperty("Application_Status", this.main.model.APP_DATA_PATH);
            var _local3:TLFTextField = new TLFTextField();
            _local3.htmlText = _local2;
            _local2 = _local3.text;
            if (_local1 == "Game"){
                this.toggleGameStats(true);
                this.content.sessionsTLF.text = Number(_local2.match(/\d+/)).toString();
                this.content.singleplayerStatus.gotoAndStop(!((_local2.search("Singleplayer") == -1)).toString());
                this.content.multiplayerStatus.gotoAndStop(!((_local2.search("Multiplayer") == -1)).toString());
            } else {
                if (_local1 == "Program"){
                    this.toggleGameStats(false);
                };
            };
        }
        private function toggleGameStats(_arg1:Boolean){
            var _local2:Number = ((_arg1) ? 1 : 0.3);
            this.content.sessionsTLF.alpha = _local2;
            this.content.singleplayerTLF.alpha = _local2;
            this.content.multiplayerTLF.alpha = _local2;
            this.content.sessionsSubTLF.alpha = _local2;
            this.content.singleplayerStatus.alpha = _local2;
            this.content.multiplayerStatus.alpha = _local2;
            if (!_arg1){
                this.content.sessionsTLF.text = "-";
                this.content.singleplayerStatus.gotoAndStop("false");
                this.content.multiplayerStatus.gotoAndStop("false");
            };
        }
        private function adjustHeight():void{
            var _local1:Number = (this.WIN_MIN_HEIGHT + this.descTF.height);
            if (_local1 > this.WIN_MAX_HEIGHT){
                _local1 = this.WIN_MAX_HEIGHT;
            };
            this.bg.height = Math.ceil(_local1);
            this.scrollPane.height = ((_local1 - this.WIN_MIN_HEIGHT) + 10);
        }
        private function setTitle(_arg1:String):void{
            if (_arg1 == null){
                _arg1 = "";
            };
            this.titleTLF.text = _arg1;
            this.titleTLF.multiline = (this.titleTLF.wordWrap = true);
            this.titleTLF.textFlow.flowComposer.updateAllControllers();
        }
        private function onMoreInfoClick(_arg1:MouseEvent):void{
            if (this.currentApp == null){
                return;
            };
            if (ExternalInterface.available){
                ExternalInterface.call("LaunchApplicationWebsite", this.currentApp.appID);
            };
        }
        private function onTitleClick(_arg1:MouseEvent):void{
            this.main.appManager.verifyAppLaunch(this.currentApp);
        }
        private function onTitleRollOver(_arg1:MouseEvent):void{
            this.titleTLF.setTextFormat(this.titleRollOverFormat);
            this.titleTLF.textFlow.flowComposer.updateAllControllers();
        }
        private function onTitleRollOut(_arg1:MouseEvent):void{
            this.titleTLF.setTextFormat(this.titleFormat);
            this.titleTLF.textFlow.flowComposer.updateAllControllers();
        }
        private function setPaneStyle():void{
            var _local2 = this.scrollPane;
            with (_local2) {
                setStyle("scrollBarWidth", 8);
                setStyle("scrollArrowHeight", 0);
                setStyle("trackUpSkin", ScrollTrack_Invisible);
                setStyle("trackOverSkin", ScrollTrack_Invisible);
                setStyle("trackDownSkin", ScrollTrack_Invisible);
                setStyle("thumbUpSkin", ScrollThumb_Up_Dark);
                setStyle("thumbOverSkin", ScrollThumb_Up_Dark);
                setStyle("thumbDownSkin", ScrollThumb_Up_Dark);
                setStyle("downArrowUpSkin", ArrowSkin_Invisible);
                setStyle("upArrowUpSkin", ArrowSkin_Invisible);
            };
        }

    }
}//package com.slskin.ignitenetwork.views.desktop 
﻿package com.slskin.ignitenetwork.views.desktop {
    import flash.display.*;
    import flash.utils.*;
    import flash.events.*;
    import flash.geom.*;
    import com.slskin.ignitenetwork.apps.*;
    import com.slskin.ignitenetwork.events.*;
    import com.slskin.ignitenetwork.views.*;
    import fl.transitions.*;
    import fl.transitions.easing.*;

    public class DesktopView extends SLView {

        private var dock:DockView;
        private var home:HomeView;
        private var dashboard:DashBoardView;
        private var footer:FooterView;
        private var ads:AdsView;
        private var currentCategoryView:SLView;
        private var categoryViews:Dictionary;
        private var fadeTween:Tween;

        public function DesktopView(){
            this.tabChildren = false;
            this.dock = new DockView();
            this.home = new HomeView();
            this.footer = new FooterView();
            this.ads = new AdsView();
            this.dashboard = new DashBoardView();
            this.categoryViews = new Dictionary();
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
        }
        private function onAdded(_arg1:Event):void{
            this.startPos = new Point(0, 0);
            this.moveToStart();
            this.addChild(this.dashboard);
            this.addChild(this.dock);
            this.addChild(this.footer);
            this.addChild(this.ads);
            this.dock.addEventListener(SLEvent.DOCK_ICON_CLICK, this.onDockIconClick);
            this.createCategoryViews();
            this.showCategoryView("Home");
            this.dock.clickIcon("Home");
            main.model.addEventListener(SLEvent.PAGE_CHANGE, this.onPageChangeEvent);
            this.showView();
        }
        private function createCategoryViews():void{
            var _local2:MainCategory;
            var _local1:Array = main.appManager.categories;
            var _local3:uint;
            while (_local3 < _local1.length) {
                _local2 = _local1[_local3];
                if (_local2.numOfSubCategories != 0){
                    this.categoryViews[_local2.name] = new CategoryView(_local2);
                } else {
                    if (_local2.name == "Home"){
                        this.categoryViews[_local2.name] = this.home;
                    };
                };
                _local3++;
            };
        }
        private function showCategoryView(_arg1:String):void{
            var _local2:SLView = this.categoryViews[_arg1];
            if (_local2 == this.currentCategoryView){
                return;
            };
            if (_local2 != null){
                if (this.currentCategoryView != null){
                    this.currentCategoryView.hideView();
                };
                if (_local2.stage == null){
                    this.addChildAt(_local2, 0);
                } else {
                    _local2.setupView();
                    _local2.showView();
                };
                this.currentCategoryView = _local2;
            } else {
                throw (new Error(("Cannot find a CategoryView defined for category:  " + _arg1)));
            };
        }
        override public function showView(_arg1:Event=null):void{
        }
        override public function hideView(_arg1:Event=null):void{
            var _local2:Sprite = new Sprite();
            _local2.graphics.beginFill(0, 1);
            _local2.graphics.drawRect(0, 0, main.getStageWidth(), main.getStageHeight());
            _local2.graphics.endFill();
            _local2.alpha = 0;
            this.addChild(_local2);
            this.home.destroyVideoPlayers();
            this.home = null;
            this.dashboard = null;
            this.dock = null;
            this.footer = null;
            this.ads = null;
            this.fadeTween = new Tween(_local2, "alpha", Strong.easeOut, 0, 1, 1, true);
            this.fadeTween.addEventListener(TweenEvent.MOTION_FINISH, this.onFadeOutComplete);
        }
        private function onFadeOutComplete(_arg1:TweenEvent):void{
            this.fadeTween.removeEventListener(TweenEvent.MOTION_FINISH, this.onFadeOutComplete);
            this.dispatchEvent(new Event(SLView.HIDE_COMPLETE));
        }
        private function onDockIconClick(_arg1:SLEvent):void{
            var _local2:MainCategory = (_arg1.argument as MainCategory);
            this.showCategoryView(_local2.name);
        }
        private function onPageChangeEvent(_arg1:SLEvent):void{
            var _local2:String = _arg1.argument;
            switch (_local2){
                case "Main":
                    this.showCategoryView("Home");
                    this.dock.clickIcon("Home");
                    break;
            };
        }

    }
}//package com.slskin.ignitenetwork.views.desktop 
﻿package com.slskin.ignitenetwork.views.accountsetup {
    import flash.events.*;
    import flash.net.*;
    import com.slskin.ignitenetwork.util.*;
    import flash.globalization.*;

    public class MailChimpSubscribe extends EventDispatcher {

        private const BASE_URL:String = "http://{0}.api.mailchimp.com/1.3/?output=xml&method=listSubscribe";
        private const DEFAULT_DATACENTER:String = "us1";

        private var _apiKey:String;
        private var _listID:String;
        private var _dataCenter:String;
        private var _doubleOptin:Boolean;
        private var apiurl:String;

        public function MailChimpSubscribe(_arg1:String, _arg2:String, _arg3:Boolean=false){
            this._apiKey = _arg1;
            this._listID = _arg2;
            this._doubleOptin = _arg3;
            var _local4:Array = _arg1.split("-");
            if (_local4.length != 2){
                trace("WARNING:  Your MailChimp API key is missing datacenter information. Are you sure you have the correct api key?");
                this._dataCenter = this.DEFAULT_DATACENTER;
            } else {
                this._dataCenter = _local4[1];
            };
            this.apiurl = Strings.substitute(this.BASE_URL, this._dataCenter);
        }
        public function subscribe(_arg1:String, _arg2:String="", _arg3:String="", _arg4:Date=null, _arg5:String=""){
            var _local10:DateTimeFormatter;
            var _local6:String = Strings.substitute("apikey={0}&id={1}", this._apiKey, this._listID);
            _local6 = _local6.concat(("&email_address=" + (((_arg1 == null)) ? "" : _arg1)));
            _local6 = _local6.concat(("&double_optin=" + this._doubleOptin));
            _local6 = _local6.concat(("&merge_vars[FNAME]=" + (((_arg2 == null)) ? "" : _arg2)));
            _local6 = _local6.concat(("&merge_vars[LNAME]=" + (((_arg3 == null)) ? "" : _arg3)));
            _local6 = _local6.concat(("&merge_vars[SLACCOUNT]=" + (((_arg5 == null)) ? "" : _arg5)));
            if (_arg4 != null){
                _local10 = new DateTimeFormatter(LocaleID.DEFAULT);
                _local10.setDateTimePattern("MM/dd");
                _local6 = _local6.concat(("&merge_vars[BDAY]=" + _local10.format(_arg4)));
            };
            var _local7:URLVariables = new URLVariables(_local6);
            var _local8:URLRequest = new URLRequest(this.apiurl);
            _local8.data = _local7;
            _local8.method = URLRequestMethod.POST;
            var _local9:URLLoader = new URLLoader();
            _local9.addEventListener(Event.COMPLETE, this.onRequestComplete);
            _local9.addEventListener(IOErrorEvent.IO_ERROR, this.onRequestError);
            _local9.load(_local8);
        }
        private function onRequestComplete(_arg1:Event):void{
            var _local3:ErrorEvent;
            var _local2:XML = XML(_arg1.target.data);
            if (_local2.@type == "array"){
                _local3 = new ErrorEvent(ErrorEvent.ERROR, false, false, _local2.error);
                this.dispatchEvent(_local3);
            } else {
                if (_local2.@type == "boolean"){
                    this.dispatchEvent(new Event(Event.COMPLETE));
                };
            };
        }
        private function onRequestError(_arg1:IOErrorEvent):void{
            this.dispatchEvent(_arg1);
        }

    }
}//package com.slskin.ignitenetwork.views.accountsetup 
﻿package com.slskin.ignitenetwork.views.accountsetup {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import fl.transitions.*;
    import com.slskin.ignitenetwork.components.*;
    import fl.transitions.easing.*;
    import com.slskin.ignitenetwork.fonts.*;

    public class AccountSetupProgress extends MovieClip {

        public static const PROGRESS_COMPLETED:String = "ProgressComplete";

        private const FULL_LENGTH:Number = 348;
        private const STEP_ONE_LENGTH:Number = 127;
        private const PROGRESS_COLOR:int = 0x71BF00;
        private const DEFAULT_COLOR:int = 0x999999;

        public var pBar:MovieClip;
        public var __id3_:TCMText;
        public var button:SLButton;
        public var stepOneCircle:MovieClip;
        public var step2Circle:MovieClip;
        public var step2Text:TLFTextField;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;
        private var barLength:uint;
        private var stepOne:AccountSetupPassword;
        private var stepTwo:AccountSetupInfo;
        private var stepOneProgress:Number;
        private var stepTwoProgress:Number;
        private var progressOneTween:Tween;
        private var progressTwoTween:Tween;

        public function AccountSetupProgress(_arg1:AccountSetupPassword, _arg2:AccountSetupInfo){
            var stepOne:* = _arg1;
            var stepTwo:* = _arg2;
            super();
            this.tabChildren = false;
            this.stepOneProgress = 0;
            this.stepTwoProgress = 0;
            this.stepOne = stepOne;
            this.stepTwo = stepTwo;
            this.addEventListener(Event.ADDED, this.onAdded);
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.MyriadSemiBold";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "step2Text", new Rectangle(0, 0, 28.2, 37.65), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="top" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#000000" fontFamily="MyriadPro-SemiBold*" fontSize="40" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">2</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
                TCMRuntimeManager.getSingleton().addInstance(this, "__id3_", new Rectangle(0, 0, 26.45, 37.65), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="top" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#000000" fontFamily="MyriadPro-SemiBold*" fontSize="40" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">1</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
            TCMRuntimeManager.getSingleton().addInstanceComplete(this);
        }
        public function __registerTLFFonts():void{
            Font.registerFont(MyriadSemiBold);
            RuntimeFontMapper.addFontMapEntry("['MyriadPro-SemiBold*','normal','normal']", ["Myriad Pro Light", "bold", "normal"]);
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED, this.onAdded);
            if ((((this.stepOne == null)) || ((this.stepTwo == null)))){
                this.step2Text.visible = false;
                this.step2Circle.visible = false;
            };
            (this.button as SLButton).label = Language.translate("Done", "Done");
            (this.button as SLButton).disable();
            (this.button as SLButton).addEventListener(SLButton.CLICK_EVENT, this.onDoneClick);
            (this.button as SLButton).addEventListener(SLButton.DISABLED_CLICK_EVENT, this.onDisabledClick);
            if (this.stepOne != null){
                this.stepOne.addEventListener(ProgressEvent.PROGRESS, this.onStepOneProgress);
            };
            if (this.stepTwo != null){
                this.stepTwo.addEventListener(ProgressEvent.PROGRESS, this.onStepTwoProgress);
            };
            var _local2:ColorTransform = new ColorTransform();
            _local2.color = this.PROGRESS_COLOR;
            this.pBar.width = 0;
            (this.pBar as MovieClip).transform.colorTransform = _local2;
            (this.stepOneCircle as MovieClip).transform.colorTransform = _local2;
        }
        private function onStepOneProgress(_arg1:ProgressEvent):void{
            this.stepOneProgress = (_arg1.bytesLoaded / _arg1.bytesTotal);
            var _local2:Number = this.STEP_ONE_LENGTH;
            if (this.stepTwo == null){
                _local2 = this.FULL_LENGTH;
            };
            var _local3:Number = (this.stepOneProgress * _local2);
            if (_local3 != this.pBar.width){
                this.progressOneTween = new Tween(this.pBar, "width", Regular.easeOut, this.pBar.width, _local3, 0.2, true);
            };
            if (this.stepOneProgress == 1){
                this.progressOneTween.addEventListener(TweenEvent.MOTION_FINISH, this.colorStepTwo);
                if (this.stepTwo != null){
                    this.updateStepTwo(this.stepTwoProgress);
                } else {
                    (this.button as SLButton).enable();
                };
            } else {
                this.colorStepTwo();
                (this.button as SLButton).disable();
            };
        }
        private function onStepTwoProgress(_arg1:ProgressEvent):void{
            this.stepTwoProgress = (_arg1.bytesLoaded / _arg1.bytesTotal);
            if ((((this.stepOne == null)) || ((this.stepOneProgress == 1)))){
                this.updateStepTwo(this.stepTwoProgress);
            };
        }
        private function updateStepTwo(_arg1:Number):void{
            var _local2:Number = ((this.FULL_LENGTH - this.STEP_ONE_LENGTH) - this.step2Circle.width);
            if (this.stepOne == null){
                _local2 = this.FULL_LENGTH;
            };
            var _local3:Number = (_arg1 * _local2);
            if (this.stepOne != null){
                _local3 = (_local3 + (this.step2Circle.width + this.STEP_ONE_LENGTH));
            };
            if (_local3 != this.pBar.width){
                this.progressTwoTween = new Tween(this.pBar, "width", Regular.easeOut, this.pBar.width, _local3, 0.2, true);
            };
            if (this.stepTwoProgress == 1){
                (this.button as SLButton).enable();
            } else {
                (this.button as SLButton).disable();
            };
        }
        private function colorStepTwo(_arg1:TweenEvent=null):void{
            var _local2:ColorTransform = new ColorTransform();
            _local2.color = (((this.stepOneProgress == 1)) ? this.PROGRESS_COLOR : this.DEFAULT_COLOR);
            (this.step2Circle as MovieClip).transform.colorTransform = _local2;
        }
        private function onDoneClick(_arg1:Event):void{
            this.dispatchEvent(new Event(AccountSetupProgress.PROGRESS_COMPLETED));
        }
        private function onDisabledClick(_arg1:Event):void{
            var _local2:Main = (root as Main);
            _local2.playSound(_local2.config.Sounds.InvalidFields);
        }

    }
}//package com.slskin.ignitenetwork.views.accountsetup 
﻿package com.slskin.ignitenetwork.views.accountsetup {
    import flash.display.*;
    import flash.events.*;
    import com.slskin.ignitenetwork.events.*;
    import com.slskin.ignitenetwork.views.*;
    import flash.external.*;

    public class AccountSetupView extends SLView {

        private const START_X:Number = 25;
        private const START_Y:Number = 25;
        private const PADDING:Number = 20;

        public var window:MovieClip;
        private var requiredInfo:uint;
        private var passwordSetup:AccountSetupPassword;
        private var userInfoSetup:AccountSetupInfo;
        private var setupProgress:AccountSetupProgress;
        private var passwordRequired:Boolean;
        private var userInfoRequired:Boolean;

        public function AccountSetupView(_arg1:uint){
            this.requiredInfo = _arg1;
            this.passwordRequired = (((_arg1 == 1)) || ((_arg1 == 3)));
            this.userInfoRequired = (((((_arg1 == 0)) || ((_arg1 == 2)))) || ((_arg1 == 3)));
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
        }
        private function onAdded(_arg1:Event):void{
            if (((this.passwordRequired) && (this.userInfoRequired))){
                this.passwordSetup = new AccountSetupPassword(this.main);
                this.userInfoSetup = new AccountSetupInfo(this.main);
            } else {
                if (this.passwordRequired){
                    this.passwordSetup = new AccountSetupPassword(this.main);
                } else {
                    this.userInfoSetup = new AccountSetupInfo(this.main, 1);
                };
            };
            this.setupProgress = new AccountSetupProgress(this.passwordSetup, this.userInfoSetup);
            this.setupProgress.addEventListener(AccountSetupProgress.PROGRESS_COMPLETED, this.onSetupComplete);
            this.addChildren();
        }
        private function addChildren():void{
            var _local1:Number = this.START_Y;
            if (this.passwordSetup != null){
                this.passwordSetup.x = this.START_X;
                this.passwordSetup.y = _local1;
                _local1 = (_local1 + (this.passwordSetup.height + this.PADDING));
                this.addChild(this.passwordSetup);
            };
            if (this.userInfoSetup != null){
                this.userInfoSetup.x = this.START_X;
                this.userInfoSetup.y = _local1;
                this.addChild(this.userInfoSetup);
                _local1 = (_local1 + (this.userInfoSetup.height + this.PADDING));
            };
            this.setupProgress.x = this.START_X;
            this.setupProgress.y = _local1;
            _local1 = (_local1 + this.setupProgress.height);
            this.addChild(this.setupProgress);
            this.window.height = Math.ceil((_local1 + this.PADDING));
            this.setupView();
            this.showView();
        }
        private function onSetupComplete(_arg1:Event){
            main.debugger.write("Saving Account Information...");
            if (this.passwordSetup != null){
                this.passwordSetup.saveData();
            };
            if (this.userInfoSetup != null){
                this.userInfoSetup.saveData();
            };
            ExternalInterface.call("UserInfoUpdated");
            main.addEventListener(SLEvent.REQUIRED_INFO_ENTERED, this.onDataSaved);
        }
        private function onDataSaved(_arg1:SLEvent):void{
            main.debugger.write("User data has been saved by SL client!");
            this.hideView();
        }

    }
}//package com.slskin.ignitenetwork.views.accountsetup 
﻿package com.slskin.ignitenetwork.views.accountsetup {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.events.*;
    import flash.text.*;
    import com.slskin.ignitenetwork.components.*;

    public class AccountSetupPassword extends MovieClip {

        private const NUM_FIELDS:int = 2;
        private const MAX_WIDTH:Number = 500;
        private const MIN_PASSWORD_LENGTH:int = 4;

        public var Password:TextInput;
        public var header:MovieClip;
        public var Repeat:TextInput;
        private var passwordField:TextInput;
        private var repeatField:TextInput;
        private var main:Main;

        public function AccountSetupPassword(_arg1:Main){
            this.main = _arg1;
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.passwordField = this.Password;
            this.repeatField = this.Repeat;
            this.header.title.autoSize = TextFieldAutoSize.LEFT;
            this.header.title.text = Language.translate("Account_Password", "Account Password");
            this.header.title.y = ((this.header.height - this.header.title.height) / 2);
            this.header.graphics.lineStyle(1, 0x666666);
            this.header.graphics.moveTo((this.header.width + 5), (this.header.height / 2));
            this.header.graphics.lineTo(this.MAX_WIDTH, (this.header.height / 2));
            this.passwordField.displayAsPassword = true;
            this.repeatField.displayAsPassword = true;
            this.passwordField.hint = Language.translate("Desired_Password", "Desired Password");
            this.repeatField.hint = Language.translate("Repeat_Password", "Repeat Password");
            this.passwordField.fieldValidator = this.passwordValidator;
            this.repeatField.fieldValidator = this.repeatValidator;
            this.passwordField.required = true;
            this.repeatField.required = true;
            InteractiveObject(this.header.title.getChildAt(1)).tabEnabled = false;
            InteractiveObject(this.passwordField.field.getChildAt(1)).tabIndex = 1;
            InteractiveObject(this.repeatField.field.getChildAt(1)).tabIndex = 2;
            this.passwordField.addEventListener(TextInput.VALIDATION_CHANGE, this.dispatchProgress);
            this.repeatField.addEventListener(TextInput.VALIDATION_CHANGE, this.dispatchProgress);
        }
        private function dispatchProgress(_arg1:Event):void{
            var _local2:int;
            if (((!(this.passwordField.isEmpty())) && (!(this.passwordField.hasError)))){
                _local2++;
            };
            if (((!(this.repeatField.isEmpty())) && (!(this.repeatField.hasError)))){
                _local2++;
            };
            var _local3:ProgressEvent = new ProgressEvent(ProgressEvent.PROGRESS);
            _local3.bytesTotal = this.NUM_FIELDS;
            _local3.bytesLoaded = _local2;
            this.dispatchEvent(_local3);
        }
        public function saveData():void{
            this.main.model.addProperty((this.main.model.DATA_PATH + "NewPassword"), this.passwordField.text);
        }
        private function passwordValidator(_arg1:String):String{
            var _local2:* = this.main.config.FormValidators.Password;
            if (_arg1.length < this.MIN_PASSWORD_LENGTH){
                return (Language.translate("Minimum_4_characters", (("Minimum of " + this.MIN_PASSWORD_LENGTH) + " characters required.")));
            };
            var _local3:RegExp = new RegExp(_local2.re, _local2.re.@flags);
            if (_arg1.search(_local3) == -1){
                return (_local2.error);
            };
            if (!this.repeatField.isEmpty()){
                this.repeatField.validate();
            };
            return (null);
        }
        private function repeatValidator(_arg1:String):String{
            _arg1 = this.passwordField.text.toLowerCase();
            var _local2:String = this.repeatField.text.toLowerCase();
            if (_arg1 != _local2){
                return (Language.translate("Passwords_does_not_match", "Passwords do not match"));
            };
            return (null);
        }

    }
}//package com.slskin.ignitenetwork.views.accountsetup 
﻿package com.slskin.ignitenetwork.views.accountsetup {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.events.*;
    import flash.text.*;
    import com.slskin.ignitenetwork.components.*;
    import com.slskin.ignitenetwork.util.*;

    public class AccountSetupInfo extends MovieClip {

        private const OFFSET_X:Number = 0;
        private const OFFSET_Y:Number = 50;
        private const COLUMN_PADDING:Number = 22;
        private const ROW_PADDING:Number = 18;
        private const MAX_COLUMNS:int = 3;
        private const MAX_WIDTH:Number = 500;

        public var header:MovieClip;
        private var stepNumber:int;
        private var main:Main;
        private var fields:Array;
        private var mailingListField:CheckBox;

        public function AccountSetupInfo(_arg1:Main, _arg2:int=2){
            this.stepNumber = _arg2;
            this.main = _arg1;
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.header.title.autoSize = TextFieldAutoSize.LEFT;
            this.header.title.text = Language.translate("Personal_Information", "Personal Information");
            this.header.title.y = ((this.header.height - this.header.title.height) / 2);
            this.header.graphics.lineStyle(1, 0x666666);
            this.header.graphics.moveTo((this.width + 5), (this.height / 2));
            this.header.graphics.lineTo(this.MAX_WIDTH, (this.height / 2));
            InteractiveObject(this.header.title.getChildAt(1)).tabEnabled = false;
            this.setupFields();
        }
        private function setupFields():void{
            var _local8:MovieClip;
            var _local9:String;
            var _local10:String;
            var _local11:String;
            var _local12:CheckBox;
            var _local1:String = this.main.model.getProperty("RequiredUserInformation", this.main.model.DATA_PATH);
            var _local2:Array = this.main.model.getProperty("PersonalInfoArray", this.main.model.DATA_PATH).split(this.main.model.DlMSep);
            var _local3:int;
            var _local4:int;
            var _local5:Number = 0;
            var _local6:Number = 0;
            this.fields = new Array();
            var _local7:* = 0;
            while (_local7 < _local2.length) {
                if (_local1.charAt(_local7) == "1"){
                    _local9 = _local2[_local7];
                    _local10 = this.main.model.getProperty(_local9, this.main.model.DATA_PATH);
                    if (_local9 == "Sex"){
                        _local8 = new SexSelector();
                        _local8.name = _local9;
                        if (_local10 == "1"){
                            _local8.selectedGender = SexSelector.MALE;
                        } else {
                            if (_local10 == "2"){
                                _local8.selectedGender = SexSelector.FEMALE;
                            };
                        };
                        _local8.addEventListener(MouseEvent.CLICK, this.dispatchProgress);
                    } else {
                        _local11 = Language.translate(_local9, _local9);
                        _local8 = new TextInput(_local11);
                        InteractiveObject(_local8.field.getChildAt(1)).tabIndex = (_local7 + 2);
                        _local8.required = true;
                        _local8.name = _local9;
                        if (_local10 != null){
                            _local8.text = _local10;
                        };
                        switch (_local9){
                            case "Birthday":
                                _local8.field.restrict = "0-9/";
                                _local8.hint = (_local8.hint + " MM/DD/YYYY");
                                _local8.field.maxChars = 10;
                                _local8.fieldValidator = this.birthdayValidator;
                                _local10 = ((((this.main.model.getProperty((_local9 + "_Month"), this.main.model.DATA_PATH) + "/") + this.main.model.getProperty((_local9 + "_Day"), this.main.model.DATA_PATH)) + "/") + this.main.model.getProperty((_local9 + "_Year"), this.main.model.DATA_PATH));
                                if (((!((_local10 == "null/null/null"))) && (!((_local10 == "1/1/1900"))))){
                                    _local8.text = _local10;
                                };
                                break;
                            case "Zip":
                                _local8.field.maxChars = "10";
                                _local8.fieldValidator = this.zipValidator;
                                break;
                            case "Email":
                                _local8.fieldValidator = this.emailValidator;
                                break;
                            case "Telephone":
                            case "Mobilephone":
                            case "PersonalNumber":
                                _local8.field.maxChars = 20;
                                _local8.field.restrict = "0-9";
                                _local8.fieldValidator = this.phoneValidator;
                                break;
                        };
                        _local8.addEventListener(TextInput.VALIDATION_CHANGE, this.dispatchProgress);
                        _local8.field.addEventListener(FocusEvent.FOCUS_OUT, this.dispatchProgress);
                    };
                    _local5 = (((_local8.width * _local3) + (this.COLUMN_PADDING * _local3)) + this.OFFSET_X);
                    _local6 = (((_local8.height * _local4) + (this.ROW_PADDING * _local4)) + this.OFFSET_Y);
                    _local8.x = _local5;
                    _local8.y = _local6;
                    this.fields.push(_local8);
                    this.addChildAt(_local8, 0);
                    _local3++;
                    if ((_local3 % this.MAX_COLUMNS) == 0){
                        _local4++;
                        _local3 = 0;
                    };
                };
                _local7++;
            };
            if (this.main.config.MailChimp.@enabled == "true"){
                this.mailingListField = new CheckBox(this.main.config.MailChimp);
                this.mailingListField.selected = (this.main.config.MailChimp.@selected == "true");
                this.mailingListField.x = this.OFFSET_X;
                this.mailingListField.y = (this.height + this.mailingListField.height);
                this.addChild(this.mailingListField);
            };
            if (this.main.config.TermsOfService.@enabled == "true"){
                _local12 = new CheckBox(this.main.config.TermsOfService);
                _local12.x = this.OFFSET_X;
                _local12.y = (this.height + _local12.height);
                _local12.addEventListener(MouseEvent.CLICK, this.dispatchProgress);
                this.fields.push(_local12);
                this.addChild(_local12);
            };
            this.dispatchProgress();
        }
        private function dispatchProgress(_arg1:Event=null):void{
            var _local5:MovieClip;
            var _local2:int;
            var _local3:int;
            while (_local3 < this.fields.length) {
                _local5 = this.fields[_local3];
                if ((_local5 is TextInput)){
                    if (((!(_local5.isEmpty())) && (!(_local5.hasError)))){
                        _local2++;
                    };
                } else {
                    if ((_local5 is SexSelector)){
                        if (_local5.isSelected){
                            _local2++;
                        };
                    } else {
                        if ((_local5 is CheckBox)){
                            if (_local5.selected){
                                _local2++;
                            };
                        };
                    };
                };
                _local3++;
            };
            var _local4:ProgressEvent = new ProgressEvent(ProgressEvent.PROGRESS);
            _local4.bytesTotal = this.fields.length;
            _local4.bytesLoaded = _local2;
            this.dispatchEvent(_local4);
        }
        public function saveData():void{
            var _local1:Date;
            var _local3:MovieClip;
            var _local4:String;
            var _local5:String;
            var _local6:Array;
            var _local7:Boolean;
            var _local8:MailChimpSubscribe;
            var _local9:String;
            var _local10:String;
            var _local11:String;
            var _local12:String;
            var _local2:int;
            while (_local2 < this.fields.length) {
                _local3 = this.fields[_local2];
                _local4 = _local3.name;
                if ((_local3 is TextInput)){
                    _local5 = _local3.text;
                } else {
                    if ((_local3 is SexSelector)){
                        _local5 = (((_local3.selectedGender == SexSelector.MALE)) ? "1" : "2");
                    };
                };
                if (_local4 == "Birthday"){
                    _local1 = new Date(Date.parse(_local5));
                    _local6 = _local5.split("/");
                    this.main.model.addProperty(((this.main.model.DATA_PATH + _local4) + "_Month"), _local6[0]);
                    this.main.model.addProperty(((this.main.model.DATA_PATH + _local4) + "_Day"), _local6[1]);
                    this.main.model.addProperty(((this.main.model.DATA_PATH + _local4) + "_Year"), _local6[2]);
                } else {
                    this.main.model.addProperty((this.main.model.DATA_PATH + _local4), _local5);
                };
                _local2++;
            };
            if (((!((this.mailingListField == null))) && (this.mailingListField.selected))){
                _local7 = (this.main.config.MailChimp.@doubleOptin == "true");
                _local8 = new MailChimpSubscribe(this.main.config.MailChimp.@apiKey, this.main.config.MailChimp.@listID, _local7);
                _local8.addEventListener(ErrorEvent.ERROR, this.onSubscribeError);
                _local8.addEventListener(IOErrorEvent.IO_ERROR, this.onMailChimpError);
                _local9 = this.main.model.getProperty((this.main.model.DATA_PATH + "Email"));
                _local10 = this.main.model.getProperty((this.main.model.DATA_PATH + "Firstname"));
                _local11 = this.main.model.getProperty((this.main.model.DATA_PATH + "Lastname"));
                _local12 = this.main.model.getProperty((this.main.model.DATA_PATH + "Username"));
                _local8.subscribe(_local9, _local10, _local11, _local1, _local12);
            };
        }
        private function onSubscribeError(_arg1:ErrorEvent):void{
            this.main.log(("Mail Chimp Subscription Error:  " + _arg1.text));
        }
        private function onMailChimpError(_arg1:IOErrorEvent):void{
            this.main.log(("Mail Chimp API Error:  " + _arg1.text));
        }
        private function birthdayValidator(_arg1:String):String{
            var _local2:* = this.main.config.FormValidators.Birthday;
            var _local3:RegExp = new RegExp("[0-9]{1,2} / [0-9]{1,2} / [0-9]{4}", "x");
            if (!_arg1.match(_local3)){
                return (_local2.error);
            };
            var _local4:Array = _arg1.split("/");
            var _local5:Number = Number(_local4[0]);
            var _local6:Number = Number(_local4[1]);
            var _local7:Number = Number(_local4[2]);
            if (_local5 > 12){
                return (_local2.monthError);
            };
            if (_local6 > 31){
                return (_local2.dayError);
            };
            var _local8:Number = new Date().fullYear;
            var _local9:Number = (_local8 - _local7);
            if (_local9 > 100){
                return (Strings.substitute(_local2.tooOldError, _local9));
            };
            if (_local9 < 0){
                return (_local2.yearError);
            };
            if (_local9 < 1){
                return (_local2.tooYoungError);
            };
            return (null);
        }
        private function phoneValidator(_arg1:String):String{
            var _local2:* = this.main.config.FormValidators.Phone;
            var _local3:RegExp = new RegExp(_local2.re, _local2.re.@flags);
            if (!_arg1.match(_local3)){
                return (_local2.error);
            };
            return (null);
        }
        private function emailValidator(_arg1:String):String{
            var _local2:* = this.main.config.FormValidators.Email;
            var _local3:RegExp = new RegExp(_local2.re, _local2.re.@flags);
            if (_arg1.search("@") == -1){
                return (_local2.missingAtError);
            };
            if (!_arg1.match(_local3)){
                return (_local2.error);
            };
            return (null);
        }
        private function zipValidator(_arg1:String):String{
            var _local2:* = this.main.config.FormValidators.Zip;
            var _local3:RegExp = new RegExp(_local2.re, _local2.re.@flags);
            if (!_arg1.match(_local3)){
                return (_local2.error);
            };
            return (null);
        }

    }
}//package com.slskin.ignitenetwork.views.accountsetup 
﻿package com.slskin.ignitenetwork.views {
    import flash.display.*;
    import com.slskin.ignitenetwork.*;
    import flash.utils.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.events.*;
    import fl.transitions.*;
    import flash.net.*;
    import flash.ui.*;
    import com.slskin.ignitenetwork.components.*;
    import fl.containers.*;
    import com.slskin.ignitenetwork.util.*;
    import fl.transitions.easing.*;
    import com.slskin.ignitenetwork.fonts.*;
    import flash.external.*;
    import flash.filters.*;

    public class LoginView extends SLView {

        private const INACTIVE_MILLISEC:Number = 30000;

        public var passwordField:TextInput;
        public var usernameField:TextInput;
        public var logoLoader:UILoader;
        public var loginButton:MovieClip;
        private var userTF:TextInput;
        private var passTF:TextInput;
        private var headline1:TLFTextField;
        private var headline2:TLFTextField;
        private var errorTween:Tween;
        private var inactivityTimer:Timer;

        public function LoginView(){
            this.inactivityTimer = new Timer(this.INACTIVE_MILLISEC);
            super();
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
        }
        public function onAdded(_arg1:Event):void{
            var evt:* = _arg1;
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.logoLoader.load(new URLRequest(main.config.Images.loginLogo));
            this.logoLoader.addEventListener(IOErrorEvent.IO_ERROR, this.onLogoLoadError);
            this.loginButton.buttonMode = (this.loginButton.useHandCursor = true);
            this.loginButton.tabEnabled = false;
            this.loginButton.addEventListener(MouseEvent.CLICK, this.sendLogin);
            this.loginButton.addEventListener(MouseEvent.ROLL_OVER, function (_arg1:MouseEvent):void{
                _arg1.target.play();
            });
            this.headline1 = this.createHeadline(new TextFormat(new MyriadSemiBold().fontName, "16", 0xFFFFFF));
            this.headline2 = this.createHeadline(new TextFormat(new MyriadSemiBold().fontName, "14", 0xFFFFFF));
            this.headline1.text = main.model.getProperty("Headline1", main.model.TEXT_PATH);
            this.headline2.text = main.model.getProperty("Headline2", main.model.TEXT_PATH);
            main.addChild(this.headline1);
            main.addChild(this.headline2);
            this.userTF = this.usernameField;
            this.passTF = this.passwordField;
            this.userTF.hint = Language.translate("Username", "Username");
            this.passTF.hint = Language.translate("Password", "Password");
            this.passTF.displayAsPassword = true;
            this.userTF.upperCase = true;
            this.userTF.required = true;
            this.userTF.tabIndex = 1;
            this.passTF.tabIndex = 2;
            this.passTF.tlf.width = (this.passTF.tlf.width - this.loginButton.arrow.width);
            this.userTF.addKeyDownListener(this.onKeyPress);
            this.passTF.addKeyDownListener(this.onKeyPress);
            this.inactivityTimer.addEventListener(TimerEvent.TIMER, this.onInactivityTick);
            this.setupSLListeners();
            this.alpha = 0;
            this.startPos = new Point(this.centerX, this.centerY);
            this.moveToStart();
            this.showView();
        }
        function createHeadline(_arg1:TextFormat):TLFTextField{
            var fmt:* = _arg1;
            var tlf:* = new TLFTextField();
            tlf.defaultTextFormat = fmt;
            var _local3 = tlf;
            with (_local3) {
                selectable = (multiline = false);
                embedFonts = true;
                autoSize = "left";
            };
            InteractiveObject(tlf.getChildAt(1)).tabEnabled = false;
            tlf.filters = new Array(new GlowFilter(0, 1, 5, 5, 2, 3));
            return (tlf);
        }
        public function setupSLListeners():void{
            main.model.addEventListener(SLEvent.VALUE_ADDED, this.onValueAdded);
            main.model.addEventListener(SLEvent.LOGIN_APPROVED, this.onLoginApproved);
            main.model.addEventListener(SLEvent.LOGIN_COMPLETED, this.onLoginComplete);
            main.model.addEventListener(SLEvent.LOGIN_DENIED, this.onLoginError);
        }
        override public function showView(_arg1:Event=null):void{
            super.showView();
            this.alphaTween = new Tween(this, "alpha", Strong.easeInOut, this.alpha, 1, 1, true);
            this.positionHeadlines();
        }
        private function positionHeadlines():void{
            if ((((this.headline1 == null)) || ((this.headline2 == null)))){
                return;
            };
            this.headline1.x = ((main.getStageWidth() - this.headline1.width) - 10);
            this.headline1.y = 10;
            this.headline2.x = ((main.getStageWidth() - this.headline2.width) - 10);
            this.headline2.y = ((this.headline1.y + this.headline1.textHeight) + 10);
        }
        override public function hideView(_arg1:Event=null):void{
            this.alphaTween = new Tween(this, "alpha", Strong.easeInOut, this.alpha, 0, 1, true);
            this.alphaTween.addEventListener(TweenEvent.MOTION_FINISH, this.onHideTweenFinish);
            if (main.contains(this.headline1)){
                main.removeChild(this.headline1);
            };
            if (main.contains(this.headline2)){
                main.removeChild(this.headline2);
            };
            main.model.removeEventListener(SLEvent.VALUE_ADDED, this.onValueAdded);
            main.model.removeEventListener(SLEvent.LOGIN_APPROVED, this.onLoginApproved);
            main.model.removeEventListener(SLEvent.LOGIN_COMPLETED, this.onLoginComplete);
            main.model.removeEventListener(SLEvent.LOGIN_DENIED, this.onLoginError);
        }
        private function onValueAdded(_arg1:SLEvent):void{
            var _local2:Array = String(_arg1.argument).split(main.model.DIM);
            var _local3:String = _local2[0];
            var _local4:String = _local2[1];
            switch (_local3){
                case (main.model.TEXT_PATH + "Headline1"):
                    this.headline1.text = _local4;
                    this.positionHeadlines();
                    break;
                case (main.model.TEXT_PATH + "Headline2"):
                    this.headline2.text = _local4;
                    this.positionHeadlines();
                    break;
                case (main.model.TEXT_PATH + "LoadingText"):
                case (main.model.DATA_PATH + "LoadingText"):
                    LoadingView.getInstance().loadingText = _local4;
                    break;
            };
        }
        public function onLoginComplete(_arg1:SLEvent):void{
            LoadingView.getInstance().hideLoader();
            this.inactivityTimer.stop();
            this.hideView();
        }
        public function onLoginApproved(_arg1:SLEvent):void{
            LoadingView.getInstance().showLoader();
        }
        private function onLoginError(_arg1:SLEvent):void{
            var _local2:String = main.model.getProperty("ErrorMessage", main.model.TEXT_PATH);
            switch (_arg1.argument){
                case "Username Not Found^":
                case "Account Locked^":
                    this.userTF.showError(_local2);
                    break;
                case "Wrong Password^":
                case "Out Of Order^":
                    this.passTF.showError(_local2);
                    break;
                default:
                    this.passTF.showError(_local2);
            };
            this.wakeInactivityTimer();
        }
        private function onKeyPress(_arg1:KeyboardEvent):void{
            this.wakeInactivityTimer();
            if (_arg1.keyCode == Keyboard.ENTER){
                this.sendLogin();
            };
        }
        private function sendLogin(_arg1:Event=null):void{
            var _local2:String;
            var _local3:String;
            this.wakeInactivityTimer();
            this.userTF.checkRequired();
            this.passTF.checkRequired();
            if (this.userTF.text == ""){
                return;
            };
            if (ExternalInterface.available){
                this.userTF.hideError();
                this.passTF.hideError();
                this.main.debugger.write("Attempting to login...");
                _local2 = Strings.trim(this.userTF.text);
                _local3 = Strings.trim(this.passTF.text);
                ExternalInterface.call("UserLogin", ((_local2 + main.model.DIM) + _local3));
            };
        }
        private function onLogoLoadError(_arg1:IOErrorEvent):void{
            main.log(_arg1.text);
        }
        private function wakeInactivityTimer(_arg1:Event=null):void{
            if (this.inactivityTimer.running){
                this.inactivityTimer.stop();
                this.inactivityTimer.start();
            } else {
                this.inactivityTimer.start();
            };
        }
        private function onInactivityTick(_arg1:TimerEvent):void{
            this.userTF.clearField();
            this.passTF.clearField();
            this.inactivityTimer.stop();
        }

    }
}//package com.slskin.ignitenetwork.views 
﻿package com.slskin.ignitenetwork.fonts {
    import flash.text.*;

    public dynamic class TahomaBold extends Font {

    }
}//package com.slskin.ignitenetwork.fonts 
﻿package com.slskin.ignitenetwork.fonts {
    import flash.text.*;

    public dynamic class MyriadSemiBold extends Font {

    }
}//package com.slskin.ignitenetwork.fonts 
﻿package com.slskin.ignitenetwork.fonts {
    import flash.text.*;

    public dynamic class TahomaRegular extends Font {

    }
}//package com.slskin.ignitenetwork.fonts 
﻿package com.slskin.ignitenetwork.fonts {
    import flash.text.*;

    public dynamic class MyriadRegular extends Font {

    }
}//package com.slskin.ignitenetwork.fonts 
﻿package com.slskin.ignitenetwork.fonts {
    import flash.text.*;

    public dynamic class MyriadBold extends Font {

    }
}//package com.slskin.ignitenetwork.fonts 
﻿package com.slskin.ignitenetwork {
    import flash.display.*;
    import flash.utils.*;
    import flash.events.*;
    import com.slskin.ignitenetwork.events.*;
    import fl.transitions.*;
    import flash.net.*;
    import fl.containers.*;
    import com.slskin.ignitenetwork.util.*;
    import fl.transitions.easing.*;

    public class WallpaperManager extends MovieClip {

        private var currentImage:UILoader;
        private var tmpImage:UILoader;
        private var fadeIn:Tween;
        private var fadeOut:Tween;
        private var main:Main;
        private var timer:Timer;
        private var imagePaths:Array;
        private var imageIterator:ArrayIterator;

        public function WallpaperManager(){
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAdded);
        }
        private function onAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAdded);
            this.stage.addEventListener(Event.RESIZE, this.onStageResize);
            this.main = (root as Main);
            this.main.appManager.addEventListener(SLEvent.APP_LAUNCHED, this.onAppLaunched);
        }
        public function init():void{
            var _local3:Boolean;
            var _local4:Number;
            var _local1:uint = this.main.config.Images.backgrounds.bg.length();
            this.imagePaths = new Array();
            var _local2:uint;
            while (_local2 < _local1) {
                this.imagePaths.push(this.main.config.Images.backgrounds.bg[_local2]);
                _local2++;
            };
            this.imageIterator = new ArrayIterator(this.imagePaths);
            this.currentImage = new UILoader();
            this.configureLoader(this.currentImage);
            if (_local1 > 1){
                _local3 = (this.main.config.Images.backgrounds.@randomOrder == "true");
                _local4 = (Number(this.main.config.Images.backgrounds.@autoScrollSeconds) * 1000);
                if (_local3){
                    this.shuffle(this.imagePaths);
                };
                this.timer = new Timer(_local4);
                this.currentImage.addEventListener(MouseEvent.CLICK, this.onBackgroundClick);
                this.timer.addEventListener(TimerEvent.TIMER, this.onIntervalTick);
                this.timer.start();
            };
            this.currentImage.removeEventListener(Event.COMPLETE, this.onImageLoadComplete);
            this.currentImage.load(new URLRequest(this.imageIterator.next()));
            this.addChild(this.currentImage);
            this.fadeIn = new Tween(this.currentImage, "alpha", Strong.easeInOut, this.currentImage.alpha, 1, 2, true);
            this.fadeIn.addEventListener(TweenEvent.MOTION_FINISH, this.onTweenComplete);
        }
        public function stopTimer():void{
            if (this.timer != null){
                this.timer.stop();
            };
        }
        public function startTimer():void{
            if (((!((this.timer == null))) && ((this.imagePaths.length > 1)))){
                this.timer.start();
            };
        }
        public function resetTimer():void{
            if (this.timer != null){
                this.timer.stop();
                this.timer.start();
            };
        }
        public function fadeOutImage():void{
            this.fadeOut = new Tween(this.currentImage, "alpha", Strong.easeInOut, this.currentImage.alpha, 0, 1, true);
        }
        private function configureLoader(_arg1:UILoader):void{
            var loader:* = _arg1;
            var _local3 = loader;
            with (_local3) {
                alpha = 0;
                maintainAspectRatio = true;
                scaleContent = true;
                x = 0;
                y = 0;
                width = main.getStageWidth();
                height = main.getStageHeight();
                addEventListener(IOErrorEvent.IO_ERROR, onImageLoadError);
                addEventListener(Event.COMPLETE, onImageLoadComplete);
            };
        }
        private function shuffle(_arg1:Array):void{
            var _local3:uint;
            var _local2:uint = (_arg1.length - 1);
            var _local4:uint;
            var _local5:Object;
            var _local6:uint;
            while (_local6 < _arg1.length) {
                _local3 = (_local2 - _local6);
                _local4 = (Math.round((Math.random() * _local3)) + _local6);
                _local5 = _arg1[_local6];
                _arg1[_local6] = _arg1[_local4];
                _arg1[_local4] = _local5;
                _local6++;
            };
        }
        public function loadImage(_arg1:String):void{
            if (_arg1 == this.currentImage.source){
                return;
            };
            this.tmpImage = new UILoader();
            this.configureLoader(this.tmpImage);
            this.tmpImage.source = _arg1;
            this.tmpImage.load();
        }
        private function onImageLoadComplete(_arg1:Event):void{
            this.addChild(this.tmpImage);
            this.fadeIn = new Tween(this.tmpImage, "alpha", Strong.easeInOut, this.tmpImage.alpha, 1, 1, true);
            this.fadeOut = new Tween(this.currentImage, "alpha", Strong.easeInOut, this.currentImage.alpha, 0, 1, true);
            this.fadeOut.addEventListener(TweenEvent.MOTION_FINISH, this.onFadeOut);
            this.currentImage = this.tmpImage;
            this.currentImage.addEventListener(MouseEvent.CLICK, this.onBackgroundClick);
        }
        private function onBackgroundClick(_arg1:MouseEvent):void{
            if (this.imagePaths.length == 1){
                return;
            };
            this.currentImage.removeEventListener(MouseEvent.CLICK, this.onBackgroundClick);
            if (!this.timer.running){
                this.startTimer();
            } else {
                this.resetTimer();
            };
            this.onIntervalTick(null);
        }
        private function onIntervalTick(_arg1:TimerEvent):void{
            if (!this.imageIterator.hasNext()){
                this.imageIterator.reset();
            };
            this.loadImage(this.imageIterator.next());
        }
        private function onFadeOut(_arg1:TweenEvent):void{
            var _local2:UILoader = ((_arg1.target as Tween).obj as UILoader);
            if (this.contains(_local2)){
                this.removeChild(_local2);
            };
        }
        private function onTweenComplete(_arg1:TweenEvent):void{
            this.fadeIn.removeEventListener(TweenEvent.MOTION_FINISH, this.onTweenComplete);
            this.dispatchEvent(_arg1);
        }
        private function onStageResize(_arg1:Event):void{
            if (this.currentImage == null){
                return;
            };
            this.currentImage.width = this.main.getStageWidth();
            this.currentImage.height = this.main.getStageHeight();
        }
        private function onAppLaunched(_arg1:Event):void{
            this.stopTimer();
        }
        private function onImageLoadError(_arg1:IOErrorEvent):void{
            this.main.debugger.write(_arg1.toString());
        }

    }
}//package com.slskin.ignitenetwork 
﻿package com.slskin.ignitenetwork.loaders {
    import flash.display.*;

    public dynamic class Roller extends MovieClip {

    }
}//package com.slskin.ignitenetwork.loaders 
﻿package com.slskin.ignitenetwork {

    public class Language {

        private static var dataModel:Model;
        private static var log:Function;

        public static function set model(_arg1:Model):void{
            Language.dataModel = _arg1;
        }
        public static function set logFunction(_arg1:Function):void{
            Language.log = _arg1;
        }
        public static function translate(_arg1:String, _arg2:String=""):String{
            var _local3:String = Language.dataModel.getProperty(_arg1, Language.dataModel.TEXT_PATH);
            if (_local3 == null){
                return (_arg2);
            };
            return (_local3);
        }

    }
}//package com.slskin.ignitenetwork 
﻿package com.slskin.ignitenetwork.apps {

    public class MainCategory extends Category {

        private var _subCategories:Array;

        public function MainCategory(_arg1:String, _arg2:String, _arg3:String, _arg4:String){
            super(_arg1, _arg2, _arg3, _arg4);
            this._subCategories = new Array();
        }
        public function get numOfSubCategories():int{
            return (this._subCategories.length);
        }
        public function get subCategories():Array{
            return (this._subCategories);
        }
        public function addSubCategory(_arg1:SubCategory):void{
            this._subCategories.push(_arg1);
        }
        override public function toString():String{
            return (((((super.toString() + " => ") + "Main Category [") + this.numOfSubCategories) + " sub categorie(s).]"));
        }

    }
}//package com.slskin.ignitenetwork.apps 
﻿package com.slskin.ignitenetwork.apps {
    import com.slskin.ignitenetwork.components.*;

    public class Application implements IListItem {

        private const ASSETS_BASE_DIR:String = "./assets/apps/";
        private const BOX_SHOT_DIR:String = "./images/";
        private const ICON_FILENAME:String = "icon.png";

        private var _appID:String;
        private var _appName:String;

        public function Application(_arg1:String, _arg2:String){
            this._appID = _arg1;
            this._appName = _arg2;
        }
        public function get appID():String{
            return (this._appID);
        }
        public function get appName():String{
            return (this._appName);
        }
        public function get itemID():String{
            return (this.appID);
        }
        public function get itemLabel():String{
            return (this._appName);
        }
        public function get iconPath():String{
            return ((this.assetPath + this.ICON_FILENAME));
        }
        public function get imagePath():String{
            return (((this.BOX_SHOT_DIR + this.appID) + ".jpg"));
        }
        public function get assetPath():String{
            return (((this.ASSETS_BASE_DIR + this._appID) + "/"));
        }

    }
}//package com.slskin.ignitenetwork.apps 
﻿package com.slskin.ignitenetwork.apps {
    import com.slskin.ignitenetwork.*;
    import flash.utils.*;
    import flash.events.*;
    import com.slskin.ignitenetwork.events.*;
    import com.slskin.ignitenetwork.views.*;
    import com.slskin.ignitenetwork.util.*;
    import flash.external.*;

    public class AppManager extends EventDispatcher {

        private const CATEGORY_NAME_INDEX:uint = 0;
        private const CATEGORY_ID_INDEX:uint = 1;
        private const CATEGORY_NUMAPPS_INDEX:uint = 2;
        private const CATEGORY_LOCALENAME_INDEX:uint = 3;
        private const LAUNCH_VERIFY_SECONDS:Number = 3;

        private var main:Main;
        private var mainCategories:Array;
        private var faves:Array;
        private var launchTimer:Timer;
        private var appToLaunch:Application;
        private var timeToLaunch:uint;

        public function AppManager(_arg1:Main){
            this.main = _arg1;
            this.mainCategories = new Array();
            this.faves = new Array();
            this.main.model.addEventListener(SLEvent.UPDATE_CATEGORY_LIST, this.parseCategories);
            this.main.model.addEventListener(SLEvent.UPDATE_FAVORITES, this.parseFavorites);
        }
        public function get categories():Array{
            return (this.mainCategories);
        }
        public function get favorites():Array{
            return (this.faves);
        }
        private function parseCategories(_arg1:SLEvent):void{
            var _local3:MainCategory;
            var _local4:SubCategory;
            var _local7:uint;
            var _local2:String = _arg1.argument;
            this.mainCategories = _local2.split(this.main.model.DIM);
            var _local5:uint;
            while (_local5 < this.mainCategories.length) {
                this.mainCategories[_local5] = this.mainCategories[_local5].split(this.main.model.DlMSep);
                this.mainCategories[_local5] = this.mainCategories[_local5].splice(0, (this.mainCategories[_local5].length - 1));
                _local7 = 0;
                while (_local7 < this.mainCategories[_local5].length) {
                    this.mainCategories[_local5][_local7] = this.mainCategories[_local5][_local7].split(this.main.model.DlMSep2);
                    _local7++;
                };
                _local3 = new MainCategory(this.mainCategories[_local5][0][this.CATEGORY_ID_INDEX], this.mainCategories[_local5][0][this.CATEGORY_NAME_INDEX], this.mainCategories[_local5][0][this.CATEGORY_LOCALENAME_INDEX], this.mainCategories[_local5][0][this.CATEGORY_NUMAPPS_INDEX]);
                _local7 = 1;
                while (_local7 < this.mainCategories[_local5].length) {
                    _local4 = new SubCategory(this.mainCategories[_local5][_local7][this.CATEGORY_ID_INDEX], this.mainCategories[_local5][_local7][this.CATEGORY_NAME_INDEX], this.mainCategories[_local5][_local7][this.CATEGORY_LOCALENAME_INDEX], this.mainCategories[_local5][_local7][this.CATEGORY_NUMAPPS_INDEX]);
                    _local3.addSubCategory(_local4);
                    _local7++;
                };
                this.mainCategories[_local5] = _local3;
                _local5++;
            };
            _local3 = new MainCategory("-1", "Home", Language.translate("Home", "Home"), "2");
            this.mainCategories.push(_local3);
            var _local6:SLEvent = new SLEvent(_arg1.type, this.mainCategories);
            this.dispatchEvent(_local6);
        }
        public function parseAppString(_arg1:String):Array{
            if (_arg1.length == 0){
                return (new Array());
            };
            var _local2:Array = _arg1.split(this.main.model.DIM);
            var _local3:uint;
            while (_local3 < _local2.length) {
                _local2[_local3] = _local2[_local3].split(this.main.model.DlMSep);
                _local2[_local3] = new Application(_local2[_local3][1], _local2[_local3][0]);
                _local3++;
            };
            return (_local2);
        }
        private function parseFavorites(_arg1:SLEvent):void{
            this.faves = this.parseAppString(_arg1.argument);
            var _local2:SLEvent = new SLEvent(_arg1.type, this.faves);
            this.dispatchEvent(_local2);
        }
        public function launchApp(_arg1:Application, _arg2:Boolean=false):void{
            trace(("Launching " + _arg1.appName));
            if (!_arg2){
                LoadingView.getInstance().showLoader();
                LoadingView.getInstance().enableClose();
                LoadingView.getInstance().loadingText = (("Launching " + _arg1.appName) + "...");
            };
            this.main.model.addEventListener(SLEvent.VALUE_ADDED, this.onValueAdded);
            this.main.model.addEventListener(SLEvent.VALUE_ADDED, this.disableClose);
            if (ExternalInterface.available){
                ExternalInterface.call("LaunchApplication", _arg1.appID);
            };
        }
        public function verifyAppLaunch(_arg1:Application):void{
            this.appToLaunch = _arg1;
            this.launchTimer = new Timer(1000);
            this.timeToLaunch = this.LAUNCH_VERIFY_SECONDS;
            this.launchTimer.addEventListener(TimerEvent.TIMER, this.onLaunchVerifyTick);
            this.launchTimer.start();
            LoadingView.getInstance().showLoader();
            LoadingView.getInstance().enableClose();
            LoadingView.getInstance().addEventListener(Event.CLOSE, this.onLoaderClose);
            var _local2:String = Strings.substitute(this.main.config.Strings.VerifyAppLaunch, _arg1.appName, this.timeToLaunch);
            LoadingView.getInstance().loadingText = _local2;
        }
        private function onLaunchVerifyTick(_arg1:TimerEvent):void{
            this.timeToLaunch--;
            var _local2:String = Strings.substitute(this.main.config.Strings.VerifyAppLaunch, this.appToLaunch.appName, this.timeToLaunch);
            LoadingView.getInstance().loadingText = _local2;
            if (this.timeToLaunch == 0){
                this.launchTimer.stop();
                this.launchApp(this.appToLaunch);
            };
        }
        private function onLoaderClose(_arg1:Event):void{
            this.launchTimer.stop();
            LoadingView.getInstance().removeEventListener(Event.CLOSE, this.onLoaderClose);
        }
        public function launchCategory(_arg1:MainCategory):void{
            if (_arg1.numOfApps > 1){
                throw (new Error("Cannot launch a category with more than 1 application in it."));
            };
            if (ExternalInterface.available){
                ExternalInterface.call("LaunchCategory", _arg1.id);
            };
        }
        private function onValueAdded(_arg1:SLEvent):void{
            var _local2:Array = String(_arg1.argument).split(this.main.model.DIM);
            var _local3:String = _local2[0];
            var _local4:String = _local2[1];
            switch (_local3){
                case (this.main.model.DATA_PATH + "LoadingStatus"):
                    if (_local4 == "Done"){
                        LoadingView.getInstance().hideLoader();
                        this.main.model.removeEventListener(SLEvent.VALUE_ADDED, this.onValueAdded);
                        this.dispatchEvent(new Event(SLEvent.APP_LAUNCHED));
                    } else {
                        if (_local4 == "Failed"){
                            LoadingView.getInstance().hideLoader();
                            this.main.model.removeEventListener(SLEvent.VALUE_ADDED, this.onValueAdded);
                        };
                    };
                    break;
                case (this.main.model.TEXT_PATH + "LoadingText"):
                case (this.main.model.DATA_PATH + "LoadingText"):
                    LoadingView.getInstance().loadingText = _local4;
                    break;
            };
        }
        private function disableClose(_arg1:SLEvent):void{
            var _local2:Array = String(_arg1.argument).split(this.main.model.DIM);
            var _local3:String = _local2[0];
            if ((((_local3 == (this.main.model.TEXT_PATH + "LoadingText"))) || ((_local3 == (this.main.model.DATA_PATH + "LoadingText"))))){
                LoadingView.getInstance().disableClose();
                this.main.model.addEventListener(SLEvent.VALUE_ADDED, this.disableClose);
            };
        }

    }
}//package com.slskin.ignitenetwork.apps 
﻿package com.slskin.ignitenetwork.apps {

    public class Category {

        protected var _id:String;
        protected var _name:String;
        protected var _localeName:String;
        protected var _numApps:int;
        protected var _apps:Array;

        public function Category(_arg1:String, _arg2:String, _arg3:String, _arg4:String){
            this._id = _arg1;
            this._name = _arg2;
            this._localeName = (((_arg3 == null)) ? "undefined" : _arg3);
            this._numApps = int(_arg4);
            this._apps = new Array();
        }
        public function get id():String{
            return (this._id);
        }
        public function get name():String{
            return (this._name);
        }
        public function get localeName():String{
            return (this._localeName);
        }
        public function set applications(_arg1:Array):void{
            this._apps = _arg1;
        }
        public function get applications():Array{
            return (this._apps);
        }
        public function get numOfApps():int{
            return (this._numApps);
        }
        public function toString():String{
            return ((((("Category [ " + this._name) + " has ") + this._numApps) + "  application(s).]"));
        }

    }
}//package com.slskin.ignitenetwork.apps 
﻿package com.slskin.ignitenetwork.apps {
    import com.slskin.ignitenetwork.components.*;

    public class SubCategory extends Category implements IListItem {

        public function SubCategory(_arg1:String, _arg2:String, _arg3:String, _arg4:String){
            super(_arg1, _arg2, _arg3, _arg4);
        }
        public function get itemID():String{
            return (this.id);
        }
        public function get itemLabel():String{
            return (this._localeName);
        }
        public function get iconPath():String{
            return (null);
        }
        public function get imagePath():String{
            return (null);
        }
        override public function toString():String{
            return (((super.toString() + " => ") + "Sub Category []"));
        }

    }
}//package com.slskin.ignitenetwork.apps 
﻿package com.slskin.ignitenetwork.asteroids {
    import flash.media.*;

    public dynamic class Explode1Sound extends Sound {

    }
}//package com.slskin.ignitenetwork.asteroids 
﻿package com.slskin.ignitenetwork.asteroids {
    import flash.media.*;

    public dynamic class ThrustSound extends Sound {

    }
}//package com.slskin.ignitenetwork.asteroids 
﻿package com.slskin.ignitenetwork.asteroids {
    import flash.display.*;

    public dynamic class Thrust extends MovieClip {

        public function Thrust(){
            addFrameScript(0, this.frame1);
        }
        function frame1(){
            stop();
        }

    }
}//package com.slskin.ignitenetwork.asteroids 
﻿package com.slskin.ignitenetwork.asteroids {
    import flash.display.*;
    import flash.utils.*;
    import flash.events.*;

    public class SpaceObject extends MovieClip {

        public const DRAG:Number = 0;

        public var velX:Number = 0;
        public var velY:Number = 0;
        public var deltaRotate:Number = 0;
        public var acceleration:Number = 0;
        private var deathKnell:Timer;

        public function SpaceObject(){
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAddedSpaceObject);
        }
        public static function createSpaceObjects(_arg1:DisplayObjectContainer, _arg2:Class, _arg3:int=4, _arg4:Number=1, _arg5:Number=0, _arg6:Number=0, _arg7:Number=0, _arg8:Number=0, _arg9:Number=0, _arg10:Number=0, _arg11:Number=0, _arg12:Number=0, _arg13:int=0){
            var _local14:SpaceObject;
            var _local15:* = 0;
            while (_local15 < _arg3) {
                _local14 = new (_arg2)();
                _arg1.addChild(_local14);
                _local14.x = rand((_arg5 - (_arg7 / 2)), (_arg5 + (_arg7 / 2)));
                _local14.y = rand((_arg6 - (_arg8 / 2)), (_arg6 + (_arg8 / 2)));
                _local14.scaleX = (_local14.scaleY = rand((_arg4 * 0.5), _arg4));
                _local14.velX = (_arg9 + rand((-(_arg11) / 2), (_arg11 / 2)));
                _local14.velY = (_arg10 + rand((-(_arg11) / 2), (_arg11 / 2)));
                _local14.rotation = rand(0, 360);
                _local14.deltaRotate = rand((-(_arg12) / 2), (_arg12 / 2));
                if (_arg13 > 0){
                    _local14.setLifeSpan(_arg13);
                };
                _local15++;
            };
        }

        public function setLifeSpan(_arg1:int){
            this.deathKnell = new Timer(_arg1, 1);
            this.deathKnell.addEventListener(TimerEvent.TIMER_COMPLETE, this.onDeathKnellGrimReaper);
            this.deathKnell.start();
        }
        private function onDeathKnellGrimReaper(_arg1:Event){
            this.deathKnell.stop();
            if (this.stage != null){
                this.blowUp();
            };
        }
        public function blowUp(){
            parent.removeChild(this);
        }
        public function onAddedSpaceObject(_arg1:Event){
            this.addEventListener(Event.ENTER_FRAME, this.onEnterFrameMove);
            this.addEventListener(Event.REMOVED_FROM_STAGE, this.onRemovedSpaceObject);
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onAddedSpaceObject);
        }
        public function onRemovedSpaceObject(_arg1:Event){
            this.removeEventListener(Event.ENTER_FRAME, this.onEnterFrameMove);
            this.removeEventListener(Event.REMOVED_FROM_STAGE, this.onRemovedSpaceObject);
        }
        public function onEnterFrameMove(_arg1:Event){
            this.rotation = (this.rotation + this.deltaRotate);
            var _local2:* = ((rotation * Math.PI) / 180);
            var _local3:* = (this.acceleration * Math.cos(_local2));
            var _local4:* = (this.acceleration * Math.sin(_local2));
            this.velX = (this.velX + _local3);
            this.velY = (this.velY + _local4);
            this.x = (this.x + this.velX);
            this.y = (this.y + this.velY);
            this.velX = (this.velX * (1 - this.DRAG));
            this.velY = (this.velY * (1 - this.DRAG));
            this.x = (this.x + stage.stageWidth);
            this.y = (this.y + stage.stageHeight);
            this.x = (this.x % stage.stageWidth);
            this.y = (this.y % stage.stageHeight);
        }

    }
}//package com.slskin.ignitenetwork.asteroids 
﻿package com.slskin.ignitenetwork.asteroids {
    import flash.events.*;

    public class SpaceShip extends SpaceObject {

        static const ACCELERATE:Number = 0.08;
        static const ROTATERATE:Number = 8;
        static const DIE:String = "Die";

        public var thrust:Thrust;

        public function SpaceShip(){
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAddedSpaceShip);
            this.addEventListener(Event.REMOVED_FROM_STAGE, this.onRemovedSpaceShip);
        }
        override public function blowUp(){
            this.dispatchEvent(new Event(DIE));
            stage.removeEventListener(KeyboardEvent.KEY_DOWN, this.onKeyDownSpaceShip);
            stage.removeEventListener(KeyboardEvent.KEY_UP, this.onKeyUpSpaceShip);
            parent.removeChild(this);
        }
        public function onAddedSpaceShip(_arg1:Event){
            stage.addEventListener(KeyboardEvent.KEY_DOWN, this.onKeyDownSpaceShip);
            stage.addEventListener(KeyboardEvent.KEY_UP, this.onKeyUpSpaceShip);
        }
        public function onRemovedSpaceShip(_arg1:Event){
            stage.removeEventListener(KeyboardEvent.KEY_DOWN, this.onKeyDownSpaceShip);
            stage.removeEventListener(KeyboardEvent.KEY_UP, this.onKeyUpSpaceShip);
        }
        public function onKeyDownSpaceShip(_arg1:KeyboardEvent){
            switch (_arg1.keyCode){
                case 38:
                    this.acceleration = SpaceShip.ACCELERATE;
                    this.thrust.gotoAndPlay(2);
                    break;
                case 37:
                    this.deltaRotate = -(SpaceShip.ROTATERATE);
                    break;
                case 39:
                    this.deltaRotate = SpaceShip.ROTATERATE;
                    break;
                case 32:
                    break;
            };
        }
        public function onKeyUpSpaceShip(_arg1:KeyboardEvent){
            switch (_arg1.keyCode){
                case 38:
                    this.acceleration = 0;
                    break;
                case 37:
                case 39:
                    this.deltaRotate = 0;
                    break;
                case 32:
                    this.fireBullet();
                    break;
            };
        }
        public function fireBullet(){
            var _local1:* = new FireSound();
            _local1.play();
            var _local2:Bullet = new Bullet();
            var _local3:* = ((this.rotation * Math.PI) / 180);
            var _local4:* = (Bullet.FIRE_VELOCITY * Math.cos(_local3));
            var _local5:* = (Bullet.FIRE_VELOCITY * Math.sin(_local3));
            _local2.velX = (this.velX + _local4);
            _local2.velY = (this.velY + _local5);
            _local2.x = (this.x + (2 * _local4));
            _local2.y = (this.y + (2 * _local5));
            _local2.setLifeSpan(Bullet.LIFESPAN);
            stage.addChild(_local2);
        }

    }
}//package com.slskin.ignitenetwork.asteroids 
﻿package com.slskin.ignitenetwork.asteroids {

    public class Debris extends SpaceObject {

        private static var frame:uint = 1;

    }
}//package com.slskin.ignitenetwork.asteroids 
﻿package com.slskin.ignitenetwork.asteroids {
    import flash.media.*;

    public dynamic class FireSound extends Sound {

    }
}//package com.slskin.ignitenetwork.asteroids 
﻿package com.slskin.ignitenetwork.asteroids {
    import flash.display.*;
    import flash.events.*;

    public class AsteroidsGame extends Sprite {

        public const SHIP_WIDTH:Number = 24;
        public const SHIP_HEIGHT:Number = 18;
        public const NUM_ASTEROIDS:uint = 3;

        private var spaceShip:SpaceShip;

        public function AsteroidsGame(){
            this.addEventListener(Event.ADDED_TO_STAGE, this.onGameAdded);
            this.addEventListener(Event.REMOVED_FROM_STAGE, this.onGameRemoved);
        }
        private function onGameAdded(_arg1:Event):void{
            this.removeEventListener(Event.ADDED_TO_STAGE, this.onGameAdded);
            this.createStartAsteroids(this.NUM_ASTEROIDS);
            this.createSpaceShip();
            this.addEventListener(Event.ENTER_FRAME, this.onEnterFrameCheckCollisions);
            stage.addEventListener(Asteroid.NO_ASTEROIDS, this.onNoAsteroidsMakeMore);
        }
        public function onEnterFrameCheckCollisions(_arg1:Event){
            var _local2:Asteroid;
            var _local3:Bullet;
            var _local5:uint;
            var _local4:uint;
            while (_local4 < Asteroid.allAsteroids.length) {
                _local2 = Asteroid.allAsteroids[_local4];
                if (((!((this.spaceShip.stage == null))) && (this.spaceShip.hitTestObject(_local2)))){
                    this.spaceShip.blowUp();
                };
                _local5 = 0;
                while (_local5 < Bullet.allBullets.length) {
                    _local3 = Bullet.allBullets[_local5];
                    if (_local2.hitTestPoint(_local3.x, _local3.y, true)){
                        _local3.blowUp();
                        _local2.blowUp();
                    };
                    _local5++;
                };
                _local4++;
            };
        }
        private function createSpaceShip(){
            this.spaceShip = new SpaceShip();
            this.spaceShip.x = (stage.stageWidth / 2);
            this.spaceShip.y = ((stage.stageHeight / 2) + (this.spaceShip.height * 2));
            stage.addChild(this.spaceShip);
            this.spaceShip.addEventListener(SpaceShip.DIE, this.onDeathSpaceShip);
        }
        private function createStartAsteroids(_arg1:uint=4){
            SpaceObject.createSpaceObjects(stage, Asteroid, _arg1, 1, 0, 0, (stage.stageWidth / 2), (stage.stageHeight / 2), 0, 0, 5, 10, 0);
        }
        public function onDeathSpaceShip(_arg1:Event){
            var _local2:* = new ExplodeTwo();
            _local2.play();
            this.createSpaceShip();
        }
        public function onNoAsteroidsMakeMore(_arg1:Event){
            trace("No more Asteroids, creating more...");
            this.createStartAsteroids(this.NUM_ASTEROIDS);
        }
        private function onGameRemoved(_arg1:Event):void{
            this.destroyAll();
        }
        private function destroyAll():void{
            var _local1:uint;
            var _local2:Asteroid;
            var _local3:uint;
            if (stage != null){
                this.removeEventListener(Event.ENTER_FRAME, this.onEnterFrameCheckCollisions);
                stage.removeEventListener(Asteroid.NO_ASTEROIDS, this.onNoAsteroidsMakeMore);
                _local1 = Asteroid.allAsteroids.length;
                _local3 = 0;
                while (_local3 < _local1) {
                    _local2 = Asteroid.allAsteroids[_local3];
                    _local2.removeEventListener(Event.REMOVED_FROM_STAGE, _local2.onRemovedAsteroid);
                    stage.removeChild(_local2);
                    _local3++;
                };
                Asteroid.allAsteroids = new Array();
                Bullet.allBullets = new Array();
                stage.removeChild(this.spaceShip);
                this.spaceShip = null;
            };
        }

    }
}//package com.slskin.ignitenetwork.asteroids 
﻿package com.slskin.ignitenetwork.asteroids {
    import flash.events.*;

    public class Bullet extends SpaceObject {

        static const FIRE_VELOCITY:Number = 10;
        public static const LIFESPAN:Number = 2000;

        static var allBullets:Array = new Array();

        public function Bullet(){
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAddedBullet);
        }
        public function onDeathKnellGrimReaper(_arg1:Event){
        }
        override public function blowUp(){
            stage.removeChild(this);
        }
        public function onAddedBullet(_arg1:Event){
            Bullet.allBullets.push(this);
            this.addEventListener(Event.REMOVED_FROM_STAGE, this.onRemovedBullet);
        }
        public function onRemovedBullet(_arg1:Event){
            Bullet.allBullets.splice(allBullets.indexOf(this), 1);
        }

    }
}//package com.slskin.ignitenetwork.asteroids 
﻿package com.slskin.ignitenetwork.asteroids {
    import flash.media.*;

    public dynamic class ExplodeTwo extends Sound {

    }
}//package com.slskin.ignitenetwork.asteroids 
﻿package com.slskin.ignitenetwork.asteroids {

    public function rand(_arg1:Number, _arg2:Number):Number{
        return ((((_arg2 - _arg1) * Math.random()) + _arg1));
    }
}//package com.slskin.ignitenetwork.asteroids 
﻿package com.slskin.ignitenetwork.asteroids {
    import flash.events.*;

    public class Asteroid extends SpaceObject {

        static const NO_ASTEROIDS:String = "No Asteroids";
        static const MINIMUM_SCALE:Number = 0.3;

        public static var dispatcher:EventDispatcher = new EventDispatcher();
        static var allAsteroids:Array = new Array();
        private static var _numPieces = 3;

        public function Asteroid(_arg1:Number=1){
            this.addEventListener(Event.ADDED_TO_STAGE, this.onAddedAsteroid);
        }
        override public function blowUp(){
            var _local2:Number;
            if (this.scaleX > Asteroid.MINIMUM_SCALE){
                _local2 = (this.scaleX * 0.5);
                if (_local2 < Asteroid.MINIMUM_SCALE){
                    _local2 = Asteroid.MINIMUM_SCALE;
                };
                SpaceObject.createSpaceObjects(stage, Asteroid, _numPieces, _local2, this.x, this.y, (this.width / 2), (this.width / 2), 0, 0, 5, 10, 0);
            };
            stage.removeChild(this);
            var _local1:* = new Explode1Sound();
            _local1.play();
        }
        public function onAddedAsteroid(_arg1:Event){
            Asteroid.allAsteroids.push(this);
            this.addEventListener(Event.REMOVED_FROM_STAGE, this.onRemovedAsteroid);
        }
        public function onRemovedAsteroid(_arg1:Event){
            Asteroid.allAsteroids.splice(allAsteroids.indexOf(this), 1);
            if (Asteroid.allAsteroids.length == 0){
                stage.dispatchEvent(new Event(Asteroid.NO_ASTEROIDS));
            };
        }

    }
}//package com.slskin.ignitenetwork.asteroids 
﻿package com.slskin.ignitenetwork.events {
    import flash.events.*;

    public class SLEvent extends Event {

        public static const UPDATE_CATEGORY_LIST:String = "UpdateApplicationCategoryList";
        public static const UPDATE_APP_LIST:String = "UpdateApplicationList";
        public static const APP_DETAILS_RECEIVED:String = "ApplicationDetailsReceived";
        public static const LOGIN_APPROVED:String = "UserLoginApproved";
        public static const LOGIN_COMPLETED:String = "UserLoginCompleted";
        public static const LOGIN_DENIED:String = "UserLoginDenied";
        public static const LOGGING_OUT:String = "UserLoggingOut";
        public static const LOGGED_OUT:String = "UserLoggedOut";
        public static const UPDATE_FAVORITES:String = "UpdateUserFavoritesList";
        public static const PAGE_CHANGE:String = "ChangePage";
        public static const MOUSE_WHEEL:String = "MouseWheel";
        public static const REQUIRED_INFO_ENTERED:String = "RequiredInformationEntered";
        public static const UPDATE_NEWS_EVENTS:String = "UpdateNewsAndEvents";
        public static const PLAY_SOUND:String = "PlaySound";
        public static const VALUE_ADDED:String = "ValueAdded";
        public static const CONFIG_LOADED:String = "ConfigLoadComplete";
        public static const APP_LAUNCHED:String = "AppLaunched";
        public static const DOCK_ICON_CLICK:String = "DockIconClick";
        public static const LIST_ITEM_CLICK:String = "ListItemClick";

        private var _argument;

        public function SLEvent(_arg1:String, _arg2, _arg3:Boolean=false, _arg4:Boolean=false){
            super(_arg1, _arg3, _arg4);
            this._argument = _arg2;
        }
        public function get argument(){
            return (this._argument);
        }
        override public function toString():String{
            return (formatToString("SLEvent", "type", "argument", "bubbles", "cancelable"));
        }

    }
}//package com.slskin.ignitenetwork.events 
﻿package com.hurlant.crypto.rsa {
    import flash.utils.*;
    import com.hurlant.math.*;
    import com.hurlant.crypto.prng.*;
    import com.hurlant.util.*;

    public class RSAKey {

        public var e:int;
        public var n:BigInteger;
        public var d:BigInteger;
        public var p:BigInteger;
        public var q:BigInteger;
        public var dmp1:BigInteger;
        public var dmq1:BigInteger;
        public var coeff:BigInteger;
        protected var canDecrypt:Boolean;
        protected var canEncrypt:Boolean;

        public function RSAKey(_arg1:BigInteger, _arg2:int, _arg3:BigInteger=null, _arg4:BigInteger=null, _arg5:BigInteger=null, _arg6:BigInteger=null, _arg7:BigInteger=null, _arg8:BigInteger=null){
            this.n = _arg1;
            this.e = _arg2;
            this.d = _arg3;
            this.p = _arg4;
            this.q = _arg5;
            this.dmp1 = _arg6;
            this.dmq1 = _arg7;
            this.coeff = _arg8;
            this.canEncrypt = ((!((this.n == null))) && (!((this.e == 0))));
            this.canDecrypt = ((this.canEncrypt) && (!((this.d == null))));
        }
        public static function parsePublicKey(_arg1:String, _arg2:String):RSAKey{
            return (new RSAKey(new BigInteger(_arg1, 16), parseInt(_arg2, 16)));
        }
        public static function parsePrivateKey(_arg1:String, _arg2:String, _arg3:String, _arg4:String=null, _arg5:String=null, _arg6:String=null, _arg7:String=null, _arg8:String=null):RSAKey{
            if (_arg4 == null){
                return (new RSAKey(new BigInteger(_arg1, 16), parseInt(_arg2, 16), new BigInteger(_arg3, 16)));
            };
            return (new RSAKey(new BigInteger(_arg1, 16), parseInt(_arg2, 16), new BigInteger(_arg3, 16), new BigInteger(_arg4, 16), new BigInteger(_arg5, 16), new BigInteger(_arg6, 16), new BigInteger(_arg7), new BigInteger(_arg8)));
        }
        public static function generate(_arg1:uint, _arg2:String):RSAKey{
            var _local7:BigInteger;
            var _local8:BigInteger;
            var _local9:BigInteger;
            var _local10:BigInteger;
            var _local3:Random = new Random();
            var _local4:uint = (_arg1 >> 1);
            var _local5:RSAKey = new RSAKey(null, 0, null);
            _local5.e = parseInt(_arg2, 16);
            var _local6:BigInteger = new BigInteger(_arg2, 16);
            while (true) {
                while (true) {
                    _local5.p = bigRandom((_arg1 - _local4), _local3);
                    if ((((_local5.p.subtract(BigInteger.ONE).gcd(_local6).compareTo(BigInteger.ONE) == 0)) && (_local5.p.isProbablePrime(10)))){
                        break;
                    };
                };
                while (true) {
                    _local5.q = bigRandom(_local4, _local3);
                    if ((((_local5.q.subtract(BigInteger.ONE).gcd(_local6).compareTo(BigInteger.ONE) == 0)) && (_local5.q.isProbablePrime(10)))){
                        break;
                    };
                };
                if (_local5.p.compareTo(_local5.q) <= 0){
                    _local10 = _local5.p;
                    _local5.p = _local5.q;
                    _local5.q = _local10;
                };
                _local7 = _local5.p.subtract(BigInteger.ONE);
                _local8 = _local5.q.subtract(BigInteger.ONE);
                _local9 = _local7.multiply(_local8);
                if (_local9.gcd(_local6).compareTo(BigInteger.ONE) == 0){
                    _local5.n = _local5.p.multiply(_local5.q);
                    _local5.d = _local6.modInverse(_local9);
                    _local5.dmp1 = _local5.d.mod(_local7);
                    _local5.dmq1 = _local5.d.mod(_local8);
                    _local5.coeff = _local5.q.modInverse(_local5.p);
                    break;
                };
            };
            return (_local5);
        }
        protected static function bigRandom(_arg1:int, _arg2:Random):BigInteger{
            if (_arg1 < 2){
                return (BigInteger.nbv(1));
            };
            var _local3:ByteArray = new ByteArray();
            _arg2.nextBytes(_local3, (_arg1 >> 3));
            _local3.position = 0;
            var _local4:BigInteger = new BigInteger(_local3);
            _local4.primify(_arg1, 1);
            return (_local4);
        }

        public function getBlockSize():uint{
            return (((this.n.bitLength() + 7) / 8));
        }
        public function dispose():void{
            this.e = 0;
            this.n.dispose();
            this.n = null;
            Memory.gc();
        }
        public function encrypt(_arg1:ByteArray, _arg2:ByteArray, _arg3:uint, _arg4:Function=null):void{
            this._encrypt(this.doPublic, _arg1, _arg2, _arg3, _arg4, 2);
        }
        public function decrypt(_arg1:ByteArray, _arg2:ByteArray, _arg3:uint, _arg4:Function=null):void{
            this._decrypt(this.doPrivate2, _arg1, _arg2, _arg3, _arg4, 2);
        }
        public function sign(_arg1:ByteArray, _arg2:ByteArray, _arg3:uint, _arg4:Function=null):void{
            this._encrypt(this.doPrivate2, _arg1, _arg2, _arg3, _arg4, 1);
        }
        public function verify(_arg1:ByteArray, _arg2:ByteArray, _arg3:uint, _arg4:Function=null):void{
            this._decrypt(this.doPublic, _arg1, _arg2, _arg3, _arg4, 1);
        }
        private function _encrypt(_arg1:Function, _arg2:ByteArray, _arg3:ByteArray, _arg4:uint, _arg5:Function, _arg6:int):void{
            var _local9:BigInteger;
            var _local10:BigInteger;
            if (_arg5 == null){
                _arg5 = this.pkcs1pad;
            };
            if (_arg2.position >= _arg2.length){
                _arg2.position = 0;
            };
            var _local7:uint = this.getBlockSize();
            var _local8:int = (_arg2.position + _arg4);
            while (_arg2.position < _local8) {
                _local9 = new BigInteger(_arg5(_arg2, _local8, _local7, _arg6), _local7);
                _local10 = _arg1(_local9);
                _local10.toArray(_arg3);
            };
        }
        private function _decrypt(_arg1:Function, _arg2:ByteArray, _arg3:ByteArray, _arg4:uint, _arg5:Function, _arg6:int):void{
            var _local9:BigInteger;
            var _local10:BigInteger;
            var _local11:ByteArray;
            if (_arg5 == null){
                _arg5 = this.pkcs1unpad;
            };
            if (_arg2.position >= _arg2.length){
                _arg2.position = 0;
            };
            var _local7:uint = this.getBlockSize();
            var _local8:int = (_arg2.position + _arg4);
            while (_arg2.position < _local8) {
                _local9 = new BigInteger(_arg2, _arg4);
                _local10 = _arg1(_local9);
                _local11 = _arg5(_local10, _local7);
                _arg3.writeBytes(_local11);
            };
        }
        private function pkcs1pad(_arg1:ByteArray, _arg2:int, _arg3:uint, _arg4:uint=2):ByteArray{
            var _local9:int;
            var _local5:ByteArray = new ByteArray();
            var _local6:uint = _arg1.position;
            _arg2 = Math.min(_arg2, _arg1.length, ((_local6 + _arg3) - 11));
            _arg1.position = _arg2;
            var _local7:int = (_arg2 - 1);
            while ((((_local7 >= _local6)) && ((_arg3 > 11)))) {
                --_arg3;
                var _local10 = _arg3;
                var _temp1 = _local7;
                _local7 = (_local7 - 1);
                _local5[_local10] = _arg1[_temp1];
            };
            --_arg3;
            _local10 = _arg3;
            _local5[_local10] = 0;
            var _local8:Random = new Random();
            while (_arg3 > 2) {
                _local9 = 0;
                while (_local9 == 0) {
                    _local9 = ((_arg4)==2) ? _local8.nextByte() : 0xFF;
                };
                --_arg3;
                var _local11 = _arg3;
                _local5[_local11] = _local9;
            };
            --_arg3;
            _local11 = _arg3;
            _local5[_local11] = _arg4;
            --_arg3;
            var _local12 = _arg3;
            _local5[_local12] = 0;
            return (_local5);
        }
        private function pkcs1unpad(_arg1:BigInteger, _arg2:uint, _arg3:uint=2):ByteArray{
            var _local4:ByteArray = _arg1.toByteArray();
            var _local5:ByteArray = new ByteArray();
            var _local6:int;
            while ((((_local6 < _local4.length)) && ((_local4[_local6] == 0)))) {
                _local6++;
            };
            if (((!(((_local4.length - _local6) == (_arg2 - 1)))) || ((_local4[_local6] > 2)))){
                trace(((("PKCS#1 unpad: i=" + _local6) + ", expected b[i]==[0,1,2], got b[i]=") + _local4[_local6].toString(16)));
                return (null);
            };
            _local6++;
            while (_local4[_local6] != 0) {
                ++_local6;
                if (_local6 >= _local4.length){
                    trace((((("PKCS#1 unpad: i=" + _local6) + ", b[i-1]!=0 (=") + _local4[(_local6 - 1)].toString(16)) + ")"));
                    return (null);
                };
            };
            while (++_local6 < _local4.length) {
                _local5.writeByte(_local4[_local6]);
            };
            _local5.position = 0;
            return (_local5);
        }
        private function rawpad(_arg1:ByteArray, _arg2:int, _arg3:uint):ByteArray{
            return (_arg1);
        }
        public function toString():String{
            return ("rsa");
        }
        public function dump():String{
            var _local1 = ((((("N=" + this.n.toString(16)) + "\n") + "E=") + this.e.toString(16)) + "\n");
            if (this.canDecrypt){
                _local1 = (_local1 + (("D=" + this.d.toString(16)) + "\n"));
                if (((!((this.p == null))) && (!((this.q == null))))){
                    _local1 = (_local1 + (("P=" + this.p.toString(16)) + "\n"));
                    _local1 = (_local1 + (("Q=" + this.q.toString(16)) + "\n"));
                    _local1 = (_local1 + (("DMP1=" + this.dmp1.toString(16)) + "\n"));
                    _local1 = (_local1 + (("DMQ1=" + this.dmq1.toString(16)) + "\n"));
                    _local1 = (_local1 + (("IQMP=" + this.coeff.toString(16)) + "\n"));
                };
            };
            return (_local1);
        }
        protected function doPublic(_arg1:BigInteger):BigInteger{
            return (_arg1.modPowInt(this.e, this.n));
        }
        protected function doPrivate2(_arg1:BigInteger):BigInteger{
            if ((((this.p == null)) && ((this.q == null)))){
                return (_arg1.modPow(this.d, this.n));
            };
            var _local2:BigInteger = _arg1.mod(this.p).modPow(this.dmp1, this.p);
            var _local3:BigInteger = _arg1.mod(this.q).modPow(this.dmq1, this.q);
            while (_local2.compareTo(_local3) < 0) {
                _local2 = _local2.add(this.p);
            };
            var _local4:BigInteger = _local2.subtract(_local3).multiply(this.coeff).mod(this.p).multiply(this.q).add(_local3);
            return (_local4);
        }
        protected function doPrivate(_arg1:BigInteger):BigInteger{
            if ((((this.p == null)) || ((this.q == null)))){
                return (_arg1.modPow(this.d, this.n));
            };
            var _local2:BigInteger = _arg1.mod(this.p).modPow(this.dmp1, this.p);
            var _local3:BigInteger = _arg1.mod(this.q).modPow(this.dmq1, this.q);
            while (_local2.compareTo(_local3) < 0) {
                _local2 = _local2.add(this.p);
            };
            return (_local2.subtract(_local3).multiply(this.coeff).mod(this.p).multiply(this.q).add(_local3));
        }

    }
}//package com.hurlant.crypto.rsa 
﻿package com.hurlant.crypto.hash {
    import flash.utils.*;

    public interface IHash {

        function getInputSize():uint;
        function getHashSize():uint;
        function hash(_arg1:ByteArray):ByteArray;
        function toString():String;

    }
}//package com.hurlant.crypto.hash 
﻿package com.hurlant.crypto.hash {
    import flash.utils.*;

    public class SHABase implements IHash {

        public function getInputSize():uint{
            return (64);
        }
        public function getHashSize():uint{
            return (0);
        }
        public function hash(_arg1:ByteArray):ByteArray{
            var _local2:uint = _arg1.length;
            var _local3:String = _arg1.endian;
            _arg1.endian = Endian.BIG_ENDIAN;
            var _local4:uint = (_local2 * 8);
            while ((_arg1.length % 4) != 0) {
                _arg1[_arg1.length] = 0;
            };
            _arg1.position = 0;
            var _local5:Array = [];
            var _local6:uint;
            while (_local6 < _arg1.length) {
                _local5.push(_arg1.readUnsignedInt());
                _local6 = (_local6 + 4);
            };
            var _local7:Array = this.core(_local5, _local4);
            var _local8:ByteArray = new ByteArray();
            var _local9:uint = (this.getHashSize() / 4);
            _local6 = 0;
            while (_local6 < _local9) {
                _local8.writeUnsignedInt(_local7[_local6]);
                _local6++;
            };
            _arg1.length = _local2;
            _arg1.endian = _local3;
            return (_local8);
        }
        protected function core(_arg1:Array, _arg2:uint):Array{
            return (null);
        }
        public function toString():String{
            return ("sha");
        }

    }
}//package com.hurlant.crypto.hash 
﻿package com.hurlant.crypto.hash {
    import flash.utils.*;

    public class MD5 implements IHash {

        public static const HASH_SIZE:int = 16;

        public function getInputSize():uint{
            return (64);
        }
        public function getHashSize():uint{
            return (HASH_SIZE);
        }
        public function hash(_arg1:ByteArray):ByteArray{
            var _local2:uint = (_arg1.length * 8);
            var _local3:String = _arg1.endian;
            while ((_arg1.length % 4) != 0) {
                _arg1[_arg1.length] = 0;
            };
            _arg1.position = 0;
            var _local4:Array = [];
            _arg1.endian = Endian.LITTLE_ENDIAN;
            var _local5:uint;
            while (_local5 < _arg1.length) {
                _local4.push(_arg1.readUnsignedInt());
                _local5 = (_local5 + 4);
            };
            var _local6:Array = this.core_md5(_local4, _local2);
            var _local7:ByteArray = new ByteArray();
            _local7.endian = Endian.LITTLE_ENDIAN;
            _local5 = 0;
            while (_local5 < 4) {
                _local7.writeUnsignedInt(_local6[_local5]);
                _local5++;
            };
            _arg1.length = (_local2 / 8);
            _arg1.endian = _local3;
            return (_local7);
        }
        private function core_md5(_arg1:Array, _arg2:uint):Array{
            var _local8:uint;
            var _local9:uint;
            var _local10:uint;
            var _local11:uint;
            _arg1[(_arg2 >> 5)] = (_arg1[(_arg2 >> 5)] | (128 << (_arg2 % 32)));
            _arg1[((((_arg2 + 64) >>> 9) << 4) + 14)] = _arg2;
            var _local3:uint = 1732584193;
            var _local4:uint = 4023233417;
            var _local5:uint = 2562383102;
            var _local6:uint = 271733878;
            var _local7:uint;
            while (_local7 < _arg1.length) {
                _arg1[_local7] = ((_arg1[_local7]) || (0));
                _arg1[(_local7 + 1)] = ((_arg1[(_local7 + 1)]) || (0));
                _arg1[(_local7 + 2)] = ((_arg1[(_local7 + 2)]) || (0));
                _arg1[(_local7 + 3)] = ((_arg1[(_local7 + 3)]) || (0));
                _arg1[(_local7 + 4)] = ((_arg1[(_local7 + 4)]) || (0));
                _arg1[(_local7 + 5)] = ((_arg1[(_local7 + 5)]) || (0));
                _arg1[(_local7 + 6)] = ((_arg1[(_local7 + 6)]) || (0));
                _arg1[(_local7 + 7)] = ((_arg1[(_local7 + 7)]) || (0));
                _arg1[(_local7 + 8)] = ((_arg1[(_local7 + 8)]) || (0));
                _arg1[(_local7 + 9)] = ((_arg1[(_local7 + 9)]) || (0));
                _arg1[(_local7 + 10)] = ((_arg1[(_local7 + 10)]) || (0));
                _arg1[(_local7 + 11)] = ((_arg1[(_local7 + 11)]) || (0));
                _arg1[(_local7 + 12)] = ((_arg1[(_local7 + 12)]) || (0));
                _arg1[(_local7 + 13)] = ((_arg1[(_local7 + 13)]) || (0));
                _arg1[(_local7 + 14)] = ((_arg1[(_local7 + 14)]) || (0));
                _arg1[(_local7 + 15)] = ((_arg1[(_local7 + 15)]) || (0));
                _local8 = _local3;
                _local9 = _local4;
                _local10 = _local5;
                _local11 = _local6;
                _local3 = this.ff(_local3, _local4, _local5, _local6, _arg1[(_local7 + 0)], 7, 3614090360);
                _local6 = this.ff(_local6, _local3, _local4, _local5, _arg1[(_local7 + 1)], 12, 3905402710);
                _local5 = this.ff(_local5, _local6, _local3, _local4, _arg1[(_local7 + 2)], 17, 606105819);
                _local4 = this.ff(_local4, _local5, _local6, _local3, _arg1[(_local7 + 3)], 22, 3250441966);
                _local3 = this.ff(_local3, _local4, _local5, _local6, _arg1[(_local7 + 4)], 7, 4118548399);
                _local6 = this.ff(_local6, _local3, _local4, _local5, _arg1[(_local7 + 5)], 12, 1200080426);
                _local5 = this.ff(_local5, _local6, _local3, _local4, _arg1[(_local7 + 6)], 17, 2821735955);
                _local4 = this.ff(_local4, _local5, _local6, _local3, _arg1[(_local7 + 7)], 22, 4249261313);
                _local3 = this.ff(_local3, _local4, _local5, _local6, _arg1[(_local7 + 8)], 7, 1770035416);
                _local6 = this.ff(_local6, _local3, _local4, _local5, _arg1[(_local7 + 9)], 12, 2336552879);
                _local5 = this.ff(_local5, _local6, _local3, _local4, _arg1[(_local7 + 10)], 17, 0xFFFF5BB1);
                _local4 = this.ff(_local4, _local5, _local6, _local3, _arg1[(_local7 + 11)], 22, 2304563134);
                _local3 = this.ff(_local3, _local4, _local5, _local6, _arg1[(_local7 + 12)], 7, 1804603682);
                _local6 = this.ff(_local6, _local3, _local4, _local5, _arg1[(_local7 + 13)], 12, 4254626195);
                _local5 = this.ff(_local5, _local6, _local3, _local4, _arg1[(_local7 + 14)], 17, 2792965006);
                _local4 = this.ff(_local4, _local5, _local6, _local3, _arg1[(_local7 + 15)], 22, 1236535329);
                _local3 = this.gg(_local3, _local4, _local5, _local6, _arg1[(_local7 + 1)], 5, 4129170786);
                _local6 = this.gg(_local6, _local3, _local4, _local5, _arg1[(_local7 + 6)], 9, 3225465664);
                _local5 = this.gg(_local5, _local6, _local3, _local4, _arg1[(_local7 + 11)], 14, 643717713);
                _local4 = this.gg(_local4, _local5, _local6, _local3, _arg1[(_local7 + 0)], 20, 3921069994);
                _local3 = this.gg(_local3, _local4, _local5, _local6, _arg1[(_local7 + 5)], 5, 3593408605);
                _local6 = this.gg(_local6, _local3, _local4, _local5, _arg1[(_local7 + 10)], 9, 38016083);
                _local5 = this.gg(_local5, _local6, _local3, _local4, _arg1[(_local7 + 15)], 14, 3634488961);
                _local4 = this.gg(_local4, _local5, _local6, _local3, _arg1[(_local7 + 4)], 20, 3889429448);
                _local3 = this.gg(_local3, _local4, _local5, _local6, _arg1[(_local7 + 9)], 5, 568446438);
                _local6 = this.gg(_local6, _local3, _local4, _local5, _arg1[(_local7 + 14)], 9, 3275163606);
                _local5 = this.gg(_local5, _local6, _local3, _local4, _arg1[(_local7 + 3)], 14, 4107603335);
                _local4 = this.gg(_local4, _local5, _local6, _local3, _arg1[(_local7 + 8)], 20, 1163531501);
                _local3 = this.gg(_local3, _local4, _local5, _local6, _arg1[(_local7 + 13)], 5, 2850285829);
                _local6 = this.gg(_local6, _local3, _local4, _local5, _arg1[(_local7 + 2)], 9, 4243563512);
                _local5 = this.gg(_local5, _local6, _local3, _local4, _arg1[(_local7 + 7)], 14, 1735328473);
                _local4 = this.gg(_local4, _local5, _local6, _local3, _arg1[(_local7 + 12)], 20, 2368359562);
                _local3 = this.hh(_local3, _local4, _local5, _local6, _arg1[(_local7 + 5)], 4, 4294588738);
                _local6 = this.hh(_local6, _local3, _local4, _local5, _arg1[(_local7 + 8)], 11, 2272392833);
                _local5 = this.hh(_local5, _local6, _local3, _local4, _arg1[(_local7 + 11)], 16, 1839030562);
                _local4 = this.hh(_local4, _local5, _local6, _local3, _arg1[(_local7 + 14)], 23, 4259657740);
                _local3 = this.hh(_local3, _local4, _local5, _local6, _arg1[(_local7 + 1)], 4, 2763975236);
                _local6 = this.hh(_local6, _local3, _local4, _local5, _arg1[(_local7 + 4)], 11, 1272893353);
                _local5 = this.hh(_local5, _local6, _local3, _local4, _arg1[(_local7 + 7)], 16, 4139469664);
                _local4 = this.hh(_local4, _local5, _local6, _local3, _arg1[(_local7 + 10)], 23, 3200236656);
                _local3 = this.hh(_local3, _local4, _local5, _local6, _arg1[(_local7 + 13)], 4, 681279174);
                _local6 = this.hh(_local6, _local3, _local4, _local5, _arg1[(_local7 + 0)], 11, 3936430074);
                _local5 = this.hh(_local5, _local6, _local3, _local4, _arg1[(_local7 + 3)], 16, 3572445317);
                _local4 = this.hh(_local4, _local5, _local6, _local3, _arg1[(_local7 + 6)], 23, 76029189);
                _local3 = this.hh(_local3, _local4, _local5, _local6, _arg1[(_local7 + 9)], 4, 3654602809);
                _local6 = this.hh(_local6, _local3, _local4, _local5, _arg1[(_local7 + 12)], 11, 3873151461);
                _local5 = this.hh(_local5, _local6, _local3, _local4, _arg1[(_local7 + 15)], 16, 530742520);
                _local4 = this.hh(_local4, _local5, _local6, _local3, _arg1[(_local7 + 2)], 23, 3299628645);
                _local3 = this.ii(_local3, _local4, _local5, _local6, _arg1[(_local7 + 0)], 6, 4096336452);
                _local6 = this.ii(_local6, _local3, _local4, _local5, _arg1[(_local7 + 7)], 10, 1126891415);
                _local5 = this.ii(_local5, _local6, _local3, _local4, _arg1[(_local7 + 14)], 15, 2878612391);
                _local4 = this.ii(_local4, _local5, _local6, _local3, _arg1[(_local7 + 5)], 21, 4237533241);
                _local3 = this.ii(_local3, _local4, _local5, _local6, _arg1[(_local7 + 12)], 6, 1700485571);
                _local6 = this.ii(_local6, _local3, _local4, _local5, _arg1[(_local7 + 3)], 10, 2399980690);
                _local5 = this.ii(_local5, _local6, _local3, _local4, _arg1[(_local7 + 10)], 15, 4293915773);
                _local4 = this.ii(_local4, _local5, _local6, _local3, _arg1[(_local7 + 1)], 21, 2240044497);
                _local3 = this.ii(_local3, _local4, _local5, _local6, _arg1[(_local7 + 8)], 6, 1873313359);
                _local6 = this.ii(_local6, _local3, _local4, _local5, _arg1[(_local7 + 15)], 10, 4264355552);
                _local5 = this.ii(_local5, _local6, _local3, _local4, _arg1[(_local7 + 6)], 15, 2734768916);
                _local4 = this.ii(_local4, _local5, _local6, _local3, _arg1[(_local7 + 13)], 21, 1309151649);
                _local3 = this.ii(_local3, _local4, _local5, _local6, _arg1[(_local7 + 4)], 6, 4149444226);
                _local6 = this.ii(_local6, _local3, _local4, _local5, _arg1[(_local7 + 11)], 10, 3174756917);
                _local5 = this.ii(_local5, _local6, _local3, _local4, _arg1[(_local7 + 2)], 15, 718787259);
                _local4 = this.ii(_local4, _local5, _local6, _local3, _arg1[(_local7 + 9)], 21, 3951481745);
                _local3 = (_local3 + _local8);
                _local4 = (_local4 + _local9);
                _local5 = (_local5 + _local10);
                _local6 = (_local6 + _local11);
                _local7 = (_local7 + 16);
            };
            return ([_local3, _local4, _local5, _local6]);
        }
        private function rol(_arg1:uint, _arg2:uint):uint{
            return (((_arg1 << _arg2) | (_arg1 >>> (32 - _arg2))));
        }
        private function cmn(_arg1:uint, _arg2:uint, _arg3:uint, _arg4:uint, _arg5:uint, _arg6:uint):uint{
            return ((this.rol((((_arg2 + _arg1) + _arg4) + _arg6), _arg5) + _arg3));
        }
        private function ff(_arg1:uint, _arg2:uint, _arg3:uint, _arg4:uint, _arg5:uint, _arg6:uint, _arg7:uint):uint{
            return (this.cmn(((_arg2 & _arg3) | (~(_arg2) & _arg4)), _arg1, _arg2, _arg5, _arg6, _arg7));
        }
        private function gg(_arg1:uint, _arg2:uint, _arg3:uint, _arg4:uint, _arg5:uint, _arg6:uint, _arg7:uint):uint{
            return (this.cmn(((_arg2 & _arg4) | (_arg3 & ~(_arg4))), _arg1, _arg2, _arg5, _arg6, _arg7));
        }
        private function hh(_arg1:uint, _arg2:uint, _arg3:uint, _arg4:uint, _arg5:uint, _arg6:uint, _arg7:uint):uint{
            return (this.cmn(((_arg2 ^ _arg3) ^ _arg4), _arg1, _arg2, _arg5, _arg6, _arg7));
        }
        private function ii(_arg1:uint, _arg2:uint, _arg3:uint, _arg4:uint, _arg5:uint, _arg6:uint, _arg7:uint):uint{
            return (this.cmn((_arg3 ^ (_arg2 | ~(_arg4))), _arg1, _arg2, _arg5, _arg6, _arg7));
        }
        public function toString():String{
            return ("md5");
        }

    }
}//package com.hurlant.crypto.hash 
﻿package com.hurlant.crypto.hash {

    public class SHA224 extends SHA256 {

        public function SHA224(){
            h = [3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428];
        }
        override public function getHashSize():uint{
            return (28);
        }
        override public function toString():String{
            return ("sha224");
        }

    }
}//package com.hurlant.crypto.hash 
﻿package com.hurlant.crypto.hash {
    import flash.utils.*;

    public class HMAC {

        private var hash:IHash;
        private var bits:uint;

        public function HMAC(_arg1:IHash, _arg2:uint=0){
            this.hash = _arg1;
            this.bits = _arg2;
        }
        public function getHashSize():uint{
            if (this.bits != 0){
                return ((this.bits / 8));
            };
            return (this.hash.getHashSize());
        }
        public function compute(_arg1:ByteArray, _arg2:ByteArray):ByteArray{
            var _local3:ByteArray;
            if (_arg1.length > this.hash.getInputSize()){
                _local3 = this.hash.hash(_arg1);
            } else {
                _local3 = new ByteArray();
                _local3.writeBytes(_arg1);
            };
            while (_local3.length < this.hash.getInputSize()) {
                _local3[_local3.length] = 0;
            };
            var _local4:ByteArray = new ByteArray();
            var _local5:ByteArray = new ByteArray();
            var _local6:uint;
            while (_local6 < _local3.length) {
                _local4[_local6] = (_local3[_local6] ^ 54);
                _local5[_local6] = (_local3[_local6] ^ 92);
                _local6++;
            };
            _local4.position = _local3.length;
            _local4.writeBytes(_arg2);
            var _local7:ByteArray = this.hash.hash(_local4);
            _local5.position = _local3.length;
            _local5.writeBytes(_local7);
            var _local8:ByteArray = this.hash.hash(_local5);
            if ((((this.bits > 0)) && ((this.bits < (8 * _local8.length))))){
                _local8.length = (this.bits / 8);
            };
            return (_local8);
        }
        public function dispose():void{
            this.hash = null;
            this.bits = 0;
        }
        public function toString():String{
            return ((("hmac-" + (((this.bits > 0)) ? (this.bits + "-") : "")) + this.hash.toString()));
        }

    }
}//package com.hurlant.crypto.hash 
﻿package com.hurlant.crypto.hash {

    public class SHA256 extends SHABase implements IHash {

        protected static const k:Array = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298];

        protected var h:Array;

        public function SHA256(){
            this.h = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225];
            super();
        }
        override public function getHashSize():uint{
            return (32);
        }
        override protected function core(_arg1:Array, _arg2:uint):Array{
            var _local13:uint;
            var _local14:uint;
            var _local15:uint;
            var _local16:uint;
            var _local17:uint;
            var _local18:uint;
            var _local19:uint;
            var _local20:uint;
            var _local21:uint;
            var _local22:uint;
            var _local23:uint;
            var _local24:uint;
            var _local25:uint;
            _arg1[(_arg2 >> 5)] = (_arg1[(_arg2 >> 5)] | (128 << (24 - (_arg2 % 32))));
            _arg1[((((_arg2 + 64) >> 9) << 4) + 15)] = _arg2;
            var _local3:Array = [];
            var _local4:uint = this.h[0];
            var _local5:uint = this.h[1];
            var _local6:uint = this.h[2];
            var _local7:uint = this.h[3];
            var _local8:uint = this.h[4];
            var _local9:uint = this.h[5];
            var _local10:uint = this.h[6];
            var _local11:uint = this.h[7];
            var _local12:uint;
            while (_local12 < _arg1.length) {
                _local13 = _local4;
                _local14 = _local5;
                _local15 = _local6;
                _local16 = _local7;
                _local17 = _local8;
                _local18 = _local9;
                _local19 = _local10;
                _local20 = _local11;
                _local21 = 0;
                while (_local21 < 64) {
                    if (_local21 < 16){
                        _local3[_local21] = ((_arg1[(_local12 + _local21)]) || (0));
                    } else {
                        _local24 = ((this.rrol(_local3[(_local21 - 15)], 7) ^ this.rrol(_local3[(_local21 - 15)], 18)) ^ (_local3[(_local21 - 15)] >>> 3));
                        _local25 = ((this.rrol(_local3[(_local21 - 2)], 17) ^ this.rrol(_local3[(_local21 - 2)], 19)) ^ (_local3[(_local21 - 2)] >>> 10));
                        _local3[_local21] = (((_local3[(_local21 - 16)] + _local24) + _local3[(_local21 - 7)]) + _local25);
                    };
                    _local22 = (((this.rrol(_local4, 2) ^ this.rrol(_local4, 13)) ^ this.rrol(_local4, 22)) + (((_local4 & _local5) ^ (_local4 & _local6)) ^ (_local5 & _local6)));
                    _local23 = ((((_local11 + ((this.rrol(_local8, 6) ^ this.rrol(_local8, 11)) ^ this.rrol(_local8, 25))) + ((_local8 & _local9) ^ (_local10 & ~(_local8)))) + k[_local21]) + _local3[_local21]);
                    _local11 = _local10;
                    _local10 = _local9;
                    _local9 = _local8;
                    _local8 = (_local7 + _local23);
                    _local7 = _local6;
                    _local6 = _local5;
                    _local5 = _local4;
                    _local4 = (_local23 + _local22);
                    _local21++;
                };
                _local4 = (_local4 + _local13);
                _local5 = (_local5 + _local14);
                _local6 = (_local6 + _local15);
                _local7 = (_local7 + _local16);
                _local8 = (_local8 + _local17);
                _local9 = (_local9 + _local18);
                _local10 = (_local10 + _local19);
                _local11 = (_local11 + _local20);
                _local12 = (_local12 + 16);
            };
            return ([_local4, _local5, _local6, _local7, _local8, _local9, _local10, _local11]);
        }
        protected function rrol(_arg1:uint, _arg2:uint):uint{
            return (((_arg1 << (32 - _arg2)) | (_arg1 >>> _arg2)));
        }
        override public function toString():String{
            return ("sha256");
        }

    }
}//package com.hurlant.crypto.hash 
﻿package com.hurlant.crypto.hash {
    import flash.utils.*;

    public class MD2 implements IHash {

        public static const HASH_SIZE:int = 16;
        private static const S:Array = [41, 46, 67, 201, 162, 216, 124, 1, 61, 54, 84, 161, 236, 240, 6, 19, 98, 167, 5, 243, 192, 199, 115, 140, 152, 147, 43, 217, 188, 76, 130, 202, 30, 155, 87, 60, 253, 212, 224, 22, 103, 66, 111, 24, 138, 23, 229, 18, 190, 78, 196, 214, 218, 158, 222, 73, 160, 251, 245, 142, 187, 47, 238, 122, 169, 104, 121, 145, 21, 178, 7, 63, 148, 194, 16, 137, 11, 34, 95, 33, 128, 127, 93, 154, 90, 144, 50, 39, 53, 62, 204, 231, 191, 247, 151, 3, 0xFF, 25, 48, 179, 72, 165, 181, 209, 215, 94, 146, 42, 172, 86, 170, 198, 79, 184, 56, 210, 150, 164, 125, 182, 118, 252, 107, 226, 156, 116, 4, 241, 69, 157, 112, 89, 100, 113, 135, 32, 134, 91, 207, 101, 230, 45, 168, 2, 27, 96, 37, 173, 174, 176, 185, 246, 28, 70, 97, 105, 52, 64, 126, 15, 85, 71, 163, 35, 221, 81, 175, 58, 195, 92, 249, 206, 186, 197, 234, 38, 44, 83, 13, 110, 133, 40, 132, 9, 211, 223, 205, 244, 65, 129, 77, 82, 106, 220, 55, 200, 108, 193, 171, 250, 36, 225, 123, 8, 12, 189, 177, 74, 120, 136, 149, 139, 227, 99, 232, 109, 233, 203, 213, 254, 59, 0, 29, 57, 242, 239, 183, 14, 102, 88, 208, 228, 166, 119, 114, 248, 235, 117, 75, 10, 49, 68, 80, 180, 143, 237, 31, 26, 219, 153, 141, 51, 159, 17, 131, 20];

        public function getInputSize():uint{
            return (16);
        }
        public function getHashSize():uint{
            return (HASH_SIZE);
        }
        public function hash(_arg1:ByteArray):ByteArray{
            var _local8:uint;
            var _local9:uint;
            var _local10:uint;
            var _local2:uint = _arg1.length;
            var _local3:uint = (((16 - (_arg1.length % 16))) || (16));
            do  {
                _arg1[_arg1.length] = _local3;
            } while ((_arg1.length % 16) != 0);
            var _local4:uint = _arg1.length;
            var _local5:ByteArray = new ByteArray();
            var _local6:uint;
            _local3 = 0;
            while (_local3 < _local4) {
                _local8 = 0;
                while (_local8 < 16) {
                    _local6 = (_local5[_local8] = (_local5[_local8] ^ S[(_arg1[(_local3 + _local8)] ^ _local6)]));
                    _local8++;
                };
                _local3 = (_local3 + 16);
            };
            _arg1.position = _arg1.length;
            _arg1.writeBytes(_local5);
            _local4 = (_local4 + 16);
            var _local7:ByteArray = new ByteArray();
            _local3 = 0;
            while (_local3 < _local4) {
                _local8 = 0;
                while (_local8 < 16) {
                    _local7[(32 + _local8)] = ((_local7[(16 + _local8)] = _arg1[(_local3 + _local8)]) ^ _local7[_local8]);
                    _local8++;
                };
                _local9 = 0;
                _local8 = 0;
                while (_local8 < 18) {
                    _local10 = 0;
                    while (_local10 < 48) {
                        _local9 = (_local7[_local10] ^ S[_local9]);
                        _local7[_local10] = _local9;
                        _local10++;
                    };
                    _local9 = ((_local9 + _local8) & 0xFF);
                    _local8++;
                };
                _local3 = (_local3 + 16);
            };
            _local7.length = 16;
            _arg1.length = _local2;
            return (_local7);
        }
        public function toString():String{
            return ("md2");
        }

    }
}//package com.hurlant.crypto.hash 
﻿package com.hurlant.crypto.hash {

    public class SHA1 extends SHABase implements IHash {

        public static const HASH_SIZE:int = 20;

        override public function getHashSize():uint{
            return (HASH_SIZE);
        }
        override protected function core(_arg1:Array, _arg2:uint):Array{
            var _local10:uint;
            var _local11:uint;
            var _local12:uint;
            var _local13:uint;
            var _local14:uint;
            var _local15:uint;
            var _local16:uint;
            _arg1[(_arg2 >> 5)] = (_arg1[(_arg2 >> 5)] | (128 << (24 - (_arg2 % 32))));
            _arg1[((((_arg2 + 64) >> 9) << 4) + 15)] = _arg2;
            var _local3:Array = [];
            var _local4:uint = 1732584193;
            var _local5:uint = 4023233417;
            var _local6:uint = 2562383102;
            var _local7:uint = 271733878;
            var _local8:uint = 3285377520;
            var _local9:uint;
            while (_local9 < _arg1.length) {
                _local10 = _local4;
                _local11 = _local5;
                _local12 = _local6;
                _local13 = _local7;
                _local14 = _local8;
                _local15 = 0;
                while (_local15 < 80) {
                    if (_local15 < 16){
                        _local3[_local15] = ((_arg1[(_local9 + _local15)]) || (0));
                    } else {
                        _local3[_local15] = this.rol((((_local3[(_local15 - 3)] ^ _local3[(_local15 - 8)]) ^ _local3[(_local15 - 14)]) ^ _local3[(_local15 - 16)]), 1);
                    };
                    _local16 = ((((this.rol(_local4, 5) + this.ft(_local15, _local5, _local6, _local7)) + _local8) + _local3[_local15]) + this.kt(_local15));
                    _local8 = _local7;
                    _local7 = _local6;
                    _local6 = this.rol(_local5, 30);
                    _local5 = _local4;
                    _local4 = _local16;
                    _local15++;
                };
                _local4 = (_local4 + _local10);
                _local5 = (_local5 + _local11);
                _local6 = (_local6 + _local12);
                _local7 = (_local7 + _local13);
                _local8 = (_local8 + _local14);
                _local9 = (_local9 + 16);
            };
            return ([_local4, _local5, _local6, _local7, _local8]);
        }
        private function rol(_arg1:uint, _arg2:uint):uint{
            return (((_arg1 << _arg2) | (_arg1 >>> (32 - _arg2))));
        }
        private function ft(_arg1:uint, _arg2:uint, _arg3:uint, _arg4:uint):uint{
            if (_arg1 < 20){
                return (((_arg2 & _arg3) | (~(_arg2) & _arg4)));
            };
            if (_arg1 < 40){
                return (((_arg2 ^ _arg3) ^ _arg4));
            };
            if (_arg1 < 60){
                return ((((_arg2 & _arg3) | (_arg2 & _arg4)) | (_arg3 & _arg4)));
            };
            return (((_arg2 ^ _arg3) ^ _arg4));
        }
        private function kt(_arg1:uint):uint{
            return (((_arg1)<20) ? 1518500249 : ((_arg1)<40) ? 1859775393 : ((_arg1)<60) ? 2400959708 : 3395469782);
        }
        override public function toString():String{
            return ("sha1");
        }

    }
}//package com.hurlant.crypto.hash 
﻿package com.hurlant.crypto {
    import flash.utils.*;
    import com.hurlant.crypto.rsa.*;
    import com.hurlant.crypto.prng.*;
    import com.hurlant.crypto.hash.*;
    import com.hurlant.crypto.symmetric.*;
    import com.hurlant.util.*;

    public class Crypto {

        private var b64:Base64;

        public static function getCipher(_arg1:String, _arg2:ByteArray, _arg3:IPad=null):ICipher{
            var _local5:ICipher;
            var _local4:Array = _arg1.split("-");
            switch (_local4[0]){
                case "simple":
                    _local4.shift();
                    _arg1 = _local4.join("-");
                    _local5 = getCipher(_arg1, _arg2, _arg3);
                    if ((_local5 is IVMode)){
                        return (new SimpleIVMode((_local5 as IVMode)));
                    };
                    return (_local5);
                case "aes":
                case "aes128":
                case "aes192":
                case "aes256":
                    _local4.shift();
                    if ((_arg2.length * 8) == _local4[0]){
                        _local4.shift();
                    };
                    return (getMode(_local4[0], new AESKey(_arg2), _arg3));
                case "bf":
                case "blowfish":
                    _local4.shift();
                    return (getMode(_local4[0], new BlowFishKey(_arg2), _arg3));
                case "des":
                    _local4.shift();
                    if (((!((_local4[0] == "ede"))) && (!((_local4[0] == "ede3"))))){
                        return (getMode(_local4[0], new DESKey(_arg2), _arg3));
                    };
                    if (_local4.length == 1){
                        _local4.push("ecb");
                    };
                case "3des":
                case "des3":
                    _local4.shift();
                    return (getMode(_local4[0], new TripleDESKey(_arg2), _arg3));
                case "xtea":
                    _local4.shift();
                    return (getMode(_local4[0], new XTeaKey(_arg2), _arg3));
                case "rc4":
                    _local4.shift();
                    return (new ARC4(_arg2));
            };
            return (null);
        }
        public static function getKeySize(_arg1:String):uint{
            var _local2:Array = _arg1.split("-");
            switch (_local2[0]){
                case "simple":
                    _local2.shift();
                    return (getKeySize(_local2.join("-")));
                case "aes128":
                    return (16);
                case "aes192":
                    return (24);
                case "aes256":
                    return (32);
                case "aes":
                    _local2.shift();
                    return ((parseInt(_local2[0]) / 8));
                case "bf":
                case "blowfish":
                    return (16);
                case "des":
                    _local2.shift();
                    switch (_local2[0]){
                        case "ede":
                            return (16);
                        case "ede3":
                            return (24);
                        default:
                            return (8);
                    };
                case "3des":
                case "des3":
                    return (24);
                case "xtea":
                    return (8);
                case "rc4":
                    if (parseInt(_local2[1]) > 0){
                        return ((parseInt(_local2[1]) / 8));
                    };
                    return (16);
            };
            return (0);
        }
        private static function getMode(_arg1:String, _arg2:ISymmetricKey, _arg3:IPad=null):IMode{
            switch (_arg1){
                case "ecb":
                    return (new ECBMode(_arg2, _arg3));
                case "cfb":
                    return (new CFBMode(_arg2, _arg3));
                case "cfb8":
                    return (new CFB8Mode(_arg2, _arg3));
                case "ofb":
                    return (new OFBMode(_arg2, _arg3));
                case "ctr":
                    return (new CTRMode(_arg2, _arg3));
                case "cbc":
                default:
                    return (new CBCMode(_arg2, _arg3));
            };
        }
        public static function getHash(_arg1:String):IHash{
            switch (_arg1){
                case "md2":
                    return (new MD2());
                case "md5":
                    return (new MD5());
                case "sha":
                case "sha1":
                    return (new SHA1());
                case "sha224":
                    return (new SHA224());
                case "sha256":
                    return (new SHA256());
            };
            return (null);
        }
        public static function getHMAC(_arg1:String):HMAC{
            var _local2:Array = _arg1.split("-");
            if (_local2[0] == "hmac"){
                _local2.shift();
            };
            var _local3:uint;
            if (_local2.length > 1){
                _local3 = parseInt(_local2[1]);
            };
            return (new HMAC(getHash(_local2[0]), _local3));
        }
        public static function getPad(_arg1:String):IPad{
            switch (_arg1){
                case "null":
                    return (new NullPad());
                case "pkcs5":
                default:
                    return (new PKCS5());
            };
        }
        public static function getRSA(_arg1:String, _arg2:String):RSAKey{
            return (RSAKey.parsePublicKey(_arg2, _arg1));
        }

    }
}//package com.hurlant.crypto 
﻿package com.hurlant.crypto.prng {
    import flash.utils.*;

    public interface IPRNG {

        function getPoolSize():uint;
        function init(_arg1:ByteArray):void;
        function next():uint;
        function dispose():void;
        function toString():String;

    }
}//package com.hurlant.crypto.prng 
﻿package com.hurlant.crypto.prng {
    import flash.utils.*;
    import flash.text.*;
    import flash.system.*;
    import com.hurlant.util.*;

    public class Random {

        private var state:IPRNG;
        private var ready:Boolean = false;
        private var pool:ByteArray;
        private var psize:int;
        private var pptr:int;
        private var seeded:Boolean = false;

        public function Random(_arg1:Class=null){
            var _local2:uint;
            super();
            if (_arg1 == null){
                _arg1 = ARC4;
            };
            this.state = (new (_arg1)() as IPRNG);
            this.psize = this.state.getPoolSize();
            this.pool = new ByteArray();
            this.pptr = 0;
            while (this.pptr < this.psize) {
                _local2 = (65536 * Math.random());
                var _local3 = this.pptr++;
                this.pool[_local3] = (_local2 >>> 8);
                var _local4 = this.pptr++;
                this.pool[_local4] = (_local2 & 0xFF);
            };
            this.pptr = 0;
            this.seed();
        }
        public function seed(_arg1:int=0):void{
            if (_arg1 == 0){
                _arg1 = new Date().getTime();
            };
            var _local2 = this.pptr++;
            this.pool[_local2] = (this.pool[_local2] ^ (_arg1 & 0xFF));
            var _local3 = this.pptr++;
            this.pool[_local3] = (this.pool[_local3] ^ ((_arg1 >> 8) & 0xFF));
            var _local4 = this.pptr++;
            this.pool[_local4] = (this.pool[_local4] ^ ((_arg1 >> 16) & 0xFF));
            var _local5 = this.pptr++;
            this.pool[_local5] = (this.pool[_local5] ^ ((_arg1 >> 24) & 0xFF));
            this.pptr = (this.pptr % this.psize);
            this.seeded = true;
        }
        public function autoSeed():void{
            var _local3:Font;
            var _local1:ByteArray = new ByteArray();
            _local1.writeUnsignedInt(System.totalMemory);
            _local1.writeUTF(Capabilities.serverString);
            _local1.writeUnsignedInt(getTimer());
            _local1.writeUnsignedInt(new Date().getTime());
            var _local2:Array = Font.enumerateFonts(true);
            for each (_local3 in _local2) {
                _local1.writeUTF(_local3.fontName);
                _local1.writeUTF(_local3.fontStyle);
                _local1.writeUTF(_local3.fontType);
            };
            _local1.position = 0;
            while (_local1.bytesAvailable >= 4) {
                this.seed(_local1.readUnsignedInt());
            };
        }
        public function nextBytes(_arg1:ByteArray, _arg2:int):void{
            while (_arg2--) {
                _arg1.writeByte(this.nextByte());
            };
        }
        public function nextByte():int{
            if (!this.ready){
                if (!this.seeded){
                    this.autoSeed();
                };
                this.state.init(this.pool);
                this.pool.length = 0;
                this.pptr = 0;
                this.ready = true;
            };
            return (this.state.next());
        }
        public function dispose():void{
            var _local1:uint;
            while (_local1 < this.pool.length) {
                this.pool[_local1] = (Math.random() * 0x0100);
                _local1++;
            };
            this.pool.length = 0;
            this.pool = null;
            this.state.dispose();
            this.state = null;
            this.psize = 0;
            this.pptr = 0;
            Memory.gc();
        }
        public function toString():String{
            return (("random-" + this.state.toString()));
        }

    }
}//package com.hurlant.crypto.prng 
﻿package com.hurlant.crypto.prng {
    import flash.utils.*;
    import com.hurlant.crypto.hash.*;
    import com.hurlant.util.*;

    public class TLSPRF {

        private var seed:ByteArray;
        private var s1:ByteArray;
        private var s2:ByteArray;
        private var a1:ByteArray;
        private var a2:ByteArray;
        private var p1:ByteArray;
        private var p2:ByteArray;
        private var d1:ByteArray;
        private var d2:ByteArray;
        private var hmac_md5:HMAC;
        private var hmac_sha1:HMAC;

        public function TLSPRF(_arg1:ByteArray, _arg2:String, _arg3:ByteArray){
            var _local4:int = Math.ceil((_arg1.length / 2));
            var _local5:ByteArray = new ByteArray();
            var _local6:ByteArray = new ByteArray();
            _local5.writeBytes(_arg1, 0, _local4);
            _local6.writeBytes(_arg1, (_arg1.length - _local4), _local4);
            var _local7:ByteArray = new ByteArray();
            _local7.writeUTFBytes(_arg2);
            _local7.writeBytes(_arg3);
            this.seed = _local7;
            this.s1 = _local5;
            this.s2 = _local6;
            this.hmac_md5 = new HMAC(new MD5());
            this.hmac_sha1 = new HMAC(new SHA1());
            this.a1 = this.hmac_md5.compute(_local5, this.seed);
            this.a2 = this.hmac_sha1.compute(_local6, this.seed);
            this.p1 = new ByteArray();
            this.p2 = new ByteArray();
            this.d1 = new ByteArray();
            this.d2 = new ByteArray();
            this.d1.position = MD5.HASH_SIZE;
            this.d1.writeBytes(this.seed);
            this.d2.position = SHA1.HASH_SIZE;
            this.d2.writeBytes(this.seed);
        }
        public function nextBytes(_arg1:IDataOutput, _arg2:int):void{
            while (_arg2--) {
                _arg1.writeByte(this.nextByte());
            };
        }
        public function nextByte():int{
            if (this.p1.bytesAvailable == 0){
                this.more_md5();
            };
            if (this.p2.bytesAvailable == 0){
                this.more_sha1();
            };
            return ((this.p1.readUnsignedByte() ^ this.p2.readUnsignedByte()));
        }
        public function dispose():void{
            this.seed = this.dba(this.seed);
            this.s1 = this.dba(this.s1);
            this.s2 = this.dba(this.s2);
            this.a1 = this.dba(this.a1);
            this.a2 = this.dba(this.a2);
            this.p1 = this.dba(this.p1);
            this.p2 = this.dba(this.p2);
            this.d1 = this.dba(this.d1);
            this.d2 = this.dba(this.d2);
            this.hmac_md5.dispose();
            this.hmac_md5 = null;
            this.hmac_sha1.dispose();
            this.hmac_sha1 = null;
            Memory.gc();
        }
        public function toString():String{
            return ("tls-prf");
        }
        private function dba(_arg1:ByteArray):ByteArray{
            var _local2:uint;
            while (_local2 < _arg1.length) {
                _arg1[_local2] = 0;
                _local2++;
            };
            _arg1.length = 0;
            return (null);
        }
        private function more_md5():void{
            this.d1.position = 0;
            this.d1.writeBytes(this.a1);
            var _local1:int = this.p1.position;
            var _local2:ByteArray = this.hmac_md5.compute(this.s1, this.d1);
            this.a1 = this.hmac_md5.compute(this.s1, this.a1);
            this.p1.writeBytes(_local2);
            this.p1.position = _local1;
        }
        private function more_sha1():void{
            this.d2.position = 0;
            this.d2.writeBytes(this.a2);
            var _local1:int = this.p2.position;
            var _local2:ByteArray = this.hmac_sha1.compute(this.s2, this.d2);
            this.a2 = this.hmac_sha1.compute(this.s2, this.a2);
            this.p2.writeBytes(_local2);
            this.p2.position = _local1;
        }

    }
}//package com.hurlant.crypto.prng 
﻿package com.hurlant.crypto.prng {
    import flash.utils.*;
    import com.hurlant.crypto.symmetric.*;
    import com.hurlant.util.*;

    public class ARC4 implements IPRNG, IStreamCipher {

        private const psize:uint = 0x0100;

        private var i:int = 0;
        private var j:int = 0;
        private var S:ByteArray;

        public function ARC4(_arg1:ByteArray=null){
            this.S = new ByteArray();
            if (_arg1){
                this.init(_arg1);
            };
        }
        public function getPoolSize():uint{
            return (this.psize);
        }
        public function init(_arg1:ByteArray):void{
            var _local2:int;
            var _local3:int;
            var _local4:int;
            _local2 = 0;
            while (_local2 < 0x0100) {
                this.S[_local2] = _local2;
                _local2++;
            };
            _local3 = 0;
            _local2 = 0;
            while (_local2 < 0x0100) {
                _local3 = (((_local3 + this.S[_local2]) + _arg1[(_local2 % _arg1.length)]) & 0xFF);
                _local4 = this.S[_local2];
                this.S[_local2] = this.S[_local3];
                this.S[_local3] = _local4;
                _local2++;
            };
            this.i = 0;
            this.j = 0;
        }
        public function next():uint{
            var _local1:int;
            this.i = ((this.i + 1) & 0xFF);
            this.j = ((this.j + this.S[this.i]) & 0xFF);
            _local1 = this.S[this.i];
            this.S[this.i] = this.S[this.j];
            this.S[this.j] = _local1;
            return (this.S[((_local1 + this.S[this.i]) & 0xFF)]);
        }
        public function getBlockSize():uint{
            return (1);
        }
        public function encrypt(_arg1:ByteArray):void{
            var _local2:uint;
            while (_local2 < _arg1.length) {
                var _temp1 = _local2;
                _local2 = (_local2 + 1);
                var _local3 = _temp1;
                _arg1[_local3] = (_arg1[_local3] ^ this.next());
            };
        }
        public function decrypt(_arg1:ByteArray):void{
            this.encrypt(_arg1);
        }
        public function dispose():void{
            var _local1:uint;
            if (this.S != null){
                _local1 = 0;
                while (_local1 < this.S.length) {
                    this.S[_local1] = (Math.random() * 0x0100);
                    _local1++;
                };
                this.S.length = 0;
                this.S = null;
            };
            this.i = 0;
            this.j = 0;
            Memory.gc();
        }
        public function toString():String{
            return ("rc4");
        }

    }
}//package com.hurlant.crypto.prng 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;

    public class CFB8Mode extends IVMode implements IMode {

        public function CFB8Mode(_arg1:ISymmetricKey, _arg2:IPad=null){
            super(_arg1, null);
        }
        public function encrypt(_arg1:ByteArray):void{
            var _local5:uint;
            var _local2:ByteArray = getIV4e();
            var _local3:ByteArray = new ByteArray();
            var _local4:uint;
            while (_local4 < _arg1.length) {
                _local3.position = 0;
                _local3.writeBytes(_local2);
                key.encrypt(_local2);
                _arg1[_local4] = (_arg1[_local4] ^ _local2[0]);
                _local5 = 0;
                while (_local5 < (blockSize - 1)) {
                    _local2[_local5] = _local3[(_local5 + 1)];
                    _local5++;
                };
                _local2[(blockSize - 1)] = _arg1[_local4];
                _local4++;
            };
        }
        public function decrypt(_arg1:ByteArray):void{
            var _local5:uint;
            var _local6:uint;
            var _local2:ByteArray = getIV4d();
            var _local3:ByteArray = new ByteArray();
            var _local4:uint;
            while (_local4 < _arg1.length) {
                _local5 = _arg1[_local4];
                _local3.position = 0;
                _local3.writeBytes(_local2);
                key.encrypt(_local2);
                _arg1[_local4] = (_arg1[_local4] ^ _local2[0]);
                _local6 = 0;
                while (_local6 < (blockSize - 1)) {
                    _local2[_local6] = _local3[(_local6 + 1)];
                    _local6++;
                };
                _local2[(blockSize - 1)] = _local5;
                _local4++;
            };
        }
        public function toString():String{
            return ((key.toString() + "-cfb8"));
        }

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;
    import com.hurlant.crypto.prng.*;
    import com.hurlant.util.*;

    public class AESKey implements ISymmetricKey {

        private static const Nb:uint = 4;
        private static const _Sbox:Array = [99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171, 118, 202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164, 114, 192, 183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241, 113, 216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226, 235, 39, 178, 117, 9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214, 179, 41, 227, 47, 132, 83, 209, 0, 237, 32, 252, 177, 91, 106, 203, 190, 57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69, 249, 2, 127, 80, 60, 159, 168, 81, 163, 64, 143, 146, 157, 56, 245, 188, 182, 218, 33, 16, 0xFF, 243, 210, 205, 12, 19, 236, 95, 151, 68, 23, 196, 167, 126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42, 144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224, 50, 58, 10, 73, 6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109, 141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37, 46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139, 138, 112, 62, 181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225, 248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223, 140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187, 22];
        private static const _InvSbox:Array = [82, 9, 106, 213, 48, 54, 165, 56, 191, 64, 163, 158, 129, 243, 215, 251, 124, 227, 57, 130, 155, 47, 0xFF, 135, 52, 142, 67, 68, 196, 222, 233, 203, 84, 123, 148, 50, 166, 194, 35, 61, 238, 76, 149, 11, 66, 250, 195, 78, 8, 46, 161, 102, 40, 217, 36, 178, 118, 91, 162, 73, 109, 139, 209, 37, 114, 248, 246, 100, 134, 104, 152, 22, 212, 164, 92, 204, 93, 101, 182, 146, 108, 112, 72, 80, 253, 237, 185, 218, 94, 21, 70, 87, 167, 141, 157, 132, 144, 216, 171, 0, 140, 188, 211, 10, 247, 228, 88, 5, 184, 179, 69, 6, 208, 44, 30, 143, 202, 63, 15, 2, 193, 175, 189, 3, 1, 19, 138, 107, 58, 145, 17, 65, 79, 103, 220, 234, 151, 242, 207, 206, 240, 180, 230, 115, 150, 172, 116, 34, 231, 173, 53, 133, 226, 249, 55, 232, 28, 117, 223, 110, 71, 241, 26, 113, 29, 41, 197, 137, 111, 183, 98, 14, 170, 24, 190, 27, 252, 86, 62, 75, 198, 210, 121, 32, 154, 219, 192, 254, 120, 205, 90, 244, 31, 221, 168, 51, 136, 7, 199, 49, 177, 18, 16, 89, 39, 128, 236, 95, 96, 81, 127, 169, 25, 181, 74, 13, 45, 229, 122, 159, 147, 201, 156, 239, 160, 224, 59, 77, 174, 42, 245, 176, 200, 235, 187, 60, 131, 83, 153, 97, 23, 43, 4, 126, 186, 119, 214, 38, 225, 105, 20, 99, 85, 33, 12, 125];
        private static const _Xtime2Sbox:Array = [198, 248, 238, 246, 0xFF, 214, 222, 145, 96, 2, 206, 86, 231, 181, 77, 236, 143, 31, 137, 250, 239, 178, 142, 251, 65, 179, 95, 69, 35, 83, 228, 155, 117, 225, 61, 76, 108, 126, 245, 131, 104, 81, 209, 249, 226, 171, 98, 42, 8, 149, 70, 157, 48, 55, 10, 47, 14, 36, 27, 223, 205, 78, 127, 234, 18, 29, 88, 52, 54, 220, 180, 91, 164, 118, 183, 125, 82, 221, 94, 19, 166, 185, 0, 193, 64, 227, 121, 182, 212, 141, 103, 114, 148, 152, 176, 133, 187, 197, 79, 237, 134, 154, 102, 17, 138, 233, 4, 254, 160, 120, 37, 75, 162, 93, 128, 5, 63, 33, 112, 241, 99, 119, 175, 66, 32, 229, 253, 191, 129, 24, 38, 195, 190, 53, 136, 46, 147, 85, 252, 122, 200, 186, 50, 230, 192, 25, 158, 163, 68, 84, 59, 11, 140, 199, 107, 40, 167, 188, 22, 173, 219, 100, 116, 20, 146, 12, 72, 184, 159, 189, 67, 196, 57, 49, 211, 242, 213, 139, 110, 218, 1, 177, 156, 73, 216, 172, 243, 207, 202, 244, 71, 16, 111, 240, 74, 92, 56, 87, 115, 151, 203, 161, 232, 62, 150, 97, 13, 15, 224, 124, 113, 204, 144, 6, 247, 28, 194, 106, 174, 105, 23, 153, 58, 39, 217, 235, 43, 34, 210, 169, 7, 51, 45, 60, 21, 201, 135, 170, 80, 165, 3, 89, 9, 26, 101, 215, 132, 208, 130, 41, 90, 30, 123, 168, 109, 44];
        private static const _Xtime3Sbox:Array = [165, 132, 153, 141, 13, 189, 177, 84, 80, 3, 169, 125, 25, 98, 230, 154, 69, 157, 64, 135, 21, 235, 201, 11, 236, 103, 253, 234, 191, 247, 150, 91, 194, 28, 174, 106, 90, 65, 2, 79, 92, 244, 52, 8, 147, 115, 83, 63, 12, 82, 101, 94, 40, 161, 15, 181, 9, 54, 155, 61, 38, 105, 205, 159, 27, 158, 116, 46, 45, 178, 238, 251, 246, 77, 97, 206, 123, 62, 113, 151, 245, 104, 0, 44, 96, 31, 200, 237, 190, 70, 217, 75, 222, 212, 232, 74, 107, 42, 229, 22, 197, 215, 85, 148, 207, 16, 6, 129, 240, 68, 186, 227, 243, 254, 192, 138, 173, 188, 72, 4, 223, 193, 117, 99, 48, 26, 14, 109, 76, 20, 53, 47, 225, 162, 204, 57, 87, 242, 130, 71, 172, 231, 43, 149, 160, 152, 209, 127, 102, 126, 171, 131, 202, 41, 211, 60, 121, 226, 29, 118, 59, 86, 78, 30, 219, 10, 108, 228, 93, 110, 239, 166, 168, 164, 55, 139, 50, 67, 89, 183, 140, 100, 210, 224, 180, 250, 7, 37, 175, 142, 233, 24, 213, 136, 111, 114, 36, 241, 199, 81, 35, 124, 156, 33, 221, 220, 134, 133, 144, 66, 196, 170, 216, 5, 1, 18, 163, 95, 249, 208, 145, 88, 39, 185, 56, 19, 179, 51, 187, 112, 137, 167, 182, 34, 146, 32, 73, 0xFF, 120, 122, 143, 248, 128, 23, 218, 49, 198, 184, 195, 176, 119, 17, 203, 252, 214, 58];
        private static const _Xtime2:Array = [0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32, 34, 36, 38, 40, 42, 44, 46, 48, 50, 52, 54, 56, 58, 60, 62, 64, 66, 68, 70, 72, 74, 76, 78, 80, 82, 84, 86, 88, 90, 92, 94, 96, 98, 100, 102, 104, 106, 108, 110, 112, 114, 116, 118, 120, 122, 124, 126, 128, 130, 132, 134, 136, 138, 140, 142, 144, 146, 148, 150, 152, 154, 156, 158, 160, 162, 164, 166, 168, 170, 172, 174, 176, 178, 180, 182, 184, 186, 188, 190, 192, 194, 196, 198, 200, 202, 204, 206, 208, 210, 212, 214, 216, 218, 220, 222, 224, 226, 228, 230, 232, 234, 236, 238, 240, 242, 244, 246, 248, 250, 252, 254, 27, 25, 31, 29, 19, 17, 23, 21, 11, 9, 15, 13, 3, 1, 7, 5, 59, 57, 63, 61, 51, 49, 55, 53, 43, 41, 47, 45, 35, 33, 39, 37, 91, 89, 95, 93, 83, 81, 87, 85, 75, 73, 79, 77, 67, 65, 71, 69, 123, 121, 127, 125, 115, 113, 119, 117, 107, 105, 111, 109, 99, 97, 103, 101, 155, 153, 159, 157, 147, 145, 151, 149, 139, 137, 143, 141, 131, 129, 135, 133, 187, 185, 191, 189, 179, 177, 183, 181, 171, 169, 175, 173, 163, 161, 167, 165, 219, 217, 223, 221, 211, 209, 215, 213, 203, 201, 207, 205, 195, 193, 199, 197, 251, 249, 0xFF, 253, 243, 241, 247, 245, 235, 233, 239, 237, 227, 225, 231, 229];
        private static const _Xtime9:Array = [0, 9, 18, 27, 36, 45, 54, 63, 72, 65, 90, 83, 108, 101, 126, 119, 144, 153, 130, 139, 180, 189, 166, 175, 216, 209, 202, 195, 252, 245, 238, 231, 59, 50, 41, 32, 31, 22, 13, 4, 115, 122, 97, 104, 87, 94, 69, 76, 171, 162, 185, 176, 143, 134, 157, 148, 227, 234, 241, 248, 199, 206, 213, 220, 118, 127, 100, 109, 82, 91, 64, 73, 62, 55, 44, 37, 26, 19, 8, 1, 230, 239, 244, 253, 194, 203, 208, 217, 174, 167, 188, 181, 138, 131, 152, 145, 77, 68, 95, 86, 105, 96, 123, 114, 5, 12, 23, 30, 33, 40, 51, 58, 221, 212, 207, 198, 249, 240, 235, 226, 149, 156, 135, 142, 177, 184, 163, 170, 236, 229, 254, 247, 200, 193, 218, 211, 164, 173, 182, 191, 128, 137, 146, 155, 124, 117, 110, 103, 88, 81, 74, 67, 52, 61, 38, 47, 16, 25, 2, 11, 215, 222, 197, 204, 243, 250, 225, 232, 159, 150, 141, 132, 187, 178, 169, 160, 71, 78, 85, 92, 99, 106, 113, 120, 15, 6, 29, 20, 43, 34, 57, 48, 154, 147, 136, 129, 190, 183, 172, 165, 210, 219, 192, 201, 246, 0xFF, 228, 237, 10, 3, 24, 17, 46, 39, 60, 53, 66, 75, 80, 89, 102, 111, 116, 125, 161, 168, 179, 186, 133, 140, 151, 158, 233, 224, 251, 242, 205, 196, 223, 214, 49, 56, 35, 42, 21, 28, 7, 14, 121, 112, 107, 98, 93, 84, 79, 70];
        private static const _XtimeB:Array = [0, 11, 22, 29, 44, 39, 58, 49, 88, 83, 78, 69, 116, 127, 98, 105, 176, 187, 166, 173, 156, 151, 138, 129, 232, 227, 254, 245, 196, 207, 210, 217, 123, 112, 109, 102, 87, 92, 65, 74, 35, 40, 53, 62, 15, 4, 25, 18, 203, 192, 221, 214, 231, 236, 241, 250, 147, 152, 133, 142, 191, 180, 169, 162, 246, 253, 224, 235, 218, 209, 204, 199, 174, 165, 184, 179, 130, 137, 148, 159, 70, 77, 80, 91, 106, 97, 124, 119, 30, 21, 8, 3, 50, 57, 36, 47, 141, 134, 155, 144, 161, 170, 183, 188, 213, 222, 195, 200, 249, 242, 239, 228, 61, 54, 43, 32, 17, 26, 7, 12, 101, 110, 115, 120, 73, 66, 95, 84, 247, 252, 225, 234, 219, 208, 205, 198, 175, 164, 185, 178, 131, 136, 149, 158, 71, 76, 81, 90, 107, 96, 125, 118, 31, 20, 9, 2, 51, 56, 37, 46, 140, 135, 154, 145, 160, 171, 182, 189, 212, 223, 194, 201, 248, 243, 238, 229, 60, 55, 42, 33, 16, 27, 6, 13, 100, 111, 114, 121, 72, 67, 94, 85, 1, 10, 23, 28, 45, 38, 59, 48, 89, 82, 79, 68, 117, 126, 99, 104, 177, 186, 167, 172, 157, 150, 139, 128, 233, 226, 0xFF, 244, 197, 206, 211, 216, 122, 113, 108, 103, 86, 93, 64, 75, 34, 41, 52, 63, 14, 5, 24, 19, 202, 193, 220, 215, 230, 237, 240, 251, 146, 153, 132, 143, 190, 181, 168, 163];
        private static const _XtimeD:Array = [0, 13, 26, 23, 52, 57, 46, 35, 104, 101, 114, 127, 92, 81, 70, 75, 208, 221, 202, 199, 228, 233, 254, 243, 184, 181, 162, 175, 140, 129, 150, 155, 187, 182, 161, 172, 143, 130, 149, 152, 211, 222, 201, 196, 231, 234, 253, 240, 107, 102, 113, 124, 95, 82, 69, 72, 3, 14, 25, 20, 55, 58, 45, 32, 109, 96, 119, 122, 89, 84, 67, 78, 5, 8, 31, 18, 49, 60, 43, 38, 189, 176, 167, 170, 137, 132, 147, 158, 213, 216, 207, 194, 225, 236, 251, 246, 214, 219, 204, 193, 226, 239, 248, 245, 190, 179, 164, 169, 138, 135, 144, 157, 6, 11, 28, 17, 50, 63, 40, 37, 110, 99, 116, 121, 90, 87, 64, 77, 218, 215, 192, 205, 238, 227, 244, 249, 178, 191, 168, 165, 134, 139, 156, 145, 10, 7, 16, 29, 62, 51, 36, 41, 98, 111, 120, 117, 86, 91, 76, 65, 97, 108, 123, 118, 85, 88, 79, 66, 9, 4, 19, 30, 61, 48, 39, 42, 177, 188, 171, 166, 133, 136, 159, 146, 217, 212, 195, 206, 237, 224, 247, 250, 183, 186, 173, 160, 131, 142, 153, 148, 223, 210, 197, 200, 235, 230, 241, 252, 103, 106, 125, 112, 83, 94, 73, 68, 15, 2, 21, 24, 59, 54, 33, 44, 12, 1, 22, 27, 56, 53, 34, 47, 100, 105, 126, 115, 80, 93, 74, 71, 220, 209, 198, 203, 232, 229, 242, 0xFF, 180, 185, 174, 163, 128, 141, 154, 151];
        private static const _XtimeE:Array = [0, 14, 28, 18, 56, 54, 36, 42, 112, 126, 108, 98, 72, 70, 84, 90, 224, 238, 252, 242, 216, 214, 196, 202, 144, 158, 140, 130, 168, 166, 180, 186, 219, 213, 199, 201, 227, 237, 0xFF, 241, 171, 165, 183, 185, 147, 157, 143, 129, 59, 53, 39, 41, 3, 13, 31, 17, 75, 69, 87, 89, 115, 125, 111, 97, 173, 163, 177, 191, 149, 155, 137, 135, 221, 211, 193, 207, 229, 235, 249, 247, 77, 67, 81, 95, 117, 123, 105, 103, 61, 51, 33, 47, 5, 11, 25, 23, 118, 120, 106, 100, 78, 64, 82, 92, 6, 8, 26, 20, 62, 48, 34, 44, 150, 152, 138, 132, 174, 160, 178, 188, 230, 232, 250, 244, 222, 208, 194, 204, 65, 79, 93, 83, 121, 119, 101, 107, 49, 63, 45, 35, 9, 7, 21, 27, 161, 175, 189, 179, 153, 151, 133, 139, 209, 223, 205, 195, 233, 231, 245, 251, 154, 148, 134, 136, 162, 172, 190, 176, 234, 228, 246, 248, 210, 220, 206, 192, 122, 116, 102, 104, 66, 76, 94, 80, 10, 4, 22, 24, 50, 60, 46, 32, 236, 226, 240, 254, 212, 218, 200, 198, 156, 146, 128, 142, 164, 170, 184, 182, 12, 2, 16, 30, 52, 58, 40, 38, 124, 114, 96, 110, 68, 74, 88, 86, 55, 57, 43, 37, 15, 1, 19, 29, 71, 73, 91, 85, 127, 113, 99, 109, 215, 217, 203, 197, 239, 225, 243, 253, 167, 169, 187, 181, 159, 145, 131, 141];

        private static var _Rcon:Array = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54];
        private static var Sbox:ByteArray = new ByteArray();
        private static var InvSbox:ByteArray = new ByteArray();
        private static var Xtime2Sbox:ByteArray = new ByteArray();
        private static var Xtime3Sbox:ByteArray = new ByteArray();
        private static var Xtime2:ByteArray = new ByteArray();
        private static var Xtime9:ByteArray = new ByteArray();
        private static var XtimeB:ByteArray = new ByteArray();
        private static var XtimeD:ByteArray = new ByteArray();
        private static var XtimeE:ByteArray = new ByteArray();
        private static var Rcon:ByteArray = new ByteArray();
        private static var i:uint = 0;

        private var key:ByteArray;
        private var keyLength:uint;
        private var Nr:uint;
        private var state:ByteArray;
        private var tmp:ByteArray;

        public function AESKey(_arg1:ByteArray){
            this.tmp = new ByteArray();
            this.state = new ByteArray();
            this.keyLength = _arg1.length;
            this.key = new ByteArray();
            this.key.writeBytes(_arg1);
            this.expandKey();
        }
        private function expandKey():void{
            var _local1:uint;
            var _local2:uint;
            var _local3:uint;
            var _local4:uint;
            var _local5:uint;
            var _local6:uint;
            var _local7:uint = (this.key.length / 4);
            this.Nr = (_local7 + 6);
            _local6 = _local7;
            while (_local6 < (Nb * (this.Nr + 1))) {
                _local1 = this.key[((4 * _local6) - 4)];
                _local2 = this.key[((4 * _local6) - 3)];
                _local3 = this.key[((4 * _local6) - 2)];
                _local4 = this.key[((4 * _local6) - 1)];
                if (!(_local6 % _local7)){
                    _local5 = _local4;
                    _local4 = Sbox[_local1];
                    _local1 = (Sbox[_local2] ^ Rcon[(_local6 / _local7)]);
                    _local2 = Sbox[_local3];
                    _local3 = Sbox[_local5];
                } else {
                    if ((((_local7 > 6)) && (((_local6 % _local7) == 4)))){
                        _local1 = Sbox[_local1];
                        _local2 = Sbox[_local2];
                        _local3 = Sbox[_local3];
                        _local4 = Sbox[_local4];
                    };
                };
                this.key[((4 * _local6) + 0)] = (this.key[(((4 * _local6) - (4 * _local7)) + 0)] ^ _local1);
                this.key[((4 * _local6) + 1)] = (this.key[(((4 * _local6) - (4 * _local7)) + 1)] ^ _local2);
                this.key[((4 * _local6) + 2)] = (this.key[(((4 * _local6) - (4 * _local7)) + 2)] ^ _local3);
                this.key[((4 * _local6) + 3)] = (this.key[(((4 * _local6) - (4 * _local7)) + 3)] ^ _local4);
                _local6++;
            };
        }
        public function getBlockSize():uint{
            return (16);
        }
        public function encrypt(_arg1:ByteArray, _arg2:uint=0):void{
            var _local3:uint;
            this.state.position = 0;
            this.state.writeBytes(_arg1, _arg2, (Nb * 4));
            this.addRoundKey(this.key, 0);
            _local3 = 1;
            while (_local3 < (this.Nr + 1)) {
                if (_local3 < this.Nr){
                    this.mixSubColumns();
                } else {
                    this.shiftRows();
                };
                this.addRoundKey(this.key, ((_local3 * Nb) * 4));
                _local3++;
            };
            _arg1.position = _arg2;
            _arg1.writeBytes(this.state);
        }
        public function decrypt(_arg1:ByteArray, _arg2:uint=0):void{
            var _local3:uint;
            this.state.position = 0;
            this.state.writeBytes(_arg1, _arg2, (Nb * 4));
            this.addRoundKey(this.key, ((this.Nr * Nb) * 4));
            this.invShiftRows();
            _local3 = this.Nr;
            while (_local3--) {
                this.addRoundKey(this.key, ((_local3 * Nb) * 4));
                if (_local3){
                    this.invMixSubColumns();
                };
            };
            _arg1.position = _arg2;
            _arg1.writeBytes(this.state);
        }
        public function dispose():void{
            var _local1:uint;
            var _local2:Random = new Random();
            _local1 = 0;
            while (_local1 < this.key.length) {
                this.key[_local1] = _local2.nextByte();
                _local1++;
            };
            this.Nr = _local2.nextByte();
            _local1 = 0;
            while (_local1 < this.state.length) {
                this.state[_local1] = _local2.nextByte();
                _local1++;
            };
            _local1 = 0;
            while (_local1 < this.tmp.length) {
                this.tmp[_local1] = _local2.nextByte();
                _local1++;
            };
            this.key.length = 0;
            this.keyLength = 0;
            this.state.length = 0;
            this.tmp.length = 0;
            this.key = null;
            this.state = null;
            this.tmp = null;
            this.Nr = 0;
            Memory.gc();
        }
        protected function shiftRows():void{
            var _local1:uint;
            this.state[0] = Sbox[this.state[0]];
            this.state[4] = Sbox[this.state[4]];
            this.state[8] = Sbox[this.state[8]];
            this.state[12] = Sbox[this.state[12]];
            _local1 = Sbox[this.state[1]];
            this.state[1] = Sbox[this.state[5]];
            this.state[5] = Sbox[this.state[9]];
            this.state[9] = Sbox[this.state[13]];
            this.state[13] = _local1;
            _local1 = Sbox[this.state[2]];
            this.state[2] = Sbox[this.state[10]];
            this.state[10] = _local1;
            _local1 = Sbox[this.state[6]];
            this.state[6] = Sbox[this.state[14]];
            this.state[14] = _local1;
            _local1 = Sbox[this.state[15]];
            this.state[15] = Sbox[this.state[11]];
            this.state[11] = Sbox[this.state[7]];
            this.state[7] = Sbox[this.state[3]];
            this.state[3] = _local1;
        }
        protected function invShiftRows():void{
            var _local1:uint;
            this.state[0] = InvSbox[this.state[0]];
            this.state[4] = InvSbox[this.state[4]];
            this.state[8] = InvSbox[this.state[8]];
            this.state[12] = InvSbox[this.state[12]];
            _local1 = InvSbox[this.state[13]];
            this.state[13] = InvSbox[this.state[9]];
            this.state[9] = InvSbox[this.state[5]];
            this.state[5] = InvSbox[this.state[1]];
            this.state[1] = _local1;
            _local1 = InvSbox[this.state[2]];
            this.state[2] = InvSbox[this.state[10]];
            this.state[10] = _local1;
            _local1 = InvSbox[this.state[6]];
            this.state[6] = InvSbox[this.state[14]];
            this.state[14] = _local1;
            _local1 = InvSbox[this.state[3]];
            this.state[3] = InvSbox[this.state[7]];
            this.state[7] = InvSbox[this.state[11]];
            this.state[11] = InvSbox[this.state[15]];
            this.state[15] = _local1;
        }
        protected function mixSubColumns():void{
            this.tmp.length = 0;
            this.tmp[0] = (((Xtime2Sbox[this.state[0]] ^ Xtime3Sbox[this.state[5]]) ^ Sbox[this.state[10]]) ^ Sbox[this.state[15]]);
            this.tmp[1] = (((Sbox[this.state[0]] ^ Xtime2Sbox[this.state[5]]) ^ Xtime3Sbox[this.state[10]]) ^ Sbox[this.state[15]]);
            this.tmp[2] = (((Sbox[this.state[0]] ^ Sbox[this.state[5]]) ^ Xtime2Sbox[this.state[10]]) ^ Xtime3Sbox[this.state[15]]);
            this.tmp[3] = (((Xtime3Sbox[this.state[0]] ^ Sbox[this.state[5]]) ^ Sbox[this.state[10]]) ^ Xtime2Sbox[this.state[15]]);
            this.tmp[4] = (((Xtime2Sbox[this.state[4]] ^ Xtime3Sbox[this.state[9]]) ^ Sbox[this.state[14]]) ^ Sbox[this.state[3]]);
            this.tmp[5] = (((Sbox[this.state[4]] ^ Xtime2Sbox[this.state[9]]) ^ Xtime3Sbox[this.state[14]]) ^ Sbox[this.state[3]]);
            this.tmp[6] = (((Sbox[this.state[4]] ^ Sbox[this.state[9]]) ^ Xtime2Sbox[this.state[14]]) ^ Xtime3Sbox[this.state[3]]);
            this.tmp[7] = (((Xtime3Sbox[this.state[4]] ^ Sbox[this.state[9]]) ^ Sbox[this.state[14]]) ^ Xtime2Sbox[this.state[3]]);
            this.tmp[8] = (((Xtime2Sbox[this.state[8]] ^ Xtime3Sbox[this.state[13]]) ^ Sbox[this.state[2]]) ^ Sbox[this.state[7]]);
            this.tmp[9] = (((Sbox[this.state[8]] ^ Xtime2Sbox[this.state[13]]) ^ Xtime3Sbox[this.state[2]]) ^ Sbox[this.state[7]]);
            this.tmp[10] = (((Sbox[this.state[8]] ^ Sbox[this.state[13]]) ^ Xtime2Sbox[this.state[2]]) ^ Xtime3Sbox[this.state[7]]);
            this.tmp[11] = (((Xtime3Sbox[this.state[8]] ^ Sbox[this.state[13]]) ^ Sbox[this.state[2]]) ^ Xtime2Sbox[this.state[7]]);
            this.tmp[12] = (((Xtime2Sbox[this.state[12]] ^ Xtime3Sbox[this.state[1]]) ^ Sbox[this.state[6]]) ^ Sbox[this.state[11]]);
            this.tmp[13] = (((Sbox[this.state[12]] ^ Xtime2Sbox[this.state[1]]) ^ Xtime3Sbox[this.state[6]]) ^ Sbox[this.state[11]]);
            this.tmp[14] = (((Sbox[this.state[12]] ^ Sbox[this.state[1]]) ^ Xtime2Sbox[this.state[6]]) ^ Xtime3Sbox[this.state[11]]);
            this.tmp[15] = (((Xtime3Sbox[this.state[12]] ^ Sbox[this.state[1]]) ^ Sbox[this.state[6]]) ^ Xtime2Sbox[this.state[11]]);
            this.state.position = 0;
            this.state.writeBytes(this.tmp, 0, (Nb * 4));
        }
        protected function invMixSubColumns():void{
            var _local1:uint;
            this.tmp.length = 0;
            this.tmp[0] = (((XtimeE[this.state[0]] ^ XtimeB[this.state[1]]) ^ XtimeD[this.state[2]]) ^ Xtime9[this.state[3]]);
            this.tmp[5] = (((Xtime9[this.state[0]] ^ XtimeE[this.state[1]]) ^ XtimeB[this.state[2]]) ^ XtimeD[this.state[3]]);
            this.tmp[10] = (((XtimeD[this.state[0]] ^ Xtime9[this.state[1]]) ^ XtimeE[this.state[2]]) ^ XtimeB[this.state[3]]);
            this.tmp[15] = (((XtimeB[this.state[0]] ^ XtimeD[this.state[1]]) ^ Xtime9[this.state[2]]) ^ XtimeE[this.state[3]]);
            this.tmp[4] = (((XtimeE[this.state[4]] ^ XtimeB[this.state[5]]) ^ XtimeD[this.state[6]]) ^ Xtime9[this.state[7]]);
            this.tmp[9] = (((Xtime9[this.state[4]] ^ XtimeE[this.state[5]]) ^ XtimeB[this.state[6]]) ^ XtimeD[this.state[7]]);
            this.tmp[14] = (((XtimeD[this.state[4]] ^ Xtime9[this.state[5]]) ^ XtimeE[this.state[6]]) ^ XtimeB[this.state[7]]);
            this.tmp[3] = (((XtimeB[this.state[4]] ^ XtimeD[this.state[5]]) ^ Xtime9[this.state[6]]) ^ XtimeE[this.state[7]]);
            this.tmp[8] = (((XtimeE[this.state[8]] ^ XtimeB[this.state[9]]) ^ XtimeD[this.state[10]]) ^ Xtime9[this.state[11]]);
            this.tmp[13] = (((Xtime9[this.state[8]] ^ XtimeE[this.state[9]]) ^ XtimeB[this.state[10]]) ^ XtimeD[this.state[11]]);
            this.tmp[2] = (((XtimeD[this.state[8]] ^ Xtime9[this.state[9]]) ^ XtimeE[this.state[10]]) ^ XtimeB[this.state[11]]);
            this.tmp[7] = (((XtimeB[this.state[8]] ^ XtimeD[this.state[9]]) ^ Xtime9[this.state[10]]) ^ XtimeE[this.state[11]]);
            this.tmp[12] = (((XtimeE[this.state[12]] ^ XtimeB[this.state[13]]) ^ XtimeD[this.state[14]]) ^ Xtime9[this.state[15]]);
            this.tmp[1] = (((Xtime9[this.state[12]] ^ XtimeE[this.state[13]]) ^ XtimeB[this.state[14]]) ^ XtimeD[this.state[15]]);
            this.tmp[6] = (((XtimeD[this.state[12]] ^ Xtime9[this.state[13]]) ^ XtimeE[this.state[14]]) ^ XtimeB[this.state[15]]);
            this.tmp[11] = (((XtimeB[this.state[12]] ^ XtimeD[this.state[13]]) ^ Xtime9[this.state[14]]) ^ XtimeE[this.state[15]]);
            _local1 = 0;
            while (_local1 < (4 * Nb)) {
                this.state[_local1] = InvSbox[this.tmp[_local1]];
                _local1++;
            };
        }
        protected function addRoundKey(_arg1:ByteArray, _arg2:uint):void{
            var _local3:uint;
            _local3 = 0;
            while (_local3 < 16) {
                this.state[_local3] = (this.state[_local3] ^ _arg1[(_local3 + _arg2)]);
                _local3++;
            };
        }
        public function toString():String{
            return (("aes" + (8 * this.keyLength)));
        }

        while (i < 0x0100) {
            Sbox[i] = _Sbox[i];
            InvSbox[i] = _InvSbox[i];
            Xtime2Sbox[i] = _Xtime2Sbox[i];
            Xtime3Sbox[i] = _Xtime3Sbox[i];
            Xtime2[i] = _Xtime2[i];
            Xtime9[i] = _Xtime9[i];
            XtimeB[i] = _XtimeB[i];
            XtimeD[i] = _XtimeD[i];
            XtimeE[i] = _XtimeE[i];
            i++;
        };
        i = 0;
        while (i < _Rcon.length) {
            Rcon[i] = _Rcon[i];
            i++;
        };
    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;

    public class NullPad implements IPad {

        public function unpad(_arg1:ByteArray):void{
        }
        public function pad(_arg1:ByteArray):void{
        }
        public function setBlockSize(_arg1:uint):void{
        }

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;

    public class CBCMode extends IVMode implements IMode {

        public function CBCMode(_arg1:ISymmetricKey, _arg2:IPad=null){
            super(_arg1, _arg2);
        }
        public function encrypt(_arg1:ByteArray):void{
            var _local4:uint;
            padding.pad(_arg1);
            var _local2:ByteArray = getIV4e();
            var _local3:uint;
            while (_local3 < _arg1.length) {
                _local4 = 0;
                while (_local4 < blockSize) {
                    _arg1[(_local3 + _local4)] = (_arg1[(_local3 + _local4)] ^ _local2[_local4]);
                    _local4++;
                };
                key.encrypt(_arg1, _local3);
                _local2.position = 0;
                _local2.writeBytes(_arg1, _local3, blockSize);
                _local3 = (_local3 + blockSize);
            };
        }
        public function decrypt(_arg1:ByteArray):void{
            var _local5:uint;
            var _local2:ByteArray = getIV4d();
            var _local3:ByteArray = new ByteArray();
            var _local4:uint;
            while (_local4 < _arg1.length) {
                _local3.position = 0;
                _local3.writeBytes(_arg1, _local4, blockSize);
                key.decrypt(_arg1, _local4);
                _local5 = 0;
                while (_local5 < blockSize) {
                    _arg1[(_local4 + _local5)] = (_arg1[(_local4 + _local5)] ^ _local2[_local5]);
                    _local5++;
                };
                _local2.position = 0;
                _local2.writeBytes(_local3, 0, blockSize);
                _local4 = (_local4 + blockSize);
            };
            padding.unpad(_arg1);
        }
        public function toString():String{
            return ((key.toString() + "-cbc"));
        }

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;
    import com.hurlant.util.*;

    public class ECBMode implements IMode, ICipher {

        private var key:ISymmetricKey;
        private var padding:IPad;

        public function ECBMode(_arg1:ISymmetricKey, _arg2:IPad=null){
            this.key = _arg1;
            if (_arg2 == null){
                _arg2 = new PKCS5(_arg1.getBlockSize());
            } else {
                _arg2.setBlockSize(_arg1.getBlockSize());
            };
            this.padding = _arg2;
        }
        public function getBlockSize():uint{
            return (this.key.getBlockSize());
        }
        public function encrypt(_arg1:ByteArray):void{
            this.padding.pad(_arg1);
            _arg1.position = 0;
            var _local2:uint = this.key.getBlockSize();
            var _local3:ByteArray = new ByteArray();
            var _local4:ByteArray = new ByteArray();
            var _local5:uint;
            while (_local5 < _arg1.length) {
                _local3.length = 0;
                _arg1.readBytes(_local3, 0, _local2);
                this.key.encrypt(_local3);
                _local4.writeBytes(_local3);
                _local5 = (_local5 + _local2);
            };
            _arg1.length = 0;
            _arg1.writeBytes(_local4);
        }
        public function decrypt(_arg1:ByteArray):void{
            _arg1.position = 0;
            var _local2:uint = this.key.getBlockSize();
            if ((_arg1.length % _local2) != 0){
                throw (new Error(("ECB mode cipher length must be a multiple of blocksize " + _local2)));
            };
            var _local3:ByteArray = new ByteArray();
            var _local4:ByteArray = new ByteArray();
            var _local5:uint;
            while (_local5 < _arg1.length) {
                _local3.length = 0;
                _arg1.readBytes(_local3, 0, _local2);
                this.key.decrypt(_local3);
                _local4.writeBytes(_local3);
                _local5 = (_local5 + _local2);
            };
            this.padding.unpad(_local4);
            _arg1.length = 0;
            _arg1.writeBytes(_local4);
        }
        public function dispose():void{
            this.key.dispose();
            this.key = null;
            this.padding = null;
            Memory.gc();
        }
        public function toString():String{
            return ((this.key.toString() + "-ecb"));
        }

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;

    public class OFBMode extends IVMode implements IMode {

        public function OFBMode(_arg1:ISymmetricKey, _arg2:IPad=null){
            super(_arg1, null);
        }
        public function encrypt(_arg1:ByteArray):void{
            var _local2:ByteArray = getIV4e();
            this.core(_arg1, _local2);
        }
        public function decrypt(_arg1:ByteArray):void{
            var _local2:ByteArray = getIV4d();
            this.core(_arg1, _local2);
        }
        private function core(_arg1:ByteArray, _arg2:ByteArray):void{
            var _local6:uint;
            var _local7:uint;
            var _local3:uint = _arg1.length;
            var _local4:ByteArray = new ByteArray();
            var _local5:uint;
            while (_local5 < _arg1.length) {
                key.encrypt(_arg2);
                _local4.position = 0;
                _local4.writeBytes(_arg2);
                _local6 = (((_local5 + blockSize))<_local3) ? blockSize : (_local3 - _local5);
                _local7 = 0;
                while (_local7 < _local6) {
                    _arg1[(_local5 + _local7)] = (_arg1[(_local5 + _local7)] ^ _arg2[_local7]);
                    _local7++;
                };
                _arg2.position = 0;
                _arg2.writeBytes(_local4);
                _local5 = (_local5 + blockSize);
            };
        }
        public function toString():String{
            return ((key.toString() + "-ofb"));
        }

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;
    import com.hurlant.util.*;

    public class SimpleIVMode implements IMode, ICipher {

        protected var mode:IVMode;
        protected var cipher:ICipher;

        public function SimpleIVMode(_arg1:IVMode){
            this.mode = _arg1;
            this.cipher = (_arg1 as ICipher);
        }
        public function getBlockSize():uint{
            return (this.mode.getBlockSize());
        }
        public function dispose():void{
            this.mode.dispose();
            this.mode = null;
            this.cipher = null;
            Memory.gc();
        }
        public function encrypt(_arg1:ByteArray):void{
            this.cipher.encrypt(_arg1);
            var _local2:ByteArray = new ByteArray();
            _local2.writeBytes(this.mode.IV);
            _local2.writeBytes(_arg1);
            _arg1.position = 0;
            _arg1.writeBytes(_local2);
        }
        public function decrypt(_arg1:ByteArray):void{
            var _local2:ByteArray = new ByteArray();
            _local2.writeBytes(_arg1, 0, this.getBlockSize());
            this.mode.IV = _local2;
            _local2 = new ByteArray();
            _local2.writeBytes(_arg1, this.getBlockSize());
            this.cipher.decrypt(_local2);
            _arg1.length = 0;
            _arg1.writeBytes(_local2);
        }
        public function toString():String{
            return (("simple-" + this.cipher.toString()));
        }

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;
    import com.hurlant.util.*;

    public class DESKey implements ISymmetricKey {

        private static const Df_Key:Array = [1, 35, 69, 103, 137, 171, 205, 239, 254, 220, 186, 152, 118, 84, 50, 16, 137, 171, 205, 239, 1, 35, 69, 103];
        private static const bytebit:Array = [128, 64, 32, 16, 8, 4, 2, 1];
        private static const bigbyte:Array = [0x800000, 0x400000, 0x200000, 0x100000, 524288, 262144, 131072, 65536, 0x8000, 0x4000, 0x2000, 0x1000, 0x0800, 0x0400, 0x0200, 0x0100, 128, 64, 32, 16, 8, 4, 2, 1];
        private static const pc1:Array = [56, 48, 40, 32, 24, 16, 8, 0, 57, 49, 41, 33, 25, 17, 9, 1, 58, 50, 42, 34, 26, 18, 10, 2, 59, 51, 43, 35, 62, 54, 46, 38, 30, 22, 14, 6, 61, 53, 45, 37, 29, 21, 13, 5, 60, 52, 44, 36, 28, 20, 12, 4, 27, 19, 11, 3];
        private static const totrot:Array = [1, 2, 4, 6, 8, 10, 12, 14, 15, 17, 19, 21, 23, 25, 27, 28];
        private static const pc2:Array = [13, 16, 10, 23, 0, 4, 2, 27, 14, 5, 20, 9, 22, 18, 11, 3, 25, 7, 15, 6, 26, 19, 12, 1, 40, 51, 30, 36, 46, 54, 29, 39, 50, 44, 32, 47, 43, 48, 38, 55, 33, 52, 45, 41, 49, 35, 28, 31];
        private static const SP1:Array = [16843776, 0, 65536, 16843780, 16842756, 66564, 4, 65536, 0x0400, 16843776, 16843780, 0x0400, 16778244, 16842756, 16777216, 4, 0x0404, 16778240, 16778240, 66560, 66560, 16842752, 16842752, 16778244, 65540, 16777220, 16777220, 65540, 0, 0x0404, 66564, 16777216, 65536, 16843780, 4, 16842752, 16843776, 16777216, 16777216, 0x0400, 16842756, 65536, 66560, 16777220, 0x0400, 4, 16778244, 66564, 16843780, 65540, 16842752, 16778244, 16777220, 0x0404, 66564, 16843776, 0x0404, 16778240, 16778240, 0, 65540, 66560, 0, 16842756];
        private static const SP2:Array = [2148565024, 0x80008000, 0x8000, 1081376, 0x100000, 32, 0x80100020, 0x80008020, 0x80000020, 2148565024, 0x80108000, 0x80000000, 0x80008000, 0x100000, 32, 0x80100020, 0x108000, 0x100020, 0x80008020, 0, 0x80000000, 0x8000, 1081376, 0x80100000, 0x100020, 0x80000020, 0, 0x108000, 32800, 0x80108000, 0x80100000, 32800, 0, 1081376, 0x80100020, 0x100000, 0x80008020, 0x80100000, 0x80108000, 0x8000, 0x80100000, 0x80008000, 32, 2148565024, 1081376, 32, 0x8000, 0x80000000, 32800, 0x80108000, 0x100000, 0x80000020, 0x100020, 0x80008020, 0x80000020, 0x100020, 0x108000, 0, 0x80008000, 32800, 0x80000000, 0x80100020, 2148565024, 0x108000];
        private static const SP3:Array = [520, 134349312, 0, 134348808, 134218240, 0, 131592, 134218240, 131080, 134217736, 134217736, 131072, 134349320, 131080, 134348800, 520, 134217728, 8, 134349312, 0x0200, 131584, 134348800, 134348808, 131592, 134218248, 131584, 131072, 134218248, 8, 134349320, 0x0200, 134217728, 134349312, 134217728, 131080, 520, 131072, 134349312, 134218240, 0, 0x0200, 131080, 134349320, 134218240, 134217736, 0x0200, 0, 134348808, 134218248, 131072, 134217728, 134349320, 8, 131592, 131584, 134217736, 134348800, 134218248, 520, 134348800, 131592, 8, 134348808, 131584];
        private static const SP4:Array = [8396801, 8321, 8321, 128, 8396928, 0x800081, 0x800001, 8193, 0, 0x802000, 0x802000, 8396929, 129, 0, 0x800080, 0x800001, 1, 0x2000, 0x800000, 8396801, 128, 0x800000, 8193, 8320, 0x800081, 1, 8320, 0x800080, 0x2000, 8396928, 8396929, 129, 0x800080, 0x800001, 0x802000, 8396929, 129, 0, 0, 0x802000, 8320, 0x800080, 0x800081, 1, 8396801, 8321, 8321, 128, 8396929, 129, 1, 0x2000, 0x800001, 8193, 8396928, 0x800081, 8193, 8320, 0x800000, 8396801, 128, 0x800000, 0x2000, 8396928];
        private static const SP5:Array = [0x0100, 34078976, 34078720, 0x42000100, 524288, 0x0100, 0x40000000, 34078720, 0x40080100, 524288, 33554688, 0x40080100, 0x42000100, 0x42080000, 524544, 0x40000000, 33554432, 0x40080000, 0x40080000, 0, 0x40000100, 0x42080100, 0x42080100, 33554688, 0x42080000, 0x40000100, 0, 0x42000000, 34078976, 33554432, 0x42000000, 524544, 524288, 0x42000100, 0x0100, 33554432, 0x40000000, 34078720, 0x42000100, 0x40080100, 33554688, 0x40000000, 0x42080000, 34078976, 0x40080100, 0x0100, 33554432, 0x42080000, 0x42080100, 524544, 0x42000000, 0x42080100, 34078720, 0, 0x40080000, 0x42000000, 524544, 33554688, 0x40000100, 524288, 0, 0x40080000, 34078976, 0x40000100];
        private static const SP6:Array = [0x20000010, 0x20400000, 0x4000, 541081616, 0x20400000, 16, 541081616, 0x400000, 0x20004000, 4210704, 0x400000, 0x20000010, 0x400010, 0x20004000, 0x20000000, 16400, 0, 0x400010, 0x20004010, 0x4000, 0x404000, 0x20004010, 16, 0x20400010, 0x20400010, 0, 4210704, 0x20404000, 16400, 0x404000, 0x20404000, 0x20000000, 0x20004000, 16, 0x20400010, 0x404000, 541081616, 0x400000, 16400, 0x20000010, 0x400000, 0x20004000, 0x20000000, 16400, 0x20000010, 541081616, 0x404000, 0x20400000, 4210704, 0x20404000, 0, 0x20400010, 16, 0x4000, 0x20400000, 4210704, 0x4000, 0x400010, 0x20004010, 0, 0x20404000, 0x20000000, 0x400010, 0x20004010];
        private static const SP7:Array = [0x200000, 69206018, 67110914, 0, 0x0800, 67110914, 2099202, 69208064, 69208066, 0x200000, 0, 67108866, 2, 67108864, 69206018, 2050, 67110912, 2099202, 0x200002, 67110912, 67108866, 69206016, 69208064, 0x200002, 69206016, 0x0800, 2050, 69208066, 0x200800, 2, 67108864, 0x200800, 67108864, 0x200800, 0x200000, 67110914, 67110914, 69206018, 69206018, 2, 0x200002, 67108864, 67110912, 0x200000, 69208064, 2050, 2099202, 69208064, 2050, 67108866, 69208066, 69206016, 0x200800, 0, 2, 69208066, 0, 2099202, 69206016, 0x0800, 67108866, 67110912, 0x0800, 0x200002];
        private static const SP8:Array = [0x10001040, 0x1000, 262144, 268701760, 0x10000000, 0x10001040, 64, 0x10000000, 262208, 0x10040000, 268701760, 266240, 0x10041000, 266304, 0x1000, 64, 0x10040000, 0x10000040, 0x10001000, 4160, 266240, 262208, 0x10040040, 0x10041000, 4160, 0, 0, 0x10040040, 0x10000040, 0x10001000, 266304, 262144, 266304, 262144, 0x10041000, 0x1000, 64, 0x10040040, 0x1000, 266304, 0x10001000, 64, 0x10000040, 0x10040000, 0x10040040, 0x10000000, 262144, 0x10001040, 0, 268701760, 262208, 0x10000040, 0x10040000, 0x10001000, 0x10001040, 0, 268701760, 266240, 266240, 4160, 4160, 262208, 0x10000000, 0x10041000];

        protected var key:ByteArray;
        protected var encKey:Array;
        protected var decKey:Array;

        public function DESKey(_arg1:ByteArray){
            this.key = _arg1;
            this.encKey = this.generateWorkingKey(true, _arg1, 0);
            this.decKey = this.generateWorkingKey(false, _arg1, 0);
        }
        public function getBlockSize():uint{
            return (8);
        }
        public function decrypt(_arg1:ByteArray, _arg2:uint=0):void{
            this.desFunc(this.decKey, _arg1, _arg2, _arg1, _arg2);
        }
        public function dispose():void{
            var _local1:uint;
            _local1 = 0;
            while (_local1 < this.encKey.length) {
                this.encKey[_local1] = 0;
                _local1++;
            };
            _local1 = 0;
            while (_local1 < this.decKey.length) {
                this.decKey[_local1] = 0;
                _local1++;
            };
            this.encKey = null;
            this.decKey = null;
            _local1 = 0;
            while (_local1 < this.key.length) {
                this.key[_local1] = 0;
                _local1++;
            };
            this.key.length = 0;
            this.key = null;
            Memory.gc();
        }
        public function encrypt(_arg1:ByteArray, _arg2:uint=0):void{
            this.desFunc(this.encKey, _arg1, _arg2, _arg1, _arg2);
        }
        protected function generateWorkingKey(_arg1:Boolean, _arg2:ByteArray, _arg3:uint):Array{
            var _local7:uint;
            var _local10:uint;
            var _local11:uint;
            var _local12:uint;
            var _local13:uint;
            var _local4:Array = [];
            var _local5:ByteArray = new ByteArray();
            var _local6:ByteArray = new ByteArray();
            var _local8:uint;
            while (_local8 < 56) {
                _local7 = pc1[_local8];
                _local5[_local8] = !(((_arg2[(_arg3 + (_local7 >>> 3))] & bytebit[(_local7 & 7)]) == 0));
                _local8++;
            };
            var _local9:uint;
            while (_local9 < 16) {
                if (_arg1){
                    _local10 = (_local9 << 1);
                } else {
                    _local10 = ((15 - _local9) << 1);
                };
                _local11 = (_local10 + 1);
                _local4[_local10] = (_local4[_local11] = 0);
                _local8 = 0;
                while (_local8 < 28) {
                    _local7 = (_local8 + totrot[_local9]);
                    if (_local7 < 28){
                        _local6[_local8] = _local5[_local7];
                    } else {
                        _local6[_local8] = _local5[(_local7 - 28)];
                    };
                    _local8++;
                };
                _local8 = 28;
                while (_local8 < 56) {
                    _local7 = (_local8 + totrot[_local9]);
                    if (_local7 < 56){
                        _local6[_local8] = _local5[_local7];
                    } else {
                        _local6[_local8] = _local5[(_local7 - 28)];
                    };
                    _local8++;
                };
                _local8 = 0;
                while (_local8 < 24) {
                    if (_local6[pc2[_local8]]){
                        _local4[_local10] = (_local4[_local10] | bigbyte[_local8]);
                    };
                    if (_local6[pc2[(_local8 + 24)]]){
                        _local4[_local11] = (_local4[_local11] | bigbyte[_local8]);
                    };
                    _local8++;
                };
                _local9++;
            };
            _local9 = 0;
            while (_local9 != 32) {
                _local12 = _local4[_local9];
                _local13 = _local4[(_local9 + 1)];
                _local4[_local9] = (((((_local12 & 0xFC0000) << 6) | ((_local12 & 4032) << 10)) | ((_local13 & 0xFC0000) >>> 10)) | ((_local13 & 4032) >>> 6));
                _local4[(_local9 + 1)] = (((((_local12 & 258048) << 12) | ((_local12 & 63) << 16)) | ((_local13 & 258048) >>> 4)) | (_local13 & 63));
                _local9 = (_local9 + 2);
            };
            return (_local4);
        }
        protected function desFunc(_arg1:Array, _arg2:ByteArray, _arg3:uint, _arg4:ByteArray, _arg5:uint):void{
            var _local6:uint;
            var _local7:uint;
            var _local8:uint;
            var _local10:uint;
            _local8 = ((_arg2[(_arg3 + 0)] & 0xFF) << 24);
            _local8 = (_local8 | ((_arg2[(_arg3 + 1)] & 0xFF) << 16));
            _local8 = (_local8 | ((_arg2[(_arg3 + 2)] & 0xFF) << 8));
            _local8 = (_local8 | (_arg2[(_arg3 + 3)] & 0xFF));
            _local7 = ((_arg2[(_arg3 + 4)] & 0xFF) << 24);
            _local7 = (_local7 | ((_arg2[(_arg3 + 5)] & 0xFF) << 16));
            _local7 = (_local7 | ((_arg2[(_arg3 + 6)] & 0xFF) << 8));
            _local7 = (_local7 | (_arg2[(_arg3 + 7)] & 0xFF));
            _local6 = (((_local8 >>> 4) ^ _local7) & 252645135);
            _local7 = (_local7 ^ _local6);
            _local8 = (_local8 ^ (_local6 << 4));
            _local6 = (((_local8 >>> 16) ^ _local7) & 0xFFFF);
            _local7 = (_local7 ^ _local6);
            _local8 = (_local8 ^ (_local6 << 16));
            _local6 = (((_local7 >>> 2) ^ _local8) & 0x33333333);
            _local8 = (_local8 ^ _local6);
            _local7 = (_local7 ^ (_local6 << 2));
            _local6 = (((_local7 >>> 8) ^ _local8) & 0xFF00FF);
            _local8 = (_local8 ^ _local6);
            _local7 = (_local7 ^ (_local6 << 8));
            _local7 = (((_local7 << 1) | ((_local7 >>> 31) & 1)) & 0xFFFFFFFF);
            _local6 = ((_local8 ^ _local7) & 0xAAAAAAAA);
            _local8 = (_local8 ^ _local6);
            _local7 = (_local7 ^ _local6);
            _local8 = (((_local8 << 1) | ((_local8 >>> 31) & 1)) & 0xFFFFFFFF);
            var _local9:uint;
            while (_local9 < 8) {
                _local6 = ((_local7 << 28) | (_local7 >>> 4));
                _local6 = (_local6 ^ _arg1[((_local9 * 4) + 0)]);
                _local10 = SP7[(_local6 & 63)];
                _local10 = (_local10 | SP5[((_local6 >>> 8) & 63)]);
                _local10 = (_local10 | SP3[((_local6 >>> 16) & 63)]);
                _local10 = (_local10 | SP1[((_local6 >>> 24) & 63)]);
                _local6 = (_local7 ^ _arg1[((_local9 * 4) + 1)]);
                _local10 = (_local10 | SP8[(_local6 & 63)]);
                _local10 = (_local10 | SP6[((_local6 >>> 8) & 63)]);
                _local10 = (_local10 | SP4[((_local6 >>> 16) & 63)]);
                _local10 = (_local10 | SP2[((_local6 >>> 24) & 63)]);
                _local8 = (_local8 ^ _local10);
                _local6 = ((_local8 << 28) | (_local8 >>> 4));
                _local6 = (_local6 ^ _arg1[((_local9 * 4) + 2)]);
                _local10 = SP7[(_local6 & 63)];
                _local10 = (_local10 | SP5[((_local6 >>> 8) & 63)]);
                _local10 = (_local10 | SP3[((_local6 >>> 16) & 63)]);
                _local10 = (_local10 | SP1[((_local6 >>> 24) & 63)]);
                _local6 = (_local8 ^ _arg1[((_local9 * 4) + 3)]);
                _local10 = (_local10 | SP8[(_local6 & 63)]);
                _local10 = (_local10 | SP6[((_local6 >>> 8) & 63)]);
                _local10 = (_local10 | SP4[((_local6 >>> 16) & 63)]);
                _local10 = (_local10 | SP2[((_local6 >>> 24) & 63)]);
                _local7 = (_local7 ^ _local10);
                _local9++;
            };
            _local7 = ((_local7 << 31) | (_local7 >>> 1));
            _local6 = ((_local8 ^ _local7) & 0xAAAAAAAA);
            _local8 = (_local8 ^ _local6);
            _local7 = (_local7 ^ _local6);
            _local8 = ((_local8 << 31) | (_local8 >>> 1));
            _local6 = (((_local8 >>> 8) ^ _local7) & 0xFF00FF);
            _local7 = (_local7 ^ _local6);
            _local8 = (_local8 ^ (_local6 << 8));
            _local6 = (((_local8 >>> 2) ^ _local7) & 0x33333333);
            _local7 = (_local7 ^ _local6);
            _local8 = (_local8 ^ (_local6 << 2));
            _local6 = (((_local7 >>> 16) ^ _local8) & 0xFFFF);
            _local8 = (_local8 ^ _local6);
            _local7 = (_local7 ^ (_local6 << 16));
            _local6 = (((_local7 >>> 4) ^ _local8) & 252645135);
            _local8 = (_local8 ^ _local6);
            _local7 = (_local7 ^ (_local6 << 4));
            _arg4[(_arg5 + 0)] = ((_local7 >>> 24) & 0xFF);
            _arg4[(_arg5 + 1)] = ((_local7 >>> 16) & 0xFF);
            _arg4[(_arg5 + 2)] = ((_local7 >>> 8) & 0xFF);
            _arg4[(_arg5 + 3)] = (_local7 & 0xFF);
            _arg4[(_arg5 + 4)] = ((_local8 >>> 24) & 0xFF);
            _arg4[(_arg5 + 5)] = ((_local8 >>> 16) & 0xFF);
            _arg4[(_arg5 + 6)] = ((_local8 >>> 8) & 0xFF);
            _arg4[(_arg5 + 7)] = (_local8 & 0xFF);
        }
        public function toString():String{
            return ("des");
        }

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;

    public class CTRMode extends IVMode implements IMode {

        public function CTRMode(_arg1:ISymmetricKey, _arg2:IPad=null){
            super(_arg1, _arg2);
        }
        public function encrypt(_arg1:ByteArray):void{
            padding.pad(_arg1);
            var _local2:ByteArray = getIV4e();
            this.core(_arg1, _local2);
        }
        public function decrypt(_arg1:ByteArray):void{
            var _local2:ByteArray = getIV4d();
            this.core(_arg1, _local2);
            padding.unpad(_arg1);
        }
        private function core(_arg1:ByteArray, _arg2:ByteArray):void{
            var _local6:uint;
            var _local3:ByteArray = new ByteArray();
            var _local4:ByteArray = new ByteArray();
            _local3.writeBytes(_arg2);
            var _local5:uint;
            while (_local5 < _arg1.length) {
                _local4.position = 0;
                _local4.writeBytes(_local3);
                key.encrypt(_local4);
                _local6 = 0;
                while (_local6 < blockSize) {
                    _arg1[(_local5 + _local6)] = (_arg1[(_local5 + _local6)] ^ _local4[_local6]);
                    _local6++;
                };
                _local6 = (blockSize - 1);
                while (_local6 >= 0) {
                    var _local7 = _local3;
                    var _local8 = _local6;
                    var _local9 = (_local7[_local8] + 1);
                    _local7[_local8] = _local9;
                    if (_local3[_local6] != 0){
                        break;
                    };
                    _local6--;
                };
                _local5 = (_local5 + blockSize);
            };
        }
        public function toString():String{
            return ((key.toString() + "-ctr"));
        }

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;
    import com.hurlant.util.*;

    public class TripleDESKey extends DESKey {

        protected var encKey2:Array;
        protected var encKey3:Array;
        protected var decKey2:Array;
        protected var decKey3:Array;

        public function TripleDESKey(_arg1:ByteArray){
            super(_arg1);
            this.encKey2 = generateWorkingKey(false, _arg1, 8);
            this.decKey2 = generateWorkingKey(true, _arg1, 8);
            if (_arg1.length > 16){
                this.encKey3 = generateWorkingKey(true, _arg1, 16);
                this.decKey3 = generateWorkingKey(false, _arg1, 16);
            } else {
                this.encKey3 = encKey;
                this.decKey3 = decKey;
            };
        }
        override public function dispose():void{
            super.dispose();
            var _local1:uint;
            if (this.encKey2 != null){
                _local1 = 0;
                while (_local1 < this.encKey2.length) {
                    this.encKey2[_local1] = 0;
                    _local1++;
                };
                this.encKey2 = null;
            };
            if (this.encKey3 != null){
                _local1 = 0;
                while (_local1 < this.encKey3.length) {
                    this.encKey3[_local1] = 0;
                    _local1++;
                };
                this.encKey3 = null;
            };
            if (this.decKey2 != null){
                _local1 = 0;
                while (_local1 < this.decKey2.length) {
                    this.decKey2[_local1] = 0;
                    _local1++;
                };
                this.decKey2 = null;
            };
            if (this.decKey3 != null){
                _local1 = 0;
                while (_local1 < this.decKey3.length) {
                    this.decKey3[_local1] = 0;
                    _local1++;
                };
                this.decKey3 = null;
            };
            Memory.gc();
        }
        override public function encrypt(_arg1:ByteArray, _arg2:uint=0):void{
            desFunc(encKey, _arg1, _arg2, _arg1, _arg2);
            desFunc(this.encKey2, _arg1, _arg2, _arg1, _arg2);
            desFunc(this.encKey3, _arg1, _arg2, _arg1, _arg2);
        }
        override public function decrypt(_arg1:ByteArray, _arg2:uint=0):void{
            desFunc(this.decKey3, _arg1, _arg2, _arg1, _arg2);
            desFunc(this.decKey2, _arg1, _arg2, _arg1, _arg2);
            desFunc(decKey, _arg1, _arg2, _arg1, _arg2);
        }
        override public function toString():String{
            return ("3des");
        }

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;

    public class CFBMode extends IVMode implements IMode {

        public function CFBMode(_arg1:ISymmetricKey, _arg2:IPad=null){
            super(_arg1, null);
        }
        public function encrypt(_arg1:ByteArray):void{
            var _local5:uint;
            var _local6:uint;
            var _local2:uint = _arg1.length;
            var _local3:ByteArray = getIV4e();
            var _local4:uint;
            while (_local4 < _arg1.length) {
                key.encrypt(_local3);
                _local5 = (((_local4 + blockSize))<_local2) ? blockSize : (_local2 - _local4);
                _local6 = 0;
                while (_local6 < _local5) {
                    _arg1[(_local4 + _local6)] = (_arg1[(_local4 + _local6)] ^ _local3[_local6]);
                    _local6++;
                };
                _local3.position = 0;
                _local3.writeBytes(_arg1, _local4, _local5);
                _local4 = (_local4 + blockSize);
            };
        }
        public function decrypt(_arg1:ByteArray):void{
            var _local6:uint;
            var _local7:uint;
            var _local2:uint = _arg1.length;
            var _local3:ByteArray = getIV4d();
            var _local4:ByteArray = new ByteArray();
            var _local5:uint;
            while (_local5 < _arg1.length) {
                key.encrypt(_local3);
                _local6 = (((_local5 + blockSize))<_local2) ? blockSize : (_local2 - _local5);
                _local4.position = 0;
                _local4.writeBytes(_arg1, _local5, _local6);
                _local7 = 0;
                while (_local7 < _local6) {
                    _arg1[(_local5 + _local7)] = (_arg1[(_local5 + _local7)] ^ _local3[_local7]);
                    _local7++;
                };
                _local3.position = 0;
                _local3.writeBytes(_local4);
                _local5 = (_local5 + blockSize);
            };
        }
        public function toString():String{
            return ((key.toString() + "-cfb"));
        }

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;
    import com.hurlant.crypto.prng.*;
    import com.hurlant.util.*;

    public class XTeaKey implements ISymmetricKey {

        public const NUM_ROUNDS:uint = 64;

        private var k:Array;

        public function XTeaKey(_arg1:ByteArray){
            _arg1.position = 0;
            this.k = [_arg1.readUnsignedInt(), _arg1.readUnsignedInt(), _arg1.readUnsignedInt(), _arg1.readUnsignedInt()];
        }
        public static function parseKey(_arg1:String):XTeaKey{
            var _local2:ByteArray = new ByteArray();
            _local2.writeUnsignedInt(parseInt(_arg1.substr(0, 8), 16));
            _local2.writeUnsignedInt(parseInt(_arg1.substr(8, 8), 16));
            _local2.writeUnsignedInt(parseInt(_arg1.substr(16, 8), 16));
            _local2.writeUnsignedInt(parseInt(_arg1.substr(24, 8), 16));
            _local2.position = 0;
            return (new XTeaKey(_local2));
        }

        public function getBlockSize():uint{
            return (8);
        }
        public function encrypt(_arg1:ByteArray, _arg2:uint=0):void{
            var _local5:uint;
            _arg1.position = _arg2;
            var _local3:uint = _arg1.readUnsignedInt();
            var _local4:uint = _arg1.readUnsignedInt();
            var _local6:uint;
            var _local7:uint = 2654435769;
            _local5 = 0;
            while (_local5 < this.NUM_ROUNDS) {
                _local3 = (_local3 + ((((_local4 << 4) ^ (_local4 >> 5)) + _local4) ^ (_local6 + this.k[(_local6 & 3)])));
                _local6 = (_local6 + _local7);
                _local4 = (_local4 + ((((_local3 << 4) ^ (_local3 >> 5)) + _local3) ^ (_local6 + this.k[((_local6 >> 11) & 3)])));
                _local5++;
            };
            _arg1.position = (_arg1.position - 8);
            _arg1.writeUnsignedInt(_local3);
            _arg1.writeUnsignedInt(_local4);
        }
        public function decrypt(_arg1:ByteArray, _arg2:uint=0):void{
            var _local5:uint;
            _arg1.position = _arg2;
            var _local3:uint = _arg1.readUnsignedInt();
            var _local4:uint = _arg1.readUnsignedInt();
            var _local6:uint = 2654435769;
            var _local7:uint = (_local6 * this.NUM_ROUNDS);
            _local5 = 0;
            while (_local5 < this.NUM_ROUNDS) {
                _local4 = (_local4 - ((((_local3 << 4) ^ (_local3 >> 5)) + _local3) ^ (_local7 + this.k[((_local7 >> 11) & 3)])));
                _local7 = (_local7 - _local6);
                _local3 = (_local3 - ((((_local4 << 4) ^ (_local4 >> 5)) + _local4) ^ (_local7 + this.k[(_local7 & 3)])));
                _local5++;
            };
            _arg1.position = (_arg1.position - 8);
            _arg1.writeUnsignedInt(_local3);
            _arg1.writeUnsignedInt(_local4);
        }
        public function dispose():void{
            var _local1:Random = new Random();
            var _local2:uint;
            while (_local2 < this.k.length) {
                this.k[_local2] = _local1.nextByte();
                delete this.k[_local2];
                _local2++;
            };
            this.k = null;
            Memory.gc();
        }
        public function toString():String{
            return ("xtea");
        }

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;

    public interface ISymmetricKey {

        function getBlockSize():uint;
        function encrypt(_arg1:ByteArray, _arg2:uint=0):void;
        function decrypt(_arg1:ByteArray, _arg2:uint=0):void;
        function dispose():void;
        function toString():String;

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;

    public interface IPad {

        function pad(_arg1:ByteArray):void;
        function unpad(_arg1:ByteArray):void;
        function setBlockSize(_arg1:uint):void;

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;
    import com.hurlant.crypto.tls.*;

    public class TLSPad implements IPad {

        private var blockSize:uint;

        public function TLSPad(_arg1:uint=0){
            this.blockSize = _arg1;
        }
        public function pad(_arg1:ByteArray):void{
            var _local2:uint = (this.blockSize - ((_arg1.length + 1) % this.blockSize));
            var _local3:uint;
            while (_local3 <= _local2) {
                _arg1[_arg1.length] = _local2;
                _local3++;
            };
        }
        public function unpad(_arg1:ByteArray):void{
            var _local4:uint;
            var _local2:uint = (_arg1.length % this.blockSize);
            if (_local2 != 0){
                throw (new TLSError("TLSPad::unpad: ByteArray.length isn't a multiple of the blockSize", TLSError.bad_record_mac));
            };
            _local2 = _arg1[(_arg1.length - 1)];
            var _local3:uint = _local2;
            while (_local3 > 0) {
                _local4 = _arg1[(_arg1.length - 1)];
                _arg1.length--;
                if (_local2 != _local4){
                    throw (new TLSError((((("TLSPad:unpad: Invalid padding value. expected [" + _local2) + "], found [") + _local4) + "]"), TLSError.bad_record_mac));
                };
                _local3--;
            };
            _arg1.length--;
        }
        public function setBlockSize(_arg1:uint):void{
            this.blockSize = _arg1;
        }

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;
    import com.hurlant.crypto.prng.*;
    import com.hurlant.util.*;

    public class IVMode {

        protected var key:ISymmetricKey;
        protected var padding:IPad;
        protected var prng:Random;
        protected var iv:ByteArray;
        protected var lastIV:ByteArray;
        protected var blockSize:uint;

        public function IVMode(_arg1:ISymmetricKey, _arg2:IPad=null){
            this.key = _arg1;
            this.blockSize = _arg1.getBlockSize();
            if (_arg2 == null){
                _arg2 = new PKCS5(this.blockSize);
            } else {
                _arg2.setBlockSize(this.blockSize);
            };
            this.padding = _arg2;
            this.prng = new Random();
            this.iv = null;
            this.lastIV = new ByteArray();
        }
        public function getBlockSize():uint{
            return (this.key.getBlockSize());
        }
        public function dispose():void{
            var _local1:uint;
            if (this.iv != null){
                _local1 = 0;
                while (_local1 < this.iv.length) {
                    this.iv[_local1] = this.prng.nextByte();
                    _local1++;
                };
                this.iv.length = 0;
                this.iv = null;
            };
            if (this.lastIV != null){
                _local1 = 0;
                while (_local1 < this.iv.length) {
                    this.lastIV[_local1] = this.prng.nextByte();
                    _local1++;
                };
                this.lastIV.length = 0;
                this.lastIV = null;
            };
            this.key.dispose();
            this.key = null;
            this.padding = null;
            this.prng.dispose();
            this.prng = null;
            Memory.gc();
        }
        public function set IV(_arg1:ByteArray):void{
            this.iv = _arg1;
            this.lastIV.length = 0;
            this.lastIV.writeBytes(this.iv);
        }
        public function get IV():ByteArray{
            return (this.lastIV);
        }
        protected function getIV4e():ByteArray{
            var _local1:ByteArray = new ByteArray();
            if (this.iv){
                _local1.writeBytes(this.iv);
            } else {
                this.prng.nextBytes(_local1, this.blockSize);
            };
            this.lastIV.length = 0;
            this.lastIV.writeBytes(_local1);
            return (_local1);
        }
        protected function getIV4d():ByteArray{
            var _local1:ByteArray = new ByteArray();
            if (this.iv){
                _local1.writeBytes(this.iv);
            } else {
                throw (new Error("an IV must be set before calling decrypt()"));
            };
            return (_local1);
        }

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {

    public interface IMode extends ICipher {

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;

    public interface ICipher {

        function getBlockSize():uint;
        function encrypt(_arg1:ByteArray):void;
        function decrypt(_arg1:ByteArray):void;
        function dispose():void;
        function toString():String;

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;

    public class PKCS5 implements IPad {

        private var blockSize:uint;

        public function PKCS5(_arg1:uint=0){
            this.blockSize = _arg1;
        }
        public function pad(_arg1:ByteArray):void{
            var _local2:uint = (this.blockSize - (_arg1.length % this.blockSize));
            var _local3:uint;
            while (_local3 < _local2) {
                _arg1[_arg1.length] = _local2;
                _local3++;
            };
        }
        public function unpad(_arg1:ByteArray):void{
            var _local4:uint;
            var _local2:uint = (_arg1.length % this.blockSize);
            if (_local2 != 0){
                throw (new Error("PKCS#5::unpad: ByteArray.length isn't a multiple of the blockSize"));
            };
            _local2 = _arg1[(_arg1.length - 1)];
            var _local3:uint = _local2;
            while (_local3 > 0) {
                _local4 = _arg1[(_arg1.length - 1)];
                _arg1.length--;
                if (_local2 != _local4){
                    throw (new Error((((("PKCS#5:unpad: Invalid padding value. expected [" + _local2) + "], found [") + _local4) + "]")));
                };
                _local3--;
            };
        }
        public function setBlockSize(_arg1:uint):void{
            this.blockSize = _arg1;
        }

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {

    public interface IStreamCipher extends ICipher {

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.symmetric {
    import flash.utils.*;
    import com.hurlant.util.*;

    public class BlowFishKey implements ISymmetricKey {

        private static const KP:Array = [608135816, 2242054355, 320440878, 57701188, 2752067618, 698298832, 137296536, 3964562569, 1160258022, 953160567, 3193202383, 887688300, 3232508343, 3380367581, 1065670069, 3041331479, 2450970073, 2306472731];
        private static const KS0:Array = [3509652390, 2564797868, 805139163, 3491422135, 3101798381, 1780907670, 3128725573, 4046225305, 614570311, 3012652279, 134345442, 2240740374, 1667834072, 1901547113, 2757295779, 4103290238, 227898511, 1921955416, 1904987480, 2182433518, 2069144605, 3260701109, 2620446009, 720527379, 3318853667, 677414384, 3393288472, 3101374703, 2390351024, 1614419982, 1822297739, 2954791486, 3608508353, 3174124327, 2024746970, 1432378464, 3864339955, 2857741204, 1464375394, 1676153920, 1439316330, 715854006, 3033291828, 289532110, 2706671279, 2087905683, 3018724369, 1668267050, 732546397, 1947742710, 3462151702, 2609353502, 2950085171, 1814351708, 2050118529, 680887927, 999245976, 1800124847, 3300911131, 1713906067, 1641548236, 4213287313, 1216130144, 1575780402, 4018429277, 3917837745, 3693486850, 3949271944, 596196993, 3549867205, 258830323, 2213823033, 772490370, 2760122372, 1774776394, 2652871518, 566650946, 4142492826, 1728879713, 2882767088, 1783734482, 3629395816, 2517608232, 2874225571, 1861159788, 326777828, 3124490320, 2130389656, 2716951837, 967770486, 1724537150, 2185432712, 2364442137, 1164943284, 2105845187, 998989502, 3765401048, 2244026483, 1075463327, 1455516326, 1322494562, 910128902, 469688178, 1117454909, 936433444, 3490320968, 3675253459, 1240580251, 122909385, 2157517691, 634681816, 4142456567, 3825094682, 3061402683, 2540495037, 79693498, 3249098678, 1084186820, 1583128258, 426386531, 1761308591, 1047286709, 322548459, 995290223, 1845252383, 2603652396, 3431023940, 2942221577, 3202600964, 3727903485, 1712269319, 422464435, 3234572375, 1170764815, 3523960633, 3117677531, 1434042557, 442511882, 0xD6A100C6, 1076654713, 1738483198, 4213154764, 2393238008, 3677496056, 1014306527, 4251020053, 793779912, 2902807211, 842905082, 4246964064, 1395751752, 0x3E00DF82, 2656851899, 3396308128, 445077038, 3742853595, 3577915638, 679411651, 2892444358, 2354009459, 1767581616, 3150600392, 3791627101, 3102740896, 284835224, 4246832056, 1258075500, 768725851, 2589189241, 3069724005, 3532540348, 1274779536, 3789419226, 2764799539, 1660621633, 3471099624, 4011903706, 913787905, 3497959166, 737222580, 2514213453, 2928710040, 3937242737, 1804850592, 3499020752, 2949064160, 2386320175, 2390070455, 2415321851, 4061277028, 0x8888B812, 2416832540, 1336762016, 1754252060, 3520065937, 3014181293, 791618072, 3188594551, 3933548030, 2332172193, 3852520463, 3043980520, 413987798, 3465142937, 3030929376, 4245938359, 2093235073, 3534596313, 375366246, 2157278981, 2479649556, 555357303, 3870105701, 2008414854, 3344188149, 4221384143, 3956125452, 2067696032, 3594591187, 2921233993, 2428461, 544322398, 0x226800BB, 1471733935, 610547355, 4027169054, 1432588573, 1507829418, 2025931657, 3646575487, 545086370, 48609733, 2200306550, 1653985193, 298326376, 1316178497, 3007786442, 2064951626, 0x1B510052, 2589141269, 3591329599, 3164325604, 727753846, 0x81E67400, 146436021, 1461446943, 4069977195, 705550613, 3059967265, 3887724982, 4281599278, 3313849956, 1404054877, 2845806497, 146425753, 1854211946];
        private static const KS1:Array = [1266315497, 3048417604, 3681880366, 3289982499, 2909710000, 1235738493, 2632868024, 2414719590, 3970600049, 1771706367, 1449415276, 3266420449, 422970021, 1963543593, 2690192192, 3826793022, 1062508698, 1531092325, 1804592342, 2583117782, 2714934279, 4024971509, 1294809318, 4028980673, 1289560198, 2221992742, 1669523910, 35572830, 157838143, 1052438473, 1016535060, 1802137761, 1753167236, 1386275462, 3080475397, 2857371447, 1040679964, 2145300060, 2390574316, 1461121720, 2956646967, 4031777805, 4028374788, 33600511, 2920084762, 1018524850, 629373528, 3691585981, 3515945977, 2091462646, 2486323059, 586499841, 988145025, 935516892, 3367335476, 2599673255, 2839830854, 265290510, 3972581182, 2759138881, 3795373465, 1005194799, 847297441, 406762289, 1314163512, 1332590856, 1866599683, 4127851711, 750260880, 613907577, 1450815602, 3165620655, 3734664991, 3650291728, 3012275730, 3704569646, 1427272223, 778793252, 1343938022, 2676280711, 2052605720, 1946737175, 3164576444, 3914038668, 3967478842, 3682934266, 1661551462, 3294938066, 4011595847, 840292616, 3712170807, 616741398, 312560963, 711312465, 0x50940002, 322626781, 1910503582, 271666773, 2175563734, 1594956187, 70604529, 3617834859, 1007753275, 1495573769, 4069517037, 2549218298, 2663038764, 504708206, 2263041392, 3941167025, 2249088522, 1514023603, 1998579484, 1312622330, 694541497, 2582060303, 2151582166, 1382467621, 776784248, 2618340202, 3323268794, 2497899128, 2784771155, 503983604, 4076293799, 907881277, 423175695, 432175456, 1378068232, 4145222326, 3954048622, 3938656102, 3820766613, 2793130115, 2977904593, 26017576, 3274890735, 3194772133, 1700274565, 1756076034, 4006520079, 3677328699, 720338349, 1533947780, 354530856, 688349552, 3973924725, 1637815568, 332179504, 3949051286, 53804574, 2852348879, 3044236432, 1282449977, 3583942155, 3416972820, 4006381244, 1617046695, 2628476075, 3002303598, 1686838959, 431878346, 2686675385, 1700445008, 1080580658, 1009431731, 832498133, 3223435511, 2605976345, 2271191193, 2516031870, 1648197032, 4164389018, 2548247927, 300782431, 375919233, 238389289, 3353747414, 2531188641, 2019080857, 1475708069, 455242339, 2609103871, 448939670, 3451063019, 1395535956, 2413381860, 1841049896, 1491858159, 885456874, 4264095073, 4001119347, 1565136089, 3898914787, 1108368660, 540939232, 1173283510, 2745871338, 3681308437, 4207628240, 3343053890, 4016749493, 1699691293, 1103962373, 3625875870, 2256883143, 3830138730, 1031889488, 3479347698, 1535977030, 4236805024, 3251091107, 2132092099, 1774941330, 1199868427, 1452454533, 157007616, 2904115357, 342012276, 0x23820E00, 1480756522, 206960106, 497939518, 591360097, 863170706, 2375253569, 3596610801, 1814182875, 2094937945, 3421402208, 1082520231, 3463918190, 2785509508, 435703966, 3908032597, 1641649973, 2842273706, 3305899714, 1510255612, 2148256476, 2655287854, 3276092548, 4258621189, 236887753, 3681803219, 274041037, 1734335097, 3815195456, 3317970021, 1899903192, 1026095262, 4050517792, 356393447, 2410691914, 3873677099, 3682840055];
        private static const KS2:Array = [3913112168, 2491498743, 4132185628, 2489919796, 1091903735, 1979897079, 3170134830, 0xD4A20068, 3557303409, 857797738, 1136121015, 0x500061AF, 507115054, 2535736646, 337727348, 3213592640, 1301675037, 2528481711, 1895095763, 1721773893, 3216771564, 62756741, 2142006736, 835421444, 2531993523, 1442658625, 3659876326, 2882144922, 676362277, 1392781812, 170690266, 3921047035, 1759253602, 0xD7486900, 1745797284, 664899054, 1329594018, 3901205900, 3045908486, 2062866102, 2865634940, 3543621612, 3464012697, 1080764994, 553557557, 3656615353, 3996768171, 991055499, 499776247, 1265440854, 648242737, 3940784050, 980351604, 3713745714, 1749149687, 3396870395, 4211799374, 3640570775, 1161844396, 3125318951, 1431517754, 545492359, 4268468663, 3499529547, 1437099964, 2702547544, 3433638243, 2581715763, 2787789398, 1060185593, 1593081372, 2418618748, 4260947970, 69676912, 2159744348, 86519011, 2512459080, 3838209314, 1220612927, 3339683548, 133810670, 1090789135, 1078426020, 1569222167, 845107691, 3583754449, 4072456591, 1091646820, 628848692, 1613405280, 3757631651, 526609435, 236106946, 48312990, 2942717905, 3402727701, 1797494240, 859738849, 992217954, 4005476642, 2243076622, 3870952857, 3732016268, 765654824, 3490871365, 2511836413, 1685915746, 3888969200, 1414112111, 2273134842, 3281911079, 4080962846, 172450625, 2569994100, 980381355, 4109958455, 2819808352, 2716589560, 2568741196, 3681446669, 3329971472, 1835478071, 660984891, 3704678404, 4045999559, 0xCC00FFA3, 3040415634, 1762651403, 1719377915, 3470491036, 2693910283, 3642056355, 3138596744, 1364962596, 2073328063, 1983633131, 926494387, 3423689081, 2150032023, 4096667949, 1749200295, 3328846651, 309677260, 2016342300, 1779581495, 3079819751, 111262694, 1274766160, 443224088, 298511866, 1025883608, 3806446537, 1145181785, 168956806, 3641502830, 3584813610, 1689216846, 3666258015, 3200248200, 1692713982, 2646376535, 4042768518, 1618508792, 1610833997, 3523052358, 4130873264, 2001055236, 3610705100, 2202168115, 4028541809, 2961195399, 0x3C005E5F, 2006996926, 3186142756, 1430667929, 3210227297, 1314452623, 4074634658, 4101304120, 2273951170, 1399257539, 3367210612, 3027628629, 1190975929, 2062231137, 2333990788, 2221543033, 2438960610, 1181637006, 548689776, 2362791313, 3372408396, 3104550113, 3145860560, 296247880, 1970579870, 3078560182, 3769228297, 1714227617, 3291629107, 3898220290, 166772364, 1251581989, 493813264, 448347421, 195405023, 2709975567, 677966185, 3703036547, 1463355134, 2715995803, 1338867538, 1343315457, 2802222074, 2684532164, 233230375, 2599980071, 2000651841, 3277868038, 1638401717, 4028070440, 3237316320, 6314154, 819756386, 300326615, 590932579, 1405279636, 3267499572, 3150704214, 2428286686, 3959192993, 3461946742, 1862657033, 1266418056, 963775037, 2089974820, 2263052895, 1917689273, 448879540, 3550394620, 3981727096, 150775221, 3627908307, 1303187396, 508620638, 2975983352, 2726630617, 1817252668, 1876281319, 1457606340, 908771278, 3720792119, 3617206836, 2455994898, 1729034894, 0x406000E0];
        private static const KS3:Array = [976866871, 3556439503, 2881648439, 1522871579, 1555064734, 1336096578, 3548522304, 2579274686, 3574697629, 3205460757, 3593280638, 0xC700C47B, 3079412587, 564236357, 2993598910, 1781952180, 1464380207, 3163844217, 3332601554, 1699332808, 1393555694, 1183702653, 3581086237, 1288719814, 691649499, 2847557200, 2895455976, 3193889540, 2717570544, 1781354906, 1676643554, 2592534050, 3230253752, 1126444790, 2770207658, 2633158820, 2210423226, 2615765581, 2414155088, 3127139286, 673620729, 2805611233, 1269405062, 4015350505, 3341807571, 4149409754, 1057255273, 2012875353, 2162469141, 2276492801, 2601117357, 993977747, 3918593370, 2654263191, 753973209, 36408145, 2530585658, 25011837, 3520020182, 2088578344, 530523599, 2918365339, 1524020338, 1518925132, 3760827505, 3759777254, 1202760957, 3985898139, 3906192525, 674977740, 4174734889, 2031300136, 2019492241, 3983892565, 4153806404, 3822280332, 352677332, 2297720250, 60907813, 90501309, 3286998549, 1016092578, 2535922412, 2839152426, 457141659, 509813237, 4120667899, 652014361, 1966332200, 2975202805, 55981186, 2327461051, 676427537, 3255491064, 2882294119, 3433927263, 1307055953, 942726286, 933058658, 2468411793, 3933900994, 4215176142, 1361170020, 2001714738, 2830558078, 3274259782, 1222529897, 1679025792, 2729314320, 3714953764, 1770335741, 151462246, 3013232138, 1682292957, 1483529935, 471910574, 1539241949, 458788160, 3436315007, 1807016891, 3718408830, 978976581, 1043663428, 3165965781, 1927990952, 4200891579, 2372276910, 3208408903, 3533431907, 1412390302, 2931980059, 4132332400, 1947078029, 3881505623, 4168226417, 2941484381, 1077988104, 1320477388, 886195818, 18198404, 3786409000, 2509781533, 112762804, 3463356488, 1866414978, 891333506, 18488651, 661792760, 1628790961, 3885187036, 3141171499, 876946877, 2693282273, 1372485963, 791857591, 2686433993, 3759982718, 3167212022, 3472953795, 2716379847, 445679433, 3561995674, 3504004811, 3574258232, 54117162, 3331405415, 2381918588, 3769707343, 4154350007, 1140177722, 4074052095, 668550556, 3214352940, 367459370, 261225585, 2610173221, 4209349473, 3468074219, 3265815641, 314222801, 3066103646, 3808782860, 282218597, 3406013506, 3773591054, 379116347, 1285071038, 846784868, 2669647154, 3771962079, 3550491691, 2305946142, 453669953, 1268987020, 3317592352, 3279303384, 3744833421, 2610507566, 3859509063, 266596637, 3847019092, 517658769, 3462560207, 3443424879, 370717030, 4247526661, 2224018117, 4143653529, 4112773975, 2788324899, 2477274417, 1456262402, 2901442914, 1517677493, 1846949527, 2295493580, 3734397586, 2176403920, 1280348187, 1908823572, 3871786941, 846861322, 1172426758, 3287448474, 3383383037, 0x62A80F00, 3139813346, 901632758, 1897031941, 2986607138, 3066810236, 3447102507, 1393639104, 373351379, 950779232, 625454576, 3124240540, 4148612726, 2007998917, 544563296, 2244738638, 2330496472, 2058025392, 1291430526, 424198748, 50039436, 29584100, 3605783033, 2429876329, 2791104160, 1057563949, 3255363231, 3075367218, 3463963227, 1469046755, 985887462];
        private static const ROUNDS:uint = 16;
        private static const BLOCK_SIZE:uint = 8;
        private static const SBOX_SK:uint = 0x0100;
        private static const P_SZ:uint = 18;

        private var S0:Array;
        private var S1:Array;
        private var S2:Array;
        private var S3:Array;
        private var P:Array;
        private var key:ByteArray = null;

        public function BlowFishKey(_arg1:ByteArray){
            this.key = _arg1;
            this.setKey(_arg1);
        }
        public function getBlockSize():uint{
            return (BLOCK_SIZE);
        }
        public function decrypt(_arg1:ByteArray, _arg2:uint=0):void{
            this.decryptBlock(_arg1, _arg2, _arg1, _arg2);
        }
        public function dispose():void{
            var _local1:uint;
            _local1 = 0;
            while (_local1 < this.S0.length) {
                this.S0[_local1] = 0;
                _local1++;
            };
            _local1 = 0;
            while (_local1 < this.S1.length) {
                this.S1[_local1] = 0;
                _local1++;
            };
            _local1 = 0;
            while (_local1 < this.S2.length) {
                this.S2[_local1] = 0;
                _local1++;
            };
            _local1 = 0;
            while (_local1 < this.S3.length) {
                this.S3[_local1] = 0;
                _local1++;
            };
            _local1 = 0;
            while (_local1 < this.P.length) {
                this.P[_local1] = 0;
                _local1++;
            };
            this.S0 = null;
            this.S1 = null;
            this.S2 = null;
            this.S3 = null;
            this.P = null;
            _local1 = 0;
            while (_local1 < this.key.length) {
                this.key[_local1] = 0;
                _local1++;
            };
            this.key.length = 0;
            this.key = null;
            Memory.gc();
        }
        public function encrypt(_arg1:ByteArray, _arg2:uint=0):void{
            this.encryptBlock(_arg1, _arg2, _arg1, _arg2);
        }
        private function F(_arg1:uint):uint{
            return ((((this.S0[(_arg1 >>> 24)] + this.S1[((_arg1 >>> 16) & 0xFF)]) ^ this.S2[((_arg1 >>> 8) & 0xFF)]) + this.S3[(_arg1 & 0xFF)]));
        }
        private function processTable(_arg1:uint, _arg2:uint, _arg3:Array):void{
            var _local6:uint;
            var _local4:uint = _arg3.length;
            var _local5:uint;
            while (_local5 < _local4) {
                _arg1 = (_arg1 ^ this.P[0]);
                _local6 = 1;
                while (_local6 < ROUNDS) {
                    _arg2 = (_arg2 ^ (this.F(_arg1) ^ this.P[_local6]));
                    _arg1 = (_arg1 ^ (this.F(_arg2) ^ this.P[(_local6 + 1)]));
                    _local6 = (_local6 + 2);
                };
                _arg2 = (_arg2 ^ this.P[(ROUNDS + 1)]);
                _arg3[_local5] = _arg2;
                _arg3[(_local5 + 1)] = _arg1;
                _arg2 = _arg1;
                _arg1 = _arg3[_local5];
                _local5 = (_local5 + 2);
            };
        }
        private function setKey(_arg1:ByteArray):void{
            var _local5:uint;
            var _local6:uint;
            this.S0 = KS0.concat();
            this.S1 = KS1.concat();
            this.S2 = KS2.concat();
            this.S3 = KS3.concat();
            this.P = KP.concat();
            var _local2:uint = _arg1.length;
            var _local3:uint;
            var _local4:uint;
            while (_local4 < P_SZ) {
                _local5 = 0;
                _local6 = 0;
                while (_local6 < 4) {
                    var _temp1 = _local3;
                    _local3 = (_local3 + 1);
                    _local5 = ((_local5 << 8) | (_arg1[_temp1] & 0xFF));
                    if (_local3 >= _local2){
                        _local3 = 0;
                    };
                    _local6++;
                };
                this.P[_local4] = (this.P[_local4] ^ _local5);
                _local4++;
            };
            this.processTable(0, 0, this.P);
            this.processTable(this.P[(P_SZ - 2)], this.P[(P_SZ - 1)], this.S0);
            this.processTable(this.S0[(SBOX_SK - 2)], this.S0[(SBOX_SK - 1)], this.S1);
            this.processTable(this.S1[(SBOX_SK - 2)], this.S1[(SBOX_SK - 1)], this.S2);
            this.processTable(this.S2[(SBOX_SK - 2)], this.S2[(SBOX_SK - 1)], this.S3);
        }
        private function encryptBlock(_arg1:ByteArray, _arg2:uint, _arg3:ByteArray, _arg4:uint):void{
            var _local5:uint = this.BytesTo32bits(_arg1, _arg2);
            var _local6:uint = this.BytesTo32bits(_arg1, (_arg2 + 4));
            _local5 = (_local5 ^ this.P[0]);
            var _local7:uint = 1;
            while (_local7 < ROUNDS) {
                _local6 = (_local6 ^ (this.F(_local5) ^ this.P[_local7]));
                _local5 = (_local5 ^ (this.F(_local6) ^ this.P[(_local7 + 1)]));
                _local7 = (_local7 + 2);
            };
            _local6 = (_local6 ^ this.P[(ROUNDS + 1)]);
            this.Bits32ToBytes(_local6, _arg3, _arg4);
            this.Bits32ToBytes(_local5, _arg3, (_arg4 + 4));
        }
        private function decryptBlock(_arg1:ByteArray, _arg2:uint, _arg3:ByteArray, _arg4:uint):void{
            var _local5:uint = this.BytesTo32bits(_arg1, _arg2);
            var _local6:uint = this.BytesTo32bits(_arg1, (_arg2 + 4));
            _local5 = (_local5 ^ this.P[(ROUNDS + 1)]);
            var _local7:uint = ROUNDS;
            while (_local7 > 0) {
                _local6 = (_local6 ^ (this.F(_local5) ^ this.P[_local7]));
                _local5 = (_local5 ^ (this.F(_local6) ^ this.P[(_local7 - 1)]));
                _local7 = (_local7 - 2);
            };
            _local6 = (_local6 ^ this.P[0]);
            this.Bits32ToBytes(_local6, _arg3, _arg4);
            this.Bits32ToBytes(_local5, _arg3, (_arg4 + 4));
        }
        private function BytesTo32bits(_arg1:ByteArray, _arg2:uint):uint{
            return ((((((_arg1[_arg2] & 0xFF) << 24) | ((_arg1[(_arg2 + 1)] & 0xFF) << 16)) | ((_arg1[(_arg2 + 2)] & 0xFF) << 8)) | (_arg1[(_arg2 + 3)] & 0xFF)));
        }
        private function Bits32ToBytes(_arg1:uint, _arg2:ByteArray, _arg3:uint):void{
            _arg2[(_arg3 + 3)] = _arg1;
            _arg2[(_arg3 + 2)] = (_arg1 >> 8);
            _arg2[(_arg3 + 1)] = (_arg1 >> 16);
            _arg2[_arg3] = (_arg1 >> 24);
        }
        public function toString():String{
            return ("blowfish");
        }

    }
}//package com.hurlant.crypto.symmetric 
﻿package com.hurlant.crypto.tls {

    public class KeyExchanges {

        public static const NULL:uint = 0;
        public static const RSA:uint = 1;
        public static const DH_DSS:uint = 2;
        public static const DH_RSA:uint = 3;
        public static const DHE_DSS:uint = 4;
        public static const DHE_RSA:uint = 5;
        public static const DH_anon:uint = 6;

        public static function useRSA(_arg1:uint):Boolean{
            return ((_arg1 == RSA));
        }

    }
}//package com.hurlant.crypto.tls 
﻿package com.hurlant.crypto.tls {
    import flash.utils.*;
    import com.hurlant.crypto.symmetric.*;
    import com.hurlant.crypto.*;

    public class BulkCiphers {

        public static const STREAM_CIPHER:uint = 0;
        public static const BLOCK_CIPHER:uint = 1;
        public static const NULL:uint = 0;
        public static const RC4_40:uint = 1;
        public static const RC4_128:uint = 2;
        public static const RC2_CBC_40:uint = 3;
        public static const DES_CBC:uint = 4;
        public static const DES3_EDE_CBC:uint = 5;
        public static const DES40_CBC:uint = 6;
        public static const IDEA_CBC:uint = 7;
        public static const AES_128:uint = 8;
        public static const AES_256:uint = 9;
        private static const algos:Array = ["", "rc4", "rc4", "", "des-cbc", "3des-cbc", "des-cbc", "", "aes", "aes"];

        private static var _props:Array;

        private var type:uint;
        private var keyBytes:uint;
        private var expandedKeyBytes:uint;
        private var effectiveKeyBits:uint;
        private var IVSize:uint;
        private var blockSize:uint;

        public function BulkCiphers(_arg1:uint, _arg2:uint, _arg3:uint, _arg4:uint, _arg5:uint, _arg6:uint){
            this.type = _arg1;
            this.keyBytes = _arg2;
            this.expandedKeyBytes = _arg3;
            this.effectiveKeyBits = _arg4;
            this.IVSize = _arg5;
            this.blockSize = _arg6;
        }
        private static function init():void{
            _props = [];
            _props[NULL] = new BulkCiphers(STREAM_CIPHER, 0, 0, 0, 0, 0);
            _props[RC4_40] = new BulkCiphers(STREAM_CIPHER, 5, 16, 40, 0, 0);
            _props[RC4_128] = new BulkCiphers(STREAM_CIPHER, 16, 16, 128, 0, 0);
            _props[RC2_CBC_40] = new BulkCiphers(BLOCK_CIPHER, 5, 16, 40, 8, 8);
            _props[DES_CBC] = new BulkCiphers(BLOCK_CIPHER, 8, 8, 56, 8, 8);
            _props[DES3_EDE_CBC] = new BulkCiphers(BLOCK_CIPHER, 24, 24, 168, 8, 8);
            _props[DES40_CBC] = new BulkCiphers(BLOCK_CIPHER, 5, 8, 40, 8, 8);
            _props[IDEA_CBC] = new BulkCiphers(BLOCK_CIPHER, 16, 16, 128, 8, 8);
            _props[AES_128] = new BulkCiphers(BLOCK_CIPHER, 16, 16, 128, 16, 16);
            _props[AES_256] = new BulkCiphers(BLOCK_CIPHER, 32, 32, 0x0100, 16, 16);
        }
        private static function getProp(_arg1:uint):BulkCiphers{
            var _local2:BulkCiphers = _props[_arg1];
            if (_local2 == null){
                throw (new Error(("Unknown bulk cipher " + _arg1.toString(16))));
            };
            return (_local2);
        }
        public static function getType(_arg1:uint):uint{
            return (getProp(_arg1).type);
        }
        public static function getKeyBytes(_arg1:uint):uint{
            return (getProp(_arg1).keyBytes);
        }
        public static function getExpandedKeyBytes(_arg1:uint):uint{
            return (getProp(_arg1).expandedKeyBytes);
        }
        public static function getEffectiveKeyBits(_arg1:uint):uint{
            return (getProp(_arg1).effectiveKeyBits);
        }
        public static function getIVSize(_arg1:uint):uint{
            return (getProp(_arg1).IVSize);
        }
        public static function getBlockSize(_arg1:uint):uint{
            return (getProp(_arg1).blockSize);
        }
        public static function getCipher(_arg1:uint, _arg2:ByteArray):ICipher{
            return (Crypto.getCipher(algos[_arg1], _arg2, new TLSPad()));
        }

        init();
    }
}//package com.hurlant.crypto.tls 
﻿package com.hurlant.crypto.tls {
    import flash.utils.*;
    import flash.events.*;
    import flash.net.*;

    public class TLSSocket extends EventDispatcher implements IDataInput, IDataOutput {

        private var _endian:String;
        private var _objectEncoding:uint;
        private var _iStream:ByteArray;
        private var _oStream:ByteArray;
        private var _iStream_cursor:uint;
        private var _socket:Socket;
        private var _engine:TLSEngine;
        private var _ready:Boolean;
        private var _writeScheduler:uint;

        public function TLSSocket(_arg1:String=null, _arg2:int=0, _arg3:TLSConfig=null){
            if (((!((_arg1 == null))) && (!((_arg2 == 0))))){
                this.connect(_arg1, _arg2, _arg3);
            };
        }
        public function get bytesAvailable():uint{
            return (this._iStream.bytesAvailable);
        }
        public function get connected():Boolean{
            return (this._socket.connected);
        }
        public function get endian():String{
            return (this._endian);
        }
        public function set endian(_arg1:String):void{
            this._endian = _arg1;
            this._iStream.endian = _arg1;
            this._oStream.endian = _arg1;
        }
        public function get objectEncoding():uint{
            return (this._objectEncoding);
        }
        public function set objectEncoding(_arg1:uint):void{
            this._objectEncoding = _arg1;
            this._iStream.objectEncoding = _arg1;
            this._oStream.objectEncoding = _arg1;
        }
        private function onTLSData(_arg1:TLSEvent):void{
            if (this._iStream.position == this._iStream.length){
                this._iStream.position = 0;
                this._iStream.length = 0;
                this._iStream_cursor = 0;
            };
            var _local2:uint = this._iStream.position;
            this._iStream.position = this._iStream_cursor;
            this._iStream.writeBytes(_arg1.data);
            this._iStream_cursor = this._iStream.position;
            this._iStream.position = _local2;
            dispatchEvent(new ProgressEvent(ProgressEvent.SOCKET_DATA, false, false, _arg1.data.length));
        }
        private function onTLSReady(_arg1:TLSEvent):void{
            this._ready = true;
            this.scheduleWrite();
        }
        private function onTLSClose(_arg1:Event):void{
            dispatchEvent(_arg1);
            this.close();
        }
        private function scheduleWrite():void{
            if (this._writeScheduler != 0){
                return;
            };
            this._writeScheduler = setTimeout(this.commitWrite, 0);
        }
        private function commitWrite():void{
            clearTimeout(this._writeScheduler);
            this._writeScheduler = 0;
            if (this._ready){
                this._engine.sendApplicationData(this._oStream);
                this._oStream.length = 0;
            };
        }
        public function close():void{
            this._ready = false;
            this._engine.close();
            this._socket.flush();
            this._socket.close();
        }
        public function connect(_arg1:String, _arg2:int, _arg3:TLSConfig=null):void{
            this.init(new Socket(), _arg3, _arg1);
            this._socket.connect(_arg1, _arg2);
            this._engine.start();
        }
        public function startTLS(_arg1:Socket, _arg2:String, _arg3:TLSConfig=null):void{
            if (!_arg1.connected){
                throw (new Error("Cannot STARTTLS on a socket that isn't connected."));
            };
            this.init(_arg1, _arg3, _arg2);
            this._engine.start();
        }
        private function init(_arg1:Socket, _arg2:TLSConfig, _arg3:String):void{
            var socket:* = _arg1;
            var config:* = _arg2;
            var host:* = _arg3;
            this._iStream = new ByteArray();
            this._oStream = new ByteArray();
            this._iStream_cursor = 0;
            this.objectEncoding = ObjectEncoding.DEFAULT;
            this.endian = Endian.BIG_ENDIAN;
            this._socket = socket;
            this._socket.addEventListener(Event.CONNECT, dispatchEvent);
            this._socket.addEventListener(IOErrorEvent.IO_ERROR, dispatchEvent);
            this._socket.addEventListener(SecurityErrorEvent.SECURITY_ERROR, dispatchEvent);
            this._socket.addEventListener(Event.CLOSE, dispatchEvent);
            if (config == null){
                config = new TLSConfig(TLSEngine.CLIENT);
            };
            this._engine = new TLSEngine(config, this._socket, this._socket, host);
            this._engine.addEventListener(TLSEvent.DATA, this.onTLSData);
            this._engine.addEventListener(TLSEvent.READY, this.onTLSReady);
            this._engine.addEventListener(Event.CLOSE, this.onTLSClose);
            this._engine.addEventListener(ProgressEvent.SOCKET_DATA, function (_arg1):void{
                _socket.flush();
            });
            this._socket.addEventListener(ProgressEvent.SOCKET_DATA, this._engine.dataAvailable);
            this._ready = false;
        }
        public function flush():void{
            this.commitWrite();
            this._socket.flush();
        }
        public function readBoolean():Boolean{
            return (this._iStream.readBoolean());
        }
        public function readByte():int{
            return (this._iStream.readByte());
        }
        public function readBytes(_arg1:ByteArray, _arg2:uint=0, _arg3:uint=0):void{
            return (this._iStream.readBytes(_arg1, _arg2, _arg3));
        }
        public function readDouble():Number{
            return (this._iStream.readDouble());
        }
        public function readFloat():Number{
            return (this._iStream.readFloat());
        }
        public function readInt():int{
            return (this._iStream.readInt());
        }
        public function readMultiByte(_arg1:uint, _arg2:String):String{
            return (this._iStream.readMultiByte(_arg1, _arg2));
        }
        public function readObject(){
            return (this._iStream.readObject());
        }
        public function readShort():int{
            return (this._iStream.readShort());
        }
        public function readUnsignedByte():uint{
            return (this._iStream.readUnsignedByte());
        }
        public function readUnsignedInt():uint{
            return (this._iStream.readUnsignedInt());
        }
        public function readUnsignedShort():uint{
            return (this._iStream.readUnsignedShort());
        }
        public function readUTF():String{
            return (this._iStream.readUTF());
        }
        public function readUTFBytes(_arg1:uint):String{
            return (this._iStream.readUTFBytes(_arg1));
        }
        public function writeBoolean(_arg1:Boolean):void{
            this._oStream.writeBoolean(_arg1);
            this.scheduleWrite();
        }
        public function writeByte(_arg1:int):void{
            this._oStream.writeByte(_arg1);
            this.scheduleWrite();
        }
        public function writeBytes(_arg1:ByteArray, _arg2:uint=0, _arg3:uint=0):void{
            this._oStream.writeBytes(_arg1, _arg2, _arg3);
            this.scheduleWrite();
        }
        public function writeDouble(_arg1:Number):void{
            this._oStream.writeDouble(_arg1);
            this.scheduleWrite();
        }
        public function writeFloat(_arg1:Number):void{
            this._oStream.writeFloat(_arg1);
            this.scheduleWrite();
        }
        public function writeInt(_arg1:int):void{
            this._oStream.writeInt(_arg1);
            this.scheduleWrite();
        }
        public function writeMultiByte(_arg1:String, _arg2:String):void{
            this._oStream.writeMultiByte(_arg1, _arg2);
            this.scheduleWrite();
        }
        public function writeObject(_arg1):void{
            this._oStream.writeObject(_arg1);
            this.scheduleWrite();
        }
        public function writeShort(_arg1:int):void{
            this._oStream.writeShort(_arg1);
            this.scheduleWrite();
        }
        public function writeUnsignedInt(_arg1:uint):void{
            this._oStream.writeUnsignedInt(_arg1);
            this.scheduleWrite();
        }
        public function writeUTF(_arg1:String):void{
            this._oStream.writeUTF(_arg1);
            this.scheduleWrite();
        }
        public function writeUTFBytes(_arg1:String):void{
            this._oStream.writeUTFBytes(_arg1);
            this.scheduleWrite();
        }

    }
}//package com.hurlant.crypto.tls 
﻿package com.hurlant.crypto.tls {
    import flash.utils.*;
    import com.hurlant.crypto.rsa.*;
    import com.hurlant.crypto.cert.*;
    import com.hurlant.util.der.*;

    public class TLSConfig {

        public var entity:uint;
        public var certificate:ByteArray;
        public var privateKey:RSAKey;
        public var cipherSuites:Array;
        public var compressions:Array;
        public var CAStore:X509CertificateCollection;

        public function TLSConfig(_arg1:uint, _arg2:Array=null, _arg3:Array=null, _arg4:ByteArray=null, _arg5:RSAKey=null, _arg6:X509CertificateCollection=null){
            this.entity = _arg1;
            this.cipherSuites = _arg2;
            this.compressions = _arg3;
            this.certificate = _arg4;
            this.privateKey = _arg5;
            this.CAStore = _arg6;
            if (_arg2 == null){
                this.cipherSuites = CipherSuites.getDefaultSuites();
            };
            if (_arg3 == null){
                this.compressions = [TLSSecurityParameters.COMPRESSION_NULL];
            };
            if (_arg6 == null){
                this.CAStore = new MozillaRootCertificates();
            };
        }
        public function setPEMCertificate(_arg1:String, _arg2:String=null):void{
            if (_arg2 == null){
                _arg2 = _arg1;
            };
            this.certificate = PEM.readCertIntoArray(_arg1);
            this.privateKey = PEM.readRSAPrivateKey(_arg2);
        }

    }
}//package com.hurlant.crypto.tls 
﻿package com.hurlant.crypto.tls {

    public class TLSError extends Error {

        public static const close_notify:uint = 0;
        public static const unexpected_message:uint = 10;
        public static const bad_record_mac:uint = 20;
        public static const decryption_failed:uint = 21;
        public static const record_overflow:uint = 22;
        public static const decompression_failure:uint = 30;
        public static const handshake_failure:uint = 40;
        public static const bad_certificate:uint = 42;
        public static const unsupported_certificate:uint = 43;
        public static const certificate_revoked:uint = 44;
        public static const certificate_expired:uint = 45;
        public static const certificate_unknown:uint = 46;
        public static const illegal_parameter:uint = 47;
        public static const unknown_ca:uint = 48;
        public static const access_denied:uint = 49;
        public static const decode_error:uint = 50;
        public static const decrypt_error:uint = 51;
        public static const protocol_version:uint = 70;
        public static const insufficient_security:uint = 71;
        public static const internal_error:uint = 80;
        public static const user_canceled:uint = 90;
        public static const no_renegotiation:uint = 100;

        public function TLSError(_arg1:String, _arg2:int){
            super(_arg1, _arg2);
        }
    }
}//package com.hurlant.crypto.tls 
﻿package com.hurlant.crypto.tls {

    public class CipherSuites {

        public static const TLS_NULL_WITH_NULL_NULL:uint = 0;
        public static const TLS_RSA_WITH_NULL_MD5:uint = 1;
        public static const TLS_RSA_WITH_NULL_SHA:uint = 2;
        public static const TLS_RSA_WITH_RC4_128_MD5:uint = 4;
        public static const TLS_RSA_WITH_RC4_128_SHA:uint = 5;
        public static const TLS_RSA_WITH_IDEA_CBC_SHA:uint = 7;
        public static const TLS_RSA_WITH_DES_CBC_SHA:uint = 9;
        public static const TLS_RSA_WITH_3DES_EDE_CBC_SHA:uint = 10;
        public static const TLS_DH_DSS_WITH_DES_CBC_SHA:uint = 12;
        public static const TLS_DH_DSS_WITH_3DES_EDE_CBC_SHA:uint = 13;
        public static const TLS_DH_RSA_WITH_DES_CBC_SHA:uint = 15;
        public static const TLS_DH_RSA_WITH_3DES_EDE_CBC_SHA:uint = 16;
        public static const TLS_DHE_DSS_WITH_DES_CBC_SHA:uint = 18;
        public static const TLS_DHE_DSS_WITH_3DES_EDE_CBC_SHA:uint = 19;
        public static const TLS_DHE_RSA_WITH_DES_CBC_SHA:uint = 21;
        public static const TLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA:uint = 22;
        public static const TLS_DH_anon_WITH_RC4_128_MD5:uint = 24;
        public static const TLS_DH_anon_WITH_DES_CBC_SHA:uint = 26;
        public static const TLS_DH_anon_WITH_3DES_EDE_CBC_SHA:uint = 27;
        public static const TLS_RSA_WITH_AES_128_CBC_SHA:uint = 47;
        public static const TLS_DH_DSS_WITH_AES_128_CBC_SHA:uint = 48;
        public static const TLS_DH_RSA_WITH_AES_128_CBC_SHA:uint = 49;
        public static const TLS_DHE_DSS_WITH_AES_128_CBC_SHA:uint = 50;
        public static const TLS_DHE_RSA_WITH_AES_128_CBC_SHA:uint = 51;
        public static const TLS_DH_anon_WITH_AES_128_CBC_SHA:uint = 52;
        public static const TLS_RSA_WITH_AES_256_CBC_SHA:uint = 53;
        public static const TLS_DH_DSS_WITH_AES_256_CBC_SHA:uint = 54;
        public static const TLS_DH_RSA_WITH_AES_256_CBC_SHA:uint = 55;
        public static const TLS_DHE_DSS_WITH_AES_256_CBC_SHA:uint = 56;
        public static const TLS_DHE_RSA_WITH_AES_256_CBC_SHA:uint = 57;
        public static const TLS_DH_anon_WITH_AES_256_CBC_SHA:uint = 58;

        private static var _props:Array;

        public var cipher:uint;
        public var hash:uint;
        public var key:uint;

        public function CipherSuites(_arg1:uint, _arg2:uint, _arg3:uint){
            this.cipher = _arg1;
            this.hash = _arg2;
            this.key = _arg3;
        }
        private static function init():void{
            _props = [];
            _props[TLS_NULL_WITH_NULL_NULL] = new CipherSuites(BulkCiphers.NULL, MACs.NULL, KeyExchanges.NULL);
            _props[TLS_RSA_WITH_NULL_MD5] = new CipherSuites(BulkCiphers.NULL, MACs.MD5, KeyExchanges.RSA);
            _props[TLS_RSA_WITH_NULL_SHA] = new CipherSuites(BulkCiphers.NULL, MACs.SHA1, KeyExchanges.RSA);
            _props[TLS_RSA_WITH_RC4_128_MD5] = new CipherSuites(BulkCiphers.RC4_128, MACs.MD5, KeyExchanges.RSA);
            _props[TLS_RSA_WITH_RC4_128_SHA] = new CipherSuites(BulkCiphers.RC4_128, MACs.SHA1, KeyExchanges.RSA);
            _props[TLS_RSA_WITH_DES_CBC_SHA] = new CipherSuites(BulkCiphers.DES_CBC, MACs.SHA1, KeyExchanges.RSA);
            _props[TLS_RSA_WITH_3DES_EDE_CBC_SHA] = new CipherSuites(BulkCiphers.DES3_EDE_CBC, MACs.SHA1, KeyExchanges.RSA);
            _props[TLS_RSA_WITH_AES_128_CBC_SHA] = new CipherSuites(BulkCiphers.AES_128, MACs.SHA1, KeyExchanges.RSA);
            _props[TLS_RSA_WITH_AES_256_CBC_SHA] = new CipherSuites(BulkCiphers.AES_256, MACs.SHA1, KeyExchanges.RSA);
        }
        private static function getProp(_arg1:uint):CipherSuites{
            var _local2:CipherSuites = _props[_arg1];
            if (_local2 == null){
                throw (new Error(("Unknown cipher " + _arg1.toString(16))));
            };
            return (_local2);
        }
        public static function getBulkCipher(_arg1:uint):uint{
            return (getProp(_arg1).cipher);
        }
        public static function getMac(_arg1:uint):uint{
            return (getProp(_arg1).hash);
        }
        public static function getKeyExchange(_arg1:uint):uint{
            return (getProp(_arg1).key);
        }
        public static function getDefaultSuites():Array{
            return ([TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_3DES_EDE_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_RC4_128_MD5, TLS_RSA_WITH_DES_CBC_SHA]);
        }

        init();
    }
}//package com.hurlant.crypto.tls 
﻿package com.hurlant.crypto.tls {
    import flash.utils.*;
    import flash.events.*;

    public class TLSEvent extends Event {

        public static const DATA:String = "data";
        public static const READY:String = "ready";

        public var data:ByteArray;

        public function TLSEvent(_arg1:String, _arg2:ByteArray=null){
            this.data = _arg2;
            super(_arg1, false, false);
        }
    }
}//package com.hurlant.crypto.tls 
﻿package com.hurlant.crypto.tls {
    import flash.utils.*;
    import com.hurlant.crypto.hash.*;
    import com.hurlant.crypto.symmetric.*;
    import com.hurlant.util.*;

    public class TLSConnectionState {

        private var bulkCipher:uint;
        private var cipherType:uint;
        private var CIPHER_key:ByteArray;
        private var CIPHER_IV:ByteArray;
        private var cipher:ICipher;
        private var ivmode:IVMode;
        private var macAlgorithm:uint;
        private var MAC_write_secret:ByteArray;
        private var hmac:HMAC;
        private var seq_lo:uint;
        private var seq_hi:uint;

        public function TLSConnectionState(_arg1:uint=0, _arg2:uint=0, _arg3:uint=0, _arg4:ByteArray=null, _arg5:ByteArray=null, _arg6:ByteArray=null){
            this.bulkCipher = _arg1;
            this.cipherType = _arg2;
            this.macAlgorithm = _arg3;
            this.MAC_write_secret = _arg4;
            this.hmac = MACs.getHMAC(_arg3);
            this.CIPHER_key = _arg5;
            this.CIPHER_IV = _arg6;
            this.cipher = BulkCiphers.getCipher(_arg1, _arg5);
            if ((this.cipher is IVMode)){
                this.ivmode = (this.cipher as IVMode);
                this.ivmode.IV = _arg6;
            };
        }
        public function decrypt(_arg1:uint, _arg2:uint, _arg3:ByteArray):ByteArray{
            var _local4:ByteArray;
            var _local5:ByteArray;
            var _local6:uint;
            var _local7:ByteArray;
            var _local8:ByteArray;
            if (this.cipherType == BulkCiphers.STREAM_CIPHER){
                if (this.bulkCipher == BulkCiphers.NULL){
                } else {
                    this.cipher.decrypt(_arg3);
                };
            } else {
                _local4 = new ByteArray();
                _local4.writeBytes(_arg3, (_arg3.length - this.CIPHER_IV.length), this.CIPHER_IV.length);
                this.cipher.decrypt(_arg3);
                this.CIPHER_IV = _local4;
                this.ivmode.IV = _local4;
            };
            if (this.macAlgorithm != MACs.NULL){
                _local5 = new ByteArray();
                _local6 = (_arg3.length - this.hmac.getHashSize());
                _local5.writeUnsignedInt(this.seq_hi);
                _local5.writeUnsignedInt(this.seq_lo);
                _local5.writeByte(_arg1);
                _local5.writeShort(TLSEngine.TLS_VERSION);
                _local5.writeShort(_local6);
                if (_local6 != 0){
                    _local5.writeBytes(_arg3, 0, _local6);
                };
                _local7 = this.hmac.compute(this.MAC_write_secret, _local5);
                _local8 = new ByteArray();
                _local8.writeBytes(_arg3, _local6, this.hmac.getHashSize());
                if (ArrayUtil.equals(_local7, _local8)){
                } else {
                    throw (new TLSError("Bad Mac Data", TLSError.bad_record_mac));
                };
                _arg3.length = _local6;
                _arg3.position = 0;
            };
            this.seq_lo++;
            if (this.seq_lo == 0){
                this.seq_hi++;
            };
            return (_arg3);
        }
        public function encrypt(_arg1:uint, _arg2:ByteArray):ByteArray{
            var _local4:ByteArray;
            var _local5:ByteArray;
            var _local3:ByteArray;
            if (this.macAlgorithm != MACs.NULL){
                _local4 = new ByteArray();
                _local4.writeUnsignedInt(this.seq_hi);
                _local4.writeUnsignedInt(this.seq_lo);
                _local4.writeByte(_arg1);
                _local4.writeShort(TLSEngine.TLS_VERSION);
                _local4.writeShort(_arg2.length);
                if (_arg2.length != 0){
                    _local4.writeBytes(_arg2, 0, _arg2.length);
                };
                _local3 = this.hmac.compute(this.MAC_write_secret, _local4);
                _arg2.position = _arg2.length;
                _arg2.writeBytes(_local3);
            };
            _arg2.position = 0;
            if (this.cipherType == BulkCiphers.STREAM_CIPHER){
                if (this.bulkCipher == BulkCiphers.NULL){
                } else {
                    this.cipher.encrypt(_arg2);
                };
            } else {
                this.cipher.encrypt(_arg2);
                _local5 = new ByteArray();
                _local5.writeBytes(_arg2, (_arg2.length - this.CIPHER_IV.length), this.CIPHER_IV.length);
                this.CIPHER_IV = _local5;
                this.ivmode.IV = _local5;
            };
            this.seq_lo++;
            if (this.seq_lo == 0){
                this.seq_hi++;
            };
            return (_arg2);
        }

    }
}//package com.hurlant.crypto.tls 
﻿package com.hurlant.crypto.tls {
    import com.hurlant.crypto.hash.*;
    import com.hurlant.crypto.*;

    public class MACs {

        public static const NULL:uint = 0;
        public static const MD5:uint = 1;
        public static const SHA1:uint = 2;

        public static function getHashSize(_arg1:uint):uint{
            return ([0, 16, 20][_arg1]);
        }
        public static function getHMAC(_arg1:uint):HMAC{
            if (_arg1 == NULL){
                return (null);
            };
            return (Crypto.getHMAC(["", "md5", "sha1"][_arg1]));
        }

    }
}//package com.hurlant.crypto.tls 
﻿package com.hurlant.crypto.tls {
    import flash.utils.*;
    import flash.events.*;
    import com.hurlant.crypto.cert.*;
    import com.hurlant.crypto.prng.*;
    import com.hurlant.util.*;

    public class TLSEngine extends EventDispatcher {

        public static const SERVER:uint = 0;
        public static const CLIENT:uint = 1;
        public static const TLS_VERSION:uint = 769;
        private static const PROTOCOL_HANDSHAKE:uint = 22;
        private static const PROTOCOL_ALERT:uint = 21;
        private static const PROTOCOL_CHANGE_CIPHER_SPEC:uint = 20;
        private static const PROTOCOL_APPLICATION_DATA:uint = 23;
        private static const STATE_NEW:uint = 0;
        private static const STATE_NEGOTIATING:uint = 1;
        private static const STATE_READY:uint = 2;
        private static const STATE_CLOSED:uint = 3;
        private static const HANDSHAKE_HELLO_REQUEST:uint = 0;
        private static const HANDSHAKE_CLIENT_HELLO:uint = 1;
        private static const HANDSHAKE_SERVER_HELLO:uint = 2;
        private static const HANDSHAKE_CERTIFICATE:uint = 11;
        private static const HANDSHAKE_SERVER_KEY_EXCHANGE:uint = 12;
        private static const HANDSHAKE_CERTIFICATE_REQUEST:uint = 13;
        private static const HANDSHAKE_HELLO_DONE:uint = 14;
        private static const HANDSHAKE_CERTIFICATE_VERIFY:uint = 15;
        private static const HANDSHAKE_CLIENT_KEY_EXCHANGE:uint = 16;
        private static const HANDSHAKE_FINISHED:uint = 20;

        private var _entity:uint;
        private var _config:TLSConfig;
        private var _state:uint;
        private var _securityParameters:TLSSecurityParameters;
        private var _currentReadState:TLSConnectionState;
        private var _currentWriteState:TLSConnectionState;
        private var _pendingReadState:TLSConnectionState;
        private var _pendingWriteState:TLSConnectionState;
        private var _handshakePayloads:ByteArray;
        private var _iStream:IDataInput;
        private var _oStream:IDataOutput;
        private var _store:X509CertificateCollection;
        private var _otherCertificate:X509Certificate;
        private var _otherIdentity:String;
        private var _packetQueue:Array;
        private var _writeScheduler:uint;

        public function TLSEngine(_arg1:TLSConfig, _arg2:IDataInput, _arg3:IDataOutput, _arg4:String=null){
            this._packetQueue = [];
            super();
            this._entity = _arg1.entity;
            this._config = _arg1;
            this._iStream = _arg2;
            this._oStream = _arg3;
            this._otherIdentity = _arg4;
            this._state = STATE_NEW;
            this._securityParameters = new TLSSecurityParameters(this._entity);
            var _local5:Object = this._securityParameters.getConnectionStates();
            this._currentReadState = _local5.read;
            this._currentWriteState = _local5.write;
            this._handshakePayloads = new ByteArray();
            this._store = new X509CertificateCollection();
        }
        public function start():void{
            if (this._entity == CLIENT){
                try {
                    this.startHandshake();
                } catch(e:TLSError) {
                    handleTLSError(e);
                };
            };
        }
        public function dataAvailable(_arg1=null):void{
            var e = _arg1;
            if (this._state == STATE_CLOSED){
                return;
            };
            try {
                this.parseRecord(this._iStream);
            } catch(e:TLSError) {
                handleTLSError(e);
            };
        }
        public function close(_arg1:TLSError=null):void{
            if (this._state == STATE_CLOSED){
                return;
            };
            var _local2:ByteArray = new ByteArray();
            if ((((_arg1 == null)) && (!((this._state == STATE_READY))))){
                _local2[0] = 1;
                _local2[1] = TLSError.user_canceled;
                this.sendRecord(PROTOCOL_ALERT, _local2);
            };
            _local2[0] = 2;
            if (_arg1 == null){
                _local2[1] = TLSError.close_notify;
            } else {
                _local2[1] = _arg1.errorID;
                trace(("TLSEngine shutdown triggered by " + _arg1));
            };
            this.sendRecord(PROTOCOL_ALERT, _local2);
            this._state = STATE_CLOSED;
            dispatchEvent(new Event(Event.CLOSE));
        }
        private function parseRecord(_arg1:IDataInput):void{
            var _local2:ByteArray;
            var _local3:uint;
            var _local4:uint;
            var _local5:uint;
            var _local6:uint;
            var _local7:Object;
            while (((!((this._state == STATE_CLOSED))) && ((_arg1.bytesAvailable > 4)))) {
                if (this._packetQueue.length > 0){
                    _local7 = this._packetQueue.shift();
                    _local2 = _local7.data;
                    if ((_arg1.bytesAvailable + _local2.length) >= _local7.length){
                        _arg1.readBytes(_local2, _local2.length, (_local7.length - _local2.length));
                        this.parseOneRecord(_local7.type, _local7.length, _local2);
                        continue;
                    };
                    _arg1.readBytes(_local2, _local2.length, _arg1.bytesAvailable);
                    this._packetQueue.push(_local7);
                } else {
                    _local3 = _arg1.readByte();
                    _local4 = _arg1.readShort();
                    _local5 = _arg1.readShort();
                    if (_local5 > (0x4000 + 0x0800)){
                        throw (new TLSError(("Excessive TLS Record length: " + _local5), TLSError.record_overflow));
                    };
                    if (_local4 != TLS_VERSION){
                        throw (new TLSError(("Unsupported TLS version: " + _local4.toString(16)), TLSError.protocol_version));
                    };
                    if (_arg1.bytesAvailable < _local5){
                    };
                    _local2 = new ByteArray();
                    _local6 = Math.min(_arg1.bytesAvailable, _local5);
                    _arg1.readBytes(_local2, 0, _local6);
                    if (_local6 == _local5){
                        this.parseOneRecord(_local3, _local5, _local2);
                    } else {
                        this._packetQueue.push({
                            type:_local3,
                            length:_local5,
                            data:_local2
                        });
                    };
                };
            };
        }
        private function parseOneRecord(_arg1:uint, _arg2:uint, _arg3:ByteArray):void{
            _arg3 = this._currentReadState.decrypt(_arg1, _arg2, _arg3);
            if (_arg3.length > 0x4000){
                throw (new TLSError(("Excessive Decrypted TLS Record length: " + _arg3.length), TLSError.record_overflow));
            };
            switch (_arg1){
                case PROTOCOL_APPLICATION_DATA:
                    if (this._state == STATE_READY){
                        this.parseApplicationData(_arg3);
                    } else {
                        throw (new TLSError("Too soon for data!", TLSError.unexpected_message));
                    };
                    break;
                case PROTOCOL_HANDSHAKE:
                    while (_arg3 != null) {
                        _arg3 = this.parseHandshake(_arg3);
                    };
                    break;
                case PROTOCOL_ALERT:
                    this.parseAlert(_arg3);
                    break;
                case PROTOCOL_CHANGE_CIPHER_SPEC:
                    this.parseChangeCipherSpec(_arg3);
                    break;
                default:
                    throw (new TLSError(("Unsupported TLS Record Content Type: " + _arg1.toString(16)), TLSError.unexpected_message));
            };
        }
        private function startHandshake():void{
            this._state = STATE_NEGOTIATING;
            this.sendClientHello();
        }
        private function parseHandshake(_arg1:ByteArray):ByteArray{
            var _local2:ByteArray;
            var _local3:uint;
            var _local4:uint;
            var _local5:uint;
            var _local6:Object;
            var _local7:uint;
            var _local8:Array;
            var _local9:ByteArray;
            var _local10:uint;
            var _local11:ByteArray;
            var _local12:ByteArray;
            if (_arg1.length < 4){
                trace("Handshake packet is way too short. bailing.");
                return (null);
            };
            _arg1.position = 0;
            _local2 = _arg1;
            _local3 = _local2.readUnsignedByte();
            _local4 = _local2.readUnsignedByte();
            _local5 = ((_local4 << 16) | _local2.readUnsignedShort());
            if ((_local5 + 4) > _arg1.length){
                trace("Handshake packet is incomplete. bailing.");
                return (null);
            };
            if (_arg1[0] != HANDSHAKE_FINISHED){
                this._handshakePayloads.writeBytes(_arg1, 0, (_local5 + 4));
            };
            switch (_local3){
                case HANDSHAKE_HELLO_REQUEST:
                    if (!this.enforceClient()){
                        break;
                    };
                    if (this._state != STATE_READY){
                        trace("Received an HELLO_REQUEST before being in state READY. ignoring.");
                        break;
                    };
                    this._handshakePayloads = new ByteArray();
                    this.startHandshake();
                    break;
                case HANDSHAKE_CLIENT_HELLO:
                    if (!this.enforceServer()){
                        break;
                    };
                    _local6 = this.parseHandshakeHello(_local3, _local5, _local2);
                    this.sendServerHello(_local6);
                    this.sendCertificate();
                    this.sendServerHelloDone();
                    break;
                case HANDSHAKE_SERVER_HELLO:
                    if (!this.enforceClient()){
                        break;
                    };
                    _local6 = this.parseHandshakeHello(_local3, _local5, _local2);
                    this._securityParameters.setCipher(_local6.suites[0]);
                    this._securityParameters.setCompression(_local6.compressions[0]);
                    this._securityParameters.setServerRandom(_local6.random);
                    break;
                case HANDSHAKE_CERTIFICATE:
                    _local4 = _local2.readByte();
                    _local7 = ((_local4 << 16) | _local2.readShort());
                    _local8 = [];
                    while (_local7 > 0) {
                        _local4 = _local2.readByte();
                        _local10 = ((_local4 << 16) | _local2.readShort());
                        _local11 = new ByteArray();
                        _local2.readBytes(_local11, 0, _local10);
                        _local8.push(_local11);
                        _local7 = (_local7 - (3 + _local10));
                    };
                    this.loadCertificates(_local8);
                    break;
                case HANDSHAKE_SERVER_KEY_EXCHANGE:
                    if (!this.enforceClient()){
                        break;
                    };
                    throw (new TLSError("Server Key Exchange Not Implemented", TLSError.internal_error));
                case HANDSHAKE_CERTIFICATE_REQUEST:
                    if (!this.enforceClient()){
                        break;
                    };
                    throw (new TLSError("Certificate Request Not Implemented", TLSError.internal_error));
                case HANDSHAKE_HELLO_DONE:
                    if (!this.enforceClient()){
                        break;
                    };
                    this.sendClientAck();
                    break;
                case HANDSHAKE_CLIENT_KEY_EXCHANGE:
                    if (!this.enforceServer()){
                        break;
                    };
                    this.parseHandshakeClientKeyExchange(_local3, _local5, _local2);
                    break;
                case HANDSHAKE_CERTIFICATE_VERIFY:
                    if (!this.enforceServer()){
                        break;
                    };
                    throw (new TLSError("Certificate Verify not implemented", TLSError.internal_error));
                case HANDSHAKE_FINISHED:
                    _local9 = new ByteArray();
                    _local2.readBytes(_local9, 0, 12);
                    this.verifyHandshake(_local9);
                    break;
            };
            if ((_local5 + 4) < _arg1.length){
                _local12 = new ByteArray();
                _local12.writeBytes(_arg1, (_local5 + 4), (_arg1.length - (_local5 + 4)));
                return (_local12);
            };
            return (null);
        }
        private function verifyHandshake(_arg1:ByteArray):void{
            var _local2:ByteArray = this._securityParameters.computeVerifyData((1 - this._entity), this._handshakePayloads);
            if (ArrayUtil.equals(_arg1, _local2)){
                this._state = STATE_READY;
                dispatchEvent(new TLSEvent(TLSEvent.READY));
            } else {
                throw (new TLSError("Invalid Finished mac.", TLSError.bad_record_mac));
            };
        }
        private function enforceClient():Boolean{
            if (this._entity == SERVER){
                trace("Invalid state for a TLS server.");
                return (false);
            };
            return (true);
        }
        private function enforceServer():Boolean{
            if (this._entity == CLIENT){
                trace("Invalid state for a TLS client.");
                return (false);
            };
            return (true);
        }
        private function parseHandshakeClientKeyExchange(_arg1:uint, _arg2:uint, _arg3:ByteArray):void{
            var _local4:uint;
            var _local5:ByteArray;
            var _local6:ByteArray;
            var _local7:Object;
            if (this._securityParameters.useRSA){
                _local4 = _arg3.readShort();
                _local5 = new ByteArray();
                _arg3.readBytes(_local5, 0, _local4);
                _local6 = new ByteArray();
                this._config.privateKey.decrypt(_local5, _local6, _local4);
                this._securityParameters.setPreMasterSecret(_local6);
                _local7 = this._securityParameters.getConnectionStates();
                this._pendingReadState = _local7.read;
                this._pendingWriteState = _local7.write;
            } else {
                throw (new TLSError("parseHandshakeClientKeyExchange not implemented for DH modes.", TLSError.internal_error));
            };
        }
        private function parseHandshakeHello(_arg1:uint, _arg2:uint, _arg3:IDataInput):Object{
            var _local4:Object;
            var _local11:uint;
            var _local12:uint;
            var _local13:uint;
            var _local14:uint;
            var _local15:Array;
            var _local16:uint;
            var _local17:uint;
            var _local18:uint;
            var _local19:ByteArray;
            var _local5:uint = _arg3.readShort();
            if (_local5 != TLS_VERSION){
                throw (new TLSError(("Unsupported TLS version: " + _local5.toString(16)), TLSError.protocol_version));
            };
            var _local6:ByteArray = new ByteArray();
            _arg3.readBytes(_local6, 0, 32);
            var _local7:uint = _arg3.readByte();
            var _local8:ByteArray = new ByteArray();
            if (_local8.length > 0){
                _arg3.readBytes(_local8, 0, _local7);
            };
            var _local9:Array = [];
            if (_arg1 == HANDSHAKE_CLIENT_HELLO){
                _local11 = _arg3.readShort();
                _local12 = 0;
                while (_local12 < (_local11 / 2)) {
                    _local9.push(_arg3.readShort());
                    _local12++;
                };
            } else {
                _local9.push(_arg3.readShort());
            };
            var _local10:Array = [];
            if (_arg1 == HANDSHAKE_CLIENT_HELLO){
                _local13 = _arg3.readByte();
                _local12 = 0;
                while (_local12 < _local13) {
                    _local10.push(_arg3.readByte());
                    _local12++;
                };
            } else {
                _local10.push(_arg3.readByte());
            };
            _local4 = {
                random:_local6,
                session:_local8,
                suites:_local9,
                compressions:_local10
            };
            if (_arg1 == HANDSHAKE_CLIENT_HELLO){
                _local14 = (((((((2 + 32) + 1) + _local7) + 2) + _local11) + 1) + _local13);
                _local15 = [];
                if (_local14 < _arg2){
                    _local16 = _arg3.readShort();
                    while (_local16 > 0) {
                        _local17 = _arg3.readShort();
                        _local18 = _arg3.readShort();
                        _local19 = new ByteArray();
                        _arg3.readBytes(_local19, 0, _local18);
                        _local16 = (_local16 - (4 + _local18));
                        _local15.push({
                            type:_local17,
                            length:_local18,
                            data:_local19
                        });
                    };
                };
                _local4.ext = _local15;
            };
            return (_local4);
        }
        private function sendClientHello():void{
            var _local1:ByteArray = new ByteArray();
            _local1.writeShort(TLS_VERSION);
            var _local2:Random = new Random();
            var _local3:ByteArray = new ByteArray();
            _local2.nextBytes(_local3, 32);
            this._securityParameters.setClientRandom(_local3);
            _local1.writeBytes(_local3, 0, 32);
            _local1.writeByte(32);
            _local2.nextBytes(_local1, 32);
            var _local4:Array = this._config.cipherSuites;
            _local1.writeShort((2 * _local4.length));
            var _local5:int;
            while (_local5 < _local4.length) {
                _local1.writeShort(_local4[_local5]);
                _local5++;
            };
            _local4 = this._config.compressions;
            _local1.writeByte(_local4.length);
            _local5 = 0;
            while (_local5 < _local4.length) {
                _local1.writeByte(_local4[_local5]);
                _local5++;
            };
            _local1.position = 0;
            this.sendHandshake(HANDSHAKE_CLIENT_HELLO, _local1.length, _local1);
        }
        private function findMatch(_arg1:Array, _arg2:Array):int{
            var _local4:uint;
            var _local3:int;
            while (_local3 < _arg1.length) {
                _local4 = _arg1[_local3];
                if (_arg2.indexOf(_local4) > -1){
                    return (_local4);
                };
                _local3++;
            };
            return (-1);
        }
        private function sendServerHello(_arg1:Object):void{
            var _local2:int = this.findMatch(this._config.cipherSuites, _arg1.suites);
            if (_local2 == -1){
                throw (new TLSError("No compatible cipher found.", TLSError.handshake_failure));
            };
            this._securityParameters.setCipher(_local2);
            var _local3:int = this.findMatch(this._config.compressions, _arg1.compressions);
            if (_local3 == 1){
                throw (new TLSError("No compatible compression method found.", TLSError.handshake_failure));
            };
            this._securityParameters.setCompression(_local3);
            this._securityParameters.setClientRandom(_arg1.random);
            var _local4:ByteArray = new ByteArray();
            _local4.writeShort(TLS_VERSION);
            var _local5:Random = new Random();
            var _local6:ByteArray = new ByteArray();
            _local5.nextBytes(_local6, 32);
            this._securityParameters.setServerRandom(_local6);
            _local4.writeBytes(_local6, 0, 32);
            _local4.writeByte(32);
            _local5.nextBytes(_local4, 32);
            _local4.writeShort(_arg1.suites[0]);
            _local4.writeByte(_arg1.compressions[0]);
            _local4.position = 0;
            this.sendHandshake(HANDSHAKE_SERVER_HELLO, _local4.length, _local4);
        }
        private function sendCertificate():void{
            var _local1:ByteArray = this._config.certificate;
            if (_local1 == null){
                return;
            };
            var _local2:uint = _local1.length;
            var _local3:uint = (_local2 + 3);
            var _local4:ByteArray = new ByteArray();
            _local4.writeByte((_local3 >> 16));
            _local4.writeShort((_local3 & 0xFFFF));
            _local4.writeByte((_local2 >> 16));
            _local4.writeShort((_local2 & 0xFFFF));
            _local4.writeBytes(_local1);
            _local4.position = 0;
            this.sendHandshake(HANDSHAKE_CERTIFICATE, _local4.length, _local4);
        }
        private function sendServerHelloDone():void{
            var _local1:ByteArray = new ByteArray();
            this.sendHandshake(HANDSHAKE_HELLO_DONE, _local1.length, _local1);
        }
        private function sendClientKeyExchange():void{
            var _local1:ByteArray;
            var _local2:Random;
            var _local3:ByteArray;
            var _local4:ByteArray;
            var _local5:ByteArray;
            var _local6:Object;
            if (this._securityParameters.useRSA){
                _local1 = new ByteArray();
                _local1.writeShort(TLS_VERSION);
                _local2 = new Random();
                _local2.nextBytes(_local1, 46);
                _local1.position = 0;
                _local3 = new ByteArray();
                _local3.writeBytes(_local1, 0, _local1.length);
                this._securityParameters.setPreMasterSecret(_local3);
                _local4 = new ByteArray();
                this._otherCertificate.getPublicKey().encrypt(_local1, _local4, _local1.length);
                _local5 = new ByteArray();
                _local5.writeShort(_local4.length);
                _local5.writeBytes(_local4, 0, _local4.length);
                _local5.position = 0;
                this.sendHandshake(HANDSHAKE_CLIENT_KEY_EXCHANGE, _local5.length, _local5);
                _local6 = this._securityParameters.getConnectionStates();
                this._pendingReadState = _local6.read;
                this._pendingWriteState = _local6.write;
            } else {
                throw (new TLSError("Non-RSA Client Key Exchange not implemented.", TLSError.internal_error));
            };
        }
        private function sendFinished():void{
            var _local1:ByteArray = this._securityParameters.computeVerifyData(this._entity, this._handshakePayloads);
            _local1.position = 0;
            this.sendHandshake(HANDSHAKE_FINISHED, _local1.length, _local1);
        }
        private function sendHandshake(_arg1:uint, _arg2:uint, _arg3:IDataInput):void{
            var _local4:ByteArray = new ByteArray();
            _local4.writeByte(_arg1);
            _local4.writeByte(0);
            _local4.writeShort(_arg2);
            _arg3.readBytes(_local4, _local4.position, _arg2);
            this._handshakePayloads.writeBytes(_local4, 0, _local4.length);
            this.sendRecord(PROTOCOL_HANDSHAKE, _local4);
        }
        private function sendChangeCipherSpec():void{
            var _local1:ByteArray = new ByteArray();
            _local1[0] = 1;
            this.sendRecord(PROTOCOL_CHANGE_CIPHER_SPEC, _local1);
            this._currentWriteState = this._pendingWriteState;
            this._pendingWriteState = null;
        }
        public function sendApplicationData(_arg1:ByteArray, _arg2:uint=0, _arg3:uint=0):void{
            var _local4:ByteArray = new ByteArray();
            var _local5:uint = _arg3;
            while (_local5 > 0x4000) {
                _local4.position = 0;
                _local4.writeBytes(_arg1, _arg2, 0x4000);
                _local4.position = 0;
                this.sendRecord(PROTOCOL_APPLICATION_DATA, _local4);
                _arg2 = (_arg2 + 0x4000);
                _local5 = (_local5 - 0x4000);
            };
            _local4.position = 0;
            _local4.writeBytes(_arg1, _arg2, _local5);
            _local4.position = 0;
            this.sendRecord(PROTOCOL_APPLICATION_DATA, _local4);
        }
        private function sendRecord(_arg1:uint, _arg2:ByteArray):void{
            _arg2 = this._currentWriteState.encrypt(_arg1, _arg2);
            this._oStream.writeByte(_arg1);
            this._oStream.writeShort(TLS_VERSION);
            this._oStream.writeShort(_arg2.length);
            this._oStream.writeBytes(_arg2, 0, _arg2.length);
            this.scheduleWrite();
        }
        private function scheduleWrite():void{
            if (this._writeScheduler != 0){
                return;
            };
            this._writeScheduler = setTimeout(this.commitWrite, 0);
        }
        private function commitWrite():void{
            clearTimeout(this._writeScheduler);
            this._writeScheduler = 0;
            if (this._state != STATE_CLOSED){
                dispatchEvent(new ProgressEvent(ProgressEvent.SOCKET_DATA));
            };
        }
        private function sendClientAck():void{
            this.sendClientKeyExchange();
            this.sendChangeCipherSpec();
            this.sendFinished();
        }
        private function loadCertificates(_arg1:Array):void{
            var _local4:X509Certificate;
            var _local2:X509Certificate;
            var _local3:int;
            while (_local3 < _arg1.length) {
                _local4 = new X509Certificate(_arg1[_local3]);
                this._store.addCertificate(_local4);
                if (_local2 == null){
                    _local2 = _local4;
                };
                _local3++;
            };
            if (_local2.isSigned(this._store, this._config.CAStore)){
                if (this._otherIdentity == null){
                    trace("TLS WARNING: No check made on the certificate's identity.");
                    this._otherCertificate = _local2;
                } else {
                    if (_local2.getCommonName() == this._otherIdentity){
                        this._otherCertificate = _local2;
                    } else {
                        throw (new TLSError(((("Invalid common name: " + _local2.getCommonName()) + ", expected ") + this._otherIdentity), TLSError.bad_certificate));
                    };
                };
            } else {
                throw (new TLSError("Cannot verify certificate", TLSError.bad_certificate));
            };
        }
        private function parseAlert(_arg1:ByteArray):void{
            trace(("GOT ALERT! type=" + _arg1[1]));
            this.close();
        }
        private function parseChangeCipherSpec(_arg1:ByteArray):void{
            _arg1.readUnsignedByte();
            if (this._pendingReadState == null){
                throw (new TLSError("Not ready to Change Cipher Spec, damnit.", TLSError.unexpected_message));
            };
            this._currentReadState = this._pendingReadState;
            this._pendingReadState = null;
        }
        private function parseApplicationData(_arg1:ByteArray):void{
            dispatchEvent(new TLSEvent(TLSEvent.DATA, _arg1));
        }
        private function handleTLSError(_arg1:TLSError):void{
            this.close(_arg1);
        }

    }
}//package com.hurlant.crypto.tls 
﻿package com.hurlant.crypto.tls {
    import flash.utils.*;
    import com.hurlant.crypto.prng.*;
    import com.hurlant.crypto.hash.*;

    public class TLSSecurityParameters {

        public static const COMPRESSION_NULL:uint = 0;

        private var entity:uint;
        private var bulkCipher:uint;
        private var cipherType:uint;
        private var keySize:uint;
        private var keyMaterialLength:uint;
        private var IVSize:uint;
        private var macAlgorithm:uint;
        private var hashSize:uint;
        private var compression:uint;
        private var masterSecret:ByteArray;
        private var clientRandom:ByteArray;
        private var serverRandom:ByteArray;
        public var keyExchange:uint;

        public function TLSSecurityParameters(_arg1:uint){
            this.entity = _arg1;
            this.reset();
        }
        public function reset():void{
            this.bulkCipher = BulkCiphers.NULL;
            this.cipherType = BulkCiphers.BLOCK_CIPHER;
            this.macAlgorithm = MACs.NULL;
            this.compression = COMPRESSION_NULL;
            this.masterSecret = null;
        }
        public function getBulkCipher():uint{
            return (this.bulkCipher);
        }
        public function getCipherType():uint{
            return (this.cipherType);
        }
        public function getMacAlgorithm():uint{
            return (this.macAlgorithm);
        }
        public function setCipher(_arg1:uint):void{
            this.bulkCipher = CipherSuites.getBulkCipher(_arg1);
            this.cipherType = BulkCiphers.getType(this.bulkCipher);
            this.keySize = BulkCiphers.getExpandedKeyBytes(this.bulkCipher);
            this.keyMaterialLength = BulkCiphers.getKeyBytes(this.bulkCipher);
            this.IVSize = BulkCiphers.getIVSize(this.bulkCipher);
            this.keyExchange = CipherSuites.getKeyExchange(_arg1);
            this.macAlgorithm = CipherSuites.getMac(_arg1);
            this.hashSize = MACs.getHashSize(this.macAlgorithm);
        }
        public function setCompression(_arg1:uint):void{
            this.compression = _arg1;
        }
        public function setPreMasterSecret(_arg1:ByteArray):void{
            var _local2:ByteArray = new ByteArray();
            _local2.writeBytes(this.clientRandom, 0, this.clientRandom.length);
            _local2.writeBytes(this.serverRandom, 0, this.serverRandom.length);
            var _local3:TLSPRF = new TLSPRF(_arg1, "master secret", _local2);
            this.masterSecret = new ByteArray();
            _local3.nextBytes(this.masterSecret, 48);
        }
        public function setClientRandom(_arg1:ByteArray):void{
            this.clientRandom = _arg1;
        }
        public function setServerRandom(_arg1:ByteArray):void{
            this.serverRandom = _arg1;
        }
        public function get useRSA():Boolean{
            return (KeyExchanges.useRSA(this.keyExchange));
        }
        public function computeVerifyData(_arg1:uint, _arg2:ByteArray):ByteArray{
            var _local3:ByteArray = new ByteArray();
            var _local4:MD5 = new MD5();
            _local3.writeBytes(_local4.hash(_arg2), 0, _local4.getHashSize());
            var _local5:SHA1 = new SHA1();
            _local3.writeBytes(_local5.hash(_arg2), 0, _local5.getHashSize());
            var _local6:TLSPRF = new TLSPRF(this.masterSecret, ((_arg1)==TLSEngine.CLIENT) ? "client finished" : "server finished", _local3);
            var _local7:ByteArray = new ByteArray();
            _local6.nextBytes(_local7, 12);
            return (_local7);
        }
        public function getConnectionStates():Object{
            var _local1:ByteArray;
            var _local2:TLSPRF;
            var _local3:ByteArray;
            var _local4:ByteArray;
            var _local5:ByteArray;
            var _local6:ByteArray;
            var _local7:ByteArray;
            var _local8:ByteArray;
            var _local9:TLSConnectionState;
            var _local10:TLSConnectionState;
            if (this.masterSecret != null){
                _local1 = new ByteArray();
                _local1.writeBytes(this.serverRandom, 0, this.serverRandom.length);
                _local1.writeBytes(this.clientRandom, 0, this.clientRandom.length);
                _local2 = new TLSPRF(this.masterSecret, "key expansion", _local1);
                _local3 = new ByteArray();
                _local2.nextBytes(_local3, this.hashSize);
                _local4 = new ByteArray();
                _local2.nextBytes(_local4, this.hashSize);
                _local5 = new ByteArray();
                _local2.nextBytes(_local5, this.keyMaterialLength);
                _local6 = new ByteArray();
                _local2.nextBytes(_local6, this.keyMaterialLength);
                _local7 = new ByteArray();
                _local2.nextBytes(_local7, this.IVSize);
                _local8 = new ByteArray();
                _local2.nextBytes(_local8, this.IVSize);
                _local9 = new TLSConnectionState(this.bulkCipher, this.cipherType, this.macAlgorithm, _local3, _local5, _local7);
                _local10 = new TLSConnectionState(this.bulkCipher, this.cipherType, this.macAlgorithm, _local4, _local6, _local8);
                if (this.entity == TLSEngine.CLIENT){
                    return ({
                        read:_local10,
                        write:_local9
                    });
                };
                return ({
                    read:_local9,
                    write:_local10
                });
            };
            return ({
                read:new TLSConnectionState(),
                write:new TLSConnectionState()
            });
        }

    }
}//package com.hurlant.crypto.tls 
﻿package com.hurlant.crypto.cert {

    public class MozillaRootCertificates extends X509CertificateCollection {

        public function MozillaRootCertificates(){
            super.addPEMCertificate("Verisign/RSA Secure Server CA", ("MF8xCzAJBgNVBAYTAlVTMSAwHgYDVQQKExdSU0EgRGF0YSBTZWN1cml0eSwgSW5jLjEuMCwGA1UE" + "CxMlU2VjdXJlIFNlcnZlciBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eQ=="), ((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIICNDCCAaECEAKtZn5ORf5eV288mBle3cAwDQYJKoZIhvcNAQECBQAwXzELMAkG\n") + "A1UEBhMCVVMxIDAeBgNVBAoTF1JTQSBEYXRhIFNlY3VyaXR5LCBJbmMuMS4wLAYD\n") + "VQQLEyVTZWN1cmUgU2VydmVyIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MB4XDTk0\n") + "MTEwOTAwMDAwMFoXDTEwMDEwNzIzNTk1OVowXzELMAkGA1UEBhMCVVMxIDAeBgNV\n") + "BAoTF1JTQSBEYXRhIFNlY3VyaXR5LCBJbmMuMS4wLAYDVQQLEyVTZWN1cmUgU2Vy\n") + "dmVyIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MIGbMA0GCSqGSIb3DQEBAQUAA4GJ\n") + "ADCBhQJ+AJLOesGugz5aqomDV6wlAXYMra6OLDfO6zV4ZFQD5YRAUcm/jwjiioII\n") + "0haGN1XpsSECrXZogZoFokvJSyVmIlZsiAeP94FZbYQHZXATcXY+m3dM41CJVphI\n") + "uR2nKRoTLkoRWZweFdVJVCxzOmmCsZc5nG1wZ0jl3S3WyB57AgMBAAEwDQYJKoZI\n") + "hvcNAQECBQADfgBl3X7hsuyw4jrg7HFGmhkRuNPHoLQDQCYCPgmc4RKz0Vr2N6W3\n") + "YQO2WxZpO8ZECAyIUwxrl0nHPjXcbLm7qt9cuzovk2C2qUtN8iD3zV9/ZHuO3ABc\n") + "1/p3yjkWWW8O6tO1g39NTUJWdrTJXwT4OPjr0l91X817/OWOgHz8UA==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("GTE CyberTrust Root CA", ("MEUxCzAJBgNVBAYTAlVTMRgwFgYDVQQKEw9HVEUgQ29ycG9yYXRpb24xHDAaBgNVBAMTE0dURSBD" + "eWJlclRydXN0IFJvb3Q="), (((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIB+jCCAWMCAgGjMA0GCSqGSIb3DQEBBAUAMEUxCzAJBgNVBAYTAlVTMRgwFgYD\n") + "VQQKEw9HVEUgQ29ycG9yYXRpb24xHDAaBgNVBAMTE0dURSBDeWJlclRydXN0IFJv\n") + "b3QwHhcNOTYwMjIzMjMwMTAwWhcNMDYwMjIzMjM1OTAwWjBFMQswCQYDVQQGEwJV\n") + "UzEYMBYGA1UEChMPR1RFIENvcnBvcmF0aW9uMRwwGgYDVQQDExNHVEUgQ3liZXJU\n") + "cnVzdCBSb290MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC45k+625h8cXyv\n") + "RLfTD0bZZOWTwUKOx7pJjTUteueLveUFMVnGsS8KDPufpz+iCWaEVh43KRuH6X4M\n") + "ypqfpX/1FZSj1aJGgthoTNE3FQZor734sLPwKfWVWgkWYXcKIiXUT0Wqx73llt/5\n") + "1KiOQswkwB6RJ0q1bQaAYznEol44AwIDAQABMA0GCSqGSIb3DQEBBAUAA4GBABKz\n") + "dcZfHeFhVYAA1IFLezEPI2PnPfMD+fQ2qLvZ46WXTeorKeDWanOB5sCJo9Px4KWl\n") + "IjeaY8JIILTbcuPI9tl8vrGvU9oUtCG41tWW4/5ODFlitppK+ULdjG+BqXH/9Apy\n") + "bW1EDp3zdHSo1TRJ6V6e6bR64eVaH4QwnNOfpSXY\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("GTE CyberTrust Global Root", (("MHUxCzAJBgNVBAYTAlVTMRgwFgYDVQQKEw9HVEUgQ29ycG9yYXRpb24xJzAlBgNVBAsTHkdURSBD" + "eWJlclRydXN0IFNvbHV0aW9ucywgSW5jLjEjMCEGA1UEAxMaR1RFIEN5YmVyVHJ1c3QgR2xvYmFs") + "IFJvb3Q="), (((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIICWjCCAcMCAgGlMA0GCSqGSIb3DQEBBAUAMHUxCzAJBgNVBAYTAlVTMRgwFgYD\n") + "VQQKEw9HVEUgQ29ycG9yYXRpb24xJzAlBgNVBAsTHkdURSBDeWJlclRydXN0IFNv\n") + "bHV0aW9ucywgSW5jLjEjMCEGA1UEAxMaR1RFIEN5YmVyVHJ1c3QgR2xvYmFsIFJv\n") + "b3QwHhcNOTgwODEzMDAyOTAwWhcNMTgwODEzMjM1OTAwWjB1MQswCQYDVQQGEwJV\n") + "UzEYMBYGA1UEChMPR1RFIENvcnBvcmF0aW9uMScwJQYDVQQLEx5HVEUgQ3liZXJU\n") + "cnVzdCBTb2x1dGlvbnMsIEluYy4xIzAhBgNVBAMTGkdURSBDeWJlclRydXN0IEds\n") + "b2JhbCBSb290MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCVD6C28FCc6HrH\n") + "iM3dFw4usJTQGz0O9pTAipTHBsiQl8i4ZBp6fmw8U+E3KHNgf7KXUwefU/ltWJTS\n") + "r41tiGeA5u2ylc9yMcqlHHK6XALnZELn+aks1joNrI1CqiQBOeacPwGFVw1Yh0X4\n") + "04Wqk2kmhXBIgD8SFcd5tB8FLztimQIDAQABMA0GCSqGSIb3DQEBBAUAA4GBAG3r\n") + "GwnpXtlR22ciYaQqPEh346B8pt5zohQDhT37qw4wxYMWM4ETCJ57NE7fQMh017l9\n") + "3PR2VX2bY1QY6fDq81yx2YtCHrnAlU66+tXifPVoYb+O7AWXX1uw16OFNMQkpw0P\n") + "lZPvy5TYnh+dXIVtx6quTx8itc2VrbqnzPmrC3p/\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Thawte Personal Basic CA", ((("MIHLMQswCQYDVQQGEwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRv" + "d24xGjAYBgNVBAoTEVRoYXd0ZSBDb25zdWx0aW5nMSgwJgYDVQQLEx9DZXJ0aWZpY2F0aW9uIFNl") + "cnZpY2VzIERpdmlzaW9uMSEwHwYDVQQDExhUaGF3dGUgUGVyc29uYWwgQmFzaWMgQ0ExKDAmBgkq") + "hkiG9w0BCQEWGXBlcnNvbmFsLWJhc2ljQHRoYXd0ZS5jb20="), (((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDITCCAoqgAwIBAgIBADANBgkqhkiG9w0BAQQFADCByzELMAkGA1UEBhMCWkEx\n") + "FTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMRowGAYD\n") + "VQQKExFUaGF3dGUgQ29uc3VsdGluZzEoMCYGA1UECxMfQ2VydGlmaWNhdGlvbiBT\n") + "ZXJ2aWNlcyBEaXZpc2lvbjEhMB8GA1UEAxMYVGhhd3RlIFBlcnNvbmFsIEJhc2lj\n") + "IENBMSgwJgYJKoZIhvcNAQkBFhlwZXJzb25hbC1iYXNpY0B0aGF3dGUuY29tMB4X\n") + "DTk2MDEwMTAwMDAwMFoXDTIwMTIzMTIzNTk1OVowgcsxCzAJBgNVBAYTAlpBMRUw\n") + "EwYDVQQIEwxXZXN0ZXJuIENhcGUxEjAQBgNVBAcTCUNhcGUgVG93bjEaMBgGA1UE\n") + "ChMRVGhhd3RlIENvbnN1bHRpbmcxKDAmBgNVBAsTH0NlcnRpZmljYXRpb24gU2Vy\n") + "dmljZXMgRGl2aXNpb24xITAfBgNVBAMTGFRoYXd0ZSBQZXJzb25hbCBCYXNpYyBD\n") + "QTEoMCYGCSqGSIb3DQEJARYZcGVyc29uYWwtYmFzaWNAdGhhd3RlLmNvbTCBnzAN\n") + "BgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEAvLyTU23AUE+CFeZIlDWmWr5vQvoPR+53\n") + "dXLdjUmbllegeNTKP1GzaQuRdhciB5dqxFGTS+CN7zeVoQxN2jSQHReJl+A1OFdK\n") + "wPQIcOk8RHtQfmGakOMj04gRRif1CwcOu93RfyAKiLlWCy4cgNrx454p7xS9CkT7\n") + "G1sY0b8jkyECAwEAAaMTMBEwDwYDVR0TAQH/BAUwAwEB/zANBgkqhkiG9w0BAQQF\n") + "AAOBgQAt4plrsD16iddZopQBHyvdEktTwq1/qqcAXJFAVyVKOKqEcLnZgA+le1z7\n") + "c8a914phXAPjLSeoF+CEhULcXpvGt7Jtu3Sv5D/Lp7ew4F2+eIMllNLbgQ95B21P\n") + "9DkVWlIBe94y1k049hJcBlDfBVu9FEuh3ym6O0GN92NWod8isQ==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Thawte Personal Premium CA", ((("MIHPMQswCQYDVQQGEwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRv" + "d24xGjAYBgNVBAoTEVRoYXd0ZSBDb25zdWx0aW5nMSgwJgYDVQQLEx9DZXJ0aWZpY2F0aW9uIFNl") + "cnZpY2VzIERpdmlzaW9uMSMwIQYDVQQDExpUaGF3dGUgUGVyc29uYWwgUHJlbWl1bSBDQTEqMCgG") + "CSqGSIb3DQEJARYbcGVyc29uYWwtcHJlbWl1bUB0aGF3dGUuY29t"), (((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDKTCCApKgAwIBAgIBADANBgkqhkiG9w0BAQQFADCBzzELMAkGA1UEBhMCWkEx\n") + "FTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMRowGAYD\n") + "VQQKExFUaGF3dGUgQ29uc3VsdGluZzEoMCYGA1UECxMfQ2VydGlmaWNhdGlvbiBT\n") + "ZXJ2aWNlcyBEaXZpc2lvbjEjMCEGA1UEAxMaVGhhd3RlIFBlcnNvbmFsIFByZW1p\n") + "dW0gQ0ExKjAoBgkqhkiG9w0BCQEWG3BlcnNvbmFsLXByZW1pdW1AdGhhd3RlLmNv\n") + "bTAeFw05NjAxMDEwMDAwMDBaFw0yMDEyMzEyMzU5NTlaMIHPMQswCQYDVQQGEwJa\n") + "QTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRvd24xGjAY\n") + "BgNVBAoTEVRoYXd0ZSBDb25zdWx0aW5nMSgwJgYDVQQLEx9DZXJ0aWZpY2F0aW9u\n") + "IFNlcnZpY2VzIERpdmlzaW9uMSMwIQYDVQQDExpUaGF3dGUgUGVyc29uYWwgUHJl\n") + "bWl1bSBDQTEqMCgGCSqGSIb3DQEJARYbcGVyc29uYWwtcHJlbWl1bUB0aGF3dGUu\n") + "Y29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDJZtn4B0TPuYwu8KHvE0Vs\n") + "Bd/eJxZRNkERbGw77f4QfRKe5ZtCmv5gMcNmt3M6SK5O0DI3lIi1DbbZ8/JE2dWI\n") + "Et12TfIa/G8jHnrx2JhFTgcQ7xZC0EN1bUre4qrJMf8fAHB8Zs8QJQi6+u4A6UYD\n") + "ZicRFTuqW/KY3TZCstqIdQIDAQABoxMwETAPBgNVHRMBAf8EBTADAQH/MA0GCSqG\n") + "SIb3DQEBBAUAA4GBAGk2ifc0KjNyL2071CKyuG+axTZmDhs8obF1Wub9NdP4qPIH\n") + "b4Vnjt4rueIXsDqg8A6iAJrf8xQVbrvIhVqYgPn/vnQdPfP+MCXRNzRn+qVxeTBh\n") + "KXLA4CxM+1bkOqhv5TJZUtt1KFBZDPgLGeSs2a+WjS9Q2wfD6h+rM+D1KzGJ\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Thawte Personal Freemail CA", ((("MIHRMQswCQYDVQQGEwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRv" + "d24xGjAYBgNVBAoTEVRoYXd0ZSBDb25zdWx0aW5nMSgwJgYDVQQLEx9DZXJ0aWZpY2F0aW9uIFNl") + "cnZpY2VzIERpdmlzaW9uMSQwIgYDVQQDExtUaGF3dGUgUGVyc29uYWwgRnJlZW1haWwgQ0ExKzAp") + "BgkqhkiG9w0BCQEWHHBlcnNvbmFsLWZyZWVtYWlsQHRoYXd0ZS5jb20="), ((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDLTCCApagAwIBAgIBADANBgkqhkiG9w0BAQQFADCB0TELMAkGA1UEBhMCWkEx\n") + "FTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMRowGAYD\n") + "VQQKExFUaGF3dGUgQ29uc3VsdGluZzEoMCYGA1UECxMfQ2VydGlmaWNhdGlvbiBT\n") + "ZXJ2aWNlcyBEaXZpc2lvbjEkMCIGA1UEAxMbVGhhd3RlIFBlcnNvbmFsIEZyZWVt\n") + "YWlsIENBMSswKQYJKoZIhvcNAQkBFhxwZXJzb25hbC1mcmVlbWFpbEB0aGF3dGUu\n") + "Y29tMB4XDTk2MDEwMTAwMDAwMFoXDTIwMTIzMTIzNTk1OVowgdExCzAJBgNVBAYT\n") + "AlpBMRUwEwYDVQQIEwxXZXN0ZXJuIENhcGUxEjAQBgNVBAcTCUNhcGUgVG93bjEa\n") + "MBgGA1UEChMRVGhhd3RlIENvbnN1bHRpbmcxKDAmBgNVBAsTH0NlcnRpZmljYXRp\n") + "b24gU2VydmljZXMgRGl2aXNpb24xJDAiBgNVBAMTG1RoYXd0ZSBQZXJzb25hbCBG\n") + "cmVlbWFpbCBDQTErMCkGCSqGSIb3DQEJARYccGVyc29uYWwtZnJlZW1haWxAdGhh\n") + "d3RlLmNvbTCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEA1GnX1LCUZFtx6UfY\n") + "DFG26nKRsIRefS0Nj3sS34UldSh0OkIsYyeflXtL734Zhx2G6qPduc6WZBrCFG5E\n") + "rHzmj+hND3EfQDimAKOHePb5lIZererAXnbr2RSjXW56fAylS1V/Bhkpf56aJtVq\n") + "uzgkCGqYx7Hao5iR/Xnb5VrEHLkCAwEAAaMTMBEwDwYDVR0TAQH/BAUwAwEB/zAN\n") + "BgkqhkiG9w0BAQQFAAOBgQDH7JJ+Tvj1lqVnYiqk8E0RYNBvjWBYYawmu1I1XAjP\n") + "MPuoSpaKH2JCI4wXD/S6ZJwXrEcp352YXtJsYHFcoqzceePnbgBHH7UNKOgCneSa\n") + "/RP0ptl8sfjcXyMmCZGAc9AUG95DqYMl8uacLxXK/qarigd1iwzdUYRr5PjRznei\n") + "gQ==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Thawte Server CA", ((("MIHEMQswCQYDVQQGEwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRv" + "d24xHTAbBgNVBAoTFFRoYXd0ZSBDb25zdWx0aW5nIGNjMSgwJgYDVQQLEx9DZXJ0aWZpY2F0aW9u") + "IFNlcnZpY2VzIERpdmlzaW9uMRkwFwYDVQQDExBUaGF3dGUgU2VydmVyIENBMSYwJAYJKoZIhvcN") + "AQkBFhdzZXJ2ZXItY2VydHNAdGhhd3RlLmNvbQ=="), (((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDEzCCAnygAwIBAgIBATANBgkqhkiG9w0BAQQFADCBxDELMAkGA1UEBhMCWkEx\n") + "FTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMR0wGwYD\n") + "VQQKExRUaGF3dGUgQ29uc3VsdGluZyBjYzEoMCYGA1UECxMfQ2VydGlmaWNhdGlv\n") + "biBTZXJ2aWNlcyBEaXZpc2lvbjEZMBcGA1UEAxMQVGhhd3RlIFNlcnZlciBDQTEm\n") + "MCQGCSqGSIb3DQEJARYXc2VydmVyLWNlcnRzQHRoYXd0ZS5jb20wHhcNOTYwODAx\n") + "MDAwMDAwWhcNMjAxMjMxMjM1OTU5WjCBxDELMAkGA1UEBhMCWkExFTATBgNVBAgT\n") + "DFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMR0wGwYDVQQKExRUaGF3\n") + "dGUgQ29uc3VsdGluZyBjYzEoMCYGA1UECxMfQ2VydGlmaWNhdGlvbiBTZXJ2aWNl\n") + "cyBEaXZpc2lvbjEZMBcGA1UEAxMQVGhhd3RlIFNlcnZlciBDQTEmMCQGCSqGSIb3\n") + "DQEJARYXc2VydmVyLWNlcnRzQHRoYXd0ZS5jb20wgZ8wDQYJKoZIhvcNAQEBBQAD\n") + "gY0AMIGJAoGBANOkUG7I/1Zr5s9dtuoMaHVHoqrC2oQl/Kj0R1HahbUgdJSGHg91\n") + "yekIYfUGbTBuFRkC6VLAYttNmZ7iagxEOM3+vuNkCXDF/rFrKbYvScg71CcEJRCX\n") + "L+eQbcAoQpnXTEPew/UhbVSfXcNY4cDk2VuwuNy0e982OsK1ZiIS1ocNAgMBAAGj\n") + "EzARMA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAB/pMaVz7lcxG\n") + "7oWDTSEwjsrZqG9JGubaUeNgcGyEYRGhGshIPllDfU+VPaGLtwtimHp1it2ITk6e\n") + "QNuozDJ0uW8NxuOzRAvZim+aKZuZGCg70eNAKJpaPNW15yAbi8qkq43pUdniTCxZ\n") + "qdq5snUb9kLy78fyGPmJvKP/iiMucEc=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Thawte Premium Server CA", ((("MIHOMQswCQYDVQQGEwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRv" + "d24xHTAbBgNVBAoTFFRoYXd0ZSBDb25zdWx0aW5nIGNjMSgwJgYDVQQLEx9DZXJ0aWZpY2F0aW9u") + "IFNlcnZpY2VzIERpdmlzaW9uMSEwHwYDVQQDExhUaGF3dGUgUHJlbWl1bSBTZXJ2ZXIgQ0ExKDAm") + "BgkqhkiG9w0BCQEWGXByZW1pdW0tc2VydmVyQHRoYXd0ZS5jb20="), (((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDJzCCApCgAwIBAgIBATANBgkqhkiG9w0BAQQFADCBzjELMAkGA1UEBhMCWkEx\n") + "FTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMR0wGwYD\n") + "VQQKExRUaGF3dGUgQ29uc3VsdGluZyBjYzEoMCYGA1UECxMfQ2VydGlmaWNhdGlv\n") + "biBTZXJ2aWNlcyBEaXZpc2lvbjEhMB8GA1UEAxMYVGhhd3RlIFByZW1pdW0gU2Vy\n") + "dmVyIENBMSgwJgYJKoZIhvcNAQkBFhlwcmVtaXVtLXNlcnZlckB0aGF3dGUuY29t\n") + "MB4XDTk2MDgwMTAwMDAwMFoXDTIwMTIzMTIzNTk1OVowgc4xCzAJBgNVBAYTAlpB\n") + "MRUwEwYDVQQIEwxXZXN0ZXJuIENhcGUxEjAQBgNVBAcTCUNhcGUgVG93bjEdMBsG\n") + "A1UEChMUVGhhd3RlIENvbnN1bHRpbmcgY2MxKDAmBgNVBAsTH0NlcnRpZmljYXRp\n") + "b24gU2VydmljZXMgRGl2aXNpb24xITAfBgNVBAMTGFRoYXd0ZSBQcmVtaXVtIFNl\n") + "cnZlciBDQTEoMCYGCSqGSIb3DQEJARYZcHJlbWl1bS1zZXJ2ZXJAdGhhd3RlLmNv\n") + "bTCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEA0jY2aovXwlue2oFBYo847kkE\n") + "VdbQ7xwblRZH7xhINTpS9CtqBo87L+pW46+GjZ4X9560ZXUCTe/LCaIhUdib0GfQ\n") + "ug2SBhRz1JPLlyoAnFxODLz6FVL88kRu2hFKbgifLy3j+ao6hnO2RlNYyIkFvYMR\n") + "uHM/qgeN9EJN50CdHDcCAwEAAaMTMBEwDwYDVR0TAQH/BAUwAwEB/zANBgkqhkiG\n") + "9w0BAQQFAAOBgQAmSCwWwlj66BZ0DKqqX1Q/8tfJeGBeXm43YyJ3Nn6yF8Q0ufUI\n") + "hfzJATj/Tb7yFkJD57taRvvBxhEf8UqwKEbJw8RCfbz6q1lu1bdRiBHjpIUZa4JM\n") + "pAwSremkrj/xw0llmozFyD4lt5SZu5IycQfwhl7tUCemDaYj+bvLpgcUQg==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Equifax Secure CA", ("ME4xCzAJBgNVBAYTAlVTMRAwDgYDVQQKEwdFcXVpZmF4MS0wKwYDVQQLEyRFcXVpZmF4IFNlY3Vy" + "ZSBDZXJ0aWZpY2F0ZSBBdXRob3JpdHk="), (((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDIDCCAomgAwIBAgIENd70zzANBgkqhkiG9w0BAQUFADBOMQswCQYDVQQGEwJV\n") + "UzEQMA4GA1UEChMHRXF1aWZheDEtMCsGA1UECxMkRXF1aWZheCBTZWN1cmUgQ2Vy\n") + "dGlmaWNhdGUgQXV0aG9yaXR5MB4XDTk4MDgyMjE2NDE1MVoXDTE4MDgyMjE2NDE1\n") + "MVowTjELMAkGA1UEBhMCVVMxEDAOBgNVBAoTB0VxdWlmYXgxLTArBgNVBAsTJEVx\n") + "dWlmYXggU2VjdXJlIENlcnRpZmljYXRlIEF1dGhvcml0eTCBnzANBgkqhkiG9w0B\n") + "AQEFAAOBjQAwgYkCgYEAwV2xWGcIYu6gmi0fCG2RFGiYCh7+2gRvE4RiIcPRfM6f\n") + "BeC4AfBONOziipUEZKzxa1NfBbPLZ4C/QgKO/t0BCezhABRP/PvwDN1Dulsr4R+A\n") + "cJkVV5MW8Q+XarfCaCMczE1ZMKxRHjuvK9buY0V7xdlfUNLjUA86iOe/FP3gx7kC\n") + "AwEAAaOCAQkwggEFMHAGA1UdHwRpMGcwZaBjoGGkXzBdMQswCQYDVQQGEwJVUzEQ\n") + "MA4GA1UEChMHRXF1aWZheDEtMCsGA1UECxMkRXF1aWZheCBTZWN1cmUgQ2VydGlm\n") + "aWNhdGUgQXV0aG9yaXR5MQ0wCwYDVQQDEwRDUkwxMBoGA1UdEAQTMBGBDzIwMTgw\n") + "ODIyMTY0MTUxWjALBgNVHQ8EBAMCAQYwHwYDVR0jBBgwFoAUSOZo+SvSspXXR9gj\n") + "IBBPM5iQn9QwHQYDVR0OBBYEFEjmaPkr0rKV10fYIyAQTzOYkJ/UMAwGA1UdEwQF\n") + "MAMBAf8wGgYJKoZIhvZ9B0EABA0wCxsFVjMuMGMDAgbAMA0GCSqGSIb3DQEBBQUA\n") + "A4GBAFjOKer89961zgK5F7WF0bnj4JXMJTENAKaSbn+2kmOeUJXRmm/kEd5jhW6Y\n") + "7qj/WsjTVbJmcVfewCHrPSqnI0kBBIZCe/zuf6IWUrVnZ9NA2zsmWLIodz2uFHdh\n") + "1voqZiegDfqnc1zqcPGUIWVEX/r87yloqaKHee9570+sB3c4\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("ABAecom (sub., Am. Bankers Assn.) Root CA", (("MIGJMQswCQYDVQQGEwJVUzELMAkGA1UECBMCREMxEzARBgNVBAcTCldhc2hpbmd0b24xFzAVBgNV" + "BAoTDkFCQS5FQ09NLCBJTkMuMRkwFwYDVQQDExBBQkEuRUNPTSBSb290IENBMSQwIgYJKoZIhvcN") + "AQkBFhVhZG1pbkBkaWdzaWd0cnVzdC5jb20="), ((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDtTCCAp2gAwIBAgIRANAeQJAAAEZSAAAAAQAAAAQwDQYJKoZIhvcNAQEFBQAw\n") + "gYkxCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJEQzETMBEGA1UEBxMKV2FzaGluZ3Rv\n") + "bjEXMBUGA1UEChMOQUJBLkVDT00sIElOQy4xGTAXBgNVBAMTEEFCQS5FQ09NIFJv\n") + "b3QgQ0ExJDAiBgkqhkiG9w0BCQEWFWFkbWluQGRpZ3NpZ3RydXN0LmNvbTAeFw05\n") + "OTA3MTIxNzMzNTNaFw0wOTA3MDkxNzMzNTNaMIGJMQswCQYDVQQGEwJVUzELMAkG\n") + "A1UECBMCREMxEzARBgNVBAcTCldhc2hpbmd0b24xFzAVBgNVBAoTDkFCQS5FQ09N\n") + "LCBJTkMuMRkwFwYDVQQDExBBQkEuRUNPTSBSb290IENBMSQwIgYJKoZIhvcNAQkB\n") + "FhVhZG1pbkBkaWdzaWd0cnVzdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw\n") + "ggEKAoIBAQCx0xHgeVVDBwhMywVCAOINg0Y95JO6tgbTDVm9PsHOQ2cBiiGo77zM\n") + "0KLMsFWWU4RmBQDaREmA2FQKpSWGlO1jVv9wbKOhGdJ4vmgqRF4vz8wYXke8OrFG\n") + "PR7wuSw0X4x8TAgpnUBV6zx9g9618PeKgw6hTLQ6pbNfWiKX7BmbwQVo/ea3qZGU\n") + "LOR4SCQaJRk665WcOQqKz0Ky8BzVX/tr7WhWezkscjiw7pOp03t3POtxA6k4ShZs\n") + "iSrK2jMTecJVjO2cu/LLWxD4LmE1xilMKtAqY9FlWbT4zfn0AIS2V0KFnTKo+SpU\n") + "+/94Qby9cSj0u5C8/5Y0BONFnqFGKECBAgMBAAGjFjAUMBIGA1UdEwEB/wQIMAYB\n") + "Af8CAQgwDQYJKoZIhvcNAQEFBQADggEBAARvJYbk5pYntNlCwNDJALF/VD6Hsm0k\n") + "qS8Kfv2kRLD4VAe9G52dyntQJHsRW0mjpr8SdNWJt7cvmGQlFLdh6X9ggGvTZOir\n") + "vRrWUfrAtF13Gn9kCF55xgVM8XrdTX3O5kh7VNJhkoHWG9YA8A6eKHegTYjHInYZ\n") + "w8eeG6Z3ePhfm1bR8PIXrI6dWeYf/le22V7hXZ9F7GFoGUHhsiAm/lowdiT/QHI8\n") + "eZ98IkirRs3bs4Ysj78FQdPB4xTjQRcm0HyncUwZ6EoPclgxfexgeqMiKL0ZJGA/\n") + "O4dzwGvky663qyVDslUte6sGDnVdNOVdc22esnVApVnJTzFxiNmIf1Q=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Digital Signature Trust Co. Global CA 1", ("MEYxCzAJBgNVBAYTAlVTMSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xETAP" + "BgNVBAsTCERTVENBIEUx"), (((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDKTCCApKgAwIBAgIENnAVljANBgkqhkiG9w0BAQUFADBGMQswCQYDVQQGEwJV\n") + "UzEkMCIGA1UEChMbRGlnaXRhbCBTaWduYXR1cmUgVHJ1c3QgQ28uMREwDwYDVQQL\n") + "EwhEU1RDQSBFMTAeFw05ODEyMTAxODEwMjNaFw0xODEyMTAxODQwMjNaMEYxCzAJ\n") + "BgNVBAYTAlVTMSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4x\n") + "ETAPBgNVBAsTCERTVENBIEUxMIGdMA0GCSqGSIb3DQEBAQUAA4GLADCBhwKBgQCg\n") + "bIGpzzQeJN3+hijM3oMv+V7UQtLodGBmE5gGHKlREmlvMVW5SXIACH7TpWJENySZ\n") + "j9mDSI+ZbZUTu0M7LklOiDfBu1h//uG9+LthzfNHwJmm8fOR6Hh8AMthyUQncWlV\n") + "Sn5JTe2io74CTADKAqjuAQIxZA9SLRN0dja1erQtcQIBA6OCASQwggEgMBEGCWCG\n") + "SAGG+EIBAQQEAwIABzBoBgNVHR8EYTBfMF2gW6BZpFcwVTELMAkGA1UEBhMCVVMx\n") + "JDAiBgNVBAoTG0RpZ2l0YWwgU2lnbmF0dXJlIFRydXN0IENvLjERMA8GA1UECxMI\n") + "RFNUQ0EgRTExDTALBgNVBAMTBENSTDEwKwYDVR0QBCQwIoAPMTk5ODEyMTAxODEw\n") + "MjNagQ8yMDE4MTIxMDE4MTAyM1owCwYDVR0PBAQDAgEGMB8GA1UdIwQYMBaAFGp5\n") + "fpFpRhgTCgJ3pVlbYJglDqL4MB0GA1UdDgQWBBRqeX6RaUYYEwoCd6VZW2CYJQ6i\n") + "+DAMBgNVHRMEBTADAQH/MBkGCSqGSIb2fQdBAAQMMAobBFY0LjADAgSQMA0GCSqG\n") + "SIb3DQEBBQUAA4GBACIS2Hod3IEGtgllsofIH160L+nEHvI8wbsEkBFKg05+k7lN\n") + "QseSJqBcNJo4cvj9axY+IO6CizEqkzaFI4iKPANo08kJD038bKTaKHKTDomAsH3+\n") + "gG9lbRgzl4vCa4nuYD3Im+9/KzJic5PLPON74nZ4RbyhkwS7hp86W0N6w4pl\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Digital Signature Trust Co. Global CA 3", ("MEYxCzAJBgNVBAYTAlVTMSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xETAP" + "BgNVBAsTCERTVENBIEUy"), (((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDKTCCApKgAwIBAgIENm7TzjANBgkqhkiG9w0BAQUFADBGMQswCQYDVQQGEwJV\n") + "UzEkMCIGA1UEChMbRGlnaXRhbCBTaWduYXR1cmUgVHJ1c3QgQ28uMREwDwYDVQQL\n") + "EwhEU1RDQSBFMjAeFw05ODEyMDkxOTE3MjZaFw0xODEyMDkxOTQ3MjZaMEYxCzAJ\n") + "BgNVBAYTAlVTMSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4x\n") + "ETAPBgNVBAsTCERTVENBIEUyMIGdMA0GCSqGSIb3DQEBAQUAA4GLADCBhwKBgQC/\n") + "k48Xku8zExjrEH9OFr//Bo8qhbxe+SSmJIi2A7fBw18DW9Fvrn5C6mYjuGODVvso\n") + "LeE4i7TuqAHhzhy2iCoiRoX7n6dwqUcUP87eZfCocfdPJmyMvMa1795JJ/9IKn3o\n") + "TQPMx7JSxhcxEzu1TdvIxPbDDyQq2gyd55FbgM2UnQIBA6OCASQwggEgMBEGCWCG\n") + "SAGG+EIBAQQEAwIABzBoBgNVHR8EYTBfMF2gW6BZpFcwVTELMAkGA1UEBhMCVVMx\n") + "JDAiBgNVBAoTG0RpZ2l0YWwgU2lnbmF0dXJlIFRydXN0IENvLjERMA8GA1UECxMI\n") + "RFNUQ0EgRTIxDTALBgNVBAMTBENSTDEwKwYDVR0QBCQwIoAPMTk5ODEyMDkxOTE3\n") + "MjZagQ8yMDE4MTIwOTE5MTcyNlowCwYDVR0PBAQDAgEGMB8GA1UdIwQYMBaAFB6C\n") + "TShlgDzJQW6sNS5ay97u+DlbMB0GA1UdDgQWBBQegk0oZYA8yUFurDUuWsve7vg5\n") + "WzAMBgNVHRMEBTADAQH/MBkGCSqGSIb2fQdBAAQMMAobBFY0LjADAgSQMA0GCSqG\n") + "SIb3DQEBBQUAA4GBAEeNg61i8tuwnkUiBbmi1gMOOHLnnvx75pO2mqWilMg0HZHR\n") + "xdf0CiUPPXiBng+xZ8SQTGPdXqfiup/1902lMXucKS1M/mQ+7LZT/uqb7YLbdHVL\n") + "B3luHtgZg3Pe9T7Qtd7nS2h9Qy4qIOF+oHhEngj1mPnHfxsb1gYgAlihw6ID\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Digital Signature Trust Co. Global CA 2", ((("MIGpMQswCQYDVQQGEwJ1czENMAsGA1UECBMEVXRhaDEXMBUGA1UEBxMOU2FsdCBMYWtlIENpdHkx" + "JDAiBgNVBAoTG0RpZ2l0YWwgU2lnbmF0dXJlIFRydXN0IENvLjERMA8GA1UECxMIRFNUQ0EgWDEx") + "FjAUBgNVBAMTDURTVCBSb290Q0EgWDExITAfBgkqhkiG9w0BCQEWEmNhQGRpZ3NpZ3RydXN0LmNv") + "bQ=="), (((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIID2DCCAsACEQDQHkCLAAACfAAAAAIAAAABMA0GCSqGSIb3DQEBBQUAMIGpMQsw\n") + "CQYDVQQGEwJ1czENMAsGA1UECBMEVXRhaDEXMBUGA1UEBxMOU2FsdCBMYWtlIENp\n") + "dHkxJDAiBgNVBAoTG0RpZ2l0YWwgU2lnbmF0dXJlIFRydXN0IENvLjERMA8GA1UE\n") + "CxMIRFNUQ0EgWDExFjAUBgNVBAMTDURTVCBSb290Q0EgWDExITAfBgkqhkiG9w0B\n") + "CQEWEmNhQGRpZ3NpZ3RydXN0LmNvbTAeFw05ODEyMDExODE4NTVaFw0wODExMjgx\n") + "ODE4NTVaMIGpMQswCQYDVQQGEwJ1czENMAsGA1UECBMEVXRhaDEXMBUGA1UEBxMO\n") + "U2FsdCBMYWtlIENpdHkxJDAiBgNVBAoTG0RpZ2l0YWwgU2lnbmF0dXJlIFRydXN0\n") + "IENvLjERMA8GA1UECxMIRFNUQ0EgWDExFjAUBgNVBAMTDURTVCBSb290Q0EgWDEx\n") + "ITAfBgkqhkiG9w0BCQEWEmNhQGRpZ3NpZ3RydXN0LmNvbTCCASIwDQYJKoZIhvcN\n") + "AQEBBQADggEPADCCAQoCggEBANLGJrbnpT3BxGjVUG9TxW9JEwm4ryxIjRRqoxdf\n") + "WvnTLnUv2Chi0ZMv/E3Uq4flCMeZ55I/db3rJbQVwZsZPdJEjdd0IG03Ao9pk1uK\n") + "xBmd9LIO/BZsubEFkoPRhSxglD5FVaDZqwgh5mDoO3TymVBRaNADLbGAvqPYUrBE\n") + "zUNKcI5YhZXhTizWLUFv1oTnyJhEykfbLCSlaSbPa7gnYsP0yXqSI+0TZ4KuRS5F\n") + "5X5yP4WdlGIQ5jyRoa13AOAV7POEgHJ6jm5gl8ckWRA0g1vhpaRptlc1HHhZxtMv\n") + "OnNn7pTKBBMFYgZwI7P0fO5F2WQLW0mqpEPOJsREEmy43XkCAwEAATANBgkqhkiG\n") + "9w0BAQUFAAOCAQEAojeyP2n714Z5VEkxlTMr89EJFEliYIalsBHiUMIdBlc+Legz\n") + "ZL6bqq1fG03UmZWii5rJYnK1aerZWKs17RWiQ9a2vAd5ZWRzfdd5ynvVWlHG4VME\n") + "lo04z6MXrDlxawHDi1M8Y+nuecDkvpIyZHqzH5eUYr3qsiAVlfuX8ngvYzZAOONG\n") + "Dx3drJXK50uQe7FLqdTF65raqtWjlBRGjS0f8zrWkzr2Pnn86Oawde3uPclwx12q\n") + "gUtGJRzHbBXjlU4PqjI3lAoXJJIThFjSY28r9+ZbYgsTF7ANUkz+/m9c4pFuHf2k\n") + "Ytdo+o56T9II2pPc8JIRetDccpMMc5NihWjQ9A==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Digital Signature Trust Co. Global CA 4", ((("MIGpMQswCQYDVQQGEwJ1czENMAsGA1UECBMEVXRhaDEXMBUGA1UEBxMOU2FsdCBMYWtlIENpdHkx" + "JDAiBgNVBAoTG0RpZ2l0YWwgU2lnbmF0dXJlIFRydXN0IENvLjERMA8GA1UECxMIRFNUQ0EgWDIx") + "FjAUBgNVBAMTDURTVCBSb290Q0EgWDIxITAfBgkqhkiG9w0BCQEWEmNhQGRpZ3NpZ3RydXN0LmNv") + "bQ=="), (((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIID2DCCAsACEQDQHkCLAAB3bQAAAAEAAAAEMA0GCSqGSIb3DQEBBQUAMIGpMQsw\n") + "CQYDVQQGEwJ1czENMAsGA1UECBMEVXRhaDEXMBUGA1UEBxMOU2FsdCBMYWtlIENp\n") + "dHkxJDAiBgNVBAoTG0RpZ2l0YWwgU2lnbmF0dXJlIFRydXN0IENvLjERMA8GA1UE\n") + "CxMIRFNUQ0EgWDIxFjAUBgNVBAMTDURTVCBSb290Q0EgWDIxITAfBgkqhkiG9w0B\n") + "CQEWEmNhQGRpZ3NpZ3RydXN0LmNvbTAeFw05ODExMzAyMjQ2MTZaFw0wODExMjcy\n") + "MjQ2MTZaMIGpMQswCQYDVQQGEwJ1czENMAsGA1UECBMEVXRhaDEXMBUGA1UEBxMO\n") + "U2FsdCBMYWtlIENpdHkxJDAiBgNVBAoTG0RpZ2l0YWwgU2lnbmF0dXJlIFRydXN0\n") + "IENvLjERMA8GA1UECxMIRFNUQ0EgWDIxFjAUBgNVBAMTDURTVCBSb290Q0EgWDIx\n") + "ITAfBgkqhkiG9w0BCQEWEmNhQGRpZ3NpZ3RydXN0LmNvbTCCASIwDQYJKoZIhvcN\n") + "AQEBBQADggEPADCCAQoCggEBANx18IzAdZaawGIfJvfE4Zrq4FZzW5nNAUSoCLbV\n") + "p9oaBBg5kkp4o4HC9Xd6ULRw/5qrxsfKboNPQpj7Jgva3G3WqZlVUmfpKAOS3OWw\n") + "BZoPFflrWXJW8vo5/Kpo7g8fEIMv/J36F5bdguPmRX3AS4BEH+0s4IT9kVySVGkl\n") + "5WJp3OXuAFK9MwutdQKFp2RQLcUZGTDAJtvJ0/0uma1ZtQtN1EGuhUhDWdy3qOKi\n") + "3sOP17ihYqZoUFLkzzGnlIXan0YyF1bl8utmPRL/Q9uY73fPy4GNNLHGUEom0eQ+\n") + "QVCvbK4iNC7Va26Dunm4dmVI2gkpZGMiuftHdoWMhkTLCdsCAwEAATANBgkqhkiG\n") + "9w0BAQUFAAOCAQEAtTYOXeFhKFoRZcA/gwN5Tb4opgsHAlKFzfiR0BBstWogWxyQ\n") + "2TA8xkieil5k+aFxd+8EJx8H6+Qm93N0yUQYGmbT4EOvkTvRyyzYdFQ6HE3K1GjN\n") + "I3wdEJ5F6fYAbqbNGf9PLCmPV03Ed5K+4EwJ+11EhmYhqLkyolbV6YyDfFk/xPEL\n") + "553snr2cGA4+wjl5KLcDDQjLxufZATdQEOzMYRZA1K8xdHv8PzGn0EdzMzkbzE5q\n") + "10mDEQb+64JYMzJM8FasHpwvVpp7wUocpf1VNs78lk30sPDst2yC7S8xmUJMqbIN\n") + "uBVd8d+6ybVK1GSYsyapMMj9puyrliGtf8J4tg==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Verisign Class 1 Public Primary Certification Authority", ("MF8xCzAJBgNVBAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3Mg" + "MSBQdWJsaWMgUHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eQ=="), (((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIICPTCCAaYCEQDNun9W8N/kvFT+IqyzcqpVMA0GCSqGSIb3DQEBAgUAMF8xCzAJ\n") + "BgNVBAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xh\n") + "c3MgMSBQdWJsaWMgUHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05\n") + "NjAxMjkwMDAwMDBaFw0yODA4MDEyMzU5NTlaMF8xCzAJBgNVBAYTAlVTMRcwFQYD\n") + "VQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMgUHJp\n") + "bWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTCBnzANBgkqhkiG9w0BAQEFAAOB\n") + "jQAwgYkCgYEA5Rm/baNWYS2ZSHH2Z965jeu3noaACpEO+jglr0aIguVzqKCbJF0N\n") + "H8xlbgyw0FaEGIeaBpsQoXPftFg5a27B9hXVqKg/qhIGjTGsf7A01480Z4gJzRQR\n") + "4k5FVmkfeAKA2txHkSm7NsljXMXg1y2He6G3MrB7MLoqLzGq7qNn2tsCAwEAATAN\n") + "BgkqhkiG9w0BAQIFAAOBgQBMP7iLxmjf7kMzDl3ppssHhE16M/+SG/Q2rdiVIjZo\n") + "EWx8QszznC7EBz8UsA9P/5CSdvnivErpj82ggAr3xSnxgiJduLHdgSOjeyUVRjB5\n") + "FvjqBUuUfx3CHMjjt/QQQDwTw18fU+hI5Ia0e6E1sHslurjTjqs/OJ0ANACY89Fx\n") + "lA==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Verisign Class 2 Public Primary Certification Authority", ("MF8xCzAJBgNVBAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3Mg" + "MiBQdWJsaWMgUHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eQ=="), ((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIICPDCCAaUCEC0b/EoXjaOR6+f/9YtFvgswDQYJKoZIhvcNAQECBQAwXzELMAkG\n") + "A1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMTcwNQYDVQQLEy5DbGFz\n") + "cyAyIFB1YmxpYyBQcmltYXJ5IENlcnRpZmljYXRpb24gQXV0aG9yaXR5MB4XDTk2\n") + "MDEyOTAwMDAwMFoXDTI4MDgwMTIzNTk1OVowXzELMAkGA1UEBhMCVVMxFzAVBgNV\n") + "BAoTDlZlcmlTaWduLCBJbmMuMTcwNQYDVQQLEy5DbGFzcyAyIFB1YmxpYyBQcmlt\n") + "YXJ5IENlcnRpZmljYXRpb24gQXV0aG9yaXR5MIGfMA0GCSqGSIb3DQEBAQUAA4GN\n") + "ADCBiQKBgQC2WoujDWojg4BrzzmH9CETMwZMJaLtVRKXxaeAufqDwSCg+i8VDXyh\n") + "YGt+eSz6Bg86rvYbb7HS/y8oUl+DfUvEerf4Zh+AVPy3wo5ZShRXRtGak75BkQO7\n") + "FYCTXOvnzAhsPz6zSvz/S2wj1VCCJkQZjiPDceoZJEcEnnW/yKYAHwIDAQABMA0G\n") + "CSqGSIb3DQEBAgUAA4GBAIobK/o5wXTXXtgZZKJYSi034DNHD6zt96rbHuSLBlxg\n") + "J8pFUs4W7z8GZOeUaHxgMxURaa+dYo2jA1Rrpr7l7gUYYAS/QoD90KioHgE796Nc\n") + "r6Pc5iaAIzy4RHT3Cq5Ji2F4zCS/iIqnDupzGUH9TQPwiNHleI2lKk/2lw0Xd8rY\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Verisign Class 3 Public Primary Certification Authority", ("MF8xCzAJBgNVBAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3Mg" + "MyBQdWJsaWMgUHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eQ=="), ((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIICPDCCAaUCEHC65B0Q2Sk0tjjKewPMur8wDQYJKoZIhvcNAQECBQAwXzELMAkG\n") + "A1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMTcwNQYDVQQLEy5DbGFz\n") + "cyAzIFB1YmxpYyBQcmltYXJ5IENlcnRpZmljYXRpb24gQXV0aG9yaXR5MB4XDTk2\n") + "MDEyOTAwMDAwMFoXDTI4MDgwMTIzNTk1OVowXzELMAkGA1UEBhMCVVMxFzAVBgNV\n") + "BAoTDlZlcmlTaWduLCBJbmMuMTcwNQYDVQQLEy5DbGFzcyAzIFB1YmxpYyBQcmlt\n") + "YXJ5IENlcnRpZmljYXRpb24gQXV0aG9yaXR5MIGfMA0GCSqGSIb3DQEBAQUAA4GN\n") + "ADCBiQKBgQDJXFme8huKARS0EN8EQNvjV69qRUCPhAwL0TPZ2RHP7gJYHyX3KqhE\n") + "BarsAx94f56TuZoAqiN91qyFomNFx3InzPRMxnVx0jnvT0Lwdd8KkMaOIG+YD/is\n") + "I19wKTakyYbnsZogy1Olhec9vn2a/iRFM9x2Fe0PonFkTGUugWhFpwIDAQABMA0G\n") + "CSqGSIb3DQEBAgUAA4GBALtMEivPLCYATxQT3ab7/AoRhIzzKBxnki98tsX63/Do\n") + "lbwdj2wsqFHMc9ikwFPwTtYmwHYBV4GSXiHx0bH/59AhWM1pF+NEHJwZRDmJXNyc\n") + "AA9WjQKZ7aKQRUzkuxCkPfAyAw7xzvjoyVGM5mKf5p/AfbdynMk2OmufTqj/ZA1k\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Verisign Class 1 Public Primary Certification Authority - G2", ((("MIHBMQswCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xPDA6BgNVBAsTM0NsYXNz" + "IDEgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHMjE6MDgGA1UECxMx") + "KGMpIDE5OTggVmVyaVNpZ24sIEluYy4gLSBGb3IgYXV0aG9yaXplZCB1c2Ugb25seTEfMB0GA1UE") + "CxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yaw=="), (((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDAjCCAmsCEEzH6qqYPnHTkxD4PTqJkZIwDQYJKoZIhvcNAQEFBQAwgcExCzAJ\n") + "BgNVBAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE8MDoGA1UECxMzQ2xh\n") + "c3MgMSBQdWJsaWMgUHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEcy\n") + "MTowOAYDVQQLEzEoYykgMTk5OCBWZXJpU2lnbiwgSW5jLiAtIEZvciBhdXRob3Jp\n") + "emVkIHVzZSBvbmx5MR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMB4X\n") + "DTk4MDUxODAwMDAwMFoXDTI4MDgwMTIzNTk1OVowgcExCzAJBgNVBAYTAlVTMRcw\n") + "FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE8MDoGA1UECxMzQ2xhc3MgMSBQdWJsaWMg\n") + "UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEcyMTowOAYDVQQLEzEo\n") + "YykgMTk5OCBWZXJpU2lnbiwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVzZSBvbmx5\n") + "MR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMIGfMA0GCSqGSIb3DQEB\n") + "AQUAA4GNADCBiQKBgQCq0Lq+Fi24g9TK0g+8djHKlNgdk4xWArzZbxpvUjZudVYK\n") + "VdPfQ4chEWWKfo+9Id5rMj8bhDSVBZ1BNeuS65bdqlk/AVNtmU/t5eIqWpDBucSm\n") + "Fc/IReumXY6cPvBkJHalzasab7bYe1FhbqZ/h8jit+U03EGI6glAvnOSPWvndQID\n") + "AQABMA0GCSqGSIb3DQEBBQUAA4GBAKlPww3HZ74sy9mozS11534Vnjty637rXC0J\n") + "h9ZrbWB85a7FkCMMXErQr7Fd88e2CtvgFZMN3QO8x3aKtd1Pw5sTdbgBwObJW2ul\n") + "uIncrKTdcu1OofdPvAbT6shkdHvClUGcZXNY8ZCaPGqxmMnEh7zPRW1F4m4iP/68\n") + "DzFc6PLZ\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Verisign Class 2 Public Primary Certification Authority - G2", ((("MIHBMQswCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xPDA6BgNVBAsTM0NsYXNz" + "IDIgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHMjE6MDgGA1UECxMx") + "KGMpIDE5OTggVmVyaVNpZ24sIEluYy4gLSBGb3IgYXV0aG9yaXplZCB1c2Ugb25seTEfMB0GA1UE") + "CxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yaw=="), (((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDAzCCAmwCEQC5L2DMiJ+hekYJuFtwbIqvMA0GCSqGSIb3DQEBBQUAMIHBMQsw\n") + "CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xPDA6BgNVBAsTM0Ns\n") + "YXNzIDIgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBH\n") + "MjE6MDgGA1UECxMxKGMpIDE5OTggVmVyaVNpZ24sIEluYy4gLSBGb3IgYXV0aG9y\n") + "aXplZCB1c2Ugb25seTEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazAe\n") + "Fw05ODA1MTgwMDAwMDBaFw0yODA4MDEyMzU5NTlaMIHBMQswCQYDVQQGEwJVUzEX\n") + "MBUGA1UEChMOVmVyaVNpZ24sIEluYy4xPDA6BgNVBAsTM0NsYXNzIDIgUHVibGlj\n") + "IFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHMjE6MDgGA1UECxMx\n") + "KGMpIDE5OTggVmVyaVNpZ24sIEluYy4gLSBGb3IgYXV0aG9yaXplZCB1c2Ugb25s\n") + "eTEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazCBnzANBgkqhkiG9w0B\n") + "AQEFAAOBjQAwgYkCgYEAp4gBIXQs5xoD8JjhlzwPIQjxnNuX6Zr8wgQGE75fUsjM\n") + "HiwSViy4AWkszJkfrbCWrnkE8hM5wXuYuggs6MKEEyyqaekJ9MepAqRCwiNPStjw\n") + "DqL7MWzJ5m+ZJwf15vRMeJ5t60aG+rmGyVTyssSv1EYcWskVMP8NbPUtDm3Of3cC\n") + "AwEAATANBgkqhkiG9w0BAQUFAAOBgQByLvl/0fFx+8Se9sVeUYpAmLho+Jscg9ji\n") + "nb3/7aHmZuovCfTK1+qlK5X2JGCGTUQug6XELaDTrnhpb3LabK4I8GOSN+a7xDAX\n") + "rXfMSTWqz9iP0b63GJZHc2pUIjRkLbYWm1lbtFFZOrMLFPQS32eg9K0yZF6xRnIn\n") + "jBJ7xUS0rg==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Verisign Class 3 Public Primary Certification Authority - G2", ((("MIHBMQswCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xPDA6BgNVBAsTM0NsYXNz" + "IDMgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHMjE6MDgGA1UECxMx") + "KGMpIDE5OTggVmVyaVNpZ24sIEluYy4gLSBGb3IgYXV0aG9yaXplZCB1c2Ugb25seTEfMB0GA1UE") + "CxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yaw=="), (((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDAjCCAmsCEH3Z/gfPqB63EHln+6eJNMYwDQYJKoZIhvcNAQEFBQAwgcExCzAJ\n") + "BgNVBAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE8MDoGA1UECxMzQ2xh\n") + "c3MgMyBQdWJsaWMgUHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEcy\n") + "MTowOAYDVQQLEzEoYykgMTk5OCBWZXJpU2lnbiwgSW5jLiAtIEZvciBhdXRob3Jp\n") + "emVkIHVzZSBvbmx5MR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMB4X\n") + "DTk4MDUxODAwMDAwMFoXDTI4MDgwMTIzNTk1OVowgcExCzAJBgNVBAYTAlVTMRcw\n") + "FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE8MDoGA1UECxMzQ2xhc3MgMyBQdWJsaWMg\n") + "UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEcyMTowOAYDVQQLEzEo\n") + "YykgMTk5OCBWZXJpU2lnbiwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVzZSBvbmx5\n") + "MR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMIGfMA0GCSqGSIb3DQEB\n") + "AQUAA4GNADCBiQKBgQDMXtERXVxp0KvTuWpMmR9ZmDCOFoUgRm1HP9SFIIThbbP4\n") + "pO0M8RcPO/mn+SXXwc+EY/J8Y8+iR/LGWzOOZEAEaMGAuWQcRXfH2G71lSk8UOg0\n") + "13gfqLptQ5GVj0VXXn7F+8qkBOvqlzdUMG+7AUcyM83cV5tkaWH4mx0ciU9cZwID\n") + "AQABMA0GCSqGSIb3DQEBBQUAA4GBAFFNzb5cy5gZnBWyATl4Lk0PZ3BwmcYQWpSk\n") + "U01UbSuvDV1Ai2TT1+7eVmGSX6bEHRBhNtMsJzzoKQm5EWR0zLVznxxIqbxhAe7i\n") + "F6YM40AIOw7n60RzKprxaZLvcRTDOaxxp5EJb+RxBrO6WVcmeQD2+A2iMzAo1KpY\n") + "oJ2daZH9\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Verisign Class 4 Public Primary Certification Authority - G2", ((("MIHBMQswCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xPDA6BgNVBAsTM0NsYXNz" + "IDQgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHMjE6MDgGA1UECxMx") + "KGMpIDE5OTggVmVyaVNpZ24sIEluYy4gLSBGb3IgYXV0aG9yaXplZCB1c2Ugb25seTEfMB0GA1UE") + "CxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yaw=="), (((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDAjCCAmsCEDKIjprS9esTR/h/xCA3JfgwDQYJKoZIhvcNAQEFBQAwgcExCzAJ\n") + "BgNVBAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE8MDoGA1UECxMzQ2xh\n") + "c3MgNCBQdWJsaWMgUHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEcy\n") + "MTowOAYDVQQLEzEoYykgMTk5OCBWZXJpU2lnbiwgSW5jLiAtIEZvciBhdXRob3Jp\n") + "emVkIHVzZSBvbmx5MR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMB4X\n") + "DTk4MDUxODAwMDAwMFoXDTI4MDgwMTIzNTk1OVowgcExCzAJBgNVBAYTAlVTMRcw\n") + "FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE8MDoGA1UECxMzQ2xhc3MgNCBQdWJsaWMg\n") + "UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEcyMTowOAYDVQQLEzEo\n") + "YykgMTk5OCBWZXJpU2lnbiwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVzZSBvbmx5\n") + "MR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMIGfMA0GCSqGSIb3DQEB\n") + "AQUAA4GNADCBiQKBgQC68OTP+cSuhVS5B1f5j8V/aBH4xBewRNzjMHPVKmIquNDM\n") + "HO0oW369atyzkSTKQWI8/AIBvxwWMZQFl3Zuoq29YRdsTjCG8FE3KlDHqGKB3FtK\n") + "qsGgtG7rL+VXxbErQHDbWk2hjh+9Ax/YA9SPTJlxvOKCzFjomDqG04Y48wApHwID\n") + "AQABMA0GCSqGSIb3DQEBBQUAA4GBAIWMEsGnuVAVess+rLhDityq3RS6iYF+ATwj\n") + "cSGIL4LcY/oCRaxFWdcqWERbt5+BO5JoPeI3JPV7bI92NZYJqFmduc4jq3TWg/0y\n") + "cyfYaT5DdPauxYma51N86Xv2S/PBZYPejYqcPIiNOVn8qj8ijaHBZlCBckztImRP\n") + "T8qAkbYp\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("GlobalSign Root CA", ("MFcxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWduIG52LXNhMRAwDgYDVQQLEwdSb290" + "IENBMRswGQYDVQQDExJHbG9iYWxTaWduIFJvb3QgQ0E="), (((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDdTCCAl2gAwIBAgILAgAAAAAA1ni3lAUwDQYJKoZIhvcNAQEEBQAwVzELMAkG\n") + "A1UEBhMCQkUxGTAXBgNVBAoTEEdsb2JhbFNpZ24gbnYtc2ExEDAOBgNVBAsTB1Jv\n") + "b3QgQ0ExGzAZBgNVBAMTEkdsb2JhbFNpZ24gUm9vdCBDQTAeFw05ODA5MDExMjAw\n") + "MDBaFw0xNDAxMjgxMjAwMDBaMFcxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9i\n") + "YWxTaWduIG52LXNhMRAwDgYDVQQLEwdSb290IENBMRswGQYDVQQDExJHbG9iYWxT\n") + "aWduIFJvb3QgQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDaDuaZ\n") + "jc6j40+Kfvvxi4Mla+pIH/EqsLmVEQS98GPR4mdmzxzdzxtIK+6NiY6arymAZavp\n") + "xy0Sy6scTHAHoT0KMM0VjU/43dSMUBUc71DuxC73/OlS8pF94G3VNTCOXkNz8kHp\n") + "1Wrjsok6Vjk4bwY8iGlbKk3Fp1S4bInMm/k8yuX9ifUSPJJ4ltbcdG6TRGHRjcdG\n") + "snUOhugZitVtbNV4FpWi6cgKOOvyJBNPc1STE4U6G7weNLWLBYy5d4ux2x8gkasJ\n") + "U26Qzns3dLlwR5EiUWMWea6xrkEmCMgZK9FGqkjWZCrXgzT/LCrBbBlDSgeF59N8\n") + "9iFo7+ryUp9/k5DPAgMBAAGjQjBAMA4GA1UdDwEB/wQEAwIABjAdBgNVHQ4EFgQU\n") + "YHtmGkUNl8qJUC99BM00qP/8/UswDwYDVR0TAQH/BAUwAwEB/zANBgkqhkiG9w0B\n") + "AQQFAAOCAQEArqqf/LfSyx9fOSkoGJ40yWxPbxrwZKJwSk8ThptgKJ7ogUmYfQq7\n") + "5bCdPTbbjwVR/wkxKh/diXeeDy5slQTthsu0AD+EAk2AaioteAuubyuig0SDH81Q\n") + "gkwkr733pbTIWg/050deSY43lv6aiAU62cDbKYfmGZZHpzqmjIs8d/5GY6dT2iHR\n") + "rH5Jokvmw2dZL7OKDrssvamqQnw1wdh/1acxOk5jQzmvCLBhNIzTmKlDNPYPhyk7\n") + "ncJWWJh3w/cbrPad+D6qp1RF8PX51TFl/mtYnHGzHtdS6jIX/EBgHcl5JLL2bP2o\n") + "Zg6C3ZjL2sJETy6ge/L3ayx2EYRGinij4w==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("GlobalSign Root CA - R2", ("MEwxIDAeBgNVBAsTF0dsb2JhbFNpZ24gUm9vdCBDQSAtIFIyMRMwEQYDVQQKEwpHbG9iYWxTaWdu" + "MRMwEQYDVQQDEwpHbG9iYWxTaWdu"), ((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDujCCAqKgAwIBAgILBAAAAAABD4Ym5g0wDQYJKoZIhvcNAQEFBQAwTDEgMB4G\n") + "A1UECxMXR2xvYmFsU2lnbiBSb290IENBIC0gUjIxEzARBgNVBAoTCkdsb2JhbFNp\n") + "Z24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDYxMjE1MDgwMDAwWhcNMjExMjE1\n") + "MDgwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMjETMBEG\n") + "A1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZI\n") + "hvcNAQEBBQADggEPADCCAQoCggEBAKbPJA6+Lm8omUVCxKs+IVSbC9N/hHD6ErPL\n") + "v4dfxn+G07IwXNb9rfF73OX4YJYJkhD10FPe+3t+c4isUoh7SqbKSaZeqKeMWhG8\n") + "eoLrvozps6yWJQeXSpkqBy+0Hne/ig+1AnwblrjFuTosvNYSuetZfeLQBoZfXklq\n") + "tTleiDTsvHgMCJiEbKjNS7SgfQx5TfC4LcshytVsW33hoCmEofnTlEnLJGKRILzd\n") + "C9XZzPnqJworc5HGnRusyMvo4KD0L5CLTfuwNhv2GXqF4G3yYROIXJ/gkwpRl4pa\n") + "zq+r1feqCapgvdzZX99yqWATXgAByUr6P6TqBwMhAo6CygPCm48CAwEAAaOBnDCB\n") + "mTAOBgNVHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUm+IH\n") + "V2ccHsBqBt5ZtJot39wZhi4wNgYDVR0fBC8wLTAroCmgJ4YlaHR0cDovL2NybC5n\n") + "bG9iYWxzaWduLm5ldC9yb290LXIyLmNybDAfBgNVHSMEGDAWgBSb4gdXZxwewGoG\n") + "3lm0mi3f3BmGLjANBgkqhkiG9w0BAQUFAAOCAQEAmYFThxxol4aR7OBKuEQLq4Gs\n") + "J0/WwbgcQ3izDJr86iw8bmEbTUsp9Z8FHSbBuOmDAGJFtqkIk7mpM0sYmsL4h4hO\n") + "291xNBrBVNpGP+DTKqttVCL1OmLNIG+6KYnX3ZHu01yiPqFbQfXf5WRDLenVOavS\n") + "ot+3i9DAgBkcRcAtjOj4LaR0VknFBbVPFd5uRHg5h6h+u/N5GJG79G+dwfCMNYxd\n") + "AfvDbbnvRG15RjF+Cv6pgsH/76tuIMRQyV+dTZsXjAzlAcmgQWpzU/qlULRuJQ/7\n") + "TBj0/VLZjmmx6BEP3ojY+x1J96relc8geMJgEtslQIxq/H5COEBkEveegeGTLg==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("ValiCert Class 1 VA", ((("MIG7MSQwIgYDVQQHExtWYWxpQ2VydCBWYWxpZGF0aW9uIE5ldHdvcmsxFzAVBgNVBAoTDlZhbGlD" + "ZXJ0LCBJbmMuMTUwMwYDVQQLEyxWYWxpQ2VydCBDbGFzcyAxIFBvbGljeSBWYWxpZGF0aW9uIEF1") + "dGhvcml0eTEhMB8GA1UEAxMYaHR0cDovL3d3dy52YWxpY2VydC5jb20vMSAwHgYJKoZIhvcNAQkB") + "FhFpbmZvQHZhbGljZXJ0LmNvbQ=="), ((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIC5zCCAlACAQEwDQYJKoZIhvcNAQEFBQAwgbsxJDAiBgNVBAcTG1ZhbGlDZXJ0\n") + "IFZhbGlkYXRpb24gTmV0d29yazEXMBUGA1UEChMOVmFsaUNlcnQsIEluYy4xNTAz\n") + "BgNVBAsTLFZhbGlDZXJ0IENsYXNzIDEgUG9saWN5IFZhbGlkYXRpb24gQXV0aG9y\n") + "aXR5MSEwHwYDVQQDExhodHRwOi8vd3d3LnZhbGljZXJ0LmNvbS8xIDAeBgkqhkiG\n") + "9w0BCQEWEWluZm9AdmFsaWNlcnQuY29tMB4XDTk5MDYyNTIyMjM0OFoXDTE5MDYy\n") + "NTIyMjM0OFowgbsxJDAiBgNVBAcTG1ZhbGlDZXJ0IFZhbGlkYXRpb24gTmV0d29y\n") + "azEXMBUGA1UEChMOVmFsaUNlcnQsIEluYy4xNTAzBgNVBAsTLFZhbGlDZXJ0IENs\n") + "YXNzIDEgUG9saWN5IFZhbGlkYXRpb24gQXV0aG9yaXR5MSEwHwYDVQQDExhodHRw\n") + "Oi8vd3d3LnZhbGljZXJ0LmNvbS8xIDAeBgkqhkiG9w0BCQEWEWluZm9AdmFsaWNl\n") + "cnQuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDYWYJ6ibiWuqYvaG9Y\n") + "LqdUHAZu9OqNSLwxlBfw8068srg1knaw0KWlAdcAAxIiGQj4/xEjm84H9b9pGib+\n") + "TunRf50sQB1ZaG6m+FiwnRqP0z/x3BkGgagO4DrdyFNFCQbmD3DD+kCmDuJWBQ8Y\n") + "TfwggtFzVXSNdnKgHZ0dwN0/cQIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAFBoPUn0\n") + "LBwGlN+VYH+Wexf+T3GtZMjdd9LvWVXoP+iOBSoh8gfStadS/pyxtuJbdxdA6nLW\n") + "I8sogTLDAHkY7FkXicnGah5xyf23dKUlRWnFSKsZ4UWKJWsZ7uW7EvV/96aNUcPw\n") + "nXS3qT6gpf+2SQMT2iLM7XGCK5nPOrf1LXLI\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("ValiCert Class 2 VA", ((("MIG7MSQwIgYDVQQHExtWYWxpQ2VydCBWYWxpZGF0aW9uIE5ldHdvcmsxFzAVBgNVBAoTDlZhbGlD" + "ZXJ0LCBJbmMuMTUwMwYDVQQLEyxWYWxpQ2VydCBDbGFzcyAyIFBvbGljeSBWYWxpZGF0aW9uIEF1") + "dGhvcml0eTEhMB8GA1UEAxMYaHR0cDovL3d3dy52YWxpY2VydC5jb20vMSAwHgYJKoZIhvcNAQkB") + "FhFpbmZvQHZhbGljZXJ0LmNvbQ=="), ((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIC5zCCAlACAQEwDQYJKoZIhvcNAQEFBQAwgbsxJDAiBgNVBAcTG1ZhbGlDZXJ0\n") + "IFZhbGlkYXRpb24gTmV0d29yazEXMBUGA1UEChMOVmFsaUNlcnQsIEluYy4xNTAz\n") + "BgNVBAsTLFZhbGlDZXJ0IENsYXNzIDIgUG9saWN5IFZhbGlkYXRpb24gQXV0aG9y\n") + "aXR5MSEwHwYDVQQDExhodHRwOi8vd3d3LnZhbGljZXJ0LmNvbS8xIDAeBgkqhkiG\n") + "9w0BCQEWEWluZm9AdmFsaWNlcnQuY29tMB4XDTk5MDYyNjAwMTk1NFoXDTE5MDYy\n") + "NjAwMTk1NFowgbsxJDAiBgNVBAcTG1ZhbGlDZXJ0IFZhbGlkYXRpb24gTmV0d29y\n") + "azEXMBUGA1UEChMOVmFsaUNlcnQsIEluYy4xNTAzBgNVBAsTLFZhbGlDZXJ0IENs\n") + "YXNzIDIgUG9saWN5IFZhbGlkYXRpb24gQXV0aG9yaXR5MSEwHwYDVQQDExhodHRw\n") + "Oi8vd3d3LnZhbGljZXJ0LmNvbS8xIDAeBgkqhkiG9w0BCQEWEWluZm9AdmFsaWNl\n") + "cnQuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDOOnHK5avIWZJV16vY\n") + "dA757tn2VUdZZUcOBVXc65g2PFxTXdMwzzjsvUGJ7SVCCSRrCl6zfN1SLUzm1NZ9\n") + "WlmpZdRJEy0kTRxQb7XBhVQ7/nHk01xC+YDgkRoKWzk2Z/M/VXwbP7RfZHM047QS\n") + "v4dk+NoS/zcnwbNDu+97bi5p9wIDAQABMA0GCSqGSIb3DQEBBQUAA4GBADt/UG9v\n") + "UJSZSWI4OB9L+KXIPqeCgfYrx+jFzug6EILLGACOTb2oWH+heQC1u+mNr0HZDzTu\n") + "IYEZoDJJKPTEjlbVUjP9UNV+mWwD5MlM/Mtsq2azSiGM5bUMMj4QssxsodyamEwC\n") + "W/POuZ6lcg5Ktz885hZo+L7tdEy8W9ViH0Pd\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("RSA Root Certificate 1", ((("MIG7MSQwIgYDVQQHExtWYWxpQ2VydCBWYWxpZGF0aW9uIE5ldHdvcmsxFzAVBgNVBAoTDlZhbGlD" + "ZXJ0LCBJbmMuMTUwMwYDVQQLEyxWYWxpQ2VydCBDbGFzcyAzIFBvbGljeSBWYWxpZGF0aW9uIEF1") + "dGhvcml0eTEhMB8GA1UEAxMYaHR0cDovL3d3dy52YWxpY2VydC5jb20vMSAwHgYJKoZIhvcNAQkB") + "FhFpbmZvQHZhbGljZXJ0LmNvbQ=="), ((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIC5zCCAlACAQEwDQYJKoZIhvcNAQEFBQAwgbsxJDAiBgNVBAcTG1ZhbGlDZXJ0\n") + "IFZhbGlkYXRpb24gTmV0d29yazEXMBUGA1UEChMOVmFsaUNlcnQsIEluYy4xNTAz\n") + "BgNVBAsTLFZhbGlDZXJ0IENsYXNzIDMgUG9saWN5IFZhbGlkYXRpb24gQXV0aG9y\n") + "aXR5MSEwHwYDVQQDExhodHRwOi8vd3d3LnZhbGljZXJ0LmNvbS8xIDAeBgkqhkiG\n") + "9w0BCQEWEWluZm9AdmFsaWNlcnQuY29tMB4XDTk5MDYyNjAwMjIzM1oXDTE5MDYy\n") + "NjAwMjIzM1owgbsxJDAiBgNVBAcTG1ZhbGlDZXJ0IFZhbGlkYXRpb24gTmV0d29y\n") + "azEXMBUGA1UEChMOVmFsaUNlcnQsIEluYy4xNTAzBgNVBAsTLFZhbGlDZXJ0IENs\n") + "YXNzIDMgUG9saWN5IFZhbGlkYXRpb24gQXV0aG9yaXR5MSEwHwYDVQQDExhodHRw\n") + "Oi8vd3d3LnZhbGljZXJ0LmNvbS8xIDAeBgkqhkiG9w0BCQEWEWluZm9AdmFsaWNl\n") + "cnQuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDjmFGWHOjVsQaBalfD\n") + "cnWTq8+epvzzFlLWLU2fNUSoLgRNB0mKOCn1dzfnt6td3zZxFJmP3MKS8edgkpfs\n") + "2Ejcv8ECIMYkpChMMFp2bbFc893enhBxoYjHW5tBbcqwuI4V7q0zK89HBFx1cQqY\n") + "JJgpp0lZpd34t0NiYfPT4tBVPwIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAFa7AliE\n") + "Zwgs3x/be0kz9dNnnfS0ChCzycUs4pJqcXgn8nCDQtM+z6lU9PHYkhaM0QTLS6vJ\n") + "n0WuPIqpsHEzXcjFV9+vqDWzf4mH6eglkrh/hXqu1rweN1gqZ8mRzyqBPu3GOd/A\n") + "PhmcGcwTTYJBtYze4D1gCCAPRX5ron+jjBXu\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Verisign Class 1 Public Primary Certification Authority - G3", ((("MIHKMQswCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT" + "aWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5IFZlcmlTaWduLCBJbmMuIC0gRm9y") + "IGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlTaWduIENsYXNzIDEgUHVibGljIFBy") + "aW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHMw=="), ((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEGjCCAwICEQCLW3VWhFSFCwDPrzhIzrGkMA0GCSqGSIb3DQEBBQUAMIHKMQsw\n") + "CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZl\n") + "cmlTaWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5IFZlcmlTaWdu\n") + "LCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlT\n") + "aWduIENsYXNzIDEgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3Jp\n") + "dHkgLSBHMzAeFw05OTEwMDEwMDAwMDBaFw0zNjA3MTYyMzU5NTlaMIHKMQswCQYD\n") + "VQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT\n") + "aWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5IFZlcmlTaWduLCBJ\n") + "bmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlTaWdu\n") + "IENsYXNzIDEgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkg\n") + "LSBHMzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAN2E1Lm0+afY8wR4\n") + "nN493GwTFtl63SRRZsDHJlkNrAYIwpTRMx/wgzUfbhvI3qpuFU5UJ+/EbRrsC+MO\n") + "8ESlV8dAWB6jRx9x7GD2bZTIGDnt/kIYVt/kTEkQeE4BdjVjEjbdZrwBBDajVWjV\n") + "ojYJrKshJlQGrT/KFOCsyq0GHZXi+J3x4GD/wn91K0zM2v6HmSHquv4+VNfSWXjb\n") + "PG7PoBMAGrgnoeS+Z5bKoMWznN3JdZ7rMJpfo83ZrngZPyPpXNspva1VyBtUjGP2\n") + "6KbqxzcSXKMpHgLZ2x87tNcPVkeBFQRKr4Mn0cVYiMHd9qqnoxjaaKptEVHhv2Vr\n") + "n5Z20T0CAwEAATANBgkqhkiG9w0BAQUFAAOCAQEAq2aN17O6x5q25lXQBfGfMY1a\n") + "qtmqRiYPce2lrVNWYgFHKkTp/j90CxObufRNG7LRX7K20ohcs5/Ny9Sn2WCVhDr4\n") + "wTcdYcrnsMXlkdpUpqwxga6X3s0IrLjAl4B/bnKk52kTlWUfxJM8/XmPBNQ+T+r3\n") + "ns7NZ3xPZQL/kYVUc8f/NveGLezQXk//EZ9yBta4GvFMDSZl4kSAHsef493oCtrs\n") + "pSCAaWihT37ha88HQfqDjrw43bAuEbFrskLMmrz5SCJ5ShkPshw+IHTZasO+8ih4\n") + "E1Z5T21Q6huwtVexN2ZYI/PcD98Kh8TvhgXVOBRgmaNL3gaWcSzy27YfpO8/7g==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Verisign Class 2 Public Primary Certification Authority - G3", ((("MIHKMQswCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT" + "aWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5IFZlcmlTaWduLCBJbmMuIC0gRm9y") + "IGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlTaWduIENsYXNzIDIgUHVibGljIFBy") + "aW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHMw=="), ((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEGTCCAwECEGFwy0mMX5hFKeewptlQW3owDQYJKoZIhvcNAQEFBQAwgcoxCzAJ\n") + "BgNVBAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy\n") + "aVNpZ24gVHJ1c3QgTmV0d29yazE6MDgGA1UECxMxKGMpIDE5OTkgVmVyaVNpZ24s\n") + "IEluYy4gLSBGb3IgYXV0aG9yaXplZCB1c2Ugb25seTFFMEMGA1UEAxM8VmVyaVNp\n") + "Z24gQ2xhc3MgMiBQdWJsaWMgUHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0\n") + "eSAtIEczMB4XDTk5MTAwMTAwMDAwMFoXDTM2MDcxNjIzNTk1OVowgcoxCzAJBgNV\n") + "BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNp\n") + "Z24gVHJ1c3QgTmV0d29yazE6MDgGA1UECxMxKGMpIDE5OTkgVmVyaVNpZ24sIElu\n") + "Yy4gLSBGb3IgYXV0aG9yaXplZCB1c2Ugb25seTFFMEMGA1UEAxM8VmVyaVNpZ24g\n") + "Q2xhc3MgMiBQdWJsaWMgUHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAt\n") + "IEczMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArwoNwtUs22e5LeWU\n") + "J92lvuCwTY+zYVY81nzD9M0+hsuiiOLh2KRpxbXiv8GmR1BeRjmL1Za6tW8UvxDO\n") + "JxOeBUebMXoT2B/Z0wI3i60sR/COgQanDTAM6/c8DyAd3HJG7qUCyFvDyVZpTMUY\n") + "wZF7C9UTAJu878NIPkZgIIUq1ZC2zYugzDLdt/1AVbJQHFauzI13TccgTacxdu9o\n") + "koqQHgiBVrKtaaNS0MscxCM9H5n+TOgWY47GCI72MfbS+uV23bUckqNJzc0BzWjN\n") + "qWm6o+sdDZykIKbBoMXRRkwXbdKsZj+WjOCE1Db/IlnF+RFgqF8EffIa9iVCYQ/E\n") + "Srg+iQIDAQABMA0GCSqGSIb3DQEBBQUAA4IBAQA0JhU8wI1NQ0kdvekhktdmnLfe\n") + "xbjQ5F1fdiLAJvmEOjr5jLX77GDx6M4EsMjdpwOPMPOY36TmpDHf0xwLRtxyID+u\n") + "7gU8pDM/CzmscHhzS5kr3zDCVLCoO1Wh/hYozUK9dG6A2ydEp85EXdQbkJgNHkKU\n") + "sQAsBNB0owIFImNjzYO1+8FtYmtpdf1dcEG59b98377BMnMiIYtYgXsVkXq642RI\n") + "sH/7NiXaldDxJBQX3RiAa0YjOVT1jmIJBB2UkKab5iXiQkWquJCtvgiPqQtCGJTP\n") + "cjnhsUPgKM+351psE2tJs//jGHyJizNdrDPXp/naOlXJWBD5qu9ats9LS98q\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Verisign Class 3 Public Primary Certification Authority - G3", ((("MIHKMQswCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT" + "aWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5IFZlcmlTaWduLCBJbmMuIC0gRm9y") + "IGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlTaWduIENsYXNzIDMgUHVibGljIFBy") + "aW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHMw=="), ((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEGjCCAwICEQCbfgZJoz5iudXukEhxKe9XMA0GCSqGSIb3DQEBBQUAMIHKMQsw\n") + "CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZl\n") + "cmlTaWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5IFZlcmlTaWdu\n") + "LCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlT\n") + "aWduIENsYXNzIDMgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3Jp\n") + "dHkgLSBHMzAeFw05OTEwMDEwMDAwMDBaFw0zNjA3MTYyMzU5NTlaMIHKMQswCQYD\n") + "VQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT\n") + "aWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5IFZlcmlTaWduLCBJ\n") + "bmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlTaWdu\n") + "IENsYXNzIDMgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkg\n") + "LSBHMzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMu6nFL8eB8aHm8b\n") + "N3O9+MlrlBIwT/A2R/XQkQr1F8ilYcEWQE37imGQ5XYgwREGfassbqb1EUGO+i2t\n") + "KmFZpGcmTNDovFJbcCAEWNF6yaRpvIMXZK0Fi7zQWM6NjPXr8EJJC52XJ2cybuGu\n") + "kxUccLwgTS8Y3pKI6GyFVxEa6X7jJhFUokWWVYPKMIno3Nij7SqAP395ZVc+FSBm\n") + "CC+Vk7+qRy+oRpfwEuL+wgorUeZ25rdGt+INpsyow0xZVYnm6FNcHOqd8GIWC6fJ\n") + "Xwzw3sJ2zq/3avL6QaaiMxTJ5Xpj055iN9WFZZ4O5lMkdBteHRJTW8cs54NJOxWu\n") + "imi5V5cCAwEAATANBgkqhkiG9w0BAQUFAAOCAQEAERSWwauSCPc/L8my/uRan2Te\n") + "2yFPhpk0djZX3dAVL8WtfxUfN2JzPtTnX84XA9s1+ivbrmAJXx5fj267Cz3qWhMe\n") + "DGBvtcC1IyIuBwvLqXTLR7sdwdela8wv0kL9Sd2nic9TutoAWii/gt/4uhMdUIaC\n") + "/Y4wjylGsB49Ndo4YhYYSq3mtlFs3q9i6wHQHiT+eo8SGhJouPtmmRQURVyu565p\n") + "F4ErWjfJXir0xuKhXFSbplQAz/DxwceYMBo7Nhbbo27q/a2ywtrvAkcTisDxszGt\n") + "TxzhT5yvDwyd93gN2PQ1VoDat20Xj50egWTh/sVFuq1ruQp6Tk9LhO5L8X3dEQ==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Verisign Class 4 Public Primary Certification Authority - G3", ((("MIHKMQswCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT" + "aWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5IFZlcmlTaWduLCBJbmMuIC0gRm9y") + "IGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlTaWduIENsYXNzIDQgUHVibGljIFBy") + "aW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHMw=="), ((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEGjCCAwICEQDsoKeLbnVqAc/EfMwvlF7XMA0GCSqGSIb3DQEBBQUAMIHKMQsw\n") + "CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZl\n") + "cmlTaWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5IFZlcmlTaWdu\n") + "LCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlT\n") + "aWduIENsYXNzIDQgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3Jp\n") + "dHkgLSBHMzAeFw05OTEwMDEwMDAwMDBaFw0zNjA3MTYyMzU5NTlaMIHKMQswCQYD\n") + "VQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT\n") + "aWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5IFZlcmlTaWduLCBJ\n") + "bmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlTaWdu\n") + "IENsYXNzIDQgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkg\n") + "LSBHMzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAK3LpRFpxlmr8Y+1\n") + "GQ9Wzsy1HyDkniYlS+BzZYlZ3tCD5PUPtbut8XzoIfzk6AzufEUiGXaStBO3IFsJ\n") + "+mGuqPKljYXCKtbeZjbSmwL0qJJgfJxptI8kHtCGUvYynEFYHiK9zUVilQhu0Gbd\n") + "U6LM8BDcVHOLBKFGMzNcF0C5nk3T875Vg+ixiY5afJqWIpA7iCXy0lOIAgwLePLm\n") + "NxdLMEYH5IBtptiWLugs+BGzOA1mppvqySNb247i8xOOGlktqgLw7KSHZtzBP/XY\n") + "ufTsgsbSPZUd5cBPhMnZo0QoBmrXRazwa2rvTl/4EYIeOGM0ZlDUPpNz+jDDZq3/\n") + "ky2X7wMCAwEAATANBgkqhkiG9w0BAQUFAAOCAQEAj/ola09b5KROJ1WrIhVZPMq1\n") + "CtRK26vdoV9TxaBXOcLORyu+OshWv8LZJxA6sQU8wHcxuzrTBXttmhwwjIDLk5Mq\n") + "g6sFUYICABFna/OIYUdfA5PVWw3g8dShMjWFsjrbsIKr0csKvE+MW8VLADsfKoKm\n") + "fjaF3H48ZwC15DtS4KjrXRX5xm3wrR0OhbepmnMUWluPQSjA1egtTaRezarZ7c7c\n") + "2NU8Qh0XwRJdRTjDOPP8hS6DRkiy1yBfkjaP53kPmF6Z6PDQpLv1U70qzlmwr25/\n") + "bLvSHgCwIe34QWKCudiyxLtGUPMxxY8BqHTr9Xgn2uf3ZkPznoM+IKrDNWCRzg==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Entrust.net Secure Server CA", ((("MIHDMQswCQYDVQQGEwJVUzEUMBIGA1UEChMLRW50cnVzdC5uZXQxOzA5BgNVBAsTMnd3dy5lbnRy" + "dXN0Lm5ldC9DUFMgaW5jb3JwLiBieSByZWYuIChsaW1pdHMgbGlhYi4pMSUwIwYDVQQLExwoYykg") + "MTk5OSBFbnRydXN0Lm5ldCBMaW1pdGVkMTowOAYDVQQDEzFFbnRydXN0Lm5ldCBTZWN1cmUgU2Vy") + "dmVyIENlcnRpZmljYXRpb24gQXV0aG9yaXR5"), ((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIE2DCCBEGgAwIBAgIEN0rSQzANBgkqhkiG9w0BAQUFADCBwzELMAkGA1UEBhMC\n") + "VVMxFDASBgNVBAoTC0VudHJ1c3QubmV0MTswOQYDVQQLEzJ3d3cuZW50cnVzdC5u\n") + "ZXQvQ1BTIGluY29ycC4gYnkgcmVmLiAobGltaXRzIGxpYWIuKTElMCMGA1UECxMc\n") + "KGMpIDE5OTkgRW50cnVzdC5uZXQgTGltaXRlZDE6MDgGA1UEAxMxRW50cnVzdC5u\n") + "ZXQgU2VjdXJlIFNlcnZlciBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05OTA1\n") + "MjUxNjA5NDBaFw0xOTA1MjUxNjM5NDBaMIHDMQswCQYDVQQGEwJVUzEUMBIGA1UE\n") + "ChMLRW50cnVzdC5uZXQxOzA5BgNVBAsTMnd3dy5lbnRydXN0Lm5ldC9DUFMgaW5j\n") + "b3JwLiBieSByZWYuIChsaW1pdHMgbGlhYi4pMSUwIwYDVQQLExwoYykgMTk5OSBF\n") + "bnRydXN0Lm5ldCBMaW1pdGVkMTowOAYDVQQDEzFFbnRydXN0Lm5ldCBTZWN1cmUg\n") + "U2VydmVyIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MIGdMA0GCSqGSIb3DQEBAQUA\n") + "A4GLADCBhwKBgQDNKIM0VBuJ8w+vN5Ex/68xYMmo6LIQaO2f55M28Qpku0f1BBc/\n") + "I0dNxScZgSYMVHINiC3ZH5oSn7yzcdOAGT9HZnuMNSjSuQrfJNqc1lB5gXpa0zf3\n") + "wkrYKZImZNHkmGw6AIr1NJtl+O3jEP/9uElY3KDegjlrgbEWGWG5VLbmQwIBA6OC\n") + "AdcwggHTMBEGCWCGSAGG+EIBAQQEAwIABzCCARkGA1UdHwSCARAwggEMMIHeoIHb\n") + "oIHYpIHVMIHSMQswCQYDVQQGEwJVUzEUMBIGA1UEChMLRW50cnVzdC5uZXQxOzA5\n") + "BgNVBAsTMnd3dy5lbnRydXN0Lm5ldC9DUFMgaW5jb3JwLiBieSByZWYuIChsaW1p\n") + "dHMgbGlhYi4pMSUwIwYDVQQLExwoYykgMTk5OSBFbnRydXN0Lm5ldCBMaW1pdGVk\n") + "MTowOAYDVQQDEzFFbnRydXN0Lm5ldCBTZWN1cmUgU2VydmVyIENlcnRpZmljYXRp\n") + "b24gQXV0aG9yaXR5MQ0wCwYDVQQDEwRDUkwxMCmgJ6AlhiNodHRwOi8vd3d3LmVu\n") + "dHJ1c3QubmV0L0NSTC9uZXQxLmNybDArBgNVHRAEJDAigA8xOTk5MDUyNTE2MDk0\n") + "MFqBDzIwMTkwNTI1MTYwOTQwWjALBgNVHQ8EBAMCAQYwHwYDVR0jBBgwFoAU8Bdi\n") + "E1U9s/8KAGv7UISX8+1i0BowHQYDVR0OBBYEFPAXYhNVPbP/CgBr+1CEl/PtYtAa\n") + "MAwGA1UdEwQFMAMBAf8wGQYJKoZIhvZ9B0EABAwwChsEVjQuMAMCBJAwDQYJKoZI\n") + "hvcNAQEFBQADgYEAkNwwAvpkdMKnCqV8IY00F6j7Rw7/JXyNEwr75Ji174z4xRAN\n") + "95K+8cPV1ZVqBLssziY2ZcgxxufuP+NXdYR6Ee9GTxj005i7qIcyunL2POI9n9cd\n") + "2cNgQ4xYDiKWL2KjLB+6rQXvqzJ4h6BUcxm1XAX5Uj5tLUUL9wqT6u0G+bI=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Entrust.net Secure Personal CA", ((("MIHJMQswCQYDVQQGEwJVUzEUMBIGA1UEChMLRW50cnVzdC5uZXQxSDBGBgNVBAsUP3d3dy5lbnRy" + "dXN0Lm5ldC9DbGllbnRfQ0FfSW5mby9DUFMgaW5jb3JwLiBieSByZWYuIGxpbWl0cyBsaWFiLjEl") + "MCMGA1UECxMcKGMpIDE5OTkgRW50cnVzdC5uZXQgTGltaXRlZDEzMDEGA1UEAxMqRW50cnVzdC5u") + "ZXQgQ2xpZW50IENlcnRpZmljYXRpb24gQXV0aG9yaXR5"), (((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIE7TCCBFagAwIBAgIEOAOR7jANBgkqhkiG9w0BAQQFADCByTELMAkGA1UEBhMC\n") + "VVMxFDASBgNVBAoTC0VudHJ1c3QubmV0MUgwRgYDVQQLFD93d3cuZW50cnVzdC5u\n") + "ZXQvQ2xpZW50X0NBX0luZm8vQ1BTIGluY29ycC4gYnkgcmVmLiBsaW1pdHMgbGlh\n") + "Yi4xJTAjBgNVBAsTHChjKSAxOTk5IEVudHJ1c3QubmV0IExpbWl0ZWQxMzAxBgNV\n") + "BAMTKkVudHJ1c3QubmV0IENsaWVudCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAe\n") + "Fw05OTEwMTIxOTI0MzBaFw0xOTEwMTIxOTU0MzBaMIHJMQswCQYDVQQGEwJVUzEU\n") + "MBIGA1UEChMLRW50cnVzdC5uZXQxSDBGBgNVBAsUP3d3dy5lbnRydXN0Lm5ldC9D\n") + "bGllbnRfQ0FfSW5mby9DUFMgaW5jb3JwLiBieSByZWYuIGxpbWl0cyBsaWFiLjEl\n") + "MCMGA1UECxMcKGMpIDE5OTkgRW50cnVzdC5uZXQgTGltaXRlZDEzMDEGA1UEAxMq\n") + "RW50cnVzdC5uZXQgQ2xpZW50IENlcnRpZmljYXRpb24gQXV0aG9yaXR5MIGdMA0G\n") + "CSqGSIb3DQEBAQUAA4GLADCBhwKBgQDIOpleMRffrCdvkHvkGf9FozTC28GoT/Bo\n") + "6oT9n3V5z8GKUZSvx1cDR2SerYIbWtp/N3hHuzeYEpbOxhN979IMMFGpOZ5V+Pux\n") + "5zDeg7K6PvHViTs7hbqqdCz+PzFur5GVbgbUB01LLFZHGARS2g4Qk79jkJvh34zm\n") + "AqTmT173iwIBA6OCAeAwggHcMBEGCWCGSAGG+EIBAQQEAwIABzCCASIGA1UdHwSC\n") + "ARkwggEVMIHkoIHhoIHepIHbMIHYMQswCQYDVQQGEwJVUzEUMBIGA1UEChMLRW50\n") + "cnVzdC5uZXQxSDBGBgNVBAsUP3d3dy5lbnRydXN0Lm5ldC9DbGllbnRfQ0FfSW5m\n") + "by9DUFMgaW5jb3JwLiBieSByZWYuIGxpbWl0cyBsaWFiLjElMCMGA1UECxMcKGMp\n") + "IDE5OTkgRW50cnVzdC5uZXQgTGltaXRlZDEzMDEGA1UEAxMqRW50cnVzdC5uZXQg\n") + "Q2xpZW50IENlcnRpZmljYXRpb24gQXV0aG9yaXR5MQ0wCwYDVQQDEwRDUkwxMCyg\n") + "KqAohiZodHRwOi8vd3d3LmVudHJ1c3QubmV0L0NSTC9DbGllbnQxLmNybDArBgNV\n") + "HRAEJDAigA8xOTk5MTAxMjE5MjQzMFqBDzIwMTkxMDEyMTkyNDMwWjALBgNVHQ8E\n") + "BAMCAQYwHwYDVR0jBBgwFoAUxPucKXuXzUyW/O5bs8qZdIuV6kwwHQYDVR0OBBYE\n") + "FMT7nCl7l81MlvzuW7PKmXSLlepMMAwGA1UdEwQFMAMBAf8wGQYJKoZIhvZ9B0EA\n") + "BAwwChsEVjQuMAMCBJAwDQYJKoZIhvcNAQEEBQADgYEAP66K8ddmAwWePvrqHEa7\n") + "pFuPeJoSSJn59DXeDDYHAmsQOokUgZwxpnyyQbJq5wcBoUv5nyU7lsqZwz6hURzz\n") + "wy5E97BnRqqS5TvaHBkUODDV4qIxJS7x7EU47fgGWANzYrAQMY9Av2TgXD7FTx/a\n") + "EkP/TOYGJqibGapEPHayXOw=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Entrust.net Premium 2048 Secure Server CA", ((("MIG0MRQwEgYDVQQKEwtFbnRydXN0Lm5ldDFAMD4GA1UECxQ3d3d3LmVudHJ1c3QubmV0L0NQU18y" + "MDQ4IGluY29ycC4gYnkgcmVmLiAobGltaXRzIGxpYWIuKTElMCMGA1UECxMcKGMpIDE5OTkgRW50") + "cnVzdC5uZXQgTGltaXRlZDEzMDEGA1UEAxMqRW50cnVzdC5uZXQgQ2VydGlmaWNhdGlvbiBBdXRo") + "b3JpdHkgKDIwNDgp"), ((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEXDCCA0SgAwIBAgIEOGO5ZjANBgkqhkiG9w0BAQUFADCBtDEUMBIGA1UEChML\n") + "RW50cnVzdC5uZXQxQDA+BgNVBAsUN3d3dy5lbnRydXN0Lm5ldC9DUFNfMjA0OCBp\n") + "bmNvcnAuIGJ5IHJlZi4gKGxpbWl0cyBsaWFiLikxJTAjBgNVBAsTHChjKSAxOTk5\n") + "IEVudHJ1c3QubmV0IExpbWl0ZWQxMzAxBgNVBAMTKkVudHJ1c3QubmV0IENlcnRp\n") + "ZmljYXRpb24gQXV0aG9yaXR5ICgyMDQ4KTAeFw05OTEyMjQxNzUwNTFaFw0xOTEy\n") + "MjQxODIwNTFaMIG0MRQwEgYDVQQKEwtFbnRydXN0Lm5ldDFAMD4GA1UECxQ3d3d3\n") + "LmVudHJ1c3QubmV0L0NQU18yMDQ4IGluY29ycC4gYnkgcmVmLiAobGltaXRzIGxp\n") + "YWIuKTElMCMGA1UECxMcKGMpIDE5OTkgRW50cnVzdC5uZXQgTGltaXRlZDEzMDEG\n") + "A1UEAxMqRW50cnVzdC5uZXQgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgKDIwNDgp\n") + "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArU1LqRKGsuqjIAcVFmQq\n") + "K0vRvwtKTY7tgHalZ7d4QMBzQshowNtTK91euHaYNZOLGp18EzoOH1u3Hs/lJBQe\n") + "sYGpjX24zGtLA/ECDNyrpUAkAH90lKGdCCmziAv1h3edVc3kw37XamSrhRSGlVuX\n") + "MlBvPci6Zgzj/L24ScF2iUkZ/cCovYmjZy/Gn7xxGWC4LeksyZB2ZnuU4q941mVT\n") + "XTzWnLLPKQP5L6RQstRIzgUyVYr9smRMDuSYB3Xbf9+5CFVghTAp+XtIpGmG4zU/\n") + "HoZdenoVve8AjhUiVBcAkCaTvA5JaJG/+EfTnZVCwQ5N328mz8MYIWJmQ3DW1cAH\n") + "4QIDAQABo3QwcjARBglghkgBhvhCAQEEBAMCAAcwHwYDVR0jBBgwFoAUVeSB0RGA\n") + "vtiJuQijMfmhJAkWuXAwHQYDVR0OBBYEFFXkgdERgL7YibkIozH5oSQJFrlwMB0G\n") + "CSqGSIb2fQdBAAQQMA4bCFY1LjA6NC4wAwIEkDANBgkqhkiG9w0BAQUFAAOCAQEA\n") + "WUesIYSKF8mciVMeuoCFGsY8Tj6xnLZ8xpJdGGQC49MGCBFhfGPjK50xA3B20qMo\n") + "oPS7mmNz7W3lKtvtFKkrxjYR0CvrB4ul2p5cGZ1WEvVUKcgF7bISKo30Axv/55IQ\n") + "h7A6tcOdBTcSo8f0FbnVpDkWm1M6I5HxqIKiaohowXkCIryqptau37AUX7iH0N18\n") + "f3v/rxzP5tsHrV7bhZ3QKw0z2wTR5klAEyt2+z7pnIkPFc4YsIV4IU9rTw76NmfN\n") + "B/L/CNDi3tm/Kq+4h4YhPATKt5Rof8886ZjXOP/swNlQ8C5LWK5Gb9Auw2DaclVy\n") + "vUxFnmG6v4SBkgPR0ml8xQ==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Baltimore CyberTrust Root", ("MFoxCzAJBgNVBAYTAklFMRIwEAYDVQQKEwlCYWx0aW1vcmUxEzARBgNVBAsTCkN5YmVyVHJ1c3Qx" + "IjAgBgNVBAMTGUJhbHRpbW9yZSBDeWJlclRydXN0IFJvb3Q="), (((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDdzCCAl+gAwIBAgIEAgAAuTANBgkqhkiG9w0BAQUFADBaMQswCQYDVQQGEwJJ\n") + "RTESMBAGA1UEChMJQmFsdGltb3JlMRMwEQYDVQQLEwpDeWJlclRydXN0MSIwIAYD\n") + "VQQDExlCYWx0aW1vcmUgQ3liZXJUcnVzdCBSb290MB4XDTAwMDUxMjE4NDYwMFoX\n") + "DTI1MDUxMjIzNTkwMFowWjELMAkGA1UEBhMCSUUxEjAQBgNVBAoTCUJhbHRpbW9y\n") + "ZTETMBEGA1UECxMKQ3liZXJUcnVzdDEiMCAGA1UEAxMZQmFsdGltb3JlIEN5YmVy\n") + "VHJ1c3QgUm9vdDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKMEuyKr\n") + "mD1X6CZymrV51Cni4eiVgLGw41uOKymaZN+hXe2wCQVt2yguzmKiYv60iNoS6zjr\n") + "IZ3AQSsBUnuId9Mcj8e6uYi1agnnc+gRQKfRzMpijS3ljwumUNKoUMMo6vWrJYeK\n") + "mpYcqWe4PwzV9/lSEy/CG9VwcPCPwBLKBsua4dnKM3p31vjsufFoREJIE9LAwqSu\n") + "XmD+tqYF/LTdB1kC1FkYmGP1pWPgkAx9XbIGevOF6uvUA65ehD5f/xXtabz5OTZy\n") + "dc93Uk3zyZAsuT3lySNTPx8kmCFcB5kpvcY67Oduhjprl3RjM71oGDHweI12v/ye\n") + "jl0qhqdNkNwnGjkCAwEAAaNFMEMwHQYDVR0OBBYEFOWdWTCCR1jMrPoIVDaGezq1\n") + "BE3wMBIGA1UdEwEB/wQIMAYBAf8CAQMwDgYDVR0PAQH/BAQDAgEGMA0GCSqGSIb3\n") + "DQEBBQUAA4IBAQCFDF2O5G9RaEIFoN27TyclhAO992T9Ldcw46QQF+vaKSm2eT92\n") + "9hkTI7gQCvlYpNRhcL0EYWoSihfVCr3FvDB81ukMJY2GQE/szKN+OMY3EU/t3Wgx\n") + "jkzSswF07r51XgdIGn9w/xZchMB5hbgF/X++ZRGjD8ACtPhSNzkE1akxehi/oCr0\n") + "Epn3o0WC4zxe9Z2etciefC7IpJ5OCBRLbf1wbWsaY71k5h+3zvDyny67G7fyUIhz\n") + "ksLi4xaNmjICq44Y3ekQEe5+NauQrz4wlHrQMz2nZQ/1/I6eYs9HRCwBXbsdtTLS\n") + "R9I4LtD+gdwyah617jzV/OeBHRnDJELqYzmp\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Equifax Secure Global eBusiness CA", ("MFoxCzAJBgNVBAYTAlVTMRwwGgYDVQQKExNFcXVpZmF4IFNlY3VyZSBJbmMuMS0wKwYDVQQDEyRF" + "cXVpZmF4IFNlY3VyZSBHbG9iYWwgZUJ1c2luZXNzIENBLTE="), ((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIICkDCCAfmgAwIBAgIBATANBgkqhkiG9w0BAQQFADBaMQswCQYDVQQGEwJVUzEc\n") + "MBoGA1UEChMTRXF1aWZheCBTZWN1cmUgSW5jLjEtMCsGA1UEAxMkRXF1aWZheCBT\n") + "ZWN1cmUgR2xvYmFsIGVCdXNpbmVzcyBDQS0xMB4XDTk5MDYyMTA0MDAwMFoXDTIw\n") + "MDYyMTA0MDAwMFowWjELMAkGA1UEBhMCVVMxHDAaBgNVBAoTE0VxdWlmYXggU2Vj\n") + "dXJlIEluYy4xLTArBgNVBAMTJEVxdWlmYXggU2VjdXJlIEdsb2JhbCBlQnVzaW5l\n") + "c3MgQ0EtMTCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEAuucXkAJlsTRVPEnC\n") + "UdXfp9E3j9HngXNBUmCbnaEXJnitx7HoJpQytd4zjTov2/KaelpzmKNc6fuKcxtc\n") + "58O/gGzNqfTWK8D3+ZmqY6KxRwIP1ORROhI8bIpaVIRw28HFkM9yRcuoWcDNM50/\n") + "o5brhTMhHD4ePmBudpxnhcXIw2ECAwEAAaNmMGQwEQYJYIZIAYb4QgEBBAQDAgAH\n") + "MA8GA1UdEwEB/wQFMAMBAf8wHwYDVR0jBBgwFoAUvqigdHJQa0S3ySPY+6j/s1dr\n") + "aGwwHQYDVR0OBBYEFL6ooHRyUGtEt8kj2Puo/7NXa2hsMA0GCSqGSIb3DQEBBAUA\n") + "A4GBADDiAVGqx+pf2rnQZQ8w1j7aDRRJbpGTJxQx78T3LUX47Me/okENI7SS+RkA\n") + "Z70Br83gcfxaz2TE4JaY0KNA4gGK7ycH8WUBikQtBmV1UsCGECAhX2xrD2yuCRyv\n") + "8qIYNMR1pHMc8Y3c7635s3a0kr/clRAevsvIO1qEYBlWlKlV\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Equifax Secure eBusiness CA 1", ("MFMxCzAJBgNVBAYTAlVTMRwwGgYDVQQKExNFcXVpZmF4IFNlY3VyZSBJbmMuMSYwJAYDVQQDEx1F" + "cXVpZmF4IFNlY3VyZSBlQnVzaW5lc3MgQ0EtMQ=="), ((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIICgjCCAeugAwIBAgIBBDANBgkqhkiG9w0BAQQFADBTMQswCQYDVQQGEwJVUzEc\n") + "MBoGA1UEChMTRXF1aWZheCBTZWN1cmUgSW5jLjEmMCQGA1UEAxMdRXF1aWZheCBT\n") + "ZWN1cmUgZUJ1c2luZXNzIENBLTEwHhcNOTkwNjIxMDQwMDAwWhcNMjAwNjIxMDQw\n") + "MDAwWjBTMQswCQYDVQQGEwJVUzEcMBoGA1UEChMTRXF1aWZheCBTZWN1cmUgSW5j\n") + "LjEmMCQGA1UEAxMdRXF1aWZheCBTZWN1cmUgZUJ1c2luZXNzIENBLTEwgZ8wDQYJ\n") + "KoZIhvcNAQEBBQADgY0AMIGJAoGBAM4vGbwXt3fek6lfWg0XTzQaDJj0ItlZ1MRo\n") + "RvC0NcWFAyDGr0WlIVFFQesWWDYyb+JQYmT5/VGcqiTZ9J2DKocKIdMSODRsjQBu\n") + "WqDZQu4aIZX5UkxVWsUPOE9G+m34LjXWHXzr4vCwdYDIqROsvojvOm6rXyo4YgKw\n") + "Env+j6YDAgMBAAGjZjBkMBEGCWCGSAGG+EIBAQQEAwIABzAPBgNVHRMBAf8EBTAD\n") + "AQH/MB8GA1UdIwQYMBaAFEp4MlIR21kWNl7fwRQ2QGpHfEyhMB0GA1UdDgQWBBRK\n") + "eDJSEdtZFjZe38EUNkBqR3xMoTANBgkqhkiG9w0BAQQFAAOBgQB1W6ibAxHm6VZM\n") + "zfmpTMANmvPMZWnmJXbMWbfWVMMdzZmsGd20hdXgPfxiIKeES1hl8eL5lSE/9dR+\n") + "WB5Hh1Q+WKG1tfgq73HnvMP2sUlG4tega+VWeponmHxGYhTnyfxuAxJ5gDgdSIKN\n") + "/Bf+KpYrtWKmpj29f5JZzVoqgrI3eQ==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Equifax Secure eBusiness CA 2", ("ME4xCzAJBgNVBAYTAlVTMRcwFQYDVQQKEw5FcXVpZmF4IFNlY3VyZTEmMCQGA1UECxMdRXF1aWZh" + "eCBTZWN1cmUgZUJ1c2luZXNzIENBLTI="), (((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDIDCCAomgAwIBAgIEN3DPtTANBgkqhkiG9w0BAQUFADBOMQswCQYDVQQGEwJV\n") + "UzEXMBUGA1UEChMORXF1aWZheCBTZWN1cmUxJjAkBgNVBAsTHUVxdWlmYXggU2Vj\n") + "dXJlIGVCdXNpbmVzcyBDQS0yMB4XDTk5MDYyMzEyMTQ0NVoXDTE5MDYyMzEyMTQ0\n") + "NVowTjELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDkVxdWlmYXggU2VjdXJlMSYwJAYD\n") + "VQQLEx1FcXVpZmF4IFNlY3VyZSBlQnVzaW5lc3MgQ0EtMjCBnzANBgkqhkiG9w0B\n") + "AQEFAAOBjQAwgYkCgYEA5Dk5kx5SBhsoNviyoynF7Y6yEb3+6+e0dMKP/wXn2Z0G\n") + "vxLIPw7y1tEkshHe0XMJitSxLJgJDR5QRrKDpkWNYmi7hRsgcDKqQM2mll/EcTc/\n") + "BPO3QSQ5BxoeLmFYoBIL5aXfxavqN3HMHMg3OrmXUqesxWoklE6ce8/AatbfIb0C\n") + "AwEAAaOCAQkwggEFMHAGA1UdHwRpMGcwZaBjoGGkXzBdMQswCQYDVQQGEwJVUzEX\n") + "MBUGA1UEChMORXF1aWZheCBTZWN1cmUxJjAkBgNVBAsTHUVxdWlmYXggU2VjdXJl\n") + "IGVCdXNpbmVzcyBDQS0yMQ0wCwYDVQQDEwRDUkwxMBoGA1UdEAQTMBGBDzIwMTkw\n") + "NjIzMTIxNDQ1WjALBgNVHQ8EBAMCAQYwHwYDVR0jBBgwFoAUUJ4L6q9euSBIplBq\n") + "y/3YIHqngnYwHQYDVR0OBBYEFFCeC+qvXrkgSKZQasv92CB6p4J2MAwGA1UdEwQF\n") + "MAMBAf8wGgYJKoZIhvZ9B0EABA0wCxsFVjMuMGMDAgbAMA0GCSqGSIb3DQEBBQUA\n") + "A4GBAAyGgq3oThr1jokn4jVYPSm0B482UJW/bsGe68SQsoWou7dC4A8HOd/7npCy\n") + "0cE+U58DRLB+S/Rv5Hwf5+Kx5Lia78O9zt4LMjTZ3ijtM2vE1Nc9ElirfQkty3D1\n") + "E4qUoSek1nDFbZS1yX2doNLGCEnZZpum0/QL3MUmV+GRMOrN\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Visa International Global Root 2", ("MGExCzAJBgNVBAYTAlVTMQ0wCwYDVQQKEwRWSVNBMS8wLQYDVQQLEyZWaXNhIEludGVybmF0aW9u" + "YWwgU2VydmljZSBBc3NvY2lhdGlvbjESMBAGA1UEAxMJR1AgUm9vdCAy"), (((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDgDCCAmigAwIBAgICAx4wDQYJKoZIhvcNAQEFBQAwYTELMAkGA1UEBhMCVVMx\n") + "DTALBgNVBAoTBFZJU0ExLzAtBgNVBAsTJlZpc2EgSW50ZXJuYXRpb25hbCBTZXJ2\n") + "aWNlIEFzc29jaWF0aW9uMRIwEAYDVQQDEwlHUCBSb290IDIwHhcNMDAwODE2MjI1\n") + "MTAwWhcNMjAwODE1MjM1OTAwWjBhMQswCQYDVQQGEwJVUzENMAsGA1UEChMEVklT\n") + "QTEvMC0GA1UECxMmVmlzYSBJbnRlcm5hdGlvbmFsIFNlcnZpY2UgQXNzb2NpYXRp\n") + "b24xEjAQBgNVBAMTCUdQIFJvb3QgMjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCC\n") + "AQoCggEBAKkBcLWqxEDwq2omYXkZAPy/mzdZDK9vZBv42pWUJGkzEXDK41Z0ohdX\n") + "ZFwgBuHW73G3O/erwWnQSaSxBNf0V2KJXLB1LRckaeNCYOTudNargFbYiCjh+20i\n") + "/SN8RnNPflRzHqgsVVh1t0zzWkWlAhr62p3DRcMiXvOL8WAp0sdftAw6UYPvMPjU\n") + "58fy+pmjIlC++QU3o63tmsPm7IgbthknGziLgE3sucfFicv8GjLtI/C1AVj59o/g\n") + "halMCXI5Etuz9c9OYmTaxhkVOmMd6RdVoUwiPDQyRvhlV7or7zaMavrZ2UT0qt2E\n") + "1w0cslSsMoW0ZA3eQbuxNMYBhjJk1Z8CAwEAAaNCMEAwHQYDVR0OBBYEFJ59SzS/\n") + "ca3CBfYDdYDOqU8axCRMMA8GA1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQDAgEG\n") + "MA0GCSqGSIb3DQEBBQUAA4IBAQAhpXYUVfmtJ3CPPPTVbMjMCqujmAuKBiPFyWHb\n") + "mQdpNSYx/scuhMKZYdQN6X0uEyt8joW2hcdLzzW2LEc9zikv2G+fiRxkk78IvXbQ\n") + "kIqUs38oW26sTTMs7WXcFsziza6kPWKSBpUmv9+55CCmc2rBvveURNZNbyoLaxhN\n") + "dBA2aGpawWqn3TYpjLgwi08hPwAuVDAHOrqK5MOeyti12HvOdUVmB/RtLdh6yumJ\n") + "ivIj2C/LbgA2T/vwLwHMD8AiZfSr4k5hLQOCfZEWtTDVFN5ex5D8ofyrEK9ca3Cn\n") + "B+8phuiyJccg/ybdd+95RBTEvd07xQObdyPsoOy7Wjm1zK0G\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("beTRUSTed Root CA", ("MFoxCzAJBgNVBAYTAldXMRIwEAYDVQQKEwliZVRSVVNUZWQxGzAZBgNVBAMTEmJlVFJVU1RlZCBS" + "b290IENBczEaMBgGA1UEAxMRYmVUUlVTVGVkIFJvb3QgQ0E="), ((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIFLDCCBBSgAwIBAgIEOU99hzANBgkqhkiG9w0BAQUFADBaMQswCQYDVQQGEwJX\n") + "VzESMBAGA1UEChMJYmVUUlVTVGVkMRswGQYDVQQDExJiZVRSVVNUZWQgUm9vdCBD\n") + "QXMxGjAYBgNVBAMTEWJlVFJVU1RlZCBSb290IENBMB4XDTAwMDYyMDE0MjEwNFoX\n") + "DTEwMDYyMDEzMjEwNFowWjELMAkGA1UEBhMCV1cxEjAQBgNVBAoTCWJlVFJVU1Rl\n") + "ZDEbMBkGA1UEAxMSYmVUUlVTVGVkIFJvb3QgQ0FzMRowGAYDVQQDExFiZVRSVVNU\n") + "ZWQgUm9vdCBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANS0c3oT\n") + "CjhVAb6JVuGUntS+WutKNHUbYSnE4a0IYCF4SP+00PpeQY1hRIfo7clY+vyTmt9P\n") + "6j41ffgzeubx181vSUs9Ty1uDoM6GHh3o8/n9E1z2Jo7Gh2+lVPPIJfCzz4kUmwM\n") + "jmVZxXH/YgmPqsWPzGCgc0rXOD8Vcr+il7dw6K/ifhYGTPWqZCZyByWtNfwYsSbX\n") + "2P8ZDoMbjNx4RWc0PfSvHI3kbWvtILNnmrRhyxdviTX/507AMhLn7uzf/5cwdO2N\n") + "R47rtMNE5qdMf1ZD6Li8tr76g5fmu/vEtpO+GRg+jIG5c4gW9JZDnGdzF5DYCW5j\n") + "rEq2I8QBoa2k5MUCAwEAAaOCAfgwggH0MA8GA1UdEwEB/wQFMAMBAf8wggFZBgNV\n") + "HSAEggFQMIIBTDCCAUgGCisGAQQBsT4BAAAwggE4MIIBAQYIKwYBBQUHAgIwgfQa\n") + "gfFSZWxpYW5jZSBvbiB0aGlzIGNlcnRpZmljYXRlIGJ5IGFueSBwYXJ0eSBhc3N1\n") + "bWVzIGFjY2VwdGFuY2Ugb2YgdGhlIHRoZW4gYXBwbGljYWJsZSBzdGFuZGFyZCB0\n") + "ZXJtcyBhbmQgY29uZGl0aW9ucyBvZiB1c2UsIGFuZCBjZXJ0aWZpY2F0aW9uIHBy\n") + "YWN0aWNlIHN0YXRlbWVudCwgd2hpY2ggY2FuIGJlIGZvdW5kIGF0IGJlVFJVU1Rl\n") + "ZCdzIHdlYiBzaXRlLCBodHRwczovL3d3dy5iZVRSVVNUZWQuY29tL3ZhdWx0L3Rl\n") + "cm1zMDEGCCsGAQUFBwIBFiVodHRwczovL3d3dy5iZVRSVVNUZWQuY29tL3ZhdWx0\n") + "L3Rlcm1zMDQGA1UdHwQtMCswKaAnoCWkIzAhMRIwEAYDVQQKEwliZVRSVVNUZWQx\n") + "CzAJBgNVBAYTAldXMB0GA1UdDgQWBBQquZtpLjub2M3eKjEENGvKBxirZzAfBgNV\n") + "HSMEGDAWgBQquZtpLjub2M3eKjEENGvKBxirZzAOBgNVHQ8BAf8EBAMCAf4wDQYJ\n") + "KoZIhvcNAQEFBQADggEBAHlh26Nebhax6nZR+csVm8tpvuaBa58oH2U+3RGFktTo\n") + "Qb9+M70j5/Egv6S0phkBxoyNNXxlpE8JpNbYIxUFE6dDea/bow6be3ga8wSGWsb2\n") + "jCBHOElQBp1yZzrwmAOtlmdE/D8QDYZN5AA7KXvOOzuZhmElQITcE2K3+spZ1gMe\n") + "1lMBzW1MaFVA4e5rxyoAAEiCswoBw2AqDPeCNe5IhpbkdNQ96gFxugR1QKepfzk5\n") + "mlWXKWWuGVUlBXJH0+gY3Ljpr0NzARJ0o+FcXxVdJPP55PS2Z2cS52QiivalQaYc\n") + "tmBjRYoQtLpGEK5BV2VsPyMQPyEQWbfkQN0mDCP2qq4=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("AddTrust Low-Value Services Root", ("MGUxCzAJBgNVBAYTAlNFMRQwEgYDVQQKEwtBZGRUcnVzdCBBQjEdMBsGA1UECxMUQWRkVHJ1c3Qg" + "VFRQIE5ldHdvcmsxITAfBgNVBAMTGEFkZFRydXN0IENsYXNzIDEgQ0EgUm9vdA=="), ((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEGDCCAwCgAwIBAgIBATANBgkqhkiG9w0BAQUFADBlMQswCQYDVQQGEwJTRTEU\n") + "MBIGA1UEChMLQWRkVHJ1c3QgQUIxHTAbBgNVBAsTFEFkZFRydXN0IFRUUCBOZXR3\n") + "b3JrMSEwHwYDVQQDExhBZGRUcnVzdCBDbGFzcyAxIENBIFJvb3QwHhcNMDAwNTMw\n") + "MTAzODMxWhcNMjAwNTMwMTAzODMxWjBlMQswCQYDVQQGEwJTRTEUMBIGA1UEChML\n") + "QWRkVHJ1c3QgQUIxHTAbBgNVBAsTFEFkZFRydXN0IFRUUCBOZXR3b3JrMSEwHwYD\n") + "VQQDExhBZGRUcnVzdCBDbGFzcyAxIENBIFJvb3QwggEiMA0GCSqGSIb3DQEBAQUA\n") + "A4IBDwAwggEKAoIBAQCWltQhSWDia+hBBwzexODcEyPNwTXH+9ZOEQpnXvUGW2ul\n") + "CDtbKRY654eyNAbFvAWlA3yCyykQruGIgb3WntP+LVbBFc7jJp0VLhD7Bo8wBN6n\n") + "tGO0/7Gcrjyvd7ZWxbWroulpOj0OM3kyP3CCkplhbY0wCI9xP6ZIVxn4JdxLZlyl\n") + "dI+Yrsj5wAYi56xz36Uu+1LcsRVlIPo1Zmne3yzxbrww2ywkEtvrNTVokMsAsJch\n") + "PXQhI2U0K7t4WaPW4XY5mqRJjox0r26kmqPZm9I4XJuiGMx1I4S+6+JNM3GOGvDC\n") + "+Mcdoq0Dlyz4zyXG9rgkMbFjXZJ/Y/AlyVMuH79NAgMBAAGjgdIwgc8wHQYDVR0O\n") + "BBYEFJWxtPCUtr3H2tERCSG+wa9J/RB7MAsGA1UdDwQEAwIBBjAPBgNVHRMBAf8E\n") + "BTADAQH/MIGPBgNVHSMEgYcwgYSAFJWxtPCUtr3H2tERCSG+wa9J/RB7oWmkZzBl\n") + "MQswCQYDVQQGEwJTRTEUMBIGA1UEChMLQWRkVHJ1c3QgQUIxHTAbBgNVBAsTFEFk\n") + "ZFRydXN0IFRUUCBOZXR3b3JrMSEwHwYDVQQDExhBZGRUcnVzdCBDbGFzcyAxIENB\n") + "IFJvb3SCAQEwDQYJKoZIhvcNAQEFBQADggEBACxtZBsfzQ3duQH6lmM0MkhHma6X\n") + "7f1yFqZzR1r0693p9db7RcwpiURdv0Y5PejuvE1Uhh4dbOMXJ0PhiVYrqW9yTkkz\n") + "43J8KiOavD7/KCrto/8cI7pDVwlnTUtiBi34/2ydYB7YHEt9tTEv2dB8Xfjea4MY\n") + "eDdXL+gzB2ffHsdrKpV2ro9Xo/D0UrSpUwjP4E/TelOL/bscVjby/rK25Xa71SJl\n") + "pz/+0WatC7xrmYbvP33zGDLKe8bjq2RGlfgmadlVg3sslgf/WSxEo8bl6ancoWOA\n") + "WiFeIc9TVPC6b4nbqKqVz4vjccweGyBECMB6tkD9xOQ14R0WHNC8K47Wcdk=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("AddTrust External Root", ("MG8xCzAJBgNVBAYTAlNFMRQwEgYDVQQKEwtBZGRUcnVzdCBBQjEmMCQGA1UECxMdQWRkVHJ1c3Qg" + "RXh0ZXJuYWwgVFRQIE5ldHdvcmsxIjAgBgNVBAMTGUFkZFRydXN0IEV4dGVybmFsIENBIFJvb3Q="), (((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIENjCCAx6gAwIBAgIBATANBgkqhkiG9w0BAQUFADBvMQswCQYDVQQGEwJTRTEU\n") + "MBIGA1UEChMLQWRkVHJ1c3QgQUIxJjAkBgNVBAsTHUFkZFRydXN0IEV4dGVybmFs\n") + "IFRUUCBOZXR3b3JrMSIwIAYDVQQDExlBZGRUcnVzdCBFeHRlcm5hbCBDQSBSb290\n") + "MB4XDTAwMDUzMDEwNDgzOFoXDTIwMDUzMDEwNDgzOFowbzELMAkGA1UEBhMCU0Ux\n") + "FDASBgNVBAoTC0FkZFRydXN0IEFCMSYwJAYDVQQLEx1BZGRUcnVzdCBFeHRlcm5h\n") + "bCBUVFAgTmV0d29yazEiMCAGA1UEAxMZQWRkVHJ1c3QgRXh0ZXJuYWwgQ0EgUm9v\n") + "dDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALf3GjPm8gAELTngTlvt\n") + "H7xsD821+iO2zt6bETOXpClMfZOfvUq8k+0DGuOPz+VtUFrWlymUWoCwSXrbLpX9\n") + "uMq/NzgtHj6RQa1wVsfwTz/oMp50ysiQVOnGXw94nZpAPA6sYapeFI+eh6FqUNzX\n") + "mk6vBbOmcZSccbNQYArHE504B4YCqOmoaSYYkKtMsE8jqzpPhNjfzp/haW+710LX\n") + "a0Tkx63ubUFfclpxCDezeWWkWaCUN/cALw3CknLa0Dhy2xSoRcRdKn23tNbE7qzN\n") + "E0S3ySvdQwAl+mG5aWpYIxG3pzOPVnVZ9c0p10a3CitlttNCbxWyuHv77+ldU9U0\n") + "WicCAwEAAaOB3DCB2TAdBgNVHQ4EFgQUrb2YejS0Jvf6xCZU7wO94CTLVBowCwYD\n") + "VR0PBAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wgZkGA1UdIwSBkTCBjoAUrb2YejS0\n") + "Jvf6xCZU7wO94CTLVBqhc6RxMG8xCzAJBgNVBAYTAlNFMRQwEgYDVQQKEwtBZGRU\n") + "cnVzdCBBQjEmMCQGA1UECxMdQWRkVHJ1c3QgRXh0ZXJuYWwgVFRQIE5ldHdvcmsx\n") + "IjAgBgNVBAMTGUFkZFRydXN0IEV4dGVybmFsIENBIFJvb3SCAQEwDQYJKoZIhvcN\n") + "AQEFBQADggEBALCb4IUlwtYj4g+WBpKdQZic2YR5gdkeWxQHIzZlj7DYd7usQWxH\n") + "YINRsPkyPef89iYTx4AWpb9a/IfPeHmJIZriTAcKhjW88t5RxNKWt9x+Tu5w/Rw5\n") + "6wwCURQtjr0W4MHfRnXnJK3s9EK0hZNwEGe6nQY1ShjTK3rMUUKhemPR5ruhxSvC\n") + "Nr4TDea9Y355e6cJDUCrat2PisP29owaQgVR1EX1n6diIWgVIEM8med8vSTYqZEX\n") + "c4g/VhsxOBi0cQ+azcgOno4uG+GMmIPLHzHxREzGBHNJdmAPx/i9F4BrLunMTA5a\n") + "mnkPIAou1Z5jJh5VkpTYghdae9C8x49OhgQ=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("AddTrust Public Services Root", ("MGQxCzAJBgNVBAYTAlNFMRQwEgYDVQQKEwtBZGRUcnVzdCBBQjEdMBsGA1UECxMUQWRkVHJ1c3Qg" + "VFRQIE5ldHdvcmsxIDAeBgNVBAMTF0FkZFRydXN0IFB1YmxpYyBDQSBSb290"), ((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEFTCCAv2gAwIBAgIBATANBgkqhkiG9w0BAQUFADBkMQswCQYDVQQGEwJTRTEU\n") + "MBIGA1UEChMLQWRkVHJ1c3QgQUIxHTAbBgNVBAsTFEFkZFRydXN0IFRUUCBOZXR3\n") + "b3JrMSAwHgYDVQQDExdBZGRUcnVzdCBQdWJsaWMgQ0EgUm9vdDAeFw0wMDA1MzAx\n") + "MDQxNTBaFw0yMDA1MzAxMDQxNTBaMGQxCzAJBgNVBAYTAlNFMRQwEgYDVQQKEwtB\n") + "ZGRUcnVzdCBBQjEdMBsGA1UECxMUQWRkVHJ1c3QgVFRQIE5ldHdvcmsxIDAeBgNV\n") + "BAMTF0FkZFRydXN0IFB1YmxpYyBDQSBSb290MIIBIjANBgkqhkiG9w0BAQEFAAOC\n") + "AQ8AMIIBCgKCAQEA6Rowj4OIFMEg2Dybjxt+A3S72mnTRqX4jsIMEZBRpS9mVEBV\n") + "6tsfSlbunyNu9DnLoblv8n75XYcmYZ4c+OLspoH4IcUkzBEMP9smcnrHAZcHF/nX\n") + "GCwwfQ56HmIexkvA/X1id9NEHif2P0tEs7c42TkfYNVRknMDtABp4/MUTu7R3AnP\n") + "dzRGULD4EfL+OHn3Bzn+UZKXC1sIXzSGAa2Il+tmzV7R/9x98oTaunet3IAIx6eH\n") + "1lWfl2royBFkuucZKT8Rs3iQhCBSWxHveNCD9tVIkNAwHM+A+WD+eeSI8t0A65RF\n") + "62WUaUC6wNW0uLp9BBGo6zEFlpROWCGOn9Bg/QIDAQABo4HRMIHOMB0GA1UdDgQW\n") + "BBSBPjfYkrAfd59ctKtzquf2NGAv+jALBgNVHQ8EBAMCAQYwDwYDVR0TAQH/BAUw\n") + "AwEB/zCBjgYDVR0jBIGGMIGDgBSBPjfYkrAfd59ctKtzquf2NGAv+qFopGYwZDEL\n") + "MAkGA1UEBhMCU0UxFDASBgNVBAoTC0FkZFRydXN0IEFCMR0wGwYDVQQLExRBZGRU\n") + "cnVzdCBUVFAgTmV0d29yazEgMB4GA1UEAxMXQWRkVHJ1c3QgUHVibGljIENBIFJv\n") + "b3SCAQEwDQYJKoZIhvcNAQEFBQADggEBAAP3FUr4JNojVhaTdt02KLmuG7jD8WS6\n") + "IBh4lSknVwW8fCr0uVFV2ocC3g8WFzH4qnkuCRO7r7IgGRLlk/lL+YPoRNWyQSW/\n") + "iHVv/xD8SlTQX/D67zZzfRs2RcYhbbQVuE7PnFylPVoAjgbjPGsye/Kf8Lb93/Ao\n") + "GEjwxrzQvzSAlsJKsW2Ox5BF3i9nrEUEo3rcVZLJR2bYGozH7ZxOmuASu7VqTITh\n") + "4SINhwBk/ox9Yjllpu9CtoAlEmEBqCQTcAARJl/6NVDFSMwGR+gn2HCNX2TmoUQm\n") + "XiLsks3/QppEIW1cxeMiHV9HEufOX1362KqxMy3ZdvJOOjMMK7MtkAY=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("AddTrust Qualified Certificates Root", ("MGcxCzAJBgNVBAYTAlNFMRQwEgYDVQQKEwtBZGRUcnVzdCBBQjEdMBsGA1UECxMUQWRkVHJ1c3Qg" + "VFRQIE5ldHdvcmsxIzAhBgNVBAMTGkFkZFRydXN0IFF1YWxpZmllZCBDQSBSb290"), (((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEHjCCAwagAwIBAgIBATANBgkqhkiG9w0BAQUFADBnMQswCQYDVQQGEwJTRTEU\n") + "MBIGA1UEChMLQWRkVHJ1c3QgQUIxHTAbBgNVBAsTFEFkZFRydXN0IFRUUCBOZXR3\n") + "b3JrMSMwIQYDVQQDExpBZGRUcnVzdCBRdWFsaWZpZWQgQ0EgUm9vdDAeFw0wMDA1\n") + "MzAxMDQ0NTBaFw0yMDA1MzAxMDQ0NTBaMGcxCzAJBgNVBAYTAlNFMRQwEgYDVQQK\n") + "EwtBZGRUcnVzdCBBQjEdMBsGA1UECxMUQWRkVHJ1c3QgVFRQIE5ldHdvcmsxIzAh\n") + "BgNVBAMTGkFkZFRydXN0IFF1YWxpZmllZCBDQSBSb290MIIBIjANBgkqhkiG9w0B\n") + "AQEFAAOCAQ8AMIIBCgKCAQEA5B6a/twJWoekn0e+EV+vhDTbYjx5eLfpMLXsDBwq\n") + "xBb/4Oxx64r1EW7tTw2R0hIYLUkVAcKkIhPHEWT/IhKauY5cLwjPcWqzZwFZ8V1G\n") + "87B4pfYOQnrjfxvM0PC3KP0q6p6zsLkEqv32x7SxuCqg+1jxGaBvcCV+PmlKfw8i\n") + "2O+tCBGaKZnhqkRFmhJePp1tUvznoD1oL/BLcHwTOK28FSXx1s6rosAx1i+f4P8U\n") + "WfyEk9mHfExUE+uf0S0R+Bg6Ot4l2ffTQO2kBhLEO+GRwVY18BTcZTYJbqukB8c1\n") + "0cIDMzZbdSZtQvESa0NvS3GU+jQd7RNuyoB/mC9suWXY6QIDAQABo4HUMIHRMB0G\n") + "A1UdDgQWBBQ5lYtii1zJ1IC6WA+XPxUIQ8yYpzALBgNVHQ8EBAMCAQYwDwYDVR0T\n") + "AQH/BAUwAwEB/zCBkQYDVR0jBIGJMIGGgBQ5lYtii1zJ1IC6WA+XPxUIQ8yYp6Fr\n") + "pGkwZzELMAkGA1UEBhMCU0UxFDASBgNVBAoTC0FkZFRydXN0IEFCMR0wGwYDVQQL\n") + "ExRBZGRUcnVzdCBUVFAgTmV0d29yazEjMCEGA1UEAxMaQWRkVHJ1c3QgUXVhbGlm\n") + "aWVkIENBIFJvb3SCAQEwDQYJKoZIhvcNAQEFBQADggEBABmrder4i2VhlRO6aQTv\n") + "hsoToMeqT2QbPxj2qC0sVY8FtzDqQmodwCVRLae/DLPt7wh/bDxGGuoYQ992zPlm\n") + "hpwsaPXpF/gxsxjE1kh9I0xowX67ARRvxdlu3rsEQmr49lx95dr6h+sNNVJn0J6X\n") + "dgWTP5XHAeZpVTh/EGGZyeNfpso+gmNIquIISD6q8rKFYqa0p9m9N5xotS1WfbC3\n") + "P6CxB9bpT9zeRXEwMn8bLgn5v1Kh7sKAPgZcLlVAwRv1cEWw3F369nJad9Jjzc9Y\n") + "iQBCYz95OdBEsIJuQRno3eDBiFrRHnGTHyQwdOUeqN48Jzd/g66ed8/wMLH/S5no\n") + "xqE=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Verisign Time Stamping Authority CA", (("MIGlMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0" + "d29yazE7MDkGA1UECxMyVGVybXMgb2YgdXNlIGF0IGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9y") + "cGEgKGMpMDAxLDAqBgNVBAMTI1ZlcmlTaWduIFRpbWUgU3RhbXBpbmcgQXV0aG9yaXR5IENB"), (((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDzTCCAzagAwIBAgIQU2GyYK7bcY6nlLMTM/QHCTANBgkqhkiG9w0BAQUFADCB\n") + "wTELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMTwwOgYDVQQL\n") + "EzNDbGFzcyAzIFB1YmxpYyBQcmltYXJ5IENlcnRpZmljYXRpb24gQXV0aG9yaXR5\n") + "IC0gRzIxOjA4BgNVBAsTMShjKSAxOTk4IFZlcmlTaWduLCBJbmMuIC0gRm9yIGF1\n") + "dGhvcml6ZWQgdXNlIG9ubHkxHzAdBgNVBAsTFlZlcmlTaWduIFRydXN0IE5ldHdv\n") + "cmswHhcNMDAwOTI2MDAwMDAwWhcNMTAwOTI1MjM1OTU5WjCBpTEXMBUGA1UEChMO\n") + "VmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRydXN0IE5ldHdvcmsx\n") + "OzA5BgNVBAsTMlRlcm1zIG9mIHVzZSBhdCBodHRwczovL3d3dy52ZXJpc2lnbi5j\n") + "b20vcnBhIChjKTAwMSwwKgYDVQQDEyNWZXJpU2lnbiBUaW1lIFN0YW1waW5nIEF1\n") + "dGhvcml0eSBDQTCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEA0hmdZ8IAIVli\n") + "zrQJIkRpivglWtvtDbc2fk7gu5Q+kCWHwmFHKdm9VLhjzCx9abQzNvQ3B5rB3UBU\n") + "/OB4naCTuQk9I1F/RMIUdNsKvsvJMDRAmD7Q1yUQgZS9B0+c1lQn3y6ov8uQjI11\n") + "S7zi6ESHzeZBCiVu6PQkAsVSD27smHUCAwEAAaOB3zCB3DAPBgNVHRMECDAGAQH/\n") + "AgEAMEUGA1UdIAQ+MDwwOgYMYIZIAYb4RQEHFwEDMCowKAYIKwYBBQUHAgEWHGh0\n") + "dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEwMQYDVR0fBCowKDAmoCSgIoYgaHR0\n") + "cDovL2NybC52ZXJpc2lnbi5jb20vcGNhMy5jcmwwCwYDVR0PBAQDAgEGMEIGCCsG\n") + "AQUFBwEBBDYwNDAyBggrBgEFBQcwAaYmFiRodHRwOi8vb2NzcC52ZXJpc2lnbi5j\n") + "b20vb2NzcC9zdGF0dXMwDQYJKoZIhvcNAQEFBQADgYEAgnBold+2DcIBcBlK0lRW\n") + "HqzyRUyHuPU163hLBanInTsZIS5wNEqi9YngFXVF5yg3ADQnKeg3S/LvRJdrF1Ea\n") + "w1adPBqK9kpGRjeM+sv1ZFo4aC4cw+9wzrhGBha/937ntag+RaypJXUie28/sJyU\n") + "58dzq6wf7iWbwBbtt8pb8BQ=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Thawte Time Stamping CA", (("MIGLMQswCQYDVQQGEwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRQwEgYDVQQHEwtEdXJiYW52" + "aWxsZTEPMA0GA1UEChMGVGhhd3RlMR0wGwYDVQQLExRUaGF3dGUgQ2VydGlmaWNhdGlvbjEfMB0G") + "A1UEAxMWVGhhd3RlIFRpbWVzdGFtcGluZyBDQQ=="), (((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIICoTCCAgqgAwIBAgIBADANBgkqhkiG9w0BAQQFADCBizELMAkGA1UEBhMCWkEx\n") + "FTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTEUMBIGA1UEBxMLRHVyYmFudmlsbGUxDzAN\n") + "BgNVBAoTBlRoYXd0ZTEdMBsGA1UECxMUVGhhd3RlIENlcnRpZmljYXRpb24xHzAd\n") + "BgNVBAMTFlRoYXd0ZSBUaW1lc3RhbXBpbmcgQ0EwHhcNOTcwMTAxMDAwMDAwWhcN\n") + "MjAxMjMxMjM1OTU5WjCBizELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4g\n") + "Q2FwZTEUMBIGA1UEBxMLRHVyYmFudmlsbGUxDzANBgNVBAoTBlRoYXd0ZTEdMBsG\n") + "A1UECxMUVGhhd3RlIENlcnRpZmljYXRpb24xHzAdBgNVBAMTFlRoYXd0ZSBUaW1l\n") + "c3RhbXBpbmcgQ0EwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBANYrWHhhRYZT\n") + "6jR7UZztsOYuGA7+4F+oJ9O0yeB8WU4WDnNUYMF/9p8u6TqFJBU820cEY8OexJQa\n") + "Wt9MevPZQx08EHp5JduQ/vBR5zDWQQD9nyjfeb6Uu522FOMjhdepQeBMpHmwKxqL\n") + "8vg7ij5FrHGSALSQQZj7X+36ty6K+Ig3AgMBAAGjEzARMA8GA1UdEwEB/wQFMAMB\n") + "Af8wDQYJKoZIhvcNAQEEBQADgYEAZ9viwuaHPUCDhjc1fR/OmsMMZiCouqoEiYbC\n") + "9RAIDb/LogWK0E02PvTX72nGXuSwlG9KuefeW4i2e9vjJ+V2w/A1wcu1J5szedyQ\n") + "pgCed/r8zSeUQhac0xxo7L9c3eWpexAKMnRUEzGLhQOEkbdYATAUOK8oyvyxUBkZ\n") + "CayJSdM=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Entrust.net Global Secure Server CA", ((("MIG6MRQwEgYDVQQKEwtFbnRydXN0Lm5ldDE/MD0GA1UECxQ2d3d3LmVudHJ1c3QubmV0L1NTTF9D" + "UFMgaW5jb3JwLiBieSByZWYuIChsaW1pdHMgbGlhYi4pMSUwIwYDVQQLExwoYykgMjAwMCBFbnRy") + "dXN0Lm5ldCBMaW1pdGVkMTowOAYDVQQDEzFFbnRydXN0Lm5ldCBTZWN1cmUgU2VydmVyIENlcnRp") + "ZmljYXRpb24gQXV0aG9yaXR5"), (((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIElTCCA/6gAwIBAgIEOJsRPDANBgkqhkiG9w0BAQQFADCBujEUMBIGA1UEChML\n") + "RW50cnVzdC5uZXQxPzA9BgNVBAsUNnd3dy5lbnRydXN0Lm5ldC9TU0xfQ1BTIGlu\n") + "Y29ycC4gYnkgcmVmLiAobGltaXRzIGxpYWIuKTElMCMGA1UECxMcKGMpIDIwMDAg\n") + "RW50cnVzdC5uZXQgTGltaXRlZDE6MDgGA1UEAxMxRW50cnVzdC5uZXQgU2VjdXJl\n") + "IFNlcnZlciBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw0wMDAyMDQxNzIwMDBa\n") + "Fw0yMDAyMDQxNzUwMDBaMIG6MRQwEgYDVQQKEwtFbnRydXN0Lm5ldDE/MD0GA1UE\n") + "CxQ2d3d3LmVudHJ1c3QubmV0L1NTTF9DUFMgaW5jb3JwLiBieSByZWYuIChsaW1p\n") + "dHMgbGlhYi4pMSUwIwYDVQQLExwoYykgMjAwMCBFbnRydXN0Lm5ldCBMaW1pdGVk\n") + "MTowOAYDVQQDEzFFbnRydXN0Lm5ldCBTZWN1cmUgU2VydmVyIENlcnRpZmljYXRp\n") + "b24gQXV0aG9yaXR5MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDHwV9OcfHO\n") + "8GCGD9JYf9Mzly0XonUwtZZkJi9ow0SrqHXmAGc0V55lxyKbc+bT3QgON1WqJUaB\n") + "bL3+qPZ1V1eMkGxKwz6LS0MKyRFWmponIpnPVZ5h2QLifLZ8OAfc439PmrkDQYC2\n") + "dWcTC5/oVzbIXQA23mYU2m52H083jIITiQIDAQABo4IBpDCCAaAwEQYJYIZIAYb4\n") + "QgEBBAQDAgAHMIHjBgNVHR8EgdswgdgwgdWggdKggc+kgcwwgckxFDASBgNVBAoT\n") + "C0VudHJ1c3QubmV0MT8wPQYDVQQLFDZ3d3cuZW50cnVzdC5uZXQvU1NMX0NQUyBp\n") + "bmNvcnAuIGJ5IHJlZi4gKGxpbWl0cyBsaWFiLikxJTAjBgNVBAsTHChjKSAyMDAw\n") + "IEVudHJ1c3QubmV0IExpbWl0ZWQxOjA4BgNVBAMTMUVudHJ1c3QubmV0IFNlY3Vy\n") + "ZSBTZXJ2ZXIgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkxDTALBgNVBAMTBENSTDEw\n") + "KwYDVR0QBCQwIoAPMjAwMDAyMDQxNzIwMDBagQ8yMDIwMDIwNDE3NTAwMFowCwYD\n") + "VR0PBAQDAgEGMB8GA1UdIwQYMBaAFMtswGvjuz7L/CKc/vuLkpyw8m4iMB0GA1Ud\n") + "DgQWBBTLbMBr47s+y/winP77i5KcsPJuIjAMBgNVHRMEBTADAQH/MB0GCSqGSIb2\n") + "fQdBAAQQMA4bCFY1LjA6NC4wAwIEkDANBgkqhkiG9w0BAQQFAAOBgQBi24GRzsia\n") + "d0Iv7L0no1MPUBvqTpLwqa+poLpIYcvvyQbvH9X07t9WLebKahlzqlO+krNQAraF\n") + "JnJj2HVQYnUUt7NQGj/KEQALhUVpbbalrlHhStyCP2yMNLJ3a9kC9n8O6mUE8c1U\n") + "yrrJzOCE98g+EZfTYAkYvAX/bIkz8OwVDw==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Entrust.net Global Secure Personal CA", ((("MIG0MRQwEgYDVQQKEwtFbnRydXN0Lm5ldDFAMD4GA1UECxQ3d3d3LmVudHJ1c3QubmV0L0dDQ0Ff" + "Q1BTIGluY29ycC4gYnkgcmVmLiAobGltaXRzIGxpYWIuKTElMCMGA1UECxMcKGMpIDIwMDAgRW50") + "cnVzdC5uZXQgTGltaXRlZDEzMDEGA1UEAxMqRW50cnVzdC5uZXQgQ2xpZW50IENlcnRpZmljYXRp") + "b24gQXV0aG9yaXR5"), (((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEgzCCA+ygAwIBAgIEOJ725DANBgkqhkiG9w0BAQQFADCBtDEUMBIGA1UEChML\n") + "RW50cnVzdC5uZXQxQDA+BgNVBAsUN3d3dy5lbnRydXN0Lm5ldC9HQ0NBX0NQUyBp\n") + "bmNvcnAuIGJ5IHJlZi4gKGxpbWl0cyBsaWFiLikxJTAjBgNVBAsTHChjKSAyMDAw\n") + "IEVudHJ1c3QubmV0IExpbWl0ZWQxMzAxBgNVBAMTKkVudHJ1c3QubmV0IENsaWVu\n") + "dCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw0wMDAyMDcxNjE2NDBaFw0yMDAy\n") + "MDcxNjQ2NDBaMIG0MRQwEgYDVQQKEwtFbnRydXN0Lm5ldDFAMD4GA1UECxQ3d3d3\n") + "LmVudHJ1c3QubmV0L0dDQ0FfQ1BTIGluY29ycC4gYnkgcmVmLiAobGltaXRzIGxp\n") + "YWIuKTElMCMGA1UECxMcKGMpIDIwMDAgRW50cnVzdC5uZXQgTGltaXRlZDEzMDEG\n") + "A1UEAxMqRW50cnVzdC5uZXQgQ2xpZW50IENlcnRpZmljYXRpb24gQXV0aG9yaXR5\n") + "MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCTdLS25MVL1qFof2LV7PdRV7Ny\n") + "Spj10InJrWPNTTVRaoTUrcloeW+46xHbh65cJFET8VQlhK8pK5/jgOLZy93GRUk0\n") + "iJBeAZfv6lOm3fzB3ksqJeTpNfpVBQbliXrqpBFXO/x8PTbNZzVtpKklWb1m9fkn\n") + "5JVn1j+SgF7yNH0rhQIDAQABo4IBnjCCAZowEQYJYIZIAYb4QgEBBAQDAgAHMIHd\n") + "BgNVHR8EgdUwgdIwgc+ggcyggcmkgcYwgcMxFDASBgNVBAoTC0VudHJ1c3QubmV0\n") + "MUAwPgYDVQQLFDd3d3cuZW50cnVzdC5uZXQvR0NDQV9DUFMgaW5jb3JwLiBieSBy\n") + "ZWYuIChsaW1pdHMgbGlhYi4pMSUwIwYDVQQLExwoYykgMjAwMCBFbnRydXN0Lm5l\n") + "dCBMaW1pdGVkMTMwMQYDVQQDEypFbnRydXN0Lm5ldCBDbGllbnQgQ2VydGlmaWNh\n") + "dGlvbiBBdXRob3JpdHkxDTALBgNVBAMTBENSTDEwKwYDVR0QBCQwIoAPMjAwMDAy\n") + "MDcxNjE2NDBagQ8yMDIwMDIwNzE2NDY0MFowCwYDVR0PBAQDAgEGMB8GA1UdIwQY\n") + "MBaAFISLdP3FjcD/J20gN0V8/i3OutN9MB0GA1UdDgQWBBSEi3T9xY3A/ydtIDdF\n") + "fP4tzrrTfTAMBgNVHRMEBTADAQH/MB0GCSqGSIb2fQdBAAQQMA4bCFY1LjA6NC4w\n") + "AwIEkDANBgkqhkiG9w0BAQQFAAOBgQBObzWAO9GK9Q6nIMstZVXQkvTnhLUGJoMS\n") + "hAusO7JE7r3PQNsgDrpuFOow4DtifH+La3xKp9U1PL6oXOpLu5OOgGarDyn9TS2/\n") + "GpsKkMWr2tGzhtQvJFJcem3G8v7lTRowjJDyutdKPkN+1MhQGof4T4HHdguEOnKd\n") + "zmVml64mXg==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("AOL Time Warner Root Certification Authority 1", (("MIGDMQswCQYDVQQGEwJVUzEdMBsGA1UEChMUQU9MIFRpbWUgV2FybmVyIEluYy4xHDAaBgNVBAsT" + "E0FtZXJpY2EgT25saW5lIEluYy4xNzA1BgNVBAMTLkFPTCBUaW1lIFdhcm5lciBSb290IENlcnRp") + "ZmljYXRpb24gQXV0aG9yaXR5IDE="), (((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIID5jCCAs6gAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgzELMAkGA1UEBhMCVVMx\n") + "HTAbBgNVBAoTFEFPTCBUaW1lIFdhcm5lciBJbmMuMRwwGgYDVQQLExNBbWVyaWNh\n") + "IE9ubGluZSBJbmMuMTcwNQYDVQQDEy5BT0wgVGltZSBXYXJuZXIgUm9vdCBDZXJ0\n") + "aWZpY2F0aW9uIEF1dGhvcml0eSAxMB4XDTAyMDUyOTA2MDAwMFoXDTM3MTEyMDE1\n") + "MDMwMFowgYMxCzAJBgNVBAYTAlVTMR0wGwYDVQQKExRBT0wgVGltZSBXYXJuZXIg\n") + "SW5jLjEcMBoGA1UECxMTQW1lcmljYSBPbmxpbmUgSW5jLjE3MDUGA1UEAxMuQU9M\n") + "IFRpbWUgV2FybmVyIFJvb3QgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgMTCCASIw\n") + "DQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJnej8Mlo2k06AX3dLm/WpcZuS+U\n") + "0pPlLYnKhHw/EEMbjIt8hFj4JHxIzyr9wBXZGH6EGhfT257XyuTZ16pYUYfw8ItI\n") + "TuLCxFlpMGK2MKKMCxGZYTVtfu/FsRkGIBKOQuHfD5YQUqjPnF+VFNivO3ULMSAf\n") + "RC+iYkGzuxgh28pxPIzstrkNn+9R7017EvILDOGsQI93f7DKeHEMXRZxcKLXwjqF\n") + "zQ6axOAAsNUl6twr5JQtOJyJQVdkKGUZHLZEtMgxa44Be3ZZJX8VHIQIfHNlIAqh\n") + "BC4aMqiaILGcLCFZ5/vP7nAtCMpjPiybkxlqpMKX/7eGV4iFbJ4VFitNLLMCAwEA\n") + "AaNjMGEwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUoTYwFsuGkABFgFOxj8jY\n") + "PXy+XxIwHwYDVR0jBBgwFoAUoTYwFsuGkABFgFOxj8jYPXy+XxIwDgYDVR0PAQH/\n") + "BAQDAgGGMA0GCSqGSIb3DQEBBQUAA4IBAQCKIBilvrMvtKaEAEAwKfq0FHNMeUWn\n") + "9nDg6H5kHgqVfGphwu9OH77/yZkfB2FK4V1Mza3u0FIy2VkyvNp5ctZ7CegCgTXT\n") + "Ct8RHcl5oIBN/lrXVtbtDyqvpxh1MwzqwWEFT2qaifKNuZ8u77BfWgDrvq2g+EQF\n") + "Z7zLBO+eZMXpyD8Fv8YvBxzDNnGGyjhmSs3WuEvGbKeXO/oTLW4jYYehY0KswsuX\n") + "n2Fozy1MBJ3XJU8KDk2QixhWqJNIV9xvrr2eZ1d3iVCzvhGbRWeDhhmH05i9CBoW\n") + "H1iCC+GWaQVLjuyDUTEH1dSf/1l7qG6Fz9NLqUmwX7A5KGgOc90lmt4S\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("AOL Time Warner Root Certification Authority 2", (("MIGDMQswCQYDVQQGEwJVUzEdMBsGA1UEChMUQU9MIFRpbWUgV2FybmVyIEluYy4xHDAaBgNVBAsT" + "E0FtZXJpY2EgT25saW5lIEluYy4xNzA1BgNVBAMTLkFPTCBUaW1lIFdhcm5lciBSb290IENlcnRp") + "ZmljYXRpb24gQXV0aG9yaXR5IDI="), ((((((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIF5jCCA86gAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgzELMAkGA1UEBhMCVVMx\n") + "HTAbBgNVBAoTFEFPTCBUaW1lIFdhcm5lciBJbmMuMRwwGgYDVQQLExNBbWVyaWNh\n") + "IE9ubGluZSBJbmMuMTcwNQYDVQQDEy5BT0wgVGltZSBXYXJuZXIgUm9vdCBDZXJ0\n") + "aWZpY2F0aW9uIEF1dGhvcml0eSAyMB4XDTAyMDUyOTA2MDAwMFoXDTM3MDkyODIz\n") + "NDMwMFowgYMxCzAJBgNVBAYTAlVTMR0wGwYDVQQKExRBT0wgVGltZSBXYXJuZXIg\n") + "SW5jLjEcMBoGA1UECxMTQW1lcmljYSBPbmxpbmUgSW5jLjE3MDUGA1UEAxMuQU9M\n") + "IFRpbWUgV2FybmVyIFJvb3QgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgMjCCAiIw\n") + "DQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBALQ3WggWmRToVbEbJGv8x4vmh6mJ\n") + "7ouZzU9AhqS2TcnZsdw8TQ2FTBVsRotSeJ/4I/1n9SQ6aF3Q92RhQVSji6UI0ilb\n") + "m2BPJoPRYxJWSXakFsKlnUWsi4SVqBax7J/qJBrvuVdcmiQhLE0OcR+mrF1FdAOY\n") + "xFSMFkpBd4aVdQxHAWZg/BXxD+r1FHjHDtdugRxev17nOirYlxcwfACtCJ0zr7iZ\n") + "YYCLqJV+FNwSbKTQ2O9ASQI2+W6p1h2WVgSysy0WVoaP2SBXgM1nEG2wTPDaRrbq\n") + "JS5Gr42whTg0ixQmgiusrpkLjhTXUr2eacOGAgvqdnUxCc4zGSGFQ+aJLZ8lN2fx\n") + "I2rSAG2X+Z/nKcrdH9cG6rjJuQkhn8g/BsXS6RJGAE57COtCPStIbp1n3UsC5ETz\n") + "kxmlJ85per5n0/xQpCyrw2u544BMzwVhSyvcG7mm0tCq9Stz+86QNZ8MUhy/XCFh\n") + "EVsVS6kkUfykXPcXnbDS+gfpj1bkGoxoigTTfFrjnqKhynFbotSg5ymFXQNoKk/S\n") + "Btc9+cMDLz9l+WceR0DTYw/j1Y75hauXTLPXJuuWCpTehTacyH+BCQJJKg71ZDIM\n") + "gtG6aoIbs0t0EfOMd9afv9w3pKdVBC/UMejTRrkDfNoSTllkt1ExMVCgyhwn2RAu\n") + "rda9EGYrw7AiShJbAgMBAAGjYzBhMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYE\n") + "FE9pbQN+nZ8HGEO8txBO1b+pxCAoMB8GA1UdIwQYMBaAFE9pbQN+nZ8HGEO8txBO\n") + "1b+pxCAoMA4GA1UdDwEB/wQEAwIBhjANBgkqhkiG9w0BAQUFAAOCAgEAO/Ouyugu\n") + "h4X7ZVnnrREUpVe8WJ8kEle7+z802u6teio0cnAxa8cZmIDJgt43d15Ui47y6mdP\n") + "yXSEkVYJ1eV6moG2gcKtNuTxVBFT8zRFASbI5Rq8NEQh3q0l/HYWdyGQgJhXnU7q\n") + "7C+qPBR7V8F+GBRn7iTGvboVsNIYvbdVgaxTwOjdaRITQrcCtQVBynlQboIOcXKT\n") + "RuidDV29rs4prWPVVRaAMCf/drr3uNZK49m1+VLQTkCpx+XCMseqdiThawVQ68W/\n") + "ClTluUI8JPu3B5wwn3la5uBAUhX0/Kr0VvlEl4ftDmVyXr4m+02kLQgH3thcoNyB\n") + "M5kYJRF3p+v9WAksmWsbivNSPxpNSGDxoPYzAlOL7SUJuA0t7Zdz7NeWH45gDtoQ\n") + "my8YJPamTQr5O8t1wswvziRpyQoijlmn94IM19drNZxDAGrElWe6nEXLuA4399xO\n") + "AU++CrYD062KRffaJ00psUjf5BHklka9bAI+1lHIlRcBFanyqqryvy9lG2/QuRqT\n") + "9Y41xICHPpQvZuTpqP9BnHAqTyo5GJUefvthATxRCC4oGKQWDzH9OmwjkyB24f0H\n") + "hdFbP9IcczLd+rn4jM8Ch3qaluTtT4mNU0OrDhPAARW0eTjb/G49nlG2uBOLZ8/5\n") + "fNkiHfZdxRwBL5joeiQYvITX+txyW/fBOmg=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("beTRUSTed Root CA-Baltimore Implementation", ("MGYxEjAQBgNVBAoTCWJlVFJVU1RlZDEbMBkGA1UECxMSYmVUUlVTVGVkIFJvb3QgQ0FzMTMwMQYD" + "VQQDEypiZVRSVVNUZWQgUm9vdCBDQS1CYWx0aW1vcmUgSW1wbGVtZW50YXRpb24="), (((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIFajCCBFKgAwIBAgIEPLU9RjANBgkqhkiG9w0BAQUFADBmMRIwEAYDVQQKEwli\n") + "ZVRSVVNUZWQxGzAZBgNVBAsTEmJlVFJVU1RlZCBSb290IENBczEzMDEGA1UEAxMq\n") + "YmVUUlVTVGVkIFJvb3QgQ0EtQmFsdGltb3JlIEltcGxlbWVudGF0aW9uMB4XDTAy\n") + "MDQxMTA3Mzg1MVoXDTIyMDQxMTA3Mzg1MVowZjESMBAGA1UEChMJYmVUUlVTVGVk\n") + "MRswGQYDVQQLExJiZVRSVVNUZWQgUm9vdCBDQXMxMzAxBgNVBAMTKmJlVFJVU1Rl\n") + "ZCBSb290IENBLUJhbHRpbW9yZSBJbXBsZW1lbnRhdGlvbjCCASIwDQYJKoZIhvcN\n") + "AQEBBQADggEPADCCAQoCggEBALx+xDmcjOPWHIb/ymKt4H8wRXqOGrO4x/nRNv8i\n") + "805qX4QQ+2aBw5R5MdKR4XeOGCrDFN5R9U+jK7wYFuK13XneIviCfsuBH/0nLI/6\n") + "l2Qijvj/YaOcGx6Sj8CoCd8JEey3fTGaGuqDIQY8n7pc/5TqarjDa1U0Tz0yH92B\n") + "FODEPM2dMPgwqZfT7syj0B9fHBOB1BirlNFjw55/NZKeX0Tq7PQiXLfoPX2k+Ymp\n") + "kbIq2eszh+6l/ePazIjmiSZuxyuC0F6dWdsU7JGDBcNeDsYq0ATdcT0gTlgn/FP7\n") + "eHgZFLL8kFKJOGJgB7Sg7KxrUNb9uShr71ItOrL/8QFArDcCAwEAAaOCAh4wggIa\n") + "MA8GA1UdEwEB/wQFMAMBAf8wggG1BgNVHSAEggGsMIIBqDCCAaQGDysGAQQBsT4A\n") + "AAEJKIORMTCCAY8wggFIBggrBgEFBQcCAjCCAToaggE2UmVsaWFuY2Ugb24gb3Ig\n") + "dXNlIG9mIHRoaXMgQ2VydGlmaWNhdGUgY3JlYXRlcyBhbiBhY2tub3dsZWRnbWVu\n") + "dCBhbmQgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJk\n") + "IHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgdGhlIENlcnRpZmljYXRpb24g\n") + "UHJhY3RpY2UgU3RhdGVtZW50IGFuZCB0aGUgUmVseWluZyBQYXJ0eSBBZ3JlZW1l\n") + "bnQsIHdoaWNoIGNhbiBiZSBmb3VuZCBhdCB0aGUgYmVUUlVTVGVkIHdlYiBzaXRl\n") + "LCBodHRwOi8vd3d3LmJldHJ1c3RlZC5jb20vcHJvZHVjdHNfc2VydmljZXMvaW5k\n") + "ZXguaHRtbDBBBggrBgEFBQcCARY1aHR0cDovL3d3dy5iZXRydXN0ZWQuY29tL3By\n") + "b2R1Y3RzX3NlcnZpY2VzL2luZGV4Lmh0bWwwHQYDVR0OBBYEFEU9w6nR3D8kVpgc\n") + "cxiIav+DR+22MB8GA1UdIwQYMBaAFEU9w6nR3D8kVpgccxiIav+DR+22MA4GA1Ud\n") + "DwEB/wQEAwIBBjANBgkqhkiG9w0BAQUFAAOCAQEASZK8o+6svfoNyYt5hhwjdrCA\n") + "WXf82n+0S9/DZEtqTg6t8n1ZdwWtColzsPq8y9yNAIiPpqCy6qxSJ7+hSHyXEHu6\n") + "7RMdmgduyzFiEuhjA6p9beP4G3YheBufS0OM00mG9htc9i5gFdPp43t1P9ACg9AY\n") + "gkHNZTfqjjJ+vWuZXTARyNtIVBw74acT02pIk/c9jH8F6M7ziCpjBLjqflh8AXtb\n") + "4cV97yHgjQ5dUX2xZ/2jvTg2xvI4hocalmhgRvsoFEdV4aeADGvi6t9NfJBIoDa9\n") + "CReJf8Py05yc493EG931t3GzUwWJBtDLSoDByFOQtTwxiBdQn8nEDovYqAJjDQ==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("beTRUSTed Root CA - Entrust Implementation", ("MGYxEjAQBgNVBAoTCWJlVFJVU1RlZDEbMBkGA1UECxMSYmVUUlVTVGVkIFJvb3QgQ0FzMTMwMQYD" + "VQQDEypiZVRSVVNUZWQgUm9vdCBDQSAtIEVudHJ1c3QgSW1wbGVtZW50YXRpb24="), ((((((((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIGUTCCBTmgAwIBAgIEPLVPQDANBgkqhkiG9w0BAQUFADBmMRIwEAYDVQQKEwli\n") + "ZVRSVVNUZWQxGzAZBgNVBAsTEmJlVFJVU1RlZCBSb290IENBczEzMDEGA1UEAxMq\n") + "YmVUUlVTVGVkIFJvb3QgQ0EgLSBFbnRydXN0IEltcGxlbWVudGF0aW9uMB4XDTAy\n") + "MDQxMTA4MjQyN1oXDTIyMDQxMTA4NTQyN1owZjESMBAGA1UEChMJYmVUUlVTVGVk\n") + "MRswGQYDVQQLExJiZVRSVVNUZWQgUm9vdCBDQXMxMzAxBgNVBAMTKmJlVFJVU1Rl\n") + "ZCBSb290IENBIC0gRW50cnVzdCBJbXBsZW1lbnRhdGlvbjCCASIwDQYJKoZIhvcN\n") + "AQEBBQADggEPADCCAQoCggEBALr0RAOqEmq1Q+xVkrYwfTVXDNvzDSduTPdQqJtO\n") + "K2/b9a0cS12zqcH+e0TrW6MFDR/FNCswACnxeECypP869AGIF37m1CbTukzqMvtD\n") + "d5eHI8XbQ6P1KqNRXuE70mVpflUVm3rnafdE4Fe1FehmYA8NA/uCjqPoEXtsvsdj\n") + "DheT389Lrm5zdeDzqrmkwAkbhepxKYhBMvnwKg5sCfJ0a2ZsUhMfGLzUPvfYbiCe\n") + "yv78IZTuEyhL11xeDGbu6bsPwTSxfwh28z0mcMmLJR1iJAzqHHVOwBLkuhMdMCkt\n") + "VjMFu5dZfsZJT4nXLySotohAtWSSU1Yk5KKghbNekLQSM80CAwEAAaOCAwUwggMB\n") + "MIIBtwYDVR0gBIIBrjCCAaowggGmBg8rBgEEAbE+AAACCSiDkTEwggGRMIIBSQYI\n") + "KwYBBQUHAgIwggE7GoIBN1JlbGlhbmNlIG9uIG9yIHVzZSBvZiB0aGlzIENlcnRp\n") + "ZmljYXRlIGNyZWF0ZXMgYW4gYWNrbm93bGVkZ21lbnQgYW5kIGFjY2VwdGFuY2Ug\n") + "b2YgdGhlIHRoZW4gYXBwbGljYWJsZSBzdGFuZGFyZCB0ZXJtcyBhbmQgY29uZGl0\n") + "aW9ucyBvZiB1c2UsIHRoZSBDZXJ0aWZpY2F0aW9uIFByYWN0aWNlIFN0YXRlbWVu\n") + "dCBhbmQgdGhlIFJlbHlpbmcgUGFydHkgQWdyZWVtZW50LCB3aGljaCBjYW4gYmUg\n") + "Zm91bmQgYXQgdGhlIGJlVFJVU1RlZCB3ZWIgc2l0ZSwgaHR0cHM6Ly93d3cuYmV0\n") + "cnVzdGVkLmNvbS9wcm9kdWN0c19zZXJ2aWNlcy9pbmRleC5odG1sMEIGCCsGAQUF\n") + "BwIBFjZodHRwczovL3d3dy5iZXRydXN0ZWQuY29tL3Byb2R1Y3RzX3NlcnZpY2Vz\n") + "L2luZGV4Lmh0bWwwEQYJYIZIAYb4QgEBBAQDAgAHMIGJBgNVHR8EgYEwfzB9oHug\n") + "eaR3MHUxEjAQBgNVBAoTCWJlVFJVU1RlZDEbMBkGA1UECxMSYmVUUlVTVGVkIFJv\n") + "b3QgQ0FzMTMwMQYDVQQDEypiZVRSVVNUZWQgUm9vdCBDQSAtIEVudHJ1c3QgSW1w\n") + "bGVtZW50YXRpb24xDTALBgNVBAMTBENSTDEwKwYDVR0QBCQwIoAPMjAwMjA0MTEw\n") + "ODI0MjdagQ8yMDIyMDQxMTA4NTQyN1owCwYDVR0PBAQDAgEGMB8GA1UdIwQYMBaA\n") + "FH1w5a44iwY/qhwaj/nPJDCqhIQWMB0GA1UdDgQWBBR9cOWuOIsGP6ocGo/5zyQw\n") + "qoSEFjAMBgNVHRMEBTADAQH/MB0GCSqGSIb2fQdBAAQQMA4bCFY2LjA6NC4wAwIE\n") + "kDANBgkqhkiG9w0BAQUFAAOCAQEAKrgXzh8QlOu4mre5X+za95IkrNySO8cgjfKZ\n") + "5V04ocI07cUTWVwFtStPYZuR+0H8/NU8TZh2BvWBfevdkObRVlTa4y0MnxEylCIB\n") + "evZsLHRnBMylj44ss0O1lKLQfelifwa+JwGDnjr9iu6YQ0pr17WXOzq/T220Y/oz\n") + "ADQuLW2WyXvKmWO6vvT2MKAtmJbpVkQFqUSjYRDrgqFnXbxdJ3Wqiig2KjiS2d2k\n") + "XgClzMx8KSreKJCrt+G2/30lC0DYqjSjLd4H61/OCt3Kfjp9JsFiaDrmLzfzgYYh\n") + "xKlkqu9FNtEaZnz46TfW1mG+oq1I59/mdP7TbX3SJdysYlep9w==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("beTRUSTed Root CA - RSA Implementation", ("MGIxEjAQBgNVBAoTCWJlVFJVU1RlZDEbMBkGA1UECxMSYmVUUlVTVGVkIFJvb3QgQ0FzMS8wLQYD" + "VQQDEyZiZVRSVVNUZWQgUm9vdCBDQSAtIFJTQSBJbXBsZW1lbnRhdGlvbg=="), (((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIFaDCCBFCgAwIBAgIQO1nHe81bV569N1KsdrSqGjANBgkqhkiG9w0BAQUFADBi\n") + "MRIwEAYDVQQKEwliZVRSVVNUZWQxGzAZBgNVBAsTEmJlVFJVU1RlZCBSb290IENB\n") + "czEvMC0GA1UEAxMmYmVUUlVTVGVkIFJvb3QgQ0EgLSBSU0EgSW1wbGVtZW50YXRp\n") + "b24wHhcNMDIwNDExMTExODEzWhcNMjIwNDEyMTEwNzI1WjBiMRIwEAYDVQQKEwli\n") + "ZVRSVVNUZWQxGzAZBgNVBAsTEmJlVFJVU1RlZCBSb290IENBczEvMC0GA1UEAxMm\n") + "YmVUUlVTVGVkIFJvb3QgQ0EgLSBSU0EgSW1wbGVtZW50YXRpb24wggEiMA0GCSqG\n") + "SIb3DQEBAQUAA4IBDwAwggEKAoIBAQDkujQwCY5X0LkGLG9uJIAiv11DpvpPrILn\n") + "HGhwhRujbrWqeNluB0s/6d/16uhUoWGKDi9pdRi3DOUUjXFumLhV/AyV0Jtu4S2I\n") + "1DpAa5LxmZZk3tv/ePTulh1HiXzUvrmIdyM6CeYEnm2qXtLIvZpOGd+J6lsOfsPk\n") + "tPDgaTuID0GQ+NRxQyTBjyZLO1bp/4xsN+lFrYWMU8NghpBKlsmzVLC7F/AcRdnU\n") + "GxlkVgoZ98zh/4avflherHqQH8koOUV7orbHnB/ahdQhhlkwk75TMzf270HPM8er\n") + "cmsl9fNTGwxMLvF1S++gh/f+ihXQbNXL+WhTuXAVE8L1LvtDNXUtAgMBAAGjggIY\n") + "MIICFDAMBgNVHRMEBTADAQH/MIIBtQYDVR0gBIIBrDCCAagwggGkBg8rBgEEAbE+\n") + "AAADCSiDkTEwggGPMEEGCCsGAQUFBwIBFjVodHRwOi8vd3d3LmJldHJ1c3RlZC5j\n") + "b20vcHJvZHVjdHNfc2VydmljZXMvaW5kZXguaHRtbDCCAUgGCCsGAQUFBwICMIIB\n") + "OhqCATZSZWxpYW5jZSBvbiBvciB1c2Ugb2YgdGhpcyBDZXJ0aWZpY2F0ZSBjcmVh\n") + "dGVzIGFuIGFja25vd2xlZGdtZW50IGFuZCBhY2NlcHRhbmNlIG9mIHRoZSB0aGVu\n") + "IGFwcGxpY2FibGUgc3RhbmRhcmQgdGVybXMgYW5kIGNvbmRpdGlvbnMgb2YgdXNl\n") + "LCB0aGUgQ2VydGlmaWNhdGlvbiBQcmFjdGljZSBTdGF0ZW1lbnQgYW5kIHRoZSBS\n") + "ZWx5aW5nIFBhcnR5IEFncmVlbWVudCwgd2hpY2ggY2FuIGJlIGZvdW5kIGF0IHRo\n") + "ZSBiZVRSVVNUZWQgd2ViIHNpdGUsIGh0dHA6Ly93d3cuYmV0cnVzdGVkLmNvbS9w\n") + "cm9kdWN0c19zZXJ2aWNlcy9pbmRleC5odG1sMAsGA1UdDwQEAwIBBjAfBgNVHSME\n") + "GDAWgBSp7BR++dlDzFMrFK3P9/BZiUHNGTAdBgNVHQ4EFgQUqewUfvnZQ8xTKxSt\n") + "z/fwWYlBzRkwDQYJKoZIhvcNAQEFBQADggEBANuXsHXqDMTBmMpWBcCorSZIry0g\n") + "6IHHtt9DwSwddUvUQo3neqh03GZCWYez9Wlt2ames30cMcH1VOJZJEnl7r05pmuK\n") + "mET7m9cqg5c0Lcd9NUwtNLg+DcTsiCevnpL9UGGCqGAHFFPMZRPB9kdEadIxyKbd\n") + "LrML3kqNWz2rDcI1UqJWN8wyiyiFQpyRQHpwKzg21eFzGh/l+n5f3NacOzDq28Bb\n") + "J1zTcwfBwvNMm2+fG8oeqqg4MwlYsq78B+g23FW6L09A/nq9BqaBwZMifIYRCgZ3\n") + "SK41ty8ymmFei74pnykkiFY5LKjSq5YDWtRIn7lAhAuYaPsBQ9Yb4gmxlxw=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("RSA Security 2048 v3", ("MDoxGTAXBgNVBAoTEFJTQSBTZWN1cml0eSBJbmMxHTAbBgNVBAsTFFJTQSBTZWN1cml0eSAyMDQ4" + "IFYz"), (((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDYTCCAkmgAwIBAgIQCgEBAQAAAnwAAAAKAAAAAjANBgkqhkiG9w0BAQUFADA6\n") + "MRkwFwYDVQQKExBSU0EgU2VjdXJpdHkgSW5jMR0wGwYDVQQLExRSU0EgU2VjdXJp\n") + "dHkgMjA0OCBWMzAeFw0wMTAyMjIyMDM5MjNaFw0yNjAyMjIyMDM5MjNaMDoxGTAX\n") + "BgNVBAoTEFJTQSBTZWN1cml0eSBJbmMxHTAbBgNVBAsTFFJTQSBTZWN1cml0eSAy\n") + "MDQ4IFYzMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAt49VcdKA3Xtp\n") + "eafwGFAyPGJn9gqVB93mG/Oe2dJBVGutn3y+Gc37RqtBaB4Y6lXIL5F4iSj7Jylg\n") + "/9+PjDvJSZu1pJTOAeo+tWN7fyb9Gd3AIb2E0S1PRsNO3Ng3OTsor8udGuorryGl\n") + "wSMiuLgbWhOHV4PR8CDn6E8jQrAApX2J6elhc5SYcSa8LWrg903w8bYqODGBDSnh\n") + "AMFRD0xS+ARaqn1y07iHKrtjEAMqs6FPDVpeRrc9DvV07Jmf+T0kgYim3WBU6JU2\n") + "PcYJk5qjEoAAVZkZR73QpXzDuvsf9/UP+Ky5tfQ3mBMY3oVbtwyCO4dvlTlYMNpu\n") + "AWgXIszACwIDAQABo2MwYTAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQEAwIB\n") + "BjAfBgNVHSMEGDAWgBQHw1EwpKrpRa41JPr/JCwz0LGdjDAdBgNVHQ4EFgQUB8NR\n") + "MKSq6UWuNST6/yQsM9CxnYwwDQYJKoZIhvcNAQEFBQADggEBAF8+hnZuuDU8TjYc\n") + "HnmYv/3VEhF5Ug7uMYm83X/50cYVIeiKAVQNOvtUudZj1LGqlk2iQk3UUx+LEN5/\n") + "Zb5gEydxiKRz44Rj0aRV4VCT5hsOedBnvEbIvz8XDZXmxpBp3ue0L96VfdASPz0+\n") + "f00/FGj1EVDVwfSQpQgdMWD/YIwjVAqv/qFuxdF6Kmh4zx6CCiC0H63lhbJqaHVO\n") + "rSU3lIW+vaHU6rcMSzyd6BIA8F+sDeGscGNz9395nzIlQnQFgCi/vcEkllgVsRch\n") + "6YlL2weIZ/QVrXA+L02FO8K32/6YaCOJ4XQP3vTFhGMpG8zLB8kApKnXwiJPZ9d3\n") + "7CAFYd4=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("RSA Security 1024 v3", ("MDoxGTAXBgNVBAoTEFJTQSBTZWN1cml0eSBJbmMxHTAbBgNVBAsTFFJTQSBTZWN1cml0eSAxMDI0" + "IFYz"), (((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIICXDCCAcWgAwIBAgIQCgEBAQAAAnwAAAALAAAAAjANBgkqhkiG9w0BAQUFADA6\n") + "MRkwFwYDVQQKExBSU0EgU2VjdXJpdHkgSW5jMR0wGwYDVQQLExRSU0EgU2VjdXJp\n") + "dHkgMTAyNCBWMzAeFw0wMTAyMjIyMTAxNDlaFw0yNjAyMjIyMDAxNDlaMDoxGTAX\n") + "BgNVBAoTEFJTQSBTZWN1cml0eSBJbmMxHTAbBgNVBAsTFFJTQSBTZWN1cml0eSAx\n") + "MDI0IFYzMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDV3f5mCc8kPD6ugU5O\n") + "isRpgFtZO9+5TUzKtS3DJy08rwBCbbwoppbPf9dYrIMKo1W1exeQFYRMiu4mmdxY\n") + "78c4pqqv0I5CyGLXq6yp+0p9v+r+Ek3d/yYtbzZUaMjShFbuklNhCbM/OZuoyZu9\n") + "zp9+1BlqFikYvtc6adwlWzMaUQIDAQABo2MwYTAPBgNVHRMBAf8EBTADAQH/MA4G\n") + "A1UdDwEB/wQEAwIBBjAfBgNVHSMEGDAWgBTEwBykB5T9zU0B1FTapQxf3q4FWjAd\n") + "BgNVHQ4EFgQUxMAcpAeU/c1NAdRU2qUMX96uBVowDQYJKoZIhvcNAQEFBQADgYEA\n") + "Py1q4yZDlX2Jl2X7deRyHUZXxGFraZ8SmyzVWujAovBDleMf6XbN3Ou8k6BlCsdN\n") + "T1+nr6JGFLkM88y9am63nd4lQtBU/55oc2PcJOsiv6hy8l4A4Q1OOkNumU4/iXgD\n") + "mMrzVcydro7BqkWY+o8aoI2II/EVQQ2lRj6RP4vr93E=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("GeoTrust Global CA", ("MEIxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1HZW9UcnVzdCBJbmMuMRswGQYDVQQDExJHZW9UcnVz" + "dCBHbG9iYWwgQ0E="), ((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDVDCCAjygAwIBAgIDAjRWMA0GCSqGSIb3DQEBBQUAMEIxCzAJBgNVBAYTAlVT\n") + "MRYwFAYDVQQKEw1HZW9UcnVzdCBJbmMuMRswGQYDVQQDExJHZW9UcnVzdCBHbG9i\n") + "YWwgQ0EwHhcNMDIwNTIxMDQwMDAwWhcNMjIwNTIxMDQwMDAwWjBCMQswCQYDVQQG\n") + "EwJVUzEWMBQGA1UEChMNR2VvVHJ1c3QgSW5jLjEbMBkGA1UEAxMSR2VvVHJ1c3Qg\n") + "R2xvYmFsIENBMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2swYYzD9\n") + "9BcjGlZ+W988bDjkcbd4kdS8odhM+KhDtgPpTSEHCIjaWC9mOSm9BXiLnTjoBbdq\n") + "fnGk5sRgprDvgOSJKA+eJdbtg/OtppHHmMlCGDUUna2YRpIuT8rxh0PBFpVXLVDv\n") + "iS2Aelet8u5fa9IAjbkU+BQVNdnARqN7csiRv8lVK83Qlz6cJmTM386DGXHKTubU\n") + "1XupGc1V3sjs0l44U+VcT4wt/lAjNvxm5suOpDkZALeVAjmRCw7+OC7RHQWa9k0+\n") + "bw8HHa8sHo9gOeL6NlMTOdReJivbPagUvTLrGAMoUgRx5aszPeE4uwc2hGKceeoW\n") + "MPRfwCvocWvk+QIDAQABo1MwUTAPBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQWBBTA\n") + "ephojYn7qwVkDBF9qn1luMrMTjAfBgNVHSMEGDAWgBTAephojYn7qwVkDBF9qn1l\n") + "uMrMTjANBgkqhkiG9w0BAQUFAAOCAQEANeMpauUvXVSOKVCUn5kaFOSPeCpilKIn\n") + "Z57QzxpeR+nBsqTP3UEaBU6bS+5Kb1VSsyShNwrrZHYqLizz/Tt1kL/6cdjHPTfS\n") + "tQWVYrmm3ok9Nns4d0iXrKYgjy6myQzCsplFAMfOEVEiIuCl6rYVSAlk6l5PdPcF\n") + "PseKUgzbFbS9bZvlxrFUaKnjaZC2mqUPuLk/IH2uSrW4nOQdtqvmlKXBx4Ot2/Un\n") + "hw4EbNX/3aBd7YdStysVAq45pmp06drE57xNNB6pXE0zX5IJL4hmXXeXxx12E6nV\n") + "5fEWCRE11azbJHFwLJhWC9kXtNHjUStedejV0NxPNO3CBWaAocvmMw==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("GeoTrust Global CA 2", ("MEQxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1HZW9UcnVzdCBJbmMuMR0wGwYDVQQDExRHZW9UcnVz" + "dCBHbG9iYWwgQ0EgMg=="), (((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDZjCCAk6gAwIBAgIBATANBgkqhkiG9w0BAQUFADBEMQswCQYDVQQGEwJVUzEW\n") + "MBQGA1UEChMNR2VvVHJ1c3QgSW5jLjEdMBsGA1UEAxMUR2VvVHJ1c3QgR2xvYmFs\n") + "IENBIDIwHhcNMDQwMzA0MDUwMDAwWhcNMTkwMzA0MDUwMDAwWjBEMQswCQYDVQQG\n") + "EwJVUzEWMBQGA1UEChMNR2VvVHJ1c3QgSW5jLjEdMBsGA1UEAxMUR2VvVHJ1c3Qg\n") + "R2xvYmFsIENBIDIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDvPE1A\n") + "PRDfO1MA4Wf+lGAVPoWI8YkNkMgoI5kF6CsgncbzYEbYwbLVjDHZ3CB5JIG/NTL8\n") + "Y2nbsSpr7iFY8gjpeMtvy/wWUsiRxP89c96xPqfCfWbB9X5SJBri1WeR0IIQ13hL\n") + "TytCOb1kLUCgsBDTOEhGiKEMuzozKmKY+wCdE1l/bztyqu6mD4b5BWHqZ38MN5aL\n") + "5mkWRxHCJ1kDs6ZgwiFAVvqgx306E+PsV8ez1q6diYD3Aecs9pYrEw15LNnA5IZ7\n") + "S4wMcoKK+xfNAGw6EzywhIdLFnopsk/bHdQL82Y3vdj2V7teJHq4PIu5+pIaGoSe\n") + "2HSPqht/XvT+RSIhAgMBAAGjYzBhMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYE\n") + "FHE4NvICMVNHK266ZUapEBVYIAUJMB8GA1UdIwQYMBaAFHE4NvICMVNHK266ZUap\n") + "EBVYIAUJMA4GA1UdDwEB/wQEAwIBhjANBgkqhkiG9w0BAQUFAAOCAQEAA/e1K6td\n") + "EPx7srJerJsOflN4WT5CBP51o62sgU7XAotexC3IUnbHLB/8gTKY0UvGkpMzNTEv\n") + "/NgdRN3ggX+d6YvhZJFiCzkIjKx0nVnZellSlxG5FntvRdOW2TF9AjYPnDtuzywN\n") + "A0ZF66D0f0hExghAzN4bcLUprbqLOzRldRtxIR0sFAqwlpW41uryZfspuk/qkZN0\n") + "abby/+Ea0AzRdoXLiiW9l14sbxWZJue2Kf8i7MkCx1YAzUm5s2x7UwQa4qjJqhIF\n") + "I8LO57sEAszAR6LkxCkvW0VXiVHuPOtSCP8HNR6fNWpHSlaY0VqFH4z1Ir+rzoPz\n") + "4iIprn2DQKi6bA==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("GeoTrust Universal CA", ("MEUxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1HZW9UcnVzdCBJbmMuMR4wHAYDVQQDExVHZW9UcnVz" + "dCBVbml2ZXJzYWwgQ0E="), (((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIFaDCCA1CgAwIBAgIBATANBgkqhkiG9w0BAQUFADBFMQswCQYDVQQGEwJVUzEW\n") + "MBQGA1UEChMNR2VvVHJ1c3QgSW5jLjEeMBwGA1UEAxMVR2VvVHJ1c3QgVW5pdmVy\n") + "c2FsIENBMB4XDTA0MDMwNDA1MDAwMFoXDTI5MDMwNDA1MDAwMFowRTELMAkGA1UE\n") + "BhMCVVMxFjAUBgNVBAoTDUdlb1RydXN0IEluYy4xHjAcBgNVBAMTFUdlb1RydXN0\n") + "IFVuaXZlcnNhbCBDQTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBAKYV\n") + "VaCjxuAfjJ0hUNfBvitbtaSeodlyWL0AG0y/YckUHUWCq8YdgNY96xCcOq9tJPi8\n") + "cQGeBvV8Xx7BDlXKg5pZMK4ZyzBIle0iN430SppyZj6tlcDgFgDgEB8rMQ7XlFTT\n") + "QjOgNB0eRXbdT8oYN+yFFXoZCPzVx5zw8qkuEKmS5j1YPakWaDwvdSEYfyh3peFh\n") + "F7em6fgemdtzbvQKoiFs7tqqhZJmr/Z6a4LauiIINQ/PQvE1+mrufislzDoR5G2v\n") + "c7J2Ha3QsnhnGqQ5HFELZ1aD/ThdDc7d8Lsrlh/eezJS/R27tQahsiFepdaVaH/w\n") + "mZ7cRQg+59IJDTWU3YBOU5fXtQlEIGQWFwMCTFMNaN7VqnJNk22CDtucvc+081xd\n") + "VHppCZbW2xHBjXWotM85yM48vCR85mLK4b19p71XZQvk/iXttmkQ3CgaRr0BHdCX\n") + "teGYO8A3ZNY9lO4L4fUorgtWv3GLIylBjobFS1J72HGrH4oVpjuDWtdYAVHGTEHZ\n") + "f9hBZ3KiKN9gg6meyHv8U3NyWfWTehd2Ds735VzZC1U0oqpbtWpU5xPKV+yXbfRe\n") + "Bi9Fi1jUIxaS5BZuKGNZMN9QAZxjiRqf2xeUgnA3wySemkfWWspOqGmJch+RbNt+\n") + "nhutxx9z3SxPGWX9f5NAEC7S8O08ni4oPmkmM8V7AgMBAAGjYzBhMA8GA1UdEwEB\n") + "/wQFMAMBAf8wHQYDVR0OBBYEFNq7LqqwDLiIJlF0XG0D08DYj3rWMB8GA1UdIwQY\n") + "MBaAFNq7LqqwDLiIJlF0XG0D08DYj3rWMA4GA1UdDwEB/wQEAwIBhjANBgkqhkiG\n") + "9w0BAQUFAAOCAgEAMXjmx7XfuJRAyXHEqDXsRh3ChfMoWIawC/yOsjmPRFWrZIRc\n") + "aanQmjg8+uUfNeVE44B5lGiku8SfPeE0zTBGi1QrlaXv9z+ZhP015s8xxtxqv6fX\n") + "IwjhmF7DWgh2qaavdy+3YL1ERmrvl/9zlcGO6JP7/TG37FcREUWbMPEaiDnBTzyn\n") + "ANXH/KttgCJwpQzgXQQpAvvLoJHRfNbDflDVnVi+QTjruXU8FdmbyUqDWcDaU/0z\n") + "uzYYm4UPFd3uLax2k7nZAY1IEKj79TiG8dsKxr2EoyNB3tZ3b4XUhRxQ4K5RirqN\n") + "Pnbiucon8l+f725ZDQbYKxek0nxru18UGkiPGkzns0ccjkxFKyDuSN/n3QmOGKja\n") + "QI2SJhFTYXNd673nxE0pN2HrrDktZy4W1vUAg4WhzH92xH3kt0tm7wNFYGm2DFKW\n") + "koRepqO1pD4r2czYG0eq8kTaT/kD6PAUyz/zg97QwVTjt+gKN02LIFkDMBmhLMi9\n") + "ER/frslKxfMnZmaGrGiR/9nmUxwPi1xpZQomyB40w11Re9epnAahNt3ViZS82eQt\n") + "DF4JbAiXfKM9fJP/P6EUp8+1Xevb2xzEdt+Iub1FBZUbrvxGakyvSOPOrg/Sfuvm\n") + "bJxPgWp6ZKy7PtXny3YuxadIwVyQD8vIP/rmMuGNG2+k5o7Y+SlIis5z/iw=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("GeoTrust Universal CA 2", ("MEcxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1HZW9UcnVzdCBJbmMuMSAwHgYDVQQDExdHZW9UcnVz" + "dCBVbml2ZXJzYWwgQ0EgMg=="), (((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIFbDCCA1SgAwIBAgIBATANBgkqhkiG9w0BAQUFADBHMQswCQYDVQQGEwJVUzEW\n") + "MBQGA1UEChMNR2VvVHJ1c3QgSW5jLjEgMB4GA1UEAxMXR2VvVHJ1c3QgVW5pdmVy\n") + "c2FsIENBIDIwHhcNMDQwMzA0MDUwMDAwWhcNMjkwMzA0MDUwMDAwWjBHMQswCQYD\n") + "VQQGEwJVUzEWMBQGA1UEChMNR2VvVHJ1c3QgSW5jLjEgMB4GA1UEAxMXR2VvVHJ1\n") + "c3QgVW5pdmVyc2FsIENBIDIwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoIC\n") + "AQCzVFLByT7y2dyxUxpZKeexw0Uo5dfR7cXFS6GqdHtXr0om/Nj1XqduGdt0DE81\n") + "WzILAePb63p3NeqqWuDW6KFXlPCQo3RWlEQwAx5cTiuFJnSCegx2oG9NzkEtoBUG\n") + "FF+3Qs17j1hhNNwqCPkuwwGmIkQcTAeC5lvO0Ep8BNMZcyfwqph/Lq9O64ceJHdq\n") + "XbboW0W63MOhBW9Wjo8QJqVJwy7XQYci4E+GymC16qFjwAGXEHm9ADwSbSsVsaxL\n") + "se4YuU6W3Nx2/zu+z18DwPw76L5GG//aQMJS9/7jOvdqdzXQ2o3rXhhqMcceujwb\n") + "KNZrVMaqW9eiLBsZzKIC9ptZvTdrhrVtgrrY6slWvKk2WP0+GfPtDCapkzj4T8Fd\n") + "IgbQl+rhrcZV4IErKIM6+vR7IVEAvlI4zs1meaj0gVbi0IMJR1FbUGrP20gaXT73\n") + "y/Zl92zxlfgCOzJWgjl6W70viRu/obTo/3+NjN8D8WBOWBFM66M/ECuDmgFz2ZRt\n") + "hAAnZqzwcEAJQpKtT5MNYQlRJNiS1QuUYbKHsu3/mjX/hVTK7URDrBs8FmtISgoc\n") + "QIgfksILAAX/8sgCSqSqqcyZlpwvWOB94b67B9xfBHJcMTTD7F8t4D1kkCLm0ey4\n") + "Lt1ZrtmhN79UNdxzMk+MBB4zsslG8dhcyFVQyWi9qLo2CQIDAQABo2MwYTAPBgNV\n") + "HRMBAf8EBTADAQH/MB0GA1UdDgQWBBR281Xh+qQ2+/CfXGJx7Tz0RzgQKzAfBgNV\n") + "HSMEGDAWgBR281Xh+qQ2+/CfXGJx7Tz0RzgQKzAOBgNVHQ8BAf8EBAMCAYYwDQYJ\n") + "KoZIhvcNAQEFBQADggIBAGbBxiPz2eAubl/oz66wsCVNK/g7WJtAJDday6sWSf+z\n") + "dXkzoS9tcBc0kf5nfo/sm+VegqlVHy/c1FEHEv6sFj4sNcZj/NwQ6w2jqtB8zNHQ\n") + "L1EuxBRa3ugZ4T7GzKQp5y6EqgYweHZUcyiYWTjgAA1i00J9IZ+uPTqM1fp3DRgr\n") + "Fg5fNuH8KrUwJM/gYwx7WBr+mbpCErGR9Hxo4sjoryzqyX6uuyo9DRXcNJW2GHSo\n") + "ag/HtPQTxORb7QrSpJdMKu0vbBKJPfEncKpqA1Ihn0CoZ1Dy81of398j9tx4TuaY\n") + "T1U6U+Pv8vSfx3zYWK8pIpe44L2RLrB27FcRz+8pRPPphXpgY+RdM4kX2TGq2tbz\n") + "GDVyz4crL2MjhF2EjD9XoIj8mZEoJmmZ1I+XRL6O1UixpCgp8RW04eWe3fiPpm8m\n") + "1wk8OhwRDqZsN/etRIcsKMfYdIKz0G9KV7s1KSegi+ghp4dkNl3M2Basx7InQJJV\n") + "OCiNUW7dFGdTbHFcJoRNdVq2fmBWqU2t+5sel/MN2dKXVHfaPRK34B7vCAas+YWH\n") + "6aLcr34YEoP9VhdBLtUpgn2Z9DH2canPLAEnpQW5qrJITirvn5NSUZU8UnOOVkwX\n") + "QMAJKOSLakhT2+zNVVXxxvjpoixMptEmX36vWkzaH6byHCx+rgIW0lbQL1dTR+iS\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("UTN-USER First-Network Applications", (("MIGjMQswCQYDVQQGEwJVUzELMAkGA1UECBMCVVQxFzAVBgNVBAcTDlNhbHQgTGFrZSBDaXR5MR4w" + "HAYDVQQKExVUaGUgVVNFUlRSVVNUIE5ldHdvcmsxITAfBgNVBAsTGGh0dHA6Ly93d3cudXNlcnRy") + "dXN0LmNvbTErMCkGA1UEAxMiVVROLVVTRVJGaXJzdC1OZXR3b3JrIEFwcGxpY2F0aW9ucw=="), ((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEZDCCA0ygAwIBAgIQRL4Mi1AAJLQR0zYwS8AzdzANBgkqhkiG9w0BAQUFADCB\n") + "ozELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExha2Ug\n") + "Q2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVTVCBOZXR3b3JrMSEwHwYDVQQLExho\n") + "dHRwOi8vd3d3LnVzZXJ0cnVzdC5jb20xKzApBgNVBAMTIlVUTi1VU0VSRmlyc3Qt\n") + "TmV0d29yayBBcHBsaWNhdGlvbnMwHhcNOTkwNzA5MTg0ODM5WhcNMTkwNzA5MTg1\n") + "NzQ5WjCBozELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0\n") + "IExha2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVTVCBOZXR3b3JrMSEwHwYD\n") + "VQQLExhodHRwOi8vd3d3LnVzZXJ0cnVzdC5jb20xKzApBgNVBAMTIlVUTi1VU0VS\n") + "Rmlyc3QtTmV0d29yayBBcHBsaWNhdGlvbnMwggEiMA0GCSqGSIb3DQEBAQUAA4IB\n") + "DwAwggEKAoIBAQCz+5Gh5DZVhawGNFugmliy+LUPBXeDrjKxdpJo7CNKyXY/45y2\n") + "N3kDuatpjQclthln5LAbGHNhSuh+zdMvZOOmfAz6F4CjDUeJT1FxL+78P/m4FoCH\n") + "iZMlIJpDgmkkdihZNaEdwH+DBmQWICzTSaSFtMBhf1EI+GgVkYDLpdXuOzr0hARe\n") + "YFmnjDRy7rh4xdE7EkpvfmUnuaRVxblvQ6TFHSyZwFKkeEwVs0CYCGtDxgGwenv1\n") + "axwiP8vv/6jQOkt2FZ7S0cYu49tXGzKiuG/ohqY/cKvlcJKrRB5AUPuco2LkbG6g\n") + "yN7igEL66S/ozjIEj3yNtxyjNTwV3Z7DrpelAgMBAAGjgZEwgY4wCwYDVR0PBAQD\n") + "AgHGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFPqGydvguul49Uuo1hXf8NPh\n") + "ahQ8ME8GA1UdHwRIMEYwRKBCoECGPmh0dHA6Ly9jcmwudXNlcnRydXN0LmNvbS9V\n") + "VE4tVVNFUkZpcnN0LU5ldHdvcmtBcHBsaWNhdGlvbnMuY3JsMA0GCSqGSIb3DQEB\n") + "BQUAA4IBAQCk8yXM0dSRgyLQzDKrm5ZONJFUICU0YV8qAhXhi6r/fWRRzwr/vH3Y\n") + "IWp4yy9Rb/hCHTO967V7lMPDqaAt39EpHx3+jz+7qEUqf9FuVSTiuwL7MT++6Lzs\n") + "QCv4AdRWOOTKRIK1YSAhZ2X28AvnNPilwpyjXEAfhZOVBt5P1CeptqX8Fs1zMT+4\n") + "ZSfP1FMa8Kxun08FDAOBp4QpxFq9ZFdyrTvPNximmMatBrTcCKME1SmklpoSZ0qM\n") + "YEWd8SOasACcaLWYUNPvji6SZbFIPiG+FTAqDbUMo2s/rn9X9R+WfN9v3YIwLGUb\n") + "QErNaLly7HF27FSOH4UMAWr6pjisH8SE\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("America Online Root Certification Authority 1", ("MGMxCzAJBgNVBAYTAlVTMRwwGgYDVQQKExNBbWVyaWNhIE9ubGluZSBJbmMuMTYwNAYDVQQDEy1B" + "bWVyaWNhIE9ubGluZSBSb290IENlcnRpZmljYXRpb24gQXV0aG9yaXR5IDE="), ((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDpDCCAoygAwIBAgIBATANBgkqhkiG9w0BAQUFADBjMQswCQYDVQQGEwJVUzEc\n") + "MBoGA1UEChMTQW1lcmljYSBPbmxpbmUgSW5jLjE2MDQGA1UEAxMtQW1lcmljYSBP\n") + "bmxpbmUgUm9vdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAxMB4XDTAyMDUyODA2\n") + "MDAwMFoXDTM3MTExOTIwNDMwMFowYzELMAkGA1UEBhMCVVMxHDAaBgNVBAoTE0Ft\n") + "ZXJpY2EgT25saW5lIEluYy4xNjA0BgNVBAMTLUFtZXJpY2EgT25saW5lIFJvb3Qg\n") + "Q2VydGlmaWNhdGlvbiBBdXRob3JpdHkgMTCCASIwDQYJKoZIhvcNAQEBBQADggEP\n") + "ADCCAQoCggEBAKgv6KRpBgNHw+kqmP8ZonCaxlCyfqXfaE0bfA+2l2h9LaaLl+lk\n") + "hsmj76CGv2BlnEtUiMJIxUo5vxTjWVXlGbR0yLQFOVwWpeKVBeASrlmLojNoWBym\n") + "1BW32J/X3HGrfpq/m44zDyL9Hy7nBzbvYjnF3cu6JRQj3gzGPTzOggjmZj7aUTsW\n") + "OqMFf6Dch9Wc/HKpoH145LcxVR5lu9RhsCFg7RAycsWSJR74kEoYeEfffjA3PlAb\n") + "2xzTa5qGUwew76wGePiEmf4hjUyAtgyC9mZweRrTT6PP8c9GsEsPPt2IYriMqQko\n") + "O3rHl+Ee5fSfwMCuJKDIodkP1nsmgmkyPacCAwEAAaNjMGEwDwYDVR0TAQH/BAUw\n") + "AwEB/zAdBgNVHQ4EFgQUAK3Zo/Z59m50qX8zPYEX10zPM94wHwYDVR0jBBgwFoAU\n") + "AK3Zo/Z59m50qX8zPYEX10zPM94wDgYDVR0PAQH/BAQDAgGGMA0GCSqGSIb3DQEB\n") + "BQUAA4IBAQB8itEfGDeC4Liwo+1WlchiYZwFos3CYiZhzRAW18y0ZTTQEYqtqKkF\n") + "Zu90821fnZmv9ov761KyBZiibyrFVL0lvV+uyIbqRizBs73B6UlwGBaXCBOMIOAb\n") + "LjpHyx7kADCVW/RFo8AasAFOq73AI25jP4BKxQft3OJvx8Fi8eNy1gTIdGcL+oir\n") + "oQHIb/AUr9KZzVGTfu0uOMe9zkZQPXLjeSWdm4grECDdpbgyn43gKd8hdIaC2y+C\n") + "MMbHNYaz+ZZfRtsMRf3zUMNvxsNIrUam4SdHCh0Om7bCd39j8uB9Gr784N/Xx6ds\n") + "sPmuujz9dLQR6FgNgLzTqIA6me11zEZ7\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("America Online Root Certification Authority 2", ("MGMxCzAJBgNVBAYTAlVTMRwwGgYDVQQKExNBbWVyaWNhIE9ubGluZSBJbmMuMTYwNAYDVQQDEy1B" + "bWVyaWNhIE9ubGluZSBSb290IENlcnRpZmljYXRpb24gQXV0aG9yaXR5IDI="), (((((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIFpDCCA4ygAwIBAgIBATANBgkqhkiG9w0BAQUFADBjMQswCQYDVQQGEwJVUzEc\n") + "MBoGA1UEChMTQW1lcmljYSBPbmxpbmUgSW5jLjE2MDQGA1UEAxMtQW1lcmljYSBP\n") + "bmxpbmUgUm9vdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAyMB4XDTAyMDUyODA2\n") + "MDAwMFoXDTM3MDkyOTE0MDgwMFowYzELMAkGA1UEBhMCVVMxHDAaBgNVBAoTE0Ft\n") + "ZXJpY2EgT25saW5lIEluYy4xNjA0BgNVBAMTLUFtZXJpY2EgT25saW5lIFJvb3Qg\n") + "Q2VydGlmaWNhdGlvbiBBdXRob3JpdHkgMjCCAiIwDQYJKoZIhvcNAQEBBQADggIP\n") + "ADCCAgoCggIBAMxBRR3pPU0Q9oyxQcngXssNt79Hc9PwVU3dxgz6sWYFas14tNwC\n") + "206B89enfHG8dWOgXeMHDEjsJcQDIPT/DjsS/5uN4cbVG7RtIuOx238hZK+GvFci\n") + "KtZHgVdEglZTvYYUAQv8f3SkWq7xuhG1m1hagLQ3eAkzfDJHA1zEpYNI9FdWboE2\n") + "JxhP7JsowtS013wMPgwr38oE18aO6lhOqKSlGBxsRZijQdEt0sdtjRnxrXm3gT+9\n") + "BoInLRBYBbV4Bbkv2wxrkJB+FFk4u5QkE+XRnRTf04JNRvCAOVIyD+OEsnpD8l7e\n") + "Xz8d3eOyG6ChKiMDbi4BFYdcpnV1x5dhvt6G3NRI270qv0pV2uh9UPu0gBe4lL8B\n") + "PeraunzgWGcXuVjgiIZGZ2ydEEdYMtA1fHkqkKJaEBEjNa0vzORKW6fIJ/KD3l67\n") + "Xnfn6KVuY8INXWHQjNJsWiEOyiijzirplcdIz5ZvHZIlyMbGwcEMBawmxNJ10uEq\n") + "Z8A9W6Wa6897GqidFEXlD6CaZd4vKL3Ob5Rmg0gp2OpljK+T2WSfVVcmv2/LNzGZ\n") + "o2C7HK2JNDJiuEMhBnIMoVxtRsX6Kc8w3onccVvdtjc+31D1uAclJuW8tf48ArO3\n") + "+L5DwYcRlJ4jbBeKuIonDFRH8KmzwICMoCfrHRnjB453cMor9H124HhnAgMBAAGj\n") + "YzBhMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFE1FwWg4u3OpaaEg5+31IqEj\n") + "FNeeMB8GA1UdIwQYMBaAFE1FwWg4u3OpaaEg5+31IqEjFNeeMA4GA1UdDwEB/wQE\n") + "AwIBhjANBgkqhkiG9w0BAQUFAAOCAgEAZ2sGuV9FOypLM7PmG2tZTiLMubekJcmn\n") + "xPBUlgtk87FYT15R/LKXeydlwuXK5w0MJXti4/qftIe3RUavg6WXSIylvfEWK5t2\n") + "LHo1YGwRgJfMqZJS5ivmae2p+DYtLHe/YUjRYwu5W1LtGLBDQiKmsXeu3mnFzccc\n") + "obGlHBD7GL4acN3Bkku+KVqdPzW+5X1R+FXgJXUjhx5c3LqdsKyzadsXg8n33gy8\n") + "CNyRnqjQ1xU3c6U1uPx+xURABsPr+CKAXEfOAuMRn0T//ZoyzH1kUQ7rVyZ2OuMe\n") + "IjzCpjbdGe+n/BLzJsBZMYVMnNjP36TMzCmT/5RtdlwTCJfy7aULTd3oyWgOZtMA\n") + "DjMSW7yV5TKQqLPGbIOtd+6Lfn6xqavT4fG2wLHqiMDn05DpKJKUe2h7lyoKZy2F\n") + "AjgQ5ANh1NolNscIWC2hp1GvMApJ9aZphwctREZ2jirlmjvXGKL8nDgQzMY70rUX\n") + "Om/9riW99XJZZLF0KjhfGEzfz3EEWjbUvy+ZnOjZurGV5gJLIaFb1cFPj65pbVPb\n") + "AZO1XB4Y3WRayhgoPmMEEf0cjQAPuDffZ4qdZqkCapH/E8ovXYO8h5Ns3CRRFgQl\n") + "Zvqz2cK6Kb6aSDiCmfS/O0oxGfm/jiEzFMpPVF/7zvuPcX/9XhmgD0uRuMRUvAaw\n") + "RY8mkaKO/qk=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Visa eCommerce Root", ("MGsxCzAJBgNVBAYTAlVTMQ0wCwYDVQQKEwRWSVNBMS8wLQYDVQQLEyZWaXNhIEludGVybmF0aW9u" + "YWwgU2VydmljZSBBc3NvY2lhdGlvbjEcMBoGA1UEAxMTVmlzYSBlQ29tbWVyY2UgUm9vdA=="), ((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDojCCAoqgAwIBAgIQE4Y1TR0/BvLB+WUF1ZAcYjANBgkqhkiG9w0BAQUFADBr\n") + "MQswCQYDVQQGEwJVUzENMAsGA1UEChMEVklTQTEvMC0GA1UECxMmVmlzYSBJbnRl\n") + "cm5hdGlvbmFsIFNlcnZpY2UgQXNzb2NpYXRpb24xHDAaBgNVBAMTE1Zpc2EgZUNv\n") + "bW1lcmNlIFJvb3QwHhcNMDIwNjI2MDIxODM2WhcNMjIwNjI0MDAxNjEyWjBrMQsw\n") + "CQYDVQQGEwJVUzENMAsGA1UEChMEVklTQTEvMC0GA1UECxMmVmlzYSBJbnRlcm5h\n") + "dGlvbmFsIFNlcnZpY2UgQXNzb2NpYXRpb24xHDAaBgNVBAMTE1Zpc2EgZUNvbW1l\n") + "cmNlIFJvb3QwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCvV95WHm6h\n") + "2mCxlCfLF9sHP4CFT8icttD0b0/Pmdjh28JIXDqsOTPHH2qLJj0rNfVIsZHBAk4E\n") + "lpF7sDPwsRROEW+1QK8bRaVK7362rPKgH1g/EkZgPI2h4H3PVz4zHvtH8aoVlwdV\n") + "ZqW1LS7YgFmypw23RuwhY/81q6UCzyr0TP579ZRdhE2o8mCP2w4lPJ9zcc+U30rq\n") + "299yOIzzlr3xF7zSujtFWsan9sYXiwGd/BmoKoMWuDpI/k4+oKsGGelT84ATB+0t\n") + "vz8KPFUgOSwsAGl0lUq8ILKpeeUYiZGo3BxN77t+Nwtd/jmliFKMAGzsGHxBvfaL\n") + "dXe6YJ2E5/4tAgMBAAGjQjBAMA8GA1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQD\n") + "AgEGMB0GA1UdDgQWBBQVOIMPPyw/cDMezUb+B4wg4NfDtzANBgkqhkiG9w0BAQUF\n") + "AAOCAQEAX/FBfXxcCLkr4NWSR/pnXKUTwwMhmytMiUbPWU3J/qVAtmPN3XEolWcR\n") + "zCSs00Rsca4BIGsDoo8Ytyk6feUWYFN4PMCvFYP3j1IzJL1kk5fui/fbGKhtcbP3\n") + "LBfQdCVp9/5rPJS+TUtBjE7ic9DjkCJzQ83z7+pzzkWKsKZJ/0x9nXGIxHYdkFsd\n") + "7v3M9+79YKWxehZx0RbQfBI8bGmX265fOZpwLwU8GUYEmSA20GBuYQa7FkKMcPcw\n") + "++DbZqMAAb3mLNqRX6BGi01qnD093QVG/na/oAo85ADmJ7f/hC3euiInlhBx6yLt\n") + "398znM/jra6O1I7mT1GvFpLgXPYHDw==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("TC TrustCenter, Germany, Class 2 CA", ((("MIG8MQswCQYDVQQGEwJERTEQMA4GA1UECBMHSGFtYnVyZzEQMA4GA1UEBxMHSGFtYnVyZzE6MDgG" + "A1UEChMxVEMgVHJ1c3RDZW50ZXIgZm9yIFNlY3VyaXR5IGluIERhdGEgTmV0d29ya3MgR21iSDEi") + "MCAGA1UECxMZVEMgVHJ1c3RDZW50ZXIgQ2xhc3MgMiBDQTEpMCcGCSqGSIb3DQEJARYaY2VydGlm") + "aWNhdGVAdHJ1c3RjZW50ZXIuZGU="), ((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDXDCCAsWgAwIBAgICA+owDQYJKoZIhvcNAQEEBQAwgbwxCzAJBgNVBAYTAkRF\n") + "MRAwDgYDVQQIEwdIYW1idXJnMRAwDgYDVQQHEwdIYW1idXJnMTowOAYDVQQKEzFU\n") + "QyBUcnVzdENlbnRlciBmb3IgU2VjdXJpdHkgaW4gRGF0YSBOZXR3b3JrcyBHbWJI\n") + "MSIwIAYDVQQLExlUQyBUcnVzdENlbnRlciBDbGFzcyAyIENBMSkwJwYJKoZIhvcN\n") + "AQkBFhpjZXJ0aWZpY2F0ZUB0cnVzdGNlbnRlci5kZTAeFw05ODAzMDkxMTU5NTla\n") + "Fw0xMTAxMDExMTU5NTlaMIG8MQswCQYDVQQGEwJERTEQMA4GA1UECBMHSGFtYnVy\n") + "ZzEQMA4GA1UEBxMHSGFtYnVyZzE6MDgGA1UEChMxVEMgVHJ1c3RDZW50ZXIgZm9y\n") + "IFNlY3VyaXR5IGluIERhdGEgTmV0d29ya3MgR21iSDEiMCAGA1UECxMZVEMgVHJ1\n") + "c3RDZW50ZXIgQ2xhc3MgMiBDQTEpMCcGCSqGSIb3DQEJARYaY2VydGlmaWNhdGVA\n") + "dHJ1c3RjZW50ZXIuZGUwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBANo46O0y\n") + "AClxgwENv4wB3NrGrTmkqYov1YtcaF9QxmL1Zr3KkSLsqh1R1z2zUbKDTl3LSbDw\n") + "TFXlay3HhQswHJJOgtTKAu33b77c4OMUuAVT8pr0VotanoWT0bSCVq5Nu6hLVxa8\n") + "/vhYnvgpjbB7zXjJT6yLZwzxnPv8V5tXXE8NAgMBAAGjazBpMA8GA1UdEwEB/wQF\n") + "MAMBAf8wDgYDVR0PAQH/BAQDAgGGMDMGCWCGSAGG+EIBCAQmFiRodHRwOi8vd3d3\n") + "LnRydXN0Y2VudGVyLmRlL2d1aWRlbGluZXMwEQYJYIZIAYb4QgEBBAQDAgAHMA0G\n") + "CSqGSIb3DQEBBAUAA4GBAIRS+yjf/x91AbwBvgRWl2p0QiQxg/lGsQaKic+WLDO/\n") + "jLVfenKhhQbOhvgFjuj5Jcrag4wGrOs2bYWRNAQ29ELw+HkuCkhcq8xRT3h2oNms\n") + "Gb0q0WkEKJHKNhAngFdb0lz1wlurZIFjdFH0l7/NEij3TWZ/p/AcASZ4smZHcFFk\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("TC TrustCenter, Germany, Class 3 CA", ((("MIG8MQswCQYDVQQGEwJERTEQMA4GA1UECBMHSGFtYnVyZzEQMA4GA1UEBxMHSGFtYnVyZzE6MDgG" + "A1UEChMxVEMgVHJ1c3RDZW50ZXIgZm9yIFNlY3VyaXR5IGluIERhdGEgTmV0d29ya3MgR21iSDEi") + "MCAGA1UECxMZVEMgVHJ1c3RDZW50ZXIgQ2xhc3MgMyBDQTEpMCcGCSqGSIb3DQEJARYaY2VydGlm") + "aWNhdGVAdHJ1c3RjZW50ZXIuZGU="), ((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDXDCCAsWgAwIBAgICA+swDQYJKoZIhvcNAQEEBQAwgbwxCzAJBgNVBAYTAkRF\n") + "MRAwDgYDVQQIEwdIYW1idXJnMRAwDgYDVQQHEwdIYW1idXJnMTowOAYDVQQKEzFU\n") + "QyBUcnVzdENlbnRlciBmb3IgU2VjdXJpdHkgaW4gRGF0YSBOZXR3b3JrcyBHbWJI\n") + "MSIwIAYDVQQLExlUQyBUcnVzdENlbnRlciBDbGFzcyAzIENBMSkwJwYJKoZIhvcN\n") + "AQkBFhpjZXJ0aWZpY2F0ZUB0cnVzdGNlbnRlci5kZTAeFw05ODAzMDkxMTU5NTla\n") + "Fw0xMTAxMDExMTU5NTlaMIG8MQswCQYDVQQGEwJERTEQMA4GA1UECBMHSGFtYnVy\n") + "ZzEQMA4GA1UEBxMHSGFtYnVyZzE6MDgGA1UEChMxVEMgVHJ1c3RDZW50ZXIgZm9y\n") + "IFNlY3VyaXR5IGluIERhdGEgTmV0d29ya3MgR21iSDEiMCAGA1UECxMZVEMgVHJ1\n") + "c3RDZW50ZXIgQ2xhc3MgMyBDQTEpMCcGCSqGSIb3DQEJARYaY2VydGlmaWNhdGVA\n") + "dHJ1c3RjZW50ZXIuZGUwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBALa0wTUF\n") + "Lg2N7KBAahwOJ6ZQkmtQGwfeLud2zODa/ISoXoxjaitN2U4CdhHBC/KNecoAtvGw\n") + "Dtf7pBc9r6tpepYnv68zoZoqWarEtTcI8hKlMbZD9TKWcSgoq40oht+77uMMfTDW\n") + "w1Krj10nnGvAo+cFa1dJRLNu6mTP0o56UHd3AgMBAAGjazBpMA8GA1UdEwEB/wQF\n") + "MAMBAf8wDgYDVR0PAQH/BAQDAgGGMDMGCWCGSAGG+EIBCAQmFiRodHRwOi8vd3d3\n") + "LnRydXN0Y2VudGVyLmRlL2d1aWRlbGluZXMwEQYJYIZIAYb4QgEBBAQDAgAHMA0G\n") + "CSqGSIb3DQEBBAUAA4GBABY9xs3Bu4VxhUafPiCPUSiZ7C1FIWMjWwS7TJC4iJIE\n") + "Tb19AaM/9uzO8d7+feXhPrvGq14L3T2WxMup1Pkm5gZOngylerpuw3yCGdHHsbHD\n") + "2w2Om0B8NwvxXej9H5CIpQ5ON2QhqE6NtJ/x3kit1VYYUimLRzQSCdS7kjXvD9s0\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Certum Root CA", ("MD4xCzAJBgNVBAYTAlBMMRswGQYDVQQKExJVbml6ZXRvIFNwLiB6IG8uby4xEjAQBgNVBAMTCUNl" + "cnR1bSBDQQ=="), (((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDDDCCAfSgAwIBAgIDAQAgMA0GCSqGSIb3DQEBBQUAMD4xCzAJBgNVBAYTAlBM\n") + "MRswGQYDVQQKExJVbml6ZXRvIFNwLiB6IG8uby4xEjAQBgNVBAMTCUNlcnR1bSBD\n") + "QTAeFw0wMjA2MTExMDQ2MzlaFw0yNzA2MTExMDQ2MzlaMD4xCzAJBgNVBAYTAlBM\n") + "MRswGQYDVQQKExJVbml6ZXRvIFNwLiB6IG8uby4xEjAQBgNVBAMTCUNlcnR1bSBD\n") + "QTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM6xwS7TT3zNJc4YPk/E\n") + "jG+AanPIW1H4m9LcuwBcsaD8dQPugfCI7iNS6eYVM42sLQnFdvkrOYCJ5JdLkKWo\n") + "ePhzQ3ukYbDYWMzhbGZ+nPMJXlVjhNWo7/OxLjBos8Q82KxujZlakE403Daaj4GI\n") + "ULdtlkIJ89eVgw1BS7Bqa/j8D35in2fE7SZfECYPCE/wpFcozo+47UX2bu4lXapu\n") + "Ob7kky/ZR6By6/qmW6/KUz/iDsaWVhFu9+lmqSbYf5VT7QqFiLpPKaVCjF62/IUg\n") + "AKpoC6EahQGcxEZjgoi2IrHu/qpGWX7PNSzVttpd90gzFFS269lvzs2I1qsb2pY7\n") + "HVkCAwEAAaMTMBEwDwYDVR0TAQH/BAUwAwEB/zANBgkqhkiG9w0BAQUFAAOCAQEA\n") + "uI3O7+cUus/usESSbLQ5PqKEbq24IXfS1HeCh+YgQYHu4vgRt2PRFze+GXYkHAQa\n") + "TOs9qmdvLdTN/mUxcMUbpgIKumB7bVjCmkn+YzILa+M6wKyrO7Do0wlRjBCDxjTg\n") + "xSvgGrZgFCdsMneMvLJymM/NzD+5yCRCFNZX/OYmQ6kd5YCQzgNUKD73P9P4Te1q\n") + "CjqTE5s7FCMTY5w/0YcneeVMUeMBrYVdGjux1XMQpNPyvG5k9VpWkKjHDkx0Dy5x\n") + "O/fIR/RpbxXyEV6DHpx8Uq79AtoSqFlnGNu8cN2bsWntgM6JQEhqDjXKKWYVIZQs\n") + "6GAqm4VKQPNriiTsBhYscw==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Comodo AAA Services root", (("MHsxCzAJBgNVBAYTAkdCMRswGQYDVQQIDBJHcmVhdGVyIE1hbmNoZXN0ZXIxEDAOBgNVBAcMB1Nh" + "bGZvcmQxGjAYBgNVBAoMEUNvbW9kbyBDQSBMaW1pdGVkMSEwHwYDVQQDDBhBQUEgQ2VydGlmaWNh") + "dGUgU2VydmljZXM="), (((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEMjCCAxqgAwIBAgIBATANBgkqhkiG9w0BAQUFADB7MQswCQYDVQQGEwJHQjEb\n") + "MBkGA1UECAwSR3JlYXRlciBNYW5jaGVzdGVyMRAwDgYDVQQHDAdTYWxmb3JkMRow\n") + "GAYDVQQKDBFDb21vZG8gQ0EgTGltaXRlZDEhMB8GA1UEAwwYQUFBIENlcnRpZmlj\n") + "YXRlIFNlcnZpY2VzMB4XDTA0MDEwMTAwMDAwMFoXDTI4MTIzMTIzNTk1OVowezEL\n") + "MAkGA1UEBhMCR0IxGzAZBgNVBAgMEkdyZWF0ZXIgTWFuY2hlc3RlcjEQMA4GA1UE\n") + "BwwHU2FsZm9yZDEaMBgGA1UECgwRQ29tb2RvIENBIExpbWl0ZWQxITAfBgNVBAMM\n") + "GEFBQSBDZXJ0aWZpY2F0ZSBTZXJ2aWNlczCCASIwDQYJKoZIhvcNAQEBBQADggEP\n") + "ADCCAQoCggEBAL5AnfRu4ep2hxxNRUSOvkbIgwadwSr+GB+O5AL686tdUIoWMQua\n") + "BtDFcCLNSS1UY8y2bmhGC1Pqy0wkwLxyTurxFa70VJoSCsN6sjNg4tqJVfMiWPPe\n") + "3M/vg4aijJRPn2jymJBGhCfHdr/jzDUsi14HZGWCwEiwqJH5YZ92IFCokcdmtet4\n") + "YgNW8IoaE+oxox6gmf049vYnMlhvB/VruPsUK6+3qszWY19zjNoFmag4qMsXeDZR\n") + "rOme9Hg6jc8P2ULimAyrL58OAd7vn5lJ8S3frHRNG5i1R8XlKdH5kBjHYpy+g8cm\n") + "ez6KJcfA3Z3mNWgQIJ2P2N7Sw4ScDV7oL8kCAwEAAaOBwDCBvTAdBgNVHQ4EFgQU\n") + "oBEKIz6W8Qfs4q8p74Klf9AwpLQwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQF\n") + "MAMBAf8wewYDVR0fBHQwcjA4oDagNIYyaHR0cDovL2NybC5jb21vZG9jYS5jb20v\n") + "QUFBQ2VydGlmaWNhdGVTZXJ2aWNlcy5jcmwwNqA0oDKGMGh0dHA6Ly9jcmwuY29t\n") + "b2RvLm5ldC9BQUFDZXJ0aWZpY2F0ZVNlcnZpY2VzLmNybDANBgkqhkiG9w0BAQUF\n") + "AAOCAQEACFb8AvCb6P+k+tZ7xkSAzk/ExfYAWMymtrwUSWgEdujm7l3sAg9g1o1Q\n") + "GE8mTgHj5rCl7r+8dFRBv/38ErjHT1r0iWAFf2C3BUrz9vHCv8S5dIa2LX1rzNLz\n") + "Rt0vxuBqw8M0Ayx9lt1awg6nCpnBBYurDC/zXDrPbDdVCYfeU0BsWO/8tqtlbgT2\n") + "G9w84FoVxp7Z8VlIMCFlA2zs6SFz7JsDoeA3raAVGI/6ugLOpyypEBMs1OUIJqsi\n") + "l2D4kF501KKaU73yqWjgom7C12yxow+ev+to51byrvLjKzg6CYG1a4XXvi3tPxq3\n") + "smPi9WIsgtRqAEFQ8TmDn5XpNpaYbg==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Comodo Secure Services root", (("MH4xCzAJBgNVBAYTAkdCMRswGQYDVQQIDBJHcmVhdGVyIE1hbmNoZXN0ZXIxEDAOBgNVBAcMB1Nh" + "bGZvcmQxGjAYBgNVBAoMEUNvbW9kbyBDQSBMaW1pdGVkMSQwIgYDVQQDDBtTZWN1cmUgQ2VydGlm") + "aWNhdGUgU2VydmljZXM="), (((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEPzCCAyegAwIBAgIBATANBgkqhkiG9w0BAQUFADB+MQswCQYDVQQGEwJHQjEb\n") + "MBkGA1UECAwSR3JlYXRlciBNYW5jaGVzdGVyMRAwDgYDVQQHDAdTYWxmb3JkMRow\n") + "GAYDVQQKDBFDb21vZG8gQ0EgTGltaXRlZDEkMCIGA1UEAwwbU2VjdXJlIENlcnRp\n") + "ZmljYXRlIFNlcnZpY2VzMB4XDTA0MDEwMTAwMDAwMFoXDTI4MTIzMTIzNTk1OVow\n") + "fjELMAkGA1UEBhMCR0IxGzAZBgNVBAgMEkdyZWF0ZXIgTWFuY2hlc3RlcjEQMA4G\n") + "A1UEBwwHU2FsZm9yZDEaMBgGA1UECgwRQ29tb2RvIENBIExpbWl0ZWQxJDAiBgNV\n") + "BAMMG1NlY3VyZSBDZXJ0aWZpY2F0ZSBTZXJ2aWNlczCCASIwDQYJKoZIhvcNAQEB\n") + "BQADggEPADCCAQoCggEBAMBxM4KK0HDrc4eCQNUd5MvJDkKQ+d40uaG6EfQlhfPM\n") + "cm3ye5drswfxdySRXyWP9nQ95IDC+DwN879A6vfIUtFyb+/Iq0G4bi4XKpVpDM3S\n") + "HpR7LZQdqnXXs5jLrLxkU0C8j6ysNstcrbvd4JQX7NFc0L/vpZXJkMWwrPsbQ996\n") + "CF23uPJAGysnnlDOXmWCiIxe004MeuoIkbY2qitC++rCoznl2yY4rYsK7hljxxwk\n") + "3wN42ubqwUcaCwtGCd0C/N7Lh1/XMGNooa7cMqG6vv5Eq2i2pRcV/b3Vp6ea5EQz\n") + "6YiO/O1R65NxTq0B50SOqy3LqP4BSUjwwN3HaNiS/j0CAwEAAaOBxzCBxDAdBgNV\n") + "HQ4EFgQUPNiTiMLAggnMAZkGkyDpnnAJY08wDgYDVR0PAQH/BAQDAgEGMA8GA1Ud\n") + "EwEB/wQFMAMBAf8wgYEGA1UdHwR6MHgwO6A5oDeGNWh0dHA6Ly9jcmwuY29tb2Rv\n") + "Y2EuY29tL1NlY3VyZUNlcnRpZmljYXRlU2VydmljZXMuY3JsMDmgN6A1hjNodHRw\n") + "Oi8vY3JsLmNvbW9kby5uZXQvU2VjdXJlQ2VydGlmaWNhdGVTZXJ2aWNlcy5jcmww\n") + "DQYJKoZIhvcNAQEFBQADggEBAIcBbSMdflsXfcFhMs+P5/OKlFlm4J4oqF7Tt/Q0\n") + "5qo5spcWxYJvMqTpjOev/e/C6LlLqqP05tqNZSH7uoDrJiiFGv45jN5bBAS0VPmj\n") + "Z55B+glSzAVIqMk/IQQezkhr/IXownuvf7fM+F86/TXGDe+X3EyrEeFryzHRbPtI\n") + "gKvcnDe4IRRLDXE97IMzbtFuMhbsmMcWi1mmNKsFVy2T96oTy9IT4rcuO81rUBcJ\n") + "aD61JlfutuC23bkpgHl9j6PwpCikFcSF9CfUa7/lXORlAnZUtOM3ZiTTGWHIUhDl\n") + "izeauan5Hb/qmZJhlv8BzaFfDbxxvA6sCx1HRR3B7Hzs/Sk=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Comodo Trusted Services root", (("MH8xCzAJBgNVBAYTAkdCMRswGQYDVQQIDBJHcmVhdGVyIE1hbmNoZXN0ZXIxEDAOBgNVBAcMB1Nh" + "bGZvcmQxGjAYBgNVBAoMEUNvbW9kbyBDQSBMaW1pdGVkMSUwIwYDVQQDDBxUcnVzdGVkIENlcnRp") + "ZmljYXRlIFNlcnZpY2Vz"), (((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEQzCCAyugAwIBAgIBATANBgkqhkiG9w0BAQUFADB/MQswCQYDVQQGEwJHQjEb\n") + "MBkGA1UECAwSR3JlYXRlciBNYW5jaGVzdGVyMRAwDgYDVQQHDAdTYWxmb3JkMRow\n") + "GAYDVQQKDBFDb21vZG8gQ0EgTGltaXRlZDElMCMGA1UEAwwcVHJ1c3RlZCBDZXJ0\n") + "aWZpY2F0ZSBTZXJ2aWNlczAeFw0wNDAxMDEwMDAwMDBaFw0yODEyMzEyMzU5NTla\n") + "MH8xCzAJBgNVBAYTAkdCMRswGQYDVQQIDBJHcmVhdGVyIE1hbmNoZXN0ZXIxEDAO\n") + "BgNVBAcMB1NhbGZvcmQxGjAYBgNVBAoMEUNvbW9kbyBDQSBMaW1pdGVkMSUwIwYD\n") + "VQQDDBxUcnVzdGVkIENlcnRpZmljYXRlIFNlcnZpY2VzMIIBIjANBgkqhkiG9w0B\n") + "AQEFAAOCAQ8AMIIBCgKCAQEA33FvNlhTWvI2VFeAxHQIIO0Yfyod5jWaHiWsnOWW\n") + "fnJSoBVC21ndZHoa0Lh73TkVvFVIxO06AOoxEbrycXQaZ7jPM8yoMa+j49d/vzMt\n") + "TGo87IvDktJTdyR0nAducPy9C1t2ul/y/9c3S0pgePfw+spwtOpZqqPOSC+pw7IL\n") + "fhdyFgymBwwbOM/JYrc/oJOlh0Hyt3BAd9i+FHzjqMB6juljatEPmsbS9Is6FARW\n") + "1O24zG71++IsWL1/T2sr92AkWCTOJu80kTrV44HQsvAEAtdbtz6SrGsSivnkBbA7\n") + "kUlcsutT6vifR4buv5XAwAaf0lteERv0xwQ1KdJVXOTt6wIDAQABo4HJMIHGMB0G\n") + "A1UdDgQWBBTFe1i97doladL3WRaoszLAeydb9DAOBgNVHQ8BAf8EBAMCAQYwDwYD\n") + "VR0TAQH/BAUwAwEB/zCBgwYDVR0fBHwwejA8oDqgOIY2aHR0cDovL2NybC5jb21v\n") + "ZG9jYS5jb20vVHJ1c3RlZENlcnRpZmljYXRlU2VydmljZXMuY3JsMDqgOKA2hjRo\n") + "dHRwOi8vY3JsLmNvbW9kby5uZXQvVHJ1c3RlZENlcnRpZmljYXRlU2VydmljZXMu\n") + "Y3JsMA0GCSqGSIb3DQEBBQUAA4IBAQDIk4E7ibSvuIQSTI3S8NtwuleGFTQQuS9/\n") + "HrCoiWChisJ3DFBKmwCL2Iv0QeLQg4pKHBQGsKNoBXAxMKdTmw7pSqBYaWcOrp32\n") + "pSxBvzwGa+RZzG0Q8ZZvH9/0BAKkn0U+yNj6NkZEUD+Cl5EfKNsYEYwq5GWDVxIS\n") + "jBc/lDb+XbDABHcTuPQV1T84zJQ6VdCsmPW6AF/ghhmBeC8owH7TzEIK9a5QoNE+\n") + "xqFx7D+gIIxmOom0jtTYsU0lR+4viMi14QVFwL4Ucd56/Y57fU0IlqUSc/Atyjcn\n") + "dBInTMu2l+nZrghtWjlA3QVHdWpaIbOjGM9O9y5Xt5hwXsjEeLBi\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("IPS Chained CAs root", ((((("MIIBHDELMAkGA1UEBhMCRVMxEjAQBgNVBAgTCUJhcmNlbG9uYTESMBAGA1UEBxMJQmFyY2Vsb25h" + "MS4wLAYDVQQKEyVJUFMgSW50ZXJuZXQgcHVibGlzaGluZyBTZXJ2aWNlcyBzLmwuMSswKQYDVQQK") + "FCJpcHNAbWFpbC5pcHMuZXMgQy5JLkYuICBCLTYwOTI5NDUyMTMwMQYDVQQLEypJUFMgQ0EgQ2hh") + "aW5lZCBDQXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkxMzAxBgNVBAMTKklQUyBDQSBDaGFpbmVk") + "IENBcyBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEeMBwGCSqGSIb3DQEJARYPaXBzQG1haWwuaXBz") + "LmVz"), (((((((((((((((((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIH9zCCB2CgAwIBAgIBADANBgkqhkiG9w0BAQUFADCCARwxCzAJBgNVBAYTAkVT\n") + "MRIwEAYDVQQIEwlCYXJjZWxvbmExEjAQBgNVBAcTCUJhcmNlbG9uYTEuMCwGA1UE\n") + "ChMlSVBTIEludGVybmV0IHB1Ymxpc2hpbmcgU2VydmljZXMgcy5sLjErMCkGA1UE\n") + "ChQiaXBzQG1haWwuaXBzLmVzIEMuSS5GLiAgQi02MDkyOTQ1MjEzMDEGA1UECxMq\n") + "SVBTIENBIENoYWluZWQgQ0FzIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYD\n") + "VQQDEypJUFMgQ0EgQ2hhaW5lZCBDQXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkx\n") + "HjAcBgkqhkiG9w0BCQEWD2lwc0BtYWlsLmlwcy5lczAeFw0wMTEyMjkwMDUzNTha\n") + "Fw0yNTEyMjcwMDUzNThaMIIBHDELMAkGA1UEBhMCRVMxEjAQBgNVBAgTCUJhcmNl\n") + "bG9uYTESMBAGA1UEBxMJQmFyY2Vsb25hMS4wLAYDVQQKEyVJUFMgSW50ZXJuZXQg\n") + "cHVibGlzaGluZyBTZXJ2aWNlcyBzLmwuMSswKQYDVQQKFCJpcHNAbWFpbC5pcHMu\n") + "ZXMgQy5JLkYuICBCLTYwOTI5NDUyMTMwMQYDVQQLEypJUFMgQ0EgQ2hhaW5lZCBD\n") + "QXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkxMzAxBgNVBAMTKklQUyBDQSBDaGFp\n") + "bmVkIENBcyBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEeMBwGCSqGSIb3DQEJARYP\n") + "aXBzQG1haWwuaXBzLmVzMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDcVpJJ\n") + "spQgvJhPUOtopKdJC7/SMejHT8KGC/po/UNaivNgkjWZOLtNA1IhW/A3mTXhQSCB\n") + "hYEFcYGdtJUZqV92NC5jNzVXjrQfQj8VXOF6wV8TGDIxya2+o8eDZh65nAQTy2nB\n") + "Bt4wBrszo7Uf8I9vzv+W6FS+ZoCua9tBhDaiPQIDAQABo4IEQzCCBD8wHQYDVR0O\n") + "BBYEFKGtMbH5PuEXpsirNPxShwkeYlJBMIIBTgYDVR0jBIIBRTCCAUGAFKGtMbH5\n") + "PuEXpsirNPxShwkeYlJBoYIBJKSCASAwggEcMQswCQYDVQQGEwJFUzESMBAGA1UE\n") + "CBMJQmFyY2Vsb25hMRIwEAYDVQQHEwlCYXJjZWxvbmExLjAsBgNVBAoTJUlQUyBJ\n") + "bnRlcm5ldCBwdWJsaXNoaW5nIFNlcnZpY2VzIHMubC4xKzApBgNVBAoUImlwc0Bt\n") + "YWlsLmlwcy5lcyBDLkkuRi4gIEItNjA5Mjk0NTIxMzAxBgNVBAsTKklQUyBDQSBD\n") + "aGFpbmVkIENBcyBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEzMDEGA1UEAxMqSVBT\n") + "IENBIENoYWluZWQgQ0FzIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MR4wHAYJKoZI\n") + "hvcNAQkBFg9pcHNAbWFpbC5pcHMuZXOCAQAwDAYDVR0TBAUwAwEB/zAMBgNVHQ8E\n") + "BQMDB/+AMGsGA1UdJQRkMGIGCCsGAQUFBwMBBggrBgEFBQcDAgYIKwYBBQUHAwMG\n") + "CCsGAQUFBwMEBggrBgEFBQcDCAYKKwYBBAGCNwIBFQYKKwYBBAGCNwIBFgYKKwYB\n") + "BAGCNwoDAQYKKwYBBAGCNwoDBDARBglghkgBhvhCAQEEBAMCAAcwGgYDVR0RBBMw\n") + "EYEPaXBzQG1haWwuaXBzLmVzMBoGA1UdEgQTMBGBD2lwc0BtYWlsLmlwcy5lczBC\n") + "BglghkgBhvhCAQ0ENRYzQ2hhaW5lZCBDQSBDZXJ0aWZpY2F0ZSBpc3N1ZWQgYnkg\n") + "aHR0cDovL3d3dy5pcHMuZXMvMCkGCWCGSAGG+EIBAgQcFhpodHRwOi8vd3d3Lmlw\n") + "cy5lcy9pcHMyMDAyLzA3BglghkgBhvhCAQQEKhYoaHR0cDovL3d3dy5pcHMuZXMv\n") + "aXBzMjAwMi9pcHMyMDAyQ0FDLmNybDA8BglghkgBhvhCAQMELxYtaHR0cDovL3d3\n") + "dy5pcHMuZXMvaXBzMjAwMi9yZXZvY2F0aW9uQ0FDLmh0bWw/MDkGCWCGSAGG+EIB\n") + "BwQsFipodHRwOi8vd3d3Lmlwcy5lcy9pcHMyMDAyL3JlbmV3YWxDQUMuaHRtbD8w\n") + "NwYJYIZIAYb4QgEIBCoWKGh0dHA6Ly93d3cuaXBzLmVzL2lwczIwMDIvcG9saWN5\n") + "Q0FDLmh0bWwwbQYDVR0fBGYwZDAuoCygKoYoaHR0cDovL3d3dy5pcHMuZXMvaXBz\n") + "MjAwMi9pcHMyMDAyQ0FDLmNybDAyoDCgLoYsaHR0cDovL3d3d2JhY2suaXBzLmVz\n") + "L2lwczIwMDIvaXBzMjAwMkNBQy5jcmwwLwYIKwYBBQUHAQEEIzAhMB8GCCsGAQUF\n") + "BzABhhNodHRwOi8vb2NzcC5pcHMuZXMvMA0GCSqGSIb3DQEBBQUAA4GBAERyMJ1W\n") + "WKJBGyi3leGmGpVfp3hAK+/blkr8THFj2XOVvQLiogbHvpcqk4A0hgP63Ng9HgfN\n") + "HnNDJGD1HWHc3JagvPsd4+cSACczAsDAK1M92GsDgaPb1pOVIO/Tln4mkImcJpvN\n") + "b2ar7QMiRDjMWb2f2/YHogF/JsRj9SVCXmK9\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("IPS CLASE1 root", (((("MIIBEjELMAkGA1UEBhMCRVMxEjAQBgNVBAgTCUJhcmNlbG9uYTESMBAGA1UEBxMJQmFyY2Vsb25h" + "MS4wLAYDVQQKEyVJUFMgSW50ZXJuZXQgcHVibGlzaGluZyBTZXJ2aWNlcyBzLmwuMSswKQYDVQQK") + "FCJpcHNAbWFpbC5pcHMuZXMgQy5JLkYuICBCLTYwOTI5NDUyMS4wLAYDVQQLEyVJUFMgQ0EgQ0xB") + "U0UxIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MS4wLAYDVQQDEyVJUFMgQ0EgQ0xBU0UxIENlcnRp") + "ZmljYXRpb24gQXV0aG9yaXR5MR4wHAYJKoZIhvcNAQkBFg9pcHNAbWFpbC5pcHMuZXM="), (((((((((((((((((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIH6jCCB1OgAwIBAgIBADANBgkqhkiG9w0BAQUFADCCARIxCzAJBgNVBAYTAkVT\n") + "MRIwEAYDVQQIEwlCYXJjZWxvbmExEjAQBgNVBAcTCUJhcmNlbG9uYTEuMCwGA1UE\n") + "ChMlSVBTIEludGVybmV0IHB1Ymxpc2hpbmcgU2VydmljZXMgcy5sLjErMCkGA1UE\n") + "ChQiaXBzQG1haWwuaXBzLmVzIEMuSS5GLiAgQi02MDkyOTQ1MjEuMCwGA1UECxMl\n") + "SVBTIENBIENMQVNFMSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEuMCwGA1UEAxMl\n") + "SVBTIENBIENMQVNFMSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEeMBwGCSqGSIb3\n") + "DQEJARYPaXBzQG1haWwuaXBzLmVzMB4XDTAxMTIyOTAwNTkzOFoXDTI1MTIyNzAw\n") + "NTkzOFowggESMQswCQYDVQQGEwJFUzESMBAGA1UECBMJQmFyY2Vsb25hMRIwEAYD\n") + "VQQHEwlCYXJjZWxvbmExLjAsBgNVBAoTJUlQUyBJbnRlcm5ldCBwdWJsaXNoaW5n\n") + "IFNlcnZpY2VzIHMubC4xKzApBgNVBAoUImlwc0BtYWlsLmlwcy5lcyBDLkkuRi4g\n") + "IEItNjA5Mjk0NTIxLjAsBgNVBAsTJUlQUyBDQSBDTEFTRTEgQ2VydGlmaWNhdGlv\n") + "biBBdXRob3JpdHkxLjAsBgNVBAMTJUlQUyBDQSBDTEFTRTEgQ2VydGlmaWNhdGlv\n") + "biBBdXRob3JpdHkxHjAcBgkqhkiG9w0BCQEWD2lwc0BtYWlsLmlwcy5lczCBnzAN\n") + "BgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEA4FEnpwvdr9G5Q1uCN0VWcu+atsIS7ywS\n") + "zHb5BlmvXSHU0lq4oNTzav3KaY1mSPd05u42veiWkXWmcSjK5yISMmmwPh5r9FBS\n") + "YmL9Yzt9fuzuOOpi9GyocY3h6YvJP8a1zZRCb92CRTzo3wno7wpVqVZHYUxJZHMQ\n") + "KD/Kvwn/xi8CAwEAAaOCBEowggRGMB0GA1UdDgQWBBTrsxl588GlHKzcuh9morKb\n") + "adB4CDCCAUQGA1UdIwSCATswggE3gBTrsxl588GlHKzcuh9morKbadB4CKGCARqk\n") + "ggEWMIIBEjELMAkGA1UEBhMCRVMxEjAQBgNVBAgTCUJhcmNlbG9uYTESMBAGA1UE\n") + "BxMJQmFyY2Vsb25hMS4wLAYDVQQKEyVJUFMgSW50ZXJuZXQgcHVibGlzaGluZyBT\n") + "ZXJ2aWNlcyBzLmwuMSswKQYDVQQKFCJpcHNAbWFpbC5pcHMuZXMgQy5JLkYuICBC\n") + "LTYwOTI5NDUyMS4wLAYDVQQLEyVJUFMgQ0EgQ0xBU0UxIENlcnRpZmljYXRpb24g\n") + "QXV0aG9yaXR5MS4wLAYDVQQDEyVJUFMgQ0EgQ0xBU0UxIENlcnRpZmljYXRpb24g\n") + "QXV0aG9yaXR5MR4wHAYJKoZIhvcNAQkBFg9pcHNAbWFpbC5pcHMuZXOCAQAwDAYD\n") + "VR0TBAUwAwEB/zAMBgNVHQ8EBQMDB/+AMGsGA1UdJQRkMGIGCCsGAQUFBwMBBggr\n") + "BgEFBQcDAgYIKwYBBQUHAwMGCCsGAQUFBwMEBggrBgEFBQcDCAYKKwYBBAGCNwIB\n") + "FQYKKwYBBAGCNwIBFgYKKwYBBAGCNwoDAQYKKwYBBAGCNwoDBDARBglghkgBhvhC\n") + "AQEEBAMCAAcwGgYDVR0RBBMwEYEPaXBzQG1haWwuaXBzLmVzMBoGA1UdEgQTMBGB\n") + "D2lwc0BtYWlsLmlwcy5lczBBBglghkgBhvhCAQ0ENBYyQ0xBU0UxIENBIENlcnRp\n") + "ZmljYXRlIGlzc3VlZCBieSBodHRwOi8vd3d3Lmlwcy5lcy8wKQYJYIZIAYb4QgEC\n") + "BBwWGmh0dHA6Ly93d3cuaXBzLmVzL2lwczIwMDIvMDoGCWCGSAGG+EIBBAQtFito\n") + "dHRwOi8vd3d3Lmlwcy5lcy9pcHMyMDAyL2lwczIwMDJDTEFTRTEuY3JsMD8GCWCG\n") + "SAGG+EIBAwQyFjBodHRwOi8vd3d3Lmlwcy5lcy9pcHMyMDAyL3Jldm9jYXRpb25D\n") + "TEFTRTEuaHRtbD8wPAYJYIZIAYb4QgEHBC8WLWh0dHA6Ly93d3cuaXBzLmVzL2lw\n") + "czIwMDIvcmVuZXdhbENMQVNFMS5odG1sPzA6BglghkgBhvhCAQgELRYraHR0cDov\n") + "L3d3dy5pcHMuZXMvaXBzMjAwMi9wb2xpY3lDTEFTRTEuaHRtbDBzBgNVHR8EbDBq\n") + "MDGgL6AthitodHRwOi8vd3d3Lmlwcy5lcy9pcHMyMDAyL2lwczIwMDJDTEFTRTEu\n") + "Y3JsMDWgM6Axhi9odHRwOi8vd3d3YmFjay5pcHMuZXMvaXBzMjAwMi9pcHMyMDAy\n") + "Q0xBU0UxLmNybDAvBggrBgEFBQcBAQQjMCEwHwYIKwYBBQUHMAGGE2h0dHA6Ly9v\n") + "Y3NwLmlwcy5lcy8wDQYJKoZIhvcNAQEFBQADgYEAK9Dr/drIyllq2tPMMi7JVBuK\n") + "Yn4VLenZMdMu9Ccj/1urxUq2ckCuU3T0vAW0xtnIyXf7t/k0f3gA+Nak5FI/LEpj\n") + "V4F1Wo7ojPsCwJTGKbqz3Bzosq/SLmJbGqmODszFV0VRFOlOHIilkfSj945RyKm+\n") + "hjM+5i9Ibq9UkE6tsSU=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("IPS CLASE3 root", (((("MIIBEjELMAkGA1UEBhMCRVMxEjAQBgNVBAgTCUJhcmNlbG9uYTESMBAGA1UEBxMJQmFyY2Vsb25h" + "MS4wLAYDVQQKEyVJUFMgSW50ZXJuZXQgcHVibGlzaGluZyBTZXJ2aWNlcyBzLmwuMSswKQYDVQQK") + "FCJpcHNAbWFpbC5pcHMuZXMgQy5JLkYuICBCLTYwOTI5NDUyMS4wLAYDVQQLEyVJUFMgQ0EgQ0xB") + "U0UzIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MS4wLAYDVQQDEyVJUFMgQ0EgQ0xBU0UzIENlcnRp") + "ZmljYXRpb24gQXV0aG9yaXR5MR4wHAYJKoZIhvcNAQkBFg9pcHNAbWFpbC5pcHMuZXM="), (((((((((((((((((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIH6jCCB1OgAwIBAgIBADANBgkqhkiG9w0BAQUFADCCARIxCzAJBgNVBAYTAkVT\n") + "MRIwEAYDVQQIEwlCYXJjZWxvbmExEjAQBgNVBAcTCUJhcmNlbG9uYTEuMCwGA1UE\n") + "ChMlSVBTIEludGVybmV0IHB1Ymxpc2hpbmcgU2VydmljZXMgcy5sLjErMCkGA1UE\n") + "ChQiaXBzQG1haWwuaXBzLmVzIEMuSS5GLiAgQi02MDkyOTQ1MjEuMCwGA1UECxMl\n") + "SVBTIENBIENMQVNFMyBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEuMCwGA1UEAxMl\n") + "SVBTIENBIENMQVNFMyBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEeMBwGCSqGSIb3\n") + "DQEJARYPaXBzQG1haWwuaXBzLmVzMB4XDTAxMTIyOTAxMDE0NFoXDTI1MTIyNzAx\n") + "MDE0NFowggESMQswCQYDVQQGEwJFUzESMBAGA1UECBMJQmFyY2Vsb25hMRIwEAYD\n") + "VQQHEwlCYXJjZWxvbmExLjAsBgNVBAoTJUlQUyBJbnRlcm5ldCBwdWJsaXNoaW5n\n") + "IFNlcnZpY2VzIHMubC4xKzApBgNVBAoUImlwc0BtYWlsLmlwcy5lcyBDLkkuRi4g\n") + "IEItNjA5Mjk0NTIxLjAsBgNVBAsTJUlQUyBDQSBDTEFTRTMgQ2VydGlmaWNhdGlv\n") + "biBBdXRob3JpdHkxLjAsBgNVBAMTJUlQUyBDQSBDTEFTRTMgQ2VydGlmaWNhdGlv\n") + "biBBdXRob3JpdHkxHjAcBgkqhkiG9w0BCQEWD2lwc0BtYWlsLmlwcy5lczCBnzAN\n") + "BgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEAqxf+DrDGaBtT8FK+n/ra+osTBLsBjzLZ\n") + "H49NzjaY2uQARIwo2BNEKqRrThckQpzTiKRBgtYj+4vJhuW5qYIF3PHeH+AMmVWY\n") + "8jjsbJ0gA8DvqqPGZARRLXgNo9KoOtYkTOmWehisEyMiG3zoMRGzXwmqMHBxRiVr\n") + "SXGAK5UBsh8CAwEAAaOCBEowggRGMB0GA1UdDgQWBBS4k/8uy9wsjqLnev42USGj\n") + "mFsMNDCCAUQGA1UdIwSCATswggE3gBS4k/8uy9wsjqLnev42USGjmFsMNKGCARqk\n") + "ggEWMIIBEjELMAkGA1UEBhMCRVMxEjAQBgNVBAgTCUJhcmNlbG9uYTESMBAGA1UE\n") + "BxMJQmFyY2Vsb25hMS4wLAYDVQQKEyVJUFMgSW50ZXJuZXQgcHVibGlzaGluZyBT\n") + "ZXJ2aWNlcyBzLmwuMSswKQYDVQQKFCJpcHNAbWFpbC5pcHMuZXMgQy5JLkYuICBC\n") + "LTYwOTI5NDUyMS4wLAYDVQQLEyVJUFMgQ0EgQ0xBU0UzIENlcnRpZmljYXRpb24g\n") + "QXV0aG9yaXR5MS4wLAYDVQQDEyVJUFMgQ0EgQ0xBU0UzIENlcnRpZmljYXRpb24g\n") + "QXV0aG9yaXR5MR4wHAYJKoZIhvcNAQkBFg9pcHNAbWFpbC5pcHMuZXOCAQAwDAYD\n") + "VR0TBAUwAwEB/zAMBgNVHQ8EBQMDB/+AMGsGA1UdJQRkMGIGCCsGAQUFBwMBBggr\n") + "BgEFBQcDAgYIKwYBBQUHAwMGCCsGAQUFBwMEBggrBgEFBQcDCAYKKwYBBAGCNwIB\n") + "FQYKKwYBBAGCNwIBFgYKKwYBBAGCNwoDAQYKKwYBBAGCNwoDBDARBglghkgBhvhC\n") + "AQEEBAMCAAcwGgYDVR0RBBMwEYEPaXBzQG1haWwuaXBzLmVzMBoGA1UdEgQTMBGB\n") + "D2lwc0BtYWlsLmlwcy5lczBBBglghkgBhvhCAQ0ENBYyQ0xBU0UzIENBIENlcnRp\n") + "ZmljYXRlIGlzc3VlZCBieSBodHRwOi8vd3d3Lmlwcy5lcy8wKQYJYIZIAYb4QgEC\n") + "BBwWGmh0dHA6Ly93d3cuaXBzLmVzL2lwczIwMDIvMDoGCWCGSAGG+EIBBAQtFito\n") + "dHRwOi8vd3d3Lmlwcy5lcy9pcHMyMDAyL2lwczIwMDJDTEFTRTMuY3JsMD8GCWCG\n") + "SAGG+EIBAwQyFjBodHRwOi8vd3d3Lmlwcy5lcy9pcHMyMDAyL3Jldm9jYXRpb25D\n") + "TEFTRTMuaHRtbD8wPAYJYIZIAYb4QgEHBC8WLWh0dHA6Ly93d3cuaXBzLmVzL2lw\n") + "czIwMDIvcmVuZXdhbENMQVNFMy5odG1sPzA6BglghkgBhvhCAQgELRYraHR0cDov\n") + "L3d3dy5pcHMuZXMvaXBzMjAwMi9wb2xpY3lDTEFTRTMuaHRtbDBzBgNVHR8EbDBq\n") + "MDGgL6AthitodHRwOi8vd3d3Lmlwcy5lcy9pcHMyMDAyL2lwczIwMDJDTEFTRTMu\n") + "Y3JsMDWgM6Axhi9odHRwOi8vd3d3YmFjay5pcHMuZXMvaXBzMjAwMi9pcHMyMDAy\n") + "Q0xBU0UzLmNybDAvBggrBgEFBQcBAQQjMCEwHwYIKwYBBQUHMAGGE2h0dHA6Ly9v\n") + "Y3NwLmlwcy5lcy8wDQYJKoZIhvcNAQEFBQADgYEAF2VcmZVDAyevJuXr0LMXI/dD\n") + "qsfwfewPxqmurpYPdikc4gYtfibFPPqhwYHOU7BC0ZdXGhd+pFFhxu7pXu8Fuuu9\n") + "D6eSb9ijBmgpjnn1/7/5p6/ksc7C0YBCJwUENPjDfxZ4IwwHJPJGR607VNCv1TGy\n") + "r33I6unUVtkOE7LFRVA=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("IPS CLASEA1 root", (((("MIIBFDELMAkGA1UEBhMCRVMxEjAQBgNVBAgTCUJhcmNlbG9uYTESMBAGA1UEBxMJQmFyY2Vsb25h" + "MS4wLAYDVQQKEyVJUFMgSW50ZXJuZXQgcHVibGlzaGluZyBTZXJ2aWNlcyBzLmwuMSswKQYDVQQK") + "FCJpcHNAbWFpbC5pcHMuZXMgQy5JLkYuICBCLTYwOTI5NDUyMS8wLQYDVQQLEyZJUFMgQ0EgQ0xB") + "U0VBMSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEvMC0GA1UEAxMmSVBTIENBIENMQVNFQTEgQ2Vy") + "dGlmaWNhdGlvbiBBdXRob3JpdHkxHjAcBgkqhkiG9w0BCQEWD2lwc0BtYWlsLmlwcy5lcw=="), (((((((((((((((((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIH9zCCB2CgAwIBAgIBADANBgkqhkiG9w0BAQUFADCCARQxCzAJBgNVBAYTAkVT\n") + "MRIwEAYDVQQIEwlCYXJjZWxvbmExEjAQBgNVBAcTCUJhcmNlbG9uYTEuMCwGA1UE\n") + "ChMlSVBTIEludGVybmV0IHB1Ymxpc2hpbmcgU2VydmljZXMgcy5sLjErMCkGA1UE\n") + "ChQiaXBzQG1haWwuaXBzLmVzIEMuSS5GLiAgQi02MDkyOTQ1MjEvMC0GA1UECxMm\n") + "SVBTIENBIENMQVNFQTEgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkxLzAtBgNVBAMT\n") + "JklQUyBDQSBDTEFTRUExIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MR4wHAYJKoZI\n") + "hvcNAQkBFg9pcHNAbWFpbC5pcHMuZXMwHhcNMDExMjI5MDEwNTMyWhcNMjUxMjI3\n") + "MDEwNTMyWjCCARQxCzAJBgNVBAYTAkVTMRIwEAYDVQQIEwlCYXJjZWxvbmExEjAQ\n") + "BgNVBAcTCUJhcmNlbG9uYTEuMCwGA1UEChMlSVBTIEludGVybmV0IHB1Ymxpc2hp\n") + "bmcgU2VydmljZXMgcy5sLjErMCkGA1UEChQiaXBzQG1haWwuaXBzLmVzIEMuSS5G\n") + "LiAgQi02MDkyOTQ1MjEvMC0GA1UECxMmSVBTIENBIENMQVNFQTEgQ2VydGlmaWNh\n") + "dGlvbiBBdXRob3JpdHkxLzAtBgNVBAMTJklQUyBDQSBDTEFTRUExIENlcnRpZmlj\n") + "YXRpb24gQXV0aG9yaXR5MR4wHAYJKoZIhvcNAQkBFg9pcHNAbWFpbC5pcHMuZXMw\n") + "gZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBALsw19zQVL01Tp/FTILq0VA8R5j8\n") + "m2mdd81u4D/u6zJfX5/S0HnllXNEITLgCtud186Nq1KLK3jgm1t99P1tCeWu4Wwd\n") + "ByOgF9H5fahGRpEiqLJpxq339fWUoTCUvQDMRH/uxJ7JweaPCjbB/SQ9AaD1e+J8\n") + "eGZDi09Z8pvZ+kmzAgMBAAGjggRTMIIETzAdBgNVHQ4EFgQUZyaW56G/2LUDnf47\n") + "3P7yiuYV3TAwggFGBgNVHSMEggE9MIIBOYAUZyaW56G/2LUDnf473P7yiuYV3TCh\n") + "ggEcpIIBGDCCARQxCzAJBgNVBAYTAkVTMRIwEAYDVQQIEwlCYXJjZWxvbmExEjAQ\n") + "BgNVBAcTCUJhcmNlbG9uYTEuMCwGA1UEChMlSVBTIEludGVybmV0IHB1Ymxpc2hp\n") + "bmcgU2VydmljZXMgcy5sLjErMCkGA1UEChQiaXBzQG1haWwuaXBzLmVzIEMuSS5G\n") + "LiAgQi02MDkyOTQ1MjEvMC0GA1UECxMmSVBTIENBIENMQVNFQTEgQ2VydGlmaWNh\n") + "dGlvbiBBdXRob3JpdHkxLzAtBgNVBAMTJklQUyBDQSBDTEFTRUExIENlcnRpZmlj\n") + "YXRpb24gQXV0aG9yaXR5MR4wHAYJKoZIhvcNAQkBFg9pcHNAbWFpbC5pcHMuZXOC\n") + "AQAwDAYDVR0TBAUwAwEB/zAMBgNVHQ8EBQMDB/+AMGsGA1UdJQRkMGIGCCsGAQUF\n") + "BwMBBggrBgEFBQcDAgYIKwYBBQUHAwMGCCsGAQUFBwMEBggrBgEFBQcDCAYKKwYB\n") + "BAGCNwIBFQYKKwYBBAGCNwIBFgYKKwYBBAGCNwoDAQYKKwYBBAGCNwoDBDARBglg\n") + "hkgBhvhCAQEEBAMCAAcwGgYDVR0RBBMwEYEPaXBzQG1haWwuaXBzLmVzMBoGA1Ud\n") + "EgQTMBGBD2lwc0BtYWlsLmlwcy5lczBCBglghkgBhvhCAQ0ENRYzQ0xBU0VBMSBD\n") + "QSBDZXJ0aWZpY2F0ZSBpc3N1ZWQgYnkgaHR0cDovL3d3dy5pcHMuZXMvMCkGCWCG\n") + "SAGG+EIBAgQcFhpodHRwOi8vd3d3Lmlwcy5lcy9pcHMyMDAyLzA7BglghkgBhvhC\n") + "AQQELhYsaHR0cDovL3d3dy5pcHMuZXMvaXBzMjAwMi9pcHMyMDAyQ0xBU0VBMS5j\n") + "cmwwQAYJYIZIAYb4QgEDBDMWMWh0dHA6Ly93d3cuaXBzLmVzL2lwczIwMDIvcmV2\n") + "b2NhdGlvbkNMQVNFQTEuaHRtbD8wPQYJYIZIAYb4QgEHBDAWLmh0dHA6Ly93d3cu\n") + "aXBzLmVzL2lwczIwMDIvcmVuZXdhbENMQVNFQTEuaHRtbD8wOwYJYIZIAYb4QgEI\n") + "BC4WLGh0dHA6Ly93d3cuaXBzLmVzL2lwczIwMDIvcG9saWN5Q0xBU0VBMS5odG1s\n") + "MHUGA1UdHwRuMGwwMqAwoC6GLGh0dHA6Ly93d3cuaXBzLmVzL2lwczIwMDIvaXBz\n") + "MjAwMkNMQVNFQTEuY3JsMDagNKAyhjBodHRwOi8vd3d3YmFjay5pcHMuZXMvaXBz\n") + "MjAwMi9pcHMyMDAyQ0xBU0VBMS5jcmwwLwYIKwYBBQUHAQEEIzAhMB8GCCsGAQUF\n") + "BzABhhNodHRwOi8vb2NzcC5pcHMuZXMvMA0GCSqGSIb3DQEBBQUAA4GBAH66iqyA\n") + "AIQVCtWYUQxkxZwCWINmyq0eB81+atqAB98DNEock8RLWCA1NnHtogo1EqWmZaeF\n") + "aQoO42Hu6r4okzPV7Oi+xNtff6j5YzHIa5biKcJboOeXNp13XjFr/tOn2yrb25aL\n") + "H2betgPAK7N41lUH5Y85UN4HI3LmvSAUS7SG\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("IPS CLASEA3 root", (((("MIIBFDELMAkGA1UEBhMCRVMxEjAQBgNVBAgTCUJhcmNlbG9uYTESMBAGA1UEBxMJQmFyY2Vsb25h" + "MS4wLAYDVQQKEyVJUFMgSW50ZXJuZXQgcHVibGlzaGluZyBTZXJ2aWNlcyBzLmwuMSswKQYDVQQK") + "FCJpcHNAbWFpbC5pcHMuZXMgQy5JLkYuICBCLTYwOTI5NDUyMS8wLQYDVQQLEyZJUFMgQ0EgQ0xB") + "U0VBMyBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEvMC0GA1UEAxMmSVBTIENBIENMQVNFQTMgQ2Vy") + "dGlmaWNhdGlvbiBBdXRob3JpdHkxHjAcBgkqhkiG9w0BCQEWD2lwc0BtYWlsLmlwcy5lcw=="), (((((((((((((((((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIH9zCCB2CgAwIBAgIBADANBgkqhkiG9w0BAQUFADCCARQxCzAJBgNVBAYTAkVT\n") + "MRIwEAYDVQQIEwlCYXJjZWxvbmExEjAQBgNVBAcTCUJhcmNlbG9uYTEuMCwGA1UE\n") + "ChMlSVBTIEludGVybmV0IHB1Ymxpc2hpbmcgU2VydmljZXMgcy5sLjErMCkGA1UE\n") + "ChQiaXBzQG1haWwuaXBzLmVzIEMuSS5GLiAgQi02MDkyOTQ1MjEvMC0GA1UECxMm\n") + "SVBTIENBIENMQVNFQTMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkxLzAtBgNVBAMT\n") + "JklQUyBDQSBDTEFTRUEzIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MR4wHAYJKoZI\n") + "hvcNAQkBFg9pcHNAbWFpbC5pcHMuZXMwHhcNMDExMjI5MDEwNzUwWhcNMjUxMjI3\n") + "MDEwNzUwWjCCARQxCzAJBgNVBAYTAkVTMRIwEAYDVQQIEwlCYXJjZWxvbmExEjAQ\n") + "BgNVBAcTCUJhcmNlbG9uYTEuMCwGA1UEChMlSVBTIEludGVybmV0IHB1Ymxpc2hp\n") + "bmcgU2VydmljZXMgcy5sLjErMCkGA1UEChQiaXBzQG1haWwuaXBzLmVzIEMuSS5G\n") + "LiAgQi02MDkyOTQ1MjEvMC0GA1UECxMmSVBTIENBIENMQVNFQTMgQ2VydGlmaWNh\n") + "dGlvbiBBdXRob3JpdHkxLzAtBgNVBAMTJklQUyBDQSBDTEFTRUEzIENlcnRpZmlj\n") + "YXRpb24gQXV0aG9yaXR5MR4wHAYJKoZIhvcNAQkBFg9pcHNAbWFpbC5pcHMuZXMw\n") + "gZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAO6AAPYaZC6tasiDsYun7o/ZttvN\n") + "G7uGBiJ2MwwSbUhWYdLcgiViL5/SaTBlA0IjWLxH3GvWdV0XPOH/8lhneaDBgbHU\n") + "VqLyjRGZ/fZ98cfEXgIqmuJKtROKAP2Md4bm15T1IHUuDky/dMQ/gT6DtKM4Ninn\n") + "6Cr1jIhBqoCm42zvAgMBAAGjggRTMIIETzAdBgNVHQ4EFgQUHp9XUEe2YZM50yz8\n") + "2l09BXW3mQIwggFGBgNVHSMEggE9MIIBOYAUHp9XUEe2YZM50yz82l09BXW3mQKh\n") + "ggEcpIIBGDCCARQxCzAJBgNVBAYTAkVTMRIwEAYDVQQIEwlCYXJjZWxvbmExEjAQ\n") + "BgNVBAcTCUJhcmNlbG9uYTEuMCwGA1UEChMlSVBTIEludGVybmV0IHB1Ymxpc2hp\n") + "bmcgU2VydmljZXMgcy5sLjErMCkGA1UEChQiaXBzQG1haWwuaXBzLmVzIEMuSS5G\n") + "LiAgQi02MDkyOTQ1MjEvMC0GA1UECxMmSVBTIENBIENMQVNFQTMgQ2VydGlmaWNh\n") + "dGlvbiBBdXRob3JpdHkxLzAtBgNVBAMTJklQUyBDQSBDTEFTRUEzIENlcnRpZmlj\n") + "YXRpb24gQXV0aG9yaXR5MR4wHAYJKoZIhvcNAQkBFg9pcHNAbWFpbC5pcHMuZXOC\n") + "AQAwDAYDVR0TBAUwAwEB/zAMBgNVHQ8EBQMDB/+AMGsGA1UdJQRkMGIGCCsGAQUF\n") + "BwMBBggrBgEFBQcDAgYIKwYBBQUHAwMGCCsGAQUFBwMEBggrBgEFBQcDCAYKKwYB\n") + "BAGCNwIBFQYKKwYBBAGCNwIBFgYKKwYBBAGCNwoDAQYKKwYBBAGCNwoDBDARBglg\n") + "hkgBhvhCAQEEBAMCAAcwGgYDVR0RBBMwEYEPaXBzQG1haWwuaXBzLmVzMBoGA1Ud\n") + "EgQTMBGBD2lwc0BtYWlsLmlwcy5lczBCBglghkgBhvhCAQ0ENRYzQ0xBU0VBMyBD\n") + "QSBDZXJ0aWZpY2F0ZSBpc3N1ZWQgYnkgaHR0cDovL3d3dy5pcHMuZXMvMCkGCWCG\n") + "SAGG+EIBAgQcFhpodHRwOi8vd3d3Lmlwcy5lcy9pcHMyMDAyLzA7BglghkgBhvhC\n") + "AQQELhYsaHR0cDovL3d3dy5pcHMuZXMvaXBzMjAwMi9pcHMyMDAyQ0xBU0VBMy5j\n") + "cmwwQAYJYIZIAYb4QgEDBDMWMWh0dHA6Ly93d3cuaXBzLmVzL2lwczIwMDIvcmV2\n") + "b2NhdGlvbkNMQVNFQTMuaHRtbD8wPQYJYIZIAYb4QgEHBDAWLmh0dHA6Ly93d3cu\n") + "aXBzLmVzL2lwczIwMDIvcmVuZXdhbENMQVNFQTMuaHRtbD8wOwYJYIZIAYb4QgEI\n") + "BC4WLGh0dHA6Ly93d3cuaXBzLmVzL2lwczIwMDIvcG9saWN5Q0xBU0VBMy5odG1s\n") + "MHUGA1UdHwRuMGwwMqAwoC6GLGh0dHA6Ly93d3cuaXBzLmVzL2lwczIwMDIvaXBz\n") + "MjAwMkNMQVNFQTMuY3JsMDagNKAyhjBodHRwOi8vd3d3YmFjay5pcHMuZXMvaXBz\n") + "MjAwMi9pcHMyMDAyQ0xBU0VBMy5jcmwwLwYIKwYBBQUHAQEEIzAhMB8GCCsGAQUF\n") + "BzABhhNodHRwOi8vb2NzcC5pcHMuZXMvMA0GCSqGSIb3DQEBBQUAA4GBAEo9IEca\n") + "2on0eisxeewBwMwB9dbB/MjD81ACUZBYKp/nNQlbMAqBACVHr9QPDp5gJqiVp4MI\n") + "3y2s6Q73nMify5NF8bpqxmdRSmlPa/59Cy9SKcJQrSRE7SOzSMtEQMEDlQwKeAYS\n") + "AfWRMS1Jjbs/RU4s4OjNtckUFQzjB4ObJnXv\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("IPS Servidores root", (("MIGjMQswCQYDVQQGEwJFUzESMBAGA1UECBMJQkFSQ0VMT05BMRIwEAYDVQQHEwlCQVJDRUxPTkEx" + "GTAXBgNVBAoTEElQUyBTZWd1cmlkYWQgQ0ExGDAWBgNVBAsTD0NlcnRpZmljYWNpb25lczEXMBUG") + "A1UEAxMOSVBTIFNFUlZJRE9SRVMxHjAcBgkqhkiG9w0BCQEWD2lwc0BtYWlsLmlwcy5lcw=="), (((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIICtzCCAiACAQAwDQYJKoZIhvcNAQEEBQAwgaMxCzAJBgNVBAYTAkVTMRIwEAYD\n") + "VQQIEwlCQVJDRUxPTkExEjAQBgNVBAcTCUJBUkNFTE9OQTEZMBcGA1UEChMQSVBT\n") + "IFNlZ3VyaWRhZCBDQTEYMBYGA1UECxMPQ2VydGlmaWNhY2lvbmVzMRcwFQYDVQQD\n") + "Ew5JUFMgU0VSVklET1JFUzEeMBwGCSqGSIb3DQEJARYPaXBzQG1haWwuaXBzLmVz\n") + "MB4XDTk4MDEwMTIzMjEwN1oXDTA5MTIyOTIzMjEwN1owgaMxCzAJBgNVBAYTAkVT\n") + "MRIwEAYDVQQIEwlCQVJDRUxPTkExEjAQBgNVBAcTCUJBUkNFTE9OQTEZMBcGA1UE\n") + "ChMQSVBTIFNlZ3VyaWRhZCBDQTEYMBYGA1UECxMPQ2VydGlmaWNhY2lvbmVzMRcw\n") + "FQYDVQQDEw5JUFMgU0VSVklET1JFUzEeMBwGCSqGSIb3DQEJARYPaXBzQG1haWwu\n") + "aXBzLmVzMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCsT1J0nznqjtwlxLyY\n") + "XZhkJAk8IbPMGbWOlI6H0fg3PqHILVikgDVboXVsHUUMH2Fjal5vmwpMwci4YSM1\n") + "gf/+rHhwLWjhOgeYlQJU3c0jt4BT18g3RXIGJBK6E2Ehim51KODFDzT9NthFf+G4\n") + "Nu+z4cYgjui0OLzhPvYR3oydAQIDAQABMA0GCSqGSIb3DQEBBAUAA4GBACzzw3lY\n") + "JN7GO9HgQmm47mSzPWIBubOE3yN93ZjPEKn+ANgilgUTB1RXxafey9m4iEL2mdsU\n") + "dx+2/iU94aI+A6mB0i1sR/WWRowiq8jMDQ6XXotBtDvECgZAHd1G9AHduoIuPD14\n") + "cJ58GNCr+Lh3B0Zx8coLY1xq+XKU1QFPoNtC\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("IPS Timestamping root", ((((("MIIBHjELMAkGA1UEBhMCRVMxEjAQBgNVBAgTCUJhcmNlbG9uYTESMBAGA1UEBxMJQmFyY2Vsb25h" + "MS4wLAYDVQQKEyVJUFMgSW50ZXJuZXQgcHVibGlzaGluZyBTZXJ2aWNlcyBzLmwuMSswKQYDVQQK") + "FCJpcHNAbWFpbC5pcHMuZXMgQy5JLkYuICBCLTYwOTI5NDUyMTQwMgYDVQQLEytJUFMgQ0EgVGlt") + "ZXN0YW1waW5nIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTQwMgYDVQQDEytJUFMgQ0EgVGltZXN0") + "YW1waW5nIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MR4wHAYJKoZIhvcNAQkBFg9pcHNAbWFpbC5p") + "cHMuZXM="), ((((((((((((((((((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIIODCCB6GgAwIBAgIBADANBgkqhkiG9w0BAQUFADCCAR4xCzAJBgNVBAYTAkVT\n") + "MRIwEAYDVQQIEwlCYXJjZWxvbmExEjAQBgNVBAcTCUJhcmNlbG9uYTEuMCwGA1UE\n") + "ChMlSVBTIEludGVybmV0IHB1Ymxpc2hpbmcgU2VydmljZXMgcy5sLjErMCkGA1UE\n") + "ChQiaXBzQG1haWwuaXBzLmVzIEMuSS5GLiAgQi02MDkyOTQ1MjE0MDIGA1UECxMr\n") + "SVBTIENBIFRpbWVzdGFtcGluZyBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTE0MDIG\n") + "A1UEAxMrSVBTIENBIFRpbWVzdGFtcGluZyBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0\n") + "eTEeMBwGCSqGSIb3DQEJARYPaXBzQG1haWwuaXBzLmVzMB4XDTAxMTIyOTAxMTAx\n") + "OFoXDTI1MTIyNzAxMTAxOFowggEeMQswCQYDVQQGEwJFUzESMBAGA1UECBMJQmFy\n") + "Y2Vsb25hMRIwEAYDVQQHEwlCYXJjZWxvbmExLjAsBgNVBAoTJUlQUyBJbnRlcm5l\n") + "dCBwdWJsaXNoaW5nIFNlcnZpY2VzIHMubC4xKzApBgNVBAoUImlwc0BtYWlsLmlw\n") + "cy5lcyBDLkkuRi4gIEItNjA5Mjk0NTIxNDAyBgNVBAsTK0lQUyBDQSBUaW1lc3Rh\n") + "bXBpbmcgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkxNDAyBgNVBAMTK0lQUyBDQSBU\n") + "aW1lc3RhbXBpbmcgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkxHjAcBgkqhkiG9w0B\n") + "CQEWD2lwc0BtYWlsLmlwcy5lczCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEA\n") + "vLjuVqWajOY2ycJioGaBjRrVetJznw6EZLqVtJCneK/K/lRhW86yIFcBrkSSQxA4\n") + "Efdo/BdApWgnMjvEp+ZCccWZ73b/K5Uk9UmSGGjKALWkWi9uy9YbLA1UZ2t6KaFY\n") + "q6JaANZbuxjC3/YeE1Z2m6Vo4pjOxgOKNNtMg0GmqaMCAwEAAaOCBIAwggR8MB0G\n") + "A1UdDgQWBBSL0BBQCYHynQnVDmB4AyKiP8jKZjCCAVAGA1UdIwSCAUcwggFDgBSL\n") + "0BBQCYHynQnVDmB4AyKiP8jKZqGCASakggEiMIIBHjELMAkGA1UEBhMCRVMxEjAQ\n") + "BgNVBAgTCUJhcmNlbG9uYTESMBAGA1UEBxMJQmFyY2Vsb25hMS4wLAYDVQQKEyVJ\n") + "UFMgSW50ZXJuZXQgcHVibGlzaGluZyBTZXJ2aWNlcyBzLmwuMSswKQYDVQQKFCJp\n") + "cHNAbWFpbC5pcHMuZXMgQy5JLkYuICBCLTYwOTI5NDUyMTQwMgYDVQQLEytJUFMg\n") + "Q0EgVGltZXN0YW1waW5nIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTQwMgYDVQQD\n") + "EytJUFMgQ0EgVGltZXN0YW1waW5nIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MR4w\n") + "HAYJKoZIhvcNAQkBFg9pcHNAbWFpbC5pcHMuZXOCAQAwDAYDVR0TBAUwAwEB/zAM\n") + "BgNVHQ8EBQMDB/+AMGsGA1UdJQRkMGIGCCsGAQUFBwMBBggrBgEFBQcDAgYIKwYB\n") + "BQUHAwMGCCsGAQUFBwMEBggrBgEFBQcDCAYKKwYBBAGCNwIBFQYKKwYBBAGCNwIB\n") + "FgYKKwYBBAGCNwoDAQYKKwYBBAGCNwoDBDARBglghkgBhvhCAQEEBAMCAAcwGgYD\n") + "VR0RBBMwEYEPaXBzQG1haWwuaXBzLmVzMBoGA1UdEgQTMBGBD2lwc0BtYWlsLmlw\n") + "cy5lczBHBglghkgBhvhCAQ0EOhY4VGltZXN0YW1waW5nIENBIENlcnRpZmljYXRl\n") + "IGlzc3VlZCBieSBodHRwOi8vd3d3Lmlwcy5lcy8wKQYJYIZIAYb4QgECBBwWGmh0\n") + "dHA6Ly93d3cuaXBzLmVzL2lwczIwMDIvMEAGCWCGSAGG+EIBBAQzFjFodHRwOi8v\n") + "d3d3Lmlwcy5lcy9pcHMyMDAyL2lwczIwMDJUaW1lc3RhbXBpbmcuY3JsMEUGCWCG\n") + "SAGG+EIBAwQ4FjZodHRwOi8vd3d3Lmlwcy5lcy9pcHMyMDAyL3Jldm9jYXRpb25U\n") + "aW1lc3RhbXBpbmcuaHRtbD8wQgYJYIZIAYb4QgEHBDUWM2h0dHA6Ly93d3cuaXBz\n") + "LmVzL2lwczIwMDIvcmVuZXdhbFRpbWVzdGFtcGluZy5odG1sPzBABglghkgBhvhC\n") + "AQgEMxYxaHR0cDovL3d3dy5pcHMuZXMvaXBzMjAwMi9wb2xpY3lUaW1lc3RhbXBp\n") + "bmcuaHRtbDB/BgNVHR8EeDB2MDegNaAzhjFodHRwOi8vd3d3Lmlwcy5lcy9pcHMy\n") + "MDAyL2lwczIwMDJUaW1lc3RhbXBpbmcuY3JsMDugOaA3hjVodHRwOi8vd3d3YmFj\n") + "ay5pcHMuZXMvaXBzMjAwMi9pcHMyMDAyVGltZXN0YW1waW5nLmNybDAvBggrBgEF\n") + "BQcBAQQjMCEwHwYIKwYBBQUHMAGGE2h0dHA6Ly9vY3NwLmlwcy5lcy8wDQYJKoZI\n") + "hvcNAQEFBQADgYEAZbrBzAAalZHK6Ww6vzoeFAh8+4Pua2JR0zORtWB5fgTYXXk3\n") + "6MNbsMRnLWhasl8OCvrNPzpFoeo2zyYepxEoxZSPhExTCMWTs/zif/WN87GphV+I\n") + "3pGW7hdbrqXqcGV4LCFkAZXOzkw+UPS2Wctjjba9GNSHSl/c7+lW8AoM6HU=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("QuoVadis Root CA", (("MH8xCzAJBgNVBAYTAkJNMRkwFwYDVQQKExBRdW9WYWRpcyBMaW1pdGVkMSUwIwYDVQQLExxSb290" + "IENlcnRpZmljYXRpb24gQXV0aG9yaXR5MS4wLAYDVQQDEyVRdW9WYWRpcyBSb290IENlcnRpZmlj") + "YXRpb24gQXV0aG9yaXR5"), ((((((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIF0DCCBLigAwIBAgIEOrZQizANBgkqhkiG9w0BAQUFADB/MQswCQYDVQQGEwJC\n") + "TTEZMBcGA1UEChMQUXVvVmFkaXMgTGltaXRlZDElMCMGA1UECxMcUm9vdCBDZXJ0\n") + "aWZpY2F0aW9uIEF1dGhvcml0eTEuMCwGA1UEAxMlUXVvVmFkaXMgUm9vdCBDZXJ0\n") + "aWZpY2F0aW9uIEF1dGhvcml0eTAeFw0wMTAzMTkxODMzMzNaFw0yMTAzMTcxODMz\n") + "MzNaMH8xCzAJBgNVBAYTAkJNMRkwFwYDVQQKExBRdW9WYWRpcyBMaW1pdGVkMSUw\n") + "IwYDVQQLExxSb290IENlcnRpZmljYXRpb24gQXV0aG9yaXR5MS4wLAYDVQQDEyVR\n") + "dW9WYWRpcyBSb290IENlcnRpZmljYXRpb24gQXV0aG9yaXR5MIIBIjANBgkqhkiG\n") + "9w0BAQEFAAOCAQ8AMIIBCgKCAQEAv2G1lVO6V/z68mcLOhrfEYBklbTRvM16z/Yp\n") + "li4kVEAkOPcahdxYTMukJ0KX0J+DisPkBgNbAKVRHnAEdOLB1Dqr1607BxgFjv2D\n") + "rOpm2RgbaIr1VxqYuvXtdj182d6UajtLF8HVj71lODqV0D1VNk7feVcxKh7YWWVJ\n") + "WCCYfqtffp/p1k3sg3Spx2zY7ilKhSoGFPlU5tPaZQeLYzcS19Dsw3sgQUSj7cug\n") + "F+FxZc4dZjH3dgEZyH0DWLaVSR2mEiboxgx24ONmy+pdpibu5cxfvWenAScOospU\n") + "xbF6lR1xHkopigPcakXBpBlebzbNw6Kwt/5cOOJSvPhEQ+aQuwIDAQABo4ICUjCC\n") + "Ak4wPQYIKwYBBQUHAQEEMTAvMC0GCCsGAQUFBzABhiFodHRwczovL29jc3AucXVv\n") + "dmFkaXNvZmZzaG9yZS5jb20wDwYDVR0TAQH/BAUwAwEB/zCCARoGA1UdIASCAREw\n") + "ggENMIIBCQYJKwYBBAG+WAABMIH7MIHUBggrBgEFBQcCAjCBxxqBxFJlbGlhbmNl\n") + "IG9uIHRoZSBRdW9WYWRpcyBSb290IENlcnRpZmljYXRlIGJ5IGFueSBwYXJ0eSBh\n") + "c3N1bWVzIGFjY2VwdGFuY2Ugb2YgdGhlIHRoZW4gYXBwbGljYWJsZSBzdGFuZGFy\n") + "ZCB0ZXJtcyBhbmQgY29uZGl0aW9ucyBvZiB1c2UsIGNlcnRpZmljYXRpb24gcHJh\n") + "Y3RpY2VzLCBhbmQgdGhlIFF1b1ZhZGlzIENlcnRpZmljYXRlIFBvbGljeS4wIgYI\n") + "KwYBBQUHAgEWFmh0dHA6Ly93d3cucXVvdmFkaXMuYm0wHQYDVR0OBBYEFItLbe3T\n") + "KbkGGew5Oanwl4Rqy+/fMIGuBgNVHSMEgaYwgaOAFItLbe3TKbkGGew5Oanwl4Rq\n") + "y+/foYGEpIGBMH8xCzAJBgNVBAYTAkJNMRkwFwYDVQQKExBRdW9WYWRpcyBMaW1p\n") + "dGVkMSUwIwYDVQQLExxSb290IENlcnRpZmljYXRpb24gQXV0aG9yaXR5MS4wLAYD\n") + "VQQDEyVRdW9WYWRpcyBSb290IENlcnRpZmljYXRpb24gQXV0aG9yaXR5ggQ6tlCL\n") + "MA4GA1UdDwEB/wQEAwIBBjANBgkqhkiG9w0BAQUFAAOCAQEAitQUtf70mpKnGdSk\n") + "fnIYj9lofFIk3WdvOXrEql494liwTXCYhGHoG+NpGA7O+0dQoE7/8CQfvbLO9Sf8\n") + "7C9TqnN7Az10buYWnuulLsS/VidQK2K6vkscPFVcQR0kvoIgR13VRH56FmjffU1R\n") + "cHhXHTMe/QKZnAzNCgVPx7uOpHX6Sm2xgI4JVrmcGmD+XcHXetwReNDWXcG31a0y\n") + "mQM6isxUJTkxgXsTIlG6Rmyhu576BGxJJnSP0nPrzDCi5upZIof4l/UO/erMkqQW\n") + "xFIY6iHOsfHmhIHluqmGKPJDWl0Snawe2ajlCmqnf6CHKc/yiU3U7MXi5nrQNiOK\n") + "SnQ2+Q==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("QuoVadis Root CA 2", ("MEUxCzAJBgNVBAYTAkJNMRkwFwYDVQQKExBRdW9WYWRpcyBMaW1pdGVkMRswGQYDVQQDExJRdW9W" + "YWRpcyBSb290IENBIDI="), (((((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIFtzCCA5+gAwIBAgICBQkwDQYJKoZIhvcNAQEFBQAwRTELMAkGA1UEBhMCQk0x\n") + "GTAXBgNVBAoTEFF1b1ZhZGlzIExpbWl0ZWQxGzAZBgNVBAMTElF1b1ZhZGlzIFJv\n") + "b3QgQ0EgMjAeFw0wNjExMjQxODI3MDBaFw0zMTExMjQxODIzMzNaMEUxCzAJBgNV\n") + "BAYTAkJNMRkwFwYDVQQKExBRdW9WYWRpcyBMaW1pdGVkMRswGQYDVQQDExJRdW9W\n") + "YWRpcyBSb290IENBIDIwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQCa\n") + "GMpLlA0ALa8DKYrwD4HIrkwZhR0In6spRIXzL4GtMh6QRr+jhiYaHv5+HBg6XJxg\n") + "Fyo6dIMzMH1hVBHL7avg5tKifvVrbxi3Cgst/ek+7wrGsxDp3MJGF/hd/aTa/55J\n") + "WpzmM+Yklvc/ulsrHHo1wtZn/qtmUIttKGAr79dgw8eTvI02kfN/+NsRE8Scd3bB\n") + "rrcCaoF6qUWD4gXmuVbBlDePSHFjIuwXZQeVikvfj8ZaCuWw419eaxGrDPmF60Tp\n") + "+ARz8un+XJiM9XOva7R+zdRcAitMOeGylZUtQofX1bOQQ7dsE/He3fbE+Ik/0XX1\n") + "ksOR1YqI0JDs3G3eicJlcZaLDQP9nL9bFqyS2+r+eXyt66/3FsvbzSUr5R/7mp/i\n") + "Ucw6UwxI5g69ybR2BlLmEROFcmMDBOAENisgGQLodKcftslWZvB1JdxnwQ5hYIiz\n") + "PtGo/KPaHbDRsSNU30R2be1B2MGyIrZTHN81Hdyhdyox5C315eXbyOD/5YDXC2Og\n") + "/zOhD7osFRXql7PSorW+8oyWHhqPHWykYTe5hnMz15eWniN9gqRMgeKh0bpnX5UH\n") + "oycR7hYQe7xFSkyyBNKr79X9DFHOUGoIMfmR2gyPZFwDwzqLID9ujWc9Otb+fVuI\n") + "yV77zGHcizN300QyNQliBJIWENieJ0f7OyHj+OsdWwIDAQABo4GwMIGtMA8GA1Ud\n") + "EwEB/wQFMAMBAf8wCwYDVR0PBAQDAgEGMB0GA1UdDgQWBBQahGK8SEwzJQTU7tD2\n") + "A8QZRtGUazBuBgNVHSMEZzBlgBQahGK8SEwzJQTU7tD2A8QZRtGUa6FJpEcwRTEL\n") + "MAkGA1UEBhMCQk0xGTAXBgNVBAoTEFF1b1ZhZGlzIExpbWl0ZWQxGzAZBgNVBAMT\n") + "ElF1b1ZhZGlzIFJvb3QgQ0EgMoICBQkwDQYJKoZIhvcNAQEFBQADggIBAD4KFk2f\n") + "BluornFdLwUvZ+YTRYPENvbzwCYMDbVHZF34tHLJRqUDGCdViXh9duqWNIAXINzn\n") + "g/iN/Ae42l9NLmeyhP3ZRPx3UIHmfLTJDQtyU/h2BwdBR5YM++CCJpNVjP4iH2Bl\n") + "fF/nJrP3MpCYUNQ3cVX2kiF495V5+vgtJodmVjB3pjd4M1IQWK4/YY7yarHvGH5K\n") + "WWPKjaJW1acvvFYfzznB4vsKqBUsfU16Y8Zsl0Q80m/DShcK+JDSV6IZUaUtl0Ha\n") + "B0+pUNqQjZRG4T7wlP0QADj1O+hA4bRuVhogzG9Yje0uRY/W6ZM/57Es3zrWIozc\n") + "hLsib9D45MY56QSIPMO661V6bYCZJPVsAfv4l7CUW+v90m/xd2gNNWQjrLhVoQPR\n") + "TUIZ3Ph1WVaj+ahJefivDrkRoHy3au000LYmYjgahwz46P0u05B/B5EqHdZ+XIWD\n") + "mbA4CD/pXvk1B+TJYm5Xf6dQlfe6yJvmjqIBxdZmv3lh8zwc4bmCXF2gw+nYSL0Z\n") + "ohEUGW6yhhtoPkg3Goi3XZZenMfvJ2II4pEZXNLxId26F0KCl3GBUzGpn/Z9Yr9y\n") + "4aOTHcyKJloJONDO1w2AFrR4pTqHTI2KpdVGl/IsELm8VCLAAVBpQ570su9t+Oza\n") + "8eOx79+Rj1QqCyXBJhnEUhAFZdWCEOrCMc0u\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("QuoVadis Root CA 3", ("MEUxCzAJBgNVBAYTAkJNMRkwFwYDVQQKExBRdW9WYWRpcyBMaW1pdGVkMRswGQYDVQQDExJRdW9W" + "YWRpcyBSb290IENBIDM="), ((((((((((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIGnTCCBIWgAwIBAgICBcYwDQYJKoZIhvcNAQEFBQAwRTELMAkGA1UEBhMCQk0x\n") + "GTAXBgNVBAoTEFF1b1ZhZGlzIExpbWl0ZWQxGzAZBgNVBAMTElF1b1ZhZGlzIFJv\n") + "b3QgQ0EgMzAeFw0wNjExMjQxOTExMjNaFw0zMTExMjQxOTA2NDRaMEUxCzAJBgNV\n") + "BAYTAkJNMRkwFwYDVQQKExBRdW9WYWRpcyBMaW1pdGVkMRswGQYDVQQDExJRdW9W\n") + "YWRpcyBSb290IENBIDMwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQDM\n") + "V0IWVJzmmNPTTe7+7cefQzlKZbPoFog02w1ZkXTPkrgEQK0CSzGrvI2RaNggDhoB\n") + "4hp7Thdd4oq3P5kazethq8Jlph+3t723j/z9cI8LoGe+AaJZz3HmDyl2/7FWeUUr\n") + "H556VOijKTVopAFPD6QuN+8bv+OPEKhyq1hX51SGyMnzW9os2l2ObjyjPtr7guXd\n") + "8lyyBTNvijbO0BNO/79KDDRMpsMhvVAEVeuxu537RR5kFd5VAYwCdrXLoT9Cabwv\n") + "vWhDFlaJKjdhkf2mrk7AyxRllDdLkgbvBNDInIjbC3uBr7E9KsRlOni27tyAsdLT\n") + "mZw67mtaa7ONt9XOnMK+pUsvFrGeaDsGb659n/je7Mwpp5ijJUMv7/FfJuGITfhe\n") + "btfZFG4ZM2mnO4SJk8RTVROhUXhA+LjJou57ulJCg54U7QVSWllWp5f8nT8KKdjc\n") + "T5EOE7zelaTfi5m+rJsziO+1ga8bxiJTyPbH7pcUsMV8eFLI8M5ud2CEpukqdiDt\n") + "WAEXMJPpGovgc2PZapKUSU60rUqFxKMiMPwJ7Wgic6aIDFUhWMXhOp8q3crhkODZ\n") + "c6tsgLjoC2SToJyMGf+z0gzskSaHirOi4XCPLArlzW1oUevaPwV/izLmE1xr/l9A\n") + "4iLItLRkT9a6fUg+qGkM17uGcclzuD87nSVL2v9A6wIDAQABo4IBlTCCAZEwDwYD\n") + "VR0TAQH/BAUwAwEB/zCB4QYDVR0gBIHZMIHWMIHTBgkrBgEEAb5YAAMwgcUwgZMG\n") + "CCsGAQUFBwICMIGGGoGDQW55IHVzZSBvZiB0aGlzIENlcnRpZmljYXRlIGNvbnN0\n") + "aXR1dGVzIGFjY2VwdGFuY2Ugb2YgdGhlIFF1b1ZhZGlzIFJvb3QgQ0EgMyBDZXJ0\n") + "aWZpY2F0ZSBQb2xpY3kgLyBDZXJ0aWZpY2F0aW9uIFByYWN0aWNlIFN0YXRlbWVu\n") + "dC4wLQYIKwYBBQUHAgEWIWh0dHA6Ly93d3cucXVvdmFkaXNnbG9iYWwuY29tL2Nw\n") + "czALBgNVHQ8EBAMCAQYwHQYDVR0OBBYEFPLAE+CCQz777i9nMpY1XNu4ywLQMG4G\n") + "A1UdIwRnMGWAFPLAE+CCQz777i9nMpY1XNu4ywLQoUmkRzBFMQswCQYDVQQGEwJC\n") + "TTEZMBcGA1UEChMQUXVvVmFkaXMgTGltaXRlZDEbMBkGA1UEAxMSUXVvVmFkaXMg\n") + "Um9vdCBDQSAzggIFxjANBgkqhkiG9w0BAQUFAAOCAgEAT62gLEz6wPJv92ZVqyM0\n") + "7ucp2sNbtrCD2dDQ4iH782CnO11gUyeim/YIIirnv6By5ZwkajGxkHon24QRiSem\n") + "d1o417+shvzuXYO8BsbRd2sPbSQvS3pspweWyuOEn62Iix2rFo1bZhfZFvSLgNLd\n") + "+LJ2w/w4E6oM3kJpK27zPOuAJ9v1pkQNn1pVWQvVDVJIxa6f8i+AxeoyUDUSly7B\n") + "4f/xI4hROJ/yZlZ25w9Rl6VSDE1JUZU2Pb+iSwwQHYaZTKrzchGT5Or2m9qoXadN\n") + "t54CrnMAyNojA+j56hl0YgCUyyIgvpSnWbWCar6ZeXqp8kokUvd0/bpO5qgdAm6x\n") + "DYBEwa7TIzdfu4V8K5Iu6H6li92Z4b8nby1dqnuH/grdS/yO9SbkbnBCbjPsMZ57\n") + "k8HkyWkaPcBrTiJt7qtYTcbQQcEr6k8Sh17rRdhs9ZgC06DYVYoGmRmioHfRMJ6s\n") + "zHXug/WwYjnPbFfiTNKRCw51KBuav/0aQ/HKd/s7j2G4aSgWQgRecCocIdiP4b0j\n") + "Wy10QJLZYxkNc91pvGJHvOB0K7Lrfb5BG7XARsWhIstfTsEokt4YutUqKLsRixeT\n") + "mJlglFwjz1onl14LBQaTNx47aTbrqZ5hHY8y2o4M1nQ+ewkk2gF3R8Q7zTSMmfXK\n") + "4SVhM7JZG+Ju1zdXtg2pEto=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Security Communication Root CA", ("MFAxCzAJBgNVBAYTAkpQMRgwFgYDVQQKEw9TRUNPTSBUcnVzdC5uZXQxJzAlBgNVBAsTHlNlY3Vy" + "aXR5IENvbW11bmljYXRpb24gUm9vdENBMQ=="), ((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDWjCCAkKgAwIBAgIBADANBgkqhkiG9w0BAQUFADBQMQswCQYDVQQGEwJKUDEY\n") + "MBYGA1UEChMPU0VDT00gVHJ1c3QubmV0MScwJQYDVQQLEx5TZWN1cml0eSBDb21t\n") + "dW5pY2F0aW9uIFJvb3RDQTEwHhcNMDMwOTMwMDQyMDQ5WhcNMjMwOTMwMDQyMDQ5\n") + "WjBQMQswCQYDVQQGEwJKUDEYMBYGA1UEChMPU0VDT00gVHJ1c3QubmV0MScwJQYD\n") + "VQQLEx5TZWN1cml0eSBDb21tdW5pY2F0aW9uIFJvb3RDQTEwggEiMA0GCSqGSIb3\n") + "DQEBAQUAA4IBDwAwggEKAoIBAQCzs/5/022x7xZ8V6UMbXaKL0u/ZPtM7orw8yl8\n") + "9f/uKuDp6bpbZCKamm8sOiZpUQWZJtzVHGpxxpp9Hp3dfGzGjGdnSj74cbAZJ6kJ\n") + "DKaVv0uMDPpVmDvY6CKhS3E4eayXkmmziX7qIWgGmBSWh9JhNrxtJ1aeV+7AwFb9\n") + "Ms+k2Y7CI9eNqPPYJayX5HA49LY6tJ07lyZDo6G8SVlyTCMwhwFY9k6+HGhWZq/N\n") + "QV3Is00qVUarH9oe4kA92819uZKAnDfdDJZkndwi92SL32HeFZRSFaB9UslLqCHJ\n") + "xrHty8OVYNEP8Ktw+N/LTX7s1vqr2b1/VPKl6Xn62dZ2JChzAgMBAAGjPzA9MB0G\n") + "A1UdDgQWBBSgc0mZaNyFW2XjmygvV5+9M7wHSDALBgNVHQ8EBAMCAQYwDwYDVR0T\n") + "AQH/BAUwAwEB/zANBgkqhkiG9w0BAQUFAAOCAQEAaECpqLvkT115swW1F7NgE+vG\n") + "kl3g0dNq/vu+m22/xwVtWSDEHPC32oRYAmP6SBbvT6UL90qY8j+eG61Ha2POCEfr\n") + "Uj94nK9NrvjVT8+amCoQQTlSxN3Zmw7vkwGusi7KaEIkQmywszo+zenaSMQVy+n5\n") + "Bw+SUEmK3TGXX8npN6o7WWWXlDLJs58+OmJYxUmtYg5xpTKqL8aJdkNAExNnPaJU\n") + "JRDL8Try2frbSVa7pv6nQTXD4IhhyYjH3zYQIphZ6rBK+1YWc26sTfcioU+tHXot\n") + "RSflMMFe8toTyyVCUZVHA4xsIcx0Qu1T/zOLjw9XARYvz6buyXAiFL39vmwLAw==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Sonera Class 1 Root CA", ("MDkxCzAJBgNVBAYTAkZJMQ8wDQYDVQQKEwZTb25lcmExGTAXBgNVBAMTEFNvbmVyYSBDbGFzczEg" + "Q0E="), (((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDIDCCAgigAwIBAgIBJDANBgkqhkiG9w0BAQUFADA5MQswCQYDVQQGEwJGSTEP\n") + "MA0GA1UEChMGU29uZXJhMRkwFwYDVQQDExBTb25lcmEgQ2xhc3MxIENBMB4XDTAx\n") + "MDQwNjEwNDkxM1oXDTIxMDQwNjEwNDkxM1owOTELMAkGA1UEBhMCRkkxDzANBgNV\n") + "BAoTBlNvbmVyYTEZMBcGA1UEAxMQU29uZXJhIENsYXNzMSBDQTCCASIwDQYJKoZI\n") + "hvcNAQEBBQADggEPADCCAQoCggEBALWJHytPZwp5/8Ue+H887dF+2rDNbS82rDTG\n") + "29lkFwhjMDMiikzujrsPDUJVyZ0upe/3p4zDq7mXy47vPxVnqIJyY1MPQYx9EJUk\n") + "oVqlBvqSV536pQHydekfvFYmUk54GWVYVQNYwBSujHxVX3BbdyMGNpfzJLWaRpXk\n") + "3w0LBUXl0fIdgrvGE+D+qnr9aTCU89JFhfzyMlsy3uhsXR/LpCJ0sICOXZT3BgBL\n") + "qdReLjVQCfOAl/QMF6452F/NM8EcyonCIvdFEu1eEpOdY6uCLrnrQkFEy0oaAIIN\n") + "nvmLVz5MxxftLItyM19yejhW1ebZrgUaHXVFsculJRwSVzb9IjcCAwEAAaMzMDEw\n") + "DwYDVR0TAQH/BAUwAwEB/zARBgNVHQ4ECgQIR+IMi/ZTiFIwCwYDVR0PBAQDAgEG\n") + "MA0GCSqGSIb3DQEBBQUAA4IBAQCLGrLJXWG04bkruVPRsoWdd44W7hE928Jj2VuX\n") + "ZfsSZ9gqXLar5V7DtxYvyOirHYr9qxp81V9jz9yw3Xe5qObSIjiHBxTZ/75Wtf0H\n") + "DjxVyhbMp6Z3N/vbXB9OWQaHowND9Rart4S9Tu+fMTfwRvFAttEMpWT4Y14h21VO\n") + "TzF2nBBhjrZTOqMRvq9tfB69ri3iDGnHhVNoomG6xT60eVR4ngrHAr5i0RGCS2Uv\n") + "kVrCqIexVmiUefkl98HVrhq4uz2PqYo4Ffdz0Fpg0YCw8NzVUM1O7pJIae2yIx4w\n") + "zMiUyLb1O4Z/P6Yun/Y+LLWSlj7fLJOK/4GMDw9ZIRlXvVWa\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Sonera Class 2 Root CA", ("MDkxCzAJBgNVBAYTAkZJMQ8wDQYDVQQKEwZTb25lcmExGTAXBgNVBAMTEFNvbmVyYSBDbGFzczIg" + "Q0E="), (((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDIDCCAgigAwIBAgIBHTANBgkqhkiG9w0BAQUFADA5MQswCQYDVQQGEwJGSTEP\n") + "MA0GA1UEChMGU29uZXJhMRkwFwYDVQQDExBTb25lcmEgQ2xhc3MyIENBMB4XDTAx\n") + "MDQwNjA3Mjk0MFoXDTIxMDQwNjA3Mjk0MFowOTELMAkGA1UEBhMCRkkxDzANBgNV\n") + "BAoTBlNvbmVyYTEZMBcGA1UEAxMQU29uZXJhIENsYXNzMiBDQTCCASIwDQYJKoZI\n") + "hvcNAQEBBQADggEPADCCAQoCggEBAJAXSjWdyvANlsdE+hY3/Ei9vX+ALTU74W+o\n") + "Z6m/AxxNjG8yR9VBaKQTBME1DJqEQ/xcHf+Js+gXGM2RX/uJ4+q/Tl18GybTdXnt\n") + "5oTjV+WtKcT0OijnpXuENmmz/V52vaMtmdOQTiMofRhj8VQ7Jp12W5dCsv+u8E7s\n") + "3TmVToMGf+dJQMjFAbJUWmYdPfz56TwKnoG4cPABi+QjVHzIrviQHgCWctRUz2Ej\n") + "vOr7nQKV0ba5cTppCD8PtOFCx4j1P5iop7oc4HFx71hXgVB6XGt0Rg6DA5jDjqhu\n") + "8nYybieDwnPz3BjotJPqdURrBGAgcVeHnfO+oJAjPYok4doh28MCAwEAAaMzMDEw\n") + "DwYDVR0TAQH/BAUwAwEB/zARBgNVHQ4ECgQISqCqWITTXjwwCwYDVR0PBAQDAgEG\n") + "MA0GCSqGSIb3DQEBBQUAA4IBAQBazof5FnIVV0sd2ZvnoiYw7JNn39Yt0jSv9zil\n") + "zqsWuasvfDXLrNAPtEwr/IDva4yRXzZ299uzGxnq9LIR/WFxRL8oszodv7ND6J+/\n") + "3DEIcbCdjdY0RzKQxmUk96BKfARzjzlvF4xytb1LyHr4e4PDKE6cCepnP7JnBBvD\n") + "FNr450kkkdAdavphOe9r5yF1BgfYErQhIHBCcYHaPJo2vqZbDWpsmh+Re/n570K6\n") + "Tk6ezAyNlNzZRZxe7EJQY670XcSxEtzKO6gunRRaBXW37Ndj4ro1tgQIkejanZz2\n") + "ZrUYrAqmVCY0M9IbwdR/GjqOC6oybtv8TyWf2TLHllpwrN9M\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Staat der Nederlanden Root CA", ("MFUxCzAJBgNVBAYTAk5MMR4wHAYDVQQKExVTdGFhdCBkZXIgTmVkZXJsYW5kZW4xJjAkBgNVBAMT" + "HVN0YWF0IGRlciBOZWRlcmxhbmRlbiBSb290IENB"), ((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDujCCAqKgAwIBAgIEAJiWijANBgkqhkiG9w0BAQUFADBVMQswCQYDVQQGEwJO\n") + "TDEeMBwGA1UEChMVU3RhYXQgZGVyIE5lZGVybGFuZGVuMSYwJAYDVQQDEx1TdGFh\n") + "dCBkZXIgTmVkZXJsYW5kZW4gUm9vdCBDQTAeFw0wMjEyMTcwOTIzNDlaFw0xNTEy\n") + "MTYwOTE1MzhaMFUxCzAJBgNVBAYTAk5MMR4wHAYDVQQKExVTdGFhdCBkZXIgTmVk\n") + "ZXJsYW5kZW4xJjAkBgNVBAMTHVN0YWF0IGRlciBOZWRlcmxhbmRlbiBSb290IENB\n") + "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmNK1URF6gaYUmHFtvszn\n") + "ExvWJw56s2oYHLZhWtVhCb/ekBPHZ+7d89rFDBKeNVU+LCeIQGv33N0iYfXCxw71\n") + "9tV2U02PjLwYdjeFnejKScfST5gTCaI+Ioicf9byEGW07l8Y1Rfj+MX94p2i71MO\n") + "hXeiD+EwR+4A5zN9RGcaC1Hoi6CeUJhoNFIfLm0B8mBF8jHrqTFoKbt6QZ7GGX+U\n") + "tFE5A3+y3qcym7RHjm+0Sq7lr7HcsBthvJly3uSJt3omXdozSVtSnA71iq3DuD3o\n") + "BmrC1SoLbHuEvVYFy4ZlkuxEK7COudxwC0barbxjiDn622r+I/q85Ej0ZytqERAh\n") + "SQIDAQABo4GRMIGOMAwGA1UdEwQFMAMBAf8wTwYDVR0gBEgwRjBEBgRVHSAAMDww\n") + "OgYIKwYBBQUHAgEWLmh0dHA6Ly93d3cucGtpb3ZlcmhlaWQubmwvcG9saWNpZXMv\n") + "cm9vdC1wb2xpY3kwDgYDVR0PAQH/BAQDAgEGMB0GA1UdDgQWBBSofeu8Y6R0E3QA\n") + "7Jbg0zTBLL9s+DANBgkqhkiG9w0BAQUFAAOCAQEABYSHVXQ2YcG70dTGFagTtJ+k\n") + "/rvuFbQvBgwp8qiSpGEN/KtcCFtREytNwiphyPgJWPwtArI5fZlmgb9uXJVFIGzm\n") + "eafR2Bwp/MIgJ1HI8XxdNGdphREwxgDS1/PTfLbwMVcoEoJz6TMvplW0C5GUR5z6\n") + "u3pCMuiufi3IvKwUv9kP2Vv8wfl6leF9fpb8cbDCTMjfRTTJzg3ynGQI0DvDKcWy\n") + "7ZAEwbEpkcUwb8GpcjPM/l0WFywRaed+/sWDCN+83CI6LiBpIzlWYGeQiy52OfsR\n") + "iJf2fL1LuCAWZwWN4jvBcj+UlTfHXbme2JOhF4//DGYVwSR8MnwDHTuhWEUykw==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("TDC Internet Root CA", ("MEMxCzAJBgNVBAYTAkRLMRUwEwYDVQQKEwxUREMgSW50ZXJuZXQxHTAbBgNVBAsTFFREQyBJbnRl" + "cm5ldCBSb290IENB"), (((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEKzCCAxOgAwIBAgIEOsylTDANBgkqhkiG9w0BAQUFADBDMQswCQYDVQQGEwJE\n") + "SzEVMBMGA1UEChMMVERDIEludGVybmV0MR0wGwYDVQQLExRUREMgSW50ZXJuZXQg\n") + "Um9vdCBDQTAeFw0wMTA0MDUxNjMzMTdaFw0yMTA0MDUxNzAzMTdaMEMxCzAJBgNV\n") + "BAYTAkRLMRUwEwYDVQQKEwxUREMgSW50ZXJuZXQxHTAbBgNVBAsTFFREQyBJbnRl\n") + "cm5ldCBSb290IENBMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxLhA\n") + "vJHVYx/XmaCLDEAedLdInUaMArLgJF/wGROnN4NrXceO+YQwzho7+vvOi20jxsNu\n") + "Zp+Jpd/gQlBn+h9sHvTQBda/ytZO5GhgbEaqHF1j4QeGDmUApy6mcca8uYGoOn0a\n") + "0vnRrEvLznWv3Hv6gXPU/Lq9QYjUdLP5Xjg6PEOo0pVOd20TDJ2PeAG3WiAfAzc1\n") + "4izbSysseLlJ28TQx5yc5IogCSEWVmb/Bexb4/DPqyQkXsN/cHoSxNK1EKC2IeGN\n") + "eGlVRGn1ypYcNIUXJXfi9i8nmHj9eQY6otZaQ8H/7AQ77hPv01ha/5Lr7K7a8jcD\n") + "R0G2l8ktCkEiu7vmpwIDAQABo4IBJTCCASEwEQYJYIZIAYb4QgEBBAQDAgAHMGUG\n") + "A1UdHwReMFwwWqBYoFakVDBSMQswCQYDVQQGEwJESzEVMBMGA1UEChMMVERDIElu\n") + "dGVybmV0MR0wGwYDVQQLExRUREMgSW50ZXJuZXQgUm9vdCBDQTENMAsGA1UEAxME\n") + "Q1JMMTArBgNVHRAEJDAigA8yMDAxMDQwNTE2MzMxN1qBDzIwMjEwNDA1MTcwMzE3\n") + "WjALBgNVHQ8EBAMCAQYwHwYDVR0jBBgwFoAUbGQBx/2FbazI2p5QCIUItTxWqFAw\n") + "HQYDVR0OBBYEFGxkAcf9hW2syNqeUAiFCLU8VqhQMAwGA1UdEwQFMAMBAf8wHQYJ\n") + "KoZIhvZ9B0EABBAwDhsIVjUuMDo0LjADAgSQMA0GCSqGSIb3DQEBBQUAA4IBAQBO\n") + "Q8zR3R0QGwZ/t6T609lN+yOfI1Rb5osvBCiLtSdtiaHsmGnc540mgwV5dOy0uaOX\n") + "wTUA/RXaOYE6lTGQ3pfphqiZdwzlWqCE/xIWrG64jcN7ksKsLtB9KOy282A4aW8+\n") + "2ARVPp7MVdK6/rtHBNcK2RYKNCn1WBPVT8+PVkuzHu7TmHnaCB4Mb7j4Fifvwm89\n") + "9qNLPg7kbWzbO0ESm70NRyN/PErQr8Cv9u8btRXE64PECV90i9kR+8JWsTz4cMo0\n") + "jUNAE4z9mQNUecYu6oah9jrUCbz0vGbMPVjQV0kK7iXiQe4T+Zs4NNEA9X7nlB38\n") + "aQNiuJkFBT1reBK9sG9l\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("TDC OCES Root CA", "MDExCzAJBgNVBAYTAkRLMQwwCgYDVQQKEwNUREMxFDASBgNVBAMTC1REQyBPQ0VTIENB", ((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIFGTCCBAGgAwIBAgIEPki9xDANBgkqhkiG9w0BAQUFADAxMQswCQYDVQQGEwJE\n") + "SzEMMAoGA1UEChMDVERDMRQwEgYDVQQDEwtUREMgT0NFUyBDQTAeFw0wMzAyMTEw\n") + "ODM5MzBaFw0zNzAyMTEwOTA5MzBaMDExCzAJBgNVBAYTAkRLMQwwCgYDVQQKEwNU\n") + "REMxFDASBgNVBAMTC1REQyBPQ0VTIENBMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8A\n") + "MIIBCgKCAQEArGL2YSCyz8DGhdfjeebM7fI5kqSXLmSjhFuHnEz9pPPEXyG9VhDr\n") + "2y5h7JNp46PMvZnDBfwGuMo2HP6QjklMxFaaL1a8z3sM8W9Hpg1DTeLpHTk0zY0s\n") + "2RKY+ePhwUp8hjjEqcRhiNJerxomTdXkoCJHhNlktxmW/OwZ5LKXJk5KTMuPJItU\n") + "GBxIYXvViGjaXbXqzRowwYCDdlCqT9HU3Tjw7xb04QxQBr/q+3pJoSgrHPb8FTKj\n") + "dGqPqcNiKXEx5TukYBdedObaE+3pHx8b0bJoc8YQNHVGEBDjkAB2QMuLt0MJIf+r\n") + "TpPGWOmlgtt3xDqZsXKVSQTwtyv6e1mO3QIDAQABo4ICNzCCAjMwDwYDVR0TAQH/\n") + "BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAQYwgewGA1UdIASB5DCB4TCB3gYIKoFQgSkB\n") + "AQEwgdEwLwYIKwYBBQUHAgEWI2h0dHA6Ly93d3cuY2VydGlmaWthdC5kay9yZXBv\n") + "c2l0b3J5MIGdBggrBgEFBQcCAjCBkDAKFgNUREMwAwIBARqBgUNlcnRpZmlrYXRl\n") + "ciBmcmEgZGVubmUgQ0EgdWRzdGVkZXMgdW5kZXIgT0lEIDEuMi4yMDguMTY5LjEu\n") + "MS4xLiBDZXJ0aWZpY2F0ZXMgZnJvbSB0aGlzIENBIGFyZSBpc3N1ZWQgdW5kZXIg\n") + "T0lEIDEuMi4yMDguMTY5LjEuMS4xLjARBglghkgBhvhCAQEEBAMCAAcwgYEGA1Ud\n") + "HwR6MHgwSKBGoESkQjBAMQswCQYDVQQGEwJESzEMMAoGA1UEChMDVERDMRQwEgYD\n") + "VQQDEwtUREMgT0NFUyBDQTENMAsGA1UEAxMEQ1JMMTAsoCqgKIYmaHR0cDovL2Ny\n") + "bC5vY2VzLmNlcnRpZmlrYXQuZGsvb2Nlcy5jcmwwKwYDVR0QBCQwIoAPMjAwMzAy\n") + "MTEwODM5MzBagQ8yMDM3MDIxMTA5MDkzMFowHwYDVR0jBBgwFoAUYLWF7FZkfhIZ\n") + "J2cdUBVLc647+RIwHQYDVR0OBBYEFGC1hexWZH4SGSdnHVAVS3OuO/kSMB0GCSqG\n") + "SIb2fQdBAAQQMA4bCFY2LjA6NC4wAwIEkDANBgkqhkiG9w0BAQUFAAOCAQEACrom\n") + "JkbTc6gJ82sLMJn9iuFXehHTuJTXCRBuo7E4A9G28kNBKWKnctj7fAXmMXAnVBhO\n") + "inxO5dHKjHiIzxvTkIvmI/gLDjNDfZziChmPyQE+dF10yYscA+UYyAFMP8uXBV2Y\n") + "caaYb7Z8vTd/vuGTJW1v8AqtFxjhA7wHKcitJuj4YfD9IQl+mo6paH1IYnK9AOoB\n") + "mbgGglGBTvH1tJFUuSN6AJqfXY3gPGS5GhKSKseCRHI53OI8xthV9RVOyAUO28bQ\n") + "YqbsFbS1AoLbrIyigfCbmTH1ICCoiGEKB5+U/NDXG8wuF/MEJ3Zn61SD/aSQfgY9\n") + "BKNDLdr8C2LqL19iUw==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("UTN DATACorp SGC Root CA", (("MIGTMQswCQYDVQQGEwJVUzELMAkGA1UECBMCVVQxFzAVBgNVBAcTDlNhbHQgTGFrZSBDaXR5MR4w" + "HAYDVQQKExVUaGUgVVNFUlRSVVNUIE5ldHdvcmsxITAfBgNVBAsTGGh0dHA6Ly93d3cudXNlcnRy") + "dXN0LmNvbTEbMBkGA1UEAxMSVVROIC0gREFUQUNvcnAgU0dD"), ((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEXjCCA0agAwIBAgIQRL4Mi1AAIbQR0ypoBqmtaTANBgkqhkiG9w0BAQUFADCB\n") + "kzELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExha2Ug\n") + "Q2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVTVCBOZXR3b3JrMSEwHwYDVQQLExho\n") + "dHRwOi8vd3d3LnVzZXJ0cnVzdC5jb20xGzAZBgNVBAMTElVUTiAtIERBVEFDb3Jw\n") + "IFNHQzAeFw05OTA2MjQxODU3MjFaFw0xOTA2MjQxOTA2MzBaMIGTMQswCQYDVQQG\n") + "EwJVUzELMAkGA1UECBMCVVQxFzAVBgNVBAcTDlNhbHQgTGFrZSBDaXR5MR4wHAYD\n") + "VQQKExVUaGUgVVNFUlRSVVNUIE5ldHdvcmsxITAfBgNVBAsTGGh0dHA6Ly93d3cu\n") + "dXNlcnRydXN0LmNvbTEbMBkGA1UEAxMSVVROIC0gREFUQUNvcnAgU0dDMIIBIjAN\n") + "BgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA3+5YEKIrblXEjr8uRgnn4AgPLit6\n") + "E5Qbvfa2gI5lBZMAHryv4g+OGQ0SR+ysraP6LnD43m77VkIVni5c7yPeIbkFdicZ\n") + "D0/Ww5y0vpQZY/KmEQrrU0icvvIpOxboGqBMpsn0GFlowHDyUwDAXlCCpVZvNvlK\n") + "4ESGoE1O1kduSUrLZ9emxAW5jh70/P/N5zbgnAVssjMiFdC04MwXwLLA9P4yPykq\n") + "lXvY8qdOD1R8oQ2AswkDwf9c3V6aPryuvEeKaq5xyh+xKrhfQgUL7EYw0XILyulW\n") + "bfXv33i+Ybqypa4ETLyorGkVl73v67SMvzX41MPRKA5cOp9wGDMgd8SirwIDAQAB\n") + "o4GrMIGoMAsGA1UdDwQEAwIBxjAPBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQWBBRT\n") + "MtGzz3/64PGgXYVOktKeRR20TzA9BgNVHR8ENjA0MDKgMKAuhixodHRwOi8vY3Js\n") + "LnVzZXJ0cnVzdC5jb20vVVROLURBVEFDb3JwU0dDLmNybDAqBgNVHSUEIzAhBggr\n") + "BgEFBQcDAQYKKwYBBAGCNwoDAwYJYIZIAYb4QgQBMA0GCSqGSIb3DQEBBQUAA4IB\n") + "AQAnNZcAiosovcYzMB4p/OL31ZjUQLtgyr+rFywJNn9Q+kHcrpY6CiM+iVnJowft\n") + "Gzet/Hy+UUla3joKVAgWRcKZsYfNjGjgaQPpxE6YsjuMFrMOoAyYUJuTqXAJyCyj\n") + "j98C5OBxOvG0I3KgqgHf35g+FFCgMSa9KOlaMCZ1+XtgHI3zzVAmbQQnmt/VDUVH\n") + "KWss5nbZqSl9Mt3JNjy9rjXxEZ4du5A/EkdOjtd+D2JzHVImOBwYSf0wdJrE5SIv\n") + "2MCN7ZF6TACPcn9d2t0bi0Vr591pl6jFVkwPDPafepE39peC4N1xaf92P2BNPM/3\n") + "mfnGV/TJVTl4uix5yaaIK/QI\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("UTN USERFirst Email Root CA", ((("MIGuMQswCQYDVQQGEwJVUzELMAkGA1UECBMCVVQxFzAVBgNVBAcTDlNhbHQgTGFrZSBDaXR5MR4w" + "HAYDVQQKExVUaGUgVVNFUlRSVVNUIE5ldHdvcmsxITAfBgNVBAsTGGh0dHA6Ly93d3cudXNlcnRy") + "dXN0LmNvbTE2MDQGA1UEAxMtVVROLVVTRVJGaXJzdC1DbGllbnQgQXV0aGVudGljYXRpb24gYW5k") + "IEVtYWls"), (((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEojCCA4qgAwIBAgIQRL4Mi1AAJLQR0zYlJWfJiTANBgkqhkiG9w0BAQUFADCB\n") + "rjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExha2Ug\n") + "Q2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVTVCBOZXR3b3JrMSEwHwYDVQQLExho\n") + "dHRwOi8vd3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVUTi1VU0VSRmlyc3Qt\n") + "Q2xpZW50IEF1dGhlbnRpY2F0aW9uIGFuZCBFbWFpbDAeFw05OTA3MDkxNzI4NTBa\n") + "Fw0xOTA3MDkxNzM2NThaMIGuMQswCQYDVQQGEwJVUzELMAkGA1UECBMCVVQxFzAV\n") + "BgNVBAcTDlNhbHQgTGFrZSBDaXR5MR4wHAYDVQQKExVUaGUgVVNFUlRSVVNUIE5l\n") + "dHdvcmsxITAfBgNVBAsTGGh0dHA6Ly93d3cudXNlcnRydXN0LmNvbTE2MDQGA1UE\n") + "AxMtVVROLVVTRVJGaXJzdC1DbGllbnQgQXV0aGVudGljYXRpb24gYW5kIEVtYWls\n") + "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAsjmFpPJ9q0E7YkY3rs3B\n") + "YHW8OWX5ShpHornMSMxqmNVNNRm5pELlzkniii8efNIxB8dOtINknS4p1aJkxIW9\n") + "hVE1eaROaJB7HHqkkqgX8pgV8pPMyaQylbsMTzC9mKALi+VuG6JG+ni8om+rWV6l\n") + "L8/K2m2qL+usobNqqrcuZzWLeeEeaYji5kbNoKXqvgvOdjp6Dpvq/NonWz1zHyLm\n") + "SGHGTPNpsaguG7bUMSAsvIKKjqQOpdeJQ/wWWq8dcdcRWdq6hw2v+vPhwvCkxWeM\n") + "1tZUOt4KpLoDd7NlyP0e03RiqhjKaJMeoYV+9Udly/hNVyh00jT/MLbu9mIwFIws\n") + "6wIDAQABo4G5MIG2MAsGA1UdDwQEAwIBxjAPBgNVHRMBAf8EBTADAQH/MB0GA1Ud\n") + "DgQWBBSJgmd9xJ0mcABLtFBIfN49rgRufTBYBgNVHR8EUTBPME2gS6BJhkdodHRw\n") + "Oi8vY3JsLnVzZXJ0cnVzdC5jb20vVVROLVVTRVJGaXJzdC1DbGllbnRBdXRoZW50\n") + "aWNhdGlvbmFuZEVtYWlsLmNybDAdBgNVHSUEFjAUBggrBgEFBQcDAgYIKwYBBQUH\n") + "AwQwDQYJKoZIhvcNAQEFBQADggEBALFtYV2mGn98q0rkMPxTbyUkxsrt4jFcKw7u\n") + "7mFVbwQ+zznexRtJlOTrIEy05p5QLnLZjfWqo7NK2lYcYJeA3IKirUq9iiv/Cwm0\n") + "xtcgBEXkzYABurorbs6q15L+5K/r9CYdFip/bDCVNy8zEqx/3cfREYxRmLLQo5HQ\n") + "rfafnoOTHh1CuEava2bwm3/q4wMC5QJRwarVNZ1yQAOJujEdxRBoUp7fooXFXAim\n") + "eOZTT7Hot9MUnpOmw2TjrH5xzbyf6QMbzPvprDHBr3wVdAKZw7JHpsIyYdfHb0gk\n") + "USeh1YdV8nuPmD0Wnu51tvjQjvLzxq4oW6fw8zYX/MMF08oDSlQ=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("UTN USERFirst Hardware Root CA", (("MIGXMQswCQYDVQQGEwJVUzELMAkGA1UECBMCVVQxFzAVBgNVBAcTDlNhbHQgTGFrZSBDaXR5MR4w" + "HAYDVQQKExVUaGUgVVNFUlRSVVNUIE5ldHdvcmsxITAfBgNVBAsTGGh0dHA6Ly93d3cudXNlcnRy") + "dXN0LmNvbTEfMB0GA1UEAxMWVVROLVVTRVJGaXJzdC1IYXJkd2FyZQ=="), ((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEdDCCA1ygAwIBAgIQRL4Mi1AAJLQR0zYq/mUK/TANBgkqhkiG9w0BAQUFADCB\n") + "lzELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExha2Ug\n") + "Q2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVTVCBOZXR3b3JrMSEwHwYDVQQLExho\n") + "dHRwOi8vd3d3LnVzZXJ0cnVzdC5jb20xHzAdBgNVBAMTFlVUTi1VU0VSRmlyc3Qt\n") + "SGFyZHdhcmUwHhcNOTkwNzA5MTgxMDQyWhcNMTkwNzA5MTgxOTIyWjCBlzELMAkG\n") + "A1UEBhMCVVMxCzAJBgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExha2UgQ2l0eTEe\n") + "MBwGA1UEChMVVGhlIFVTRVJUUlVTVCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8v\n") + "d3d3LnVzZXJ0cnVzdC5jb20xHzAdBgNVBAMTFlVUTi1VU0VSRmlyc3QtSGFyZHdh\n") + "cmUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCx98M4P7Sof885glFn\n") + "0G2f0v9Y8+efK+wNiVSZuTiZFvfgIXlIwrthdBKWHTxqctU8EGc6Oe0rE81m65UJ\n") + "M6Rsl7HoxuzBdXmcRl6Nq9Bq/bkqVRcQVLMZ8Jr28bFdtqdt++BxF2uiiPsA3/4a\n") + "MXcMmgF6sTLjKwEHOG7DpV4jvEWbe1DByTCP2+UretNb+zNAHqDVmBe8i4fDidNd\n") + "oI6yqqr2jmmIBsX6iSHzCJ1pLgkzmykNRg+MzEk0sGlRvfkGzWitZky8PqxhvQqI\n") + "DsjfPe58BEydCl5rkdbux+0ojatNh4lz0G6k0B4WixThdkQDf2Os5M1JnMWS9Ksy\n") + "oUhbAgMBAAGjgbkwgbYwCwYDVR0PBAQDAgHGMA8GA1UdEwEB/wQFMAMBAf8wHQYD\n") + "VR0OBBYEFKFyXyYbKJhDlV0HN9WFlp1L0sNFMEQGA1UdHwQ9MDswOaA3oDWGM2h0\n") + "dHA6Ly9jcmwudXNlcnRydXN0LmNvbS9VVE4tVVNFUkZpcnN0LUhhcmR3YXJlLmNy\n") + "bDAxBgNVHSUEKjAoBggrBgEFBQcDAQYIKwYBBQUHAwUGCCsGAQUFBwMGBggrBgEF\n") + "BQcDBzANBgkqhkiG9w0BAQUFAAOCAQEARxkP3nTGmZev/K0oXnWO6y1n7k57K9cM\n") + "//bey1WiCuFMVGWTYGufEpytXoMs61quwOQt9ABjHbjAbPLPSbtNk28Gpgoiskli\n") + "CE7/yMgUsogWXecB5BKV5UU0s4tpvc+0hY91UZ59Ojg6FEgSxvunOxqNDYJAB+gE\n") + "CJChicsZUN/KHAG8HQQZexB2lzvukJDKxA4fFm517zP4029bHpbj4HR3dHuKom4t\n") + "3XbWOTCC8KucUvIqx69JXn7HaOWCgchqJ/kniCrVWFCVH/A7HFe7fRQ5YiuayZSS\n") + "KqMiDP+JJn1fIytH1xUdqWqeUQ0qUZ6B+dQ7XnASfxAynB67nfhmqA==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("UTN USERFirst Object Root CA", (("MIGVMQswCQYDVQQGEwJVUzELMAkGA1UECBMCVVQxFzAVBgNVBAcTDlNhbHQgTGFrZSBDaXR5MR4w" + "HAYDVQQKExVUaGUgVVNFUlRSVVNUIE5ldHdvcmsxITAfBgNVBAsTGGh0dHA6Ly93d3cudXNlcnRy") + "dXN0LmNvbTEdMBsGA1UEAxMUVVROLVVTRVJGaXJzdC1PYmplY3Q="), ((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEZjCCA06gAwIBAgIQRL4Mi1AAJLQR0zYt4LNfGzANBgkqhkiG9w0BAQUFADCB\n") + "lTELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExha2Ug\n") + "Q2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVTVCBOZXR3b3JrMSEwHwYDVQQLExho\n") + "dHRwOi8vd3d3LnVzZXJ0cnVzdC5jb20xHTAbBgNVBAMTFFVUTi1VU0VSRmlyc3Qt\n") + "T2JqZWN0MB4XDTk5MDcwOTE4MzEyMFoXDTE5MDcwOTE4NDAzNlowgZUxCzAJBgNV\n") + "BAYTAlVTMQswCQYDVQQIEwJVVDEXMBUGA1UEBxMOU2FsdCBMYWtlIENpdHkxHjAc\n") + "BgNVBAoTFVRoZSBVU0VSVFJVU1QgTmV0d29yazEhMB8GA1UECxMYaHR0cDovL3d3\n") + "dy51c2VydHJ1c3QuY29tMR0wGwYDVQQDExRVVE4tVVNFUkZpcnN0LU9iamVjdDCC\n") + "ASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM6qgT+jo2F4qjEAVZURnicP\n") + "HxzfOpuCaDDASmEd8S8O+r5596Uj71VRloTN2+O5bj4x2AogZ8f02b+U60cEPgLO\n") + "KqJdhwQJ9jCdGIqXsqoc/EHSoTbL+z2RuufZcDX65OeQw5ujm9M89RKZd7G3CeBo\n") + "5hy485RjiGpq/gt2yb70IuRnuasaXnfBhQfdDWy/7gbHd2pBnqcP1/vulBe3/IW+\n") + "pKvEHDHd17bR5PDv3xaPslKT16HUiaEHLr/hARJCHhrh2JU022R5KP+6LhHC5ehb\n") + "kkj7RwvCbNqtMoNB86XlQXD9ZZBt+vpRxPm9lisZBCzTbafc8H9vg2XiaquHhnUC\n") + "AwEAAaOBrzCBrDALBgNVHQ8EBAMCAcYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4E\n") + "FgQU2u1kdBScFDyr3ZmpvVsoTYs8ydgwQgYDVR0fBDswOTA3oDWgM4YxaHR0cDov\n") + "L2NybC51c2VydHJ1c3QuY29tL1VUTi1VU0VSRmlyc3QtT2JqZWN0LmNybDApBgNV\n") + "HSUEIjAgBggrBgEFBQcDAwYIKwYBBQUHAwgGCisGAQQBgjcKAwQwDQYJKoZIhvcN\n") + "AQEFBQADggEBAAgfUrE3RHjb/c652pWWmKpVZIC1WkDdIaXFwfNfLEzIR1pp6ujw\n") + "NTX00CXzyKakh0q9G7FzCL3Uw8q2NbtZhncxzaeAFK4T7/yxSPlrJSUtUbYsbUXB\n") + "mMiKVl0+7kNOPmsnjtA6S4ULX9Ptaqd1y9Fahy85dRNacrACgZ++8A+EVCBibGnU\n") + "4U3GDZlDAQ0Slox4nb9QorFEqmrPF3rPbw/U+CRVX/A0FklmPlBGyWNxODFiuGK5\n") + "81OtbLUrohKqGU8J2l7nk8aOFAj+8DCAGKCGhU3IfdeLA/5u1fedFqySLKAj5ZyR\n") + "Uh+U3xeUc8OzwcFxBSAAeL0TUh2oPs0AH8g=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Camerfirma Chambers of Commerce Root", (("MH8xCzAJBgNVBAYTAkVVMScwJQYDVQQKEx5BQyBDYW1lcmZpcm1hIFNBIENJRiBBODI3NDMyODcx" + "IzAhBgNVBAsTGmh0dHA6Ly93d3cuY2hhbWJlcnNpZ24ub3JnMSIwIAYDVQQDExlDaGFtYmVycyBv") + "ZiBDb21tZXJjZSBSb290"), ((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEvTCCA6WgAwIBAgIBADANBgkqhkiG9w0BAQUFADB/MQswCQYDVQQGEwJFVTEn\n") + "MCUGA1UEChMeQUMgQ2FtZXJmaXJtYSBTQSBDSUYgQTgyNzQzMjg3MSMwIQYDVQQL\n") + "ExpodHRwOi8vd3d3LmNoYW1iZXJzaWduLm9yZzEiMCAGA1UEAxMZQ2hhbWJlcnMg\n") + "b2YgQ29tbWVyY2UgUm9vdDAeFw0wMzA5MzAxNjEzNDNaFw0zNzA5MzAxNjEzNDRa\n") + "MH8xCzAJBgNVBAYTAkVVMScwJQYDVQQKEx5BQyBDYW1lcmZpcm1hIFNBIENJRiBB\n") + "ODI3NDMyODcxIzAhBgNVBAsTGmh0dHA6Ly93d3cuY2hhbWJlcnNpZ24ub3JnMSIw\n") + "IAYDVQQDExlDaGFtYmVycyBvZiBDb21tZXJjZSBSb290MIIBIDANBgkqhkiG9w0B\n") + "AQEFAAOCAQ0AMIIBCAKCAQEAtzZV5aVdGDDg2olUkfzIx1L4L1DZ77F1c2VHfRtb\n") + "unXF/KGIJPov7coISjlUxFF6tdpg6jg8gbLL8bvZkSM/SAFwdakFKq0fcfPJVD0d\n") + "BmpAPrMMhe5cG3nCYsS4No41XQEMIwRHNaqbYE6gZj3LJgqcQKH0XZi/caulAGgq\n") + "7YN6D6IUtdQis4CwPAxaUWktWBiP7Zme8a7ileb2R6jWDA+wWFjbw2Y3npuRVDM3\n") + "0pQcakjJyfKl2qUMI/cjDpwyVV5xnIQFUZot/eZOKjRa3spAN2cMVCFVd9oKDMyX\n") + "roDclDZK9D7ONhMeU+SsTjoF7Nuucpw4i9A5O4kKPnf+dQIBA6OCAUQwggFAMBIG\n") + "A1UdEwEB/wQIMAYBAf8CAQwwPAYDVR0fBDUwMzAxoC+gLYYraHR0cDovL2NybC5j\n") + "aGFtYmVyc2lnbi5vcmcvY2hhbWJlcnNyb290LmNybDAdBgNVHQ4EFgQU45T1sU3p\n") + "26EpW1eLTXYGduHRooowDgYDVR0PAQH/BAQDAgEGMBEGCWCGSAGG+EIBAQQEAwIA\n") + "BzAnBgNVHREEIDAegRxjaGFtYmVyc3Jvb3RAY2hhbWJlcnNpZ24ub3JnMCcGA1Ud\n") + "EgQgMB6BHGNoYW1iZXJzcm9vdEBjaGFtYmVyc2lnbi5vcmcwWAYDVR0gBFEwTzBN\n") + "BgsrBgEEAYGHLgoDATA+MDwGCCsGAQUFBwIBFjBodHRwOi8vY3BzLmNoYW1iZXJz\n") + "aWduLm9yZy9jcHMvY2hhbWJlcnNyb290Lmh0bWwwDQYJKoZIhvcNAQEFBQADggEB\n") + "AAxBl8IahsAifJ/7kPMa0QOx7xP5IV8EnNrJpY0nbJaHkb5BkAFyk+cefV/2icZd\n") + "p0AJPaxJRUXcLo0waLIJuvvDL8y6C98/d3tGfToSJI6WjzwFCm/SlCgdbQzALogi\n") + "1djPHRPH8EjX1wWnz8dHnjs8NMiAT9QUu/wNUPf6s+xCX6ndbcj0dc97wXImsQEc\n") + "XCz9ek60AcUFV7nnPKoF2YjpB0ZBzu9Bga5Y34OirsrXdx/nADydb47kMgkdTXg0\n") + "eDQ8lJsm7U9xxhl6vSAiSFr+S30Dt+dYvsYyTnQeaN2oaFuzPu5ifdmA6Ap1erfu\n") + "tGWaIZDgqtCYvDi1czyL+Nw=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Camerfirma Global Chambersign Root", (("MH0xCzAJBgNVBAYTAkVVMScwJQYDVQQKEx5BQyBDYW1lcmZpcm1hIFNBIENJRiBBODI3NDMyODcx" + "IzAhBgNVBAsTGmh0dHA6Ly93d3cuY2hhbWJlcnNpZ24ub3JnMSAwHgYDVQQDExdHbG9iYWwgQ2hh") + "bWJlcnNpZ24gUm9vdA=="), ((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIExTCCA62gAwIBAgIBADANBgkqhkiG9w0BAQUFADB9MQswCQYDVQQGEwJFVTEn\n") + "MCUGA1UEChMeQUMgQ2FtZXJmaXJtYSBTQSBDSUYgQTgyNzQzMjg3MSMwIQYDVQQL\n") + "ExpodHRwOi8vd3d3LmNoYW1iZXJzaWduLm9yZzEgMB4GA1UEAxMXR2xvYmFsIENo\n") + "YW1iZXJzaWduIFJvb3QwHhcNMDMwOTMwMTYxNDE4WhcNMzcwOTMwMTYxNDE4WjB9\n") + "MQswCQYDVQQGEwJFVTEnMCUGA1UEChMeQUMgQ2FtZXJmaXJtYSBTQSBDSUYgQTgy\n") + "NzQzMjg3MSMwIQYDVQQLExpodHRwOi8vd3d3LmNoYW1iZXJzaWduLm9yZzEgMB4G\n") + "A1UEAxMXR2xvYmFsIENoYW1iZXJzaWduIFJvb3QwggEgMA0GCSqGSIb3DQEBAQUA\n") + "A4IBDQAwggEIAoIBAQCicKLQn0KuWxfH2H3PFIP8T8mhtxOviteePgQKkotgVvq0\n") + "Mi+ITaFgCPS3CU6gSS9J1tPfnZdan5QEcOw/Wdm3zGaLmFIoCQLfxS+EjXqXd7/s\n") + "QJ0lcqu1PzKY+7e3/HKE5TWH+VX6ox8Oby4o3Wmg2UIQxvi1RMLQQ3/bvOSiPGpV\n") + "eAp3qdjqGTK3L/5cPxvusZjsyq16aUXjlg9V9ubtdepl6DJWk0aJqCWKZQbua795\n") + "B9Dxt6/tLE2Su8CoX6dnfQTyFQhwrJLWfQTSM/tMtgsL+xrJxI0DqX5c8lCrEqWh\n") + "z0hQpe/SyBoT+rB/sYIcd2oPX9wLlY/vQ37mRQklAgEDo4IBUDCCAUwwEgYDVR0T\n") + "AQH/BAgwBgEB/wIBDDA/BgNVHR8EODA2MDSgMqAwhi5odHRwOi8vY3JsLmNoYW1i\n") + "ZXJzaWduLm9yZy9jaGFtYmVyc2lnbnJvb3QuY3JsMB0GA1UdDgQWBBRDnDafsJ4w\n") + "TcbOX60Qq+UDpfqpFDAOBgNVHQ8BAf8EBAMCAQYwEQYJYIZIAYb4QgEBBAQDAgAH\n") + "MCoGA1UdEQQjMCGBH2NoYW1iZXJzaWducm9vdEBjaGFtYmVyc2lnbi5vcmcwKgYD\n") + "VR0SBCMwIYEfY2hhbWJlcnNpZ25yb290QGNoYW1iZXJzaWduLm9yZzBbBgNVHSAE\n") + "VDBSMFAGCysGAQQBgYcuCgEBMEEwPwYIKwYBBQUHAgEWM2h0dHA6Ly9jcHMuY2hh\n") + "bWJlcnNpZ24ub3JnL2Nwcy9jaGFtYmVyc2lnbnJvb3QuaHRtbDANBgkqhkiG9w0B\n") + "AQUFAAOCAQEAPDtwkfkEVCeR4e3t/mh/YV3lQWVPMvEYBZRqHN4fcNs+ezICNLUM\n") + "bKGKfKX0j//U2K0X1S0E0T9YgOKBWYi+wONGkyT+kL0mojAt6JcmVzWJdJYY9hXi\n") + "ryQZVgICsroPFOrGimbBhkVVi76SvpykBMdJPJ7oKXqJ1/6v/2j1pReQvayZzKWG\n") + "VwlnRtvWFsJG8eSpUPWP0ZIV018+xgBJOm5YstHRJw0lyDL4IBHNfTIzSJRUTN3c\n") + "ecQwn+uOuFW114hcxWokPbLTBQNRxgfvzBRydD1ucs4YKIxKoHflCStFREest2d/\n") + "AYoFWpO+ocH/+OcOZ6RHSXZddZAa9SaP8A==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("NetLock Qualified (Class QA) Root", ((("MIHJMQswCQYDVQQGEwJIVTERMA8GA1UEBxMIQnVkYXBlc3QxJzAlBgNVBAoTHk5ldExvY2sgSGFs" + "b3phdGJpenRvbnNhZ2kgS2Z0LjEaMBgGA1UECxMRVGFudXNpdHZhbnlraWFkb2sxQjBABgNVBAMT") + "OU5ldExvY2sgTWlub3NpdGV0dCBLb3pqZWd5em9pIChDbGFzcyBRQSkgVGFudXNpdHZhbnlraWFk") + "bzEeMBwGCSqGSIb3DQEJARYPaW5mb0BuZXRsb2NrLmh1"), (((((((((((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIG0TCCBbmgAwIBAgIBezANBgkqhkiG9w0BAQUFADCByTELMAkGA1UEBhMCSFUx\n") + "ETAPBgNVBAcTCEJ1ZGFwZXN0MScwJQYDVQQKEx5OZXRMb2NrIEhhbG96YXRiaXp0\n") + "b25zYWdpIEtmdC4xGjAYBgNVBAsTEVRhbnVzaXR2YW55a2lhZG9rMUIwQAYDVQQD\n") + "EzlOZXRMb2NrIE1pbm9zaXRldHQgS296amVneXpvaSAoQ2xhc3MgUUEpIFRhbnVz\n") + "aXR2YW55a2lhZG8xHjAcBgkqhkiG9w0BCQEWD2luZm9AbmV0bG9jay5odTAeFw0w\n") + "MzAzMzAwMTQ3MTFaFw0yMjEyMTUwMTQ3MTFaMIHJMQswCQYDVQQGEwJIVTERMA8G\n") + "A1UEBxMIQnVkYXBlc3QxJzAlBgNVBAoTHk5ldExvY2sgSGFsb3phdGJpenRvbnNh\n") + "Z2kgS2Z0LjEaMBgGA1UECxMRVGFudXNpdHZhbnlraWFkb2sxQjBABgNVBAMTOU5l\n") + "dExvY2sgTWlub3NpdGV0dCBLb3pqZWd5em9pIChDbGFzcyBRQSkgVGFudXNpdHZh\n") + "bnlraWFkbzEeMBwGCSqGSIb3DQEJARYPaW5mb0BuZXRsb2NrLmh1MIIBIjANBgkq\n") + "hkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAx1Ilstg91IRVCacbvWy5FPSKAtt2/Goq\n") + "eKvld/Bu4IwjZ9ulZJm53QE+b+8tmjwi8F3JV6BVQX/yQ15YglMxZc4e8ia6AFQe\n") + "r7C8HORSjKAyr7c3sVNnaHRnUPYtLmTeriZ539+Zhqurf4XsoPuAzPS4DB6TRWO5\n") + "3Lhbm+1bOdRfYrCnjnxmOCyqsQhjF2d9zL2z8cM/z1A57dEZgxXbhxInlrfa6uWd\n") + "vLrqOU+L73Sa58XQ0uqGURzk/mQIKAR5BevKxXEOC++r6uwSEaEYBTJp0QwsGj0l\n") + "mT+1fMptsK6ZmfoIYOcZwvK9UdPM0wKswREMgM6r3JSda6M5UzrWhQIDAMV9o4IC\n") + "wDCCArwwEgYDVR0TAQH/BAgwBgEB/wIBBDAOBgNVHQ8BAf8EBAMCAQYwggJ1Bglg\n") + "hkgBhvhCAQ0EggJmFoICYkZJR1lFTEVNISBFemVuIHRhbnVzaXR2YW55IGEgTmV0\n") + "TG9jayBLZnQuIE1pbm9zaXRldHQgU3pvbGdhbHRhdGFzaSBTemFiYWx5emF0YWJh\n") + "biBsZWlydCBlbGphcmFzb2sgYWxhcGphbiBrZXN6dWx0LiBBIG1pbm9zaXRldHQg\n") + "ZWxla3Ryb25pa3VzIGFsYWlyYXMgam9naGF0YXMgZXJ2ZW55ZXN1bGVzZW5laywg\n") + "dmFsYW1pbnQgZWxmb2dhZGFzYW5hayBmZWx0ZXRlbGUgYSBNaW5vc2l0ZXR0IFN6\n") + "b2xnYWx0YXRhc2kgU3phYmFseXphdGJhbiwgYXogQWx0YWxhbm9zIFN6ZXJ6b2Rl\n") + "c2kgRmVsdGV0ZWxla2JlbiBlbG9pcnQgZWxsZW5vcnplc2kgZWxqYXJhcyBtZWd0\n") + "ZXRlbGUuIEEgZG9rdW1lbnR1bW9rIG1lZ3RhbGFsaGF0b2sgYSBodHRwczovL3d3\n") + "dy5uZXRsb2NrLmh1L2RvY3MvIGNpbWVuIHZhZ3kga2VyaGV0b2sgYXogaW5mb0Bu\n") + "ZXRsb2NrLm5ldCBlLW1haWwgY2ltZW4uIFdBUk5JTkchIFRoZSBpc3N1YW5jZSBh\n") + "bmQgdGhlIHVzZSBvZiB0aGlzIGNlcnRpZmljYXRlIGFyZSBzdWJqZWN0IHRvIHRo\n") + "ZSBOZXRMb2NrIFF1YWxpZmllZCBDUFMgYXZhaWxhYmxlIGF0IGh0dHBzOi8vd3d3\n") + "Lm5ldGxvY2suaHUvZG9jcy8gb3IgYnkgZS1tYWlsIGF0IGluZm9AbmV0bG9jay5u\n") + "ZXQwHQYDVR0OBBYEFAlqYhaSsFq7VQ7LdTI6MuWyIckoMA0GCSqGSIb3DQEBBQUA\n") + "A4IBAQCRalCc23iBmz+LQuM7/KbD7kPgz/PigDVJRXYC4uMvBcXxKufAQTPGtpvQ\n") + "MznNwNuhrWw3AkxYQTvyl5LGSKjN5Yo5iWH5Upfpvfb5lHTocQ68d4bDBsxafEp+\n") + "NFAwLvt/MpqNPfMgW/hqyobzMUwsWYACff44yTB1HLdV47yfuqhthCgFdbOLDcCR\n") + "VCHnpgu0mfVRQdzNo0ci2ccBgcTcR08m6h/t280NmPSjnLRzMkqWmf68f8glWPhY\n") + "83ZmiVSkpj7EUFy6iRiCdUgh0k8T6GB+B3bbELVR5qq5aKrN9p2QdRLqOBrKROi3\n") + "macqaJVmlaut74nLYKkGEsaUR+ko\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("NetLock Notary (Class A) Root", ((("MIGvMQswCQYDVQQGEwJIVTEQMA4GA1UECBMHSHVuZ2FyeTERMA8GA1UEBxMIQnVkYXBlc3QxJzAl" + "BgNVBAoTHk5ldExvY2sgSGFsb3phdGJpenRvbnNhZ2kgS2Z0LjEaMBgGA1UECxMRVGFudXNpdHZh") + "bnlraWFkb2sxNjA0BgNVBAMTLU5ldExvY2sgS296amVneXpvaSAoQ2xhc3MgQSkgVGFudXNpdHZh") + "bnlraWFkbw=="), (((((((((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIGfTCCBWWgAwIBAgICAQMwDQYJKoZIhvcNAQEEBQAwga8xCzAJBgNVBAYTAkhV\n") + "MRAwDgYDVQQIEwdIdW5nYXJ5MREwDwYDVQQHEwhCdWRhcGVzdDEnMCUGA1UEChMe\n") + "TmV0TG9jayBIYWxvemF0Yml6dG9uc2FnaSBLZnQuMRowGAYDVQQLExFUYW51c2l0\n") + "dmFueWtpYWRvazE2MDQGA1UEAxMtTmV0TG9jayBLb3pqZWd5em9pIChDbGFzcyBB\n") + "KSBUYW51c2l0dmFueWtpYWRvMB4XDTk5MDIyNDIzMTQ0N1oXDTE5MDIxOTIzMTQ0\n") + "N1owga8xCzAJBgNVBAYTAkhVMRAwDgYDVQQIEwdIdW5nYXJ5MREwDwYDVQQHEwhC\n") + "dWRhcGVzdDEnMCUGA1UEChMeTmV0TG9jayBIYWxvemF0Yml6dG9uc2FnaSBLZnQu\n") + "MRowGAYDVQQLExFUYW51c2l0dmFueWtpYWRvazE2MDQGA1UEAxMtTmV0TG9jayBL\n") + "b3pqZWd5em9pIChDbGFzcyBBKSBUYW51c2l0dmFueWtpYWRvMIIBIjANBgkqhkiG\n") + "9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvHSMD7tM9DceqQWC2ObhbHDqeLVu0ThEDaiD\n") + "zl3S1tWBxdRL51uUcCbbO51qTGL3cfNk1mE7PetzozfZz+qMkjvN9wfcZnSX9EUi\n") + "3fRc4L9t875lM+QVOr/bmJBVOMTtplVjC7B4BPTjbsE/jvxReB+SnoPC/tmwqcm8\n") + "WgD/qaiYdPv2LD4VOQ22BFWoDpggQrOxJa1+mm9dU7GrDPzr4PN6s6iz/0b2Y6LY\n") + "Oph7tqyF/7AlT3Rj5xMHpQqPBffAZG9+pyeAlt7ULoZgx2srXnN7F+eRP2QM2Esi\n") + "NCubMvJIH5+hCoR64sKtlz2O1cH5VqNQ6ca0+pii7pXmKgOM3wIDAQABo4ICnzCC\n") + "ApswDgYDVR0PAQH/BAQDAgAGMBIGA1UdEwEB/wQIMAYBAf8CAQQwEQYJYIZIAYb4\n") + "QgEBBAQDAgAHMIICYAYJYIZIAYb4QgENBIICURaCAk1GSUdZRUxFTSEgRXplbiB0\n") + "YW51c2l0dmFueSBhIE5ldExvY2sgS2Z0LiBBbHRhbGFub3MgU3pvbGdhbHRhdGFz\n") + "aSBGZWx0ZXRlbGVpYmVuIGxlaXJ0IGVsamFyYXNvayBhbGFwamFuIGtlc3p1bHQu\n") + "IEEgaGl0ZWxlc2l0ZXMgZm9seWFtYXRhdCBhIE5ldExvY2sgS2Z0LiB0ZXJtZWtm\n") + "ZWxlbG9zc2VnLWJpenRvc2l0YXNhIHZlZGkuIEEgZGlnaXRhbGlzIGFsYWlyYXMg\n") + "ZWxmb2dhZGFzYW5hayBmZWx0ZXRlbGUgYXogZWxvaXJ0IGVsbGVub3J6ZXNpIGVs\n") + "amFyYXMgbWVndGV0ZWxlLiBBeiBlbGphcmFzIGxlaXJhc2EgbWVndGFsYWxoYXRv\n") + "IGEgTmV0TG9jayBLZnQuIEludGVybmV0IGhvbmxhcGphbiBhIGh0dHBzOi8vd3d3\n") + "Lm5ldGxvY2submV0L2RvY3MgY2ltZW4gdmFneSBrZXJoZXRvIGF6IGVsbGVub3J6\n") + "ZXNAbmV0bG9jay5uZXQgZS1tYWlsIGNpbWVuLiBJTVBPUlRBTlQhIFRoZSBpc3N1\n") + "YW5jZSBhbmQgdGhlIHVzZSBvZiB0aGlzIGNlcnRpZmljYXRlIGlzIHN1YmplY3Qg\n") + "dG8gdGhlIE5ldExvY2sgQ1BTIGF2YWlsYWJsZSBhdCBodHRwczovL3d3dy5uZXRs\n") + "b2NrLm5ldC9kb2NzIG9yIGJ5IGUtbWFpbCBhdCBjcHNAbmV0bG9jay5uZXQuMA0G\n") + "CSqGSIb3DQEBBAUAA4IBAQBIJEb3ulZv+sgoA0BO5TE5ayZrU3/b39/zcT0mwBQO\n") + "xmd7I6gMc90Bu8bKbjc5VdXHjFYgDigKDtIqpLBJUsY4B/6+CgmM0ZjPytoUMaFP\n") + "0jn8DxEsQ8Pdq5PHVT5HfBgaANzze9jyf1JsIPQLX2lS9O74silg6+NJMSEN1rUQ\n") + "QeJBCWziGppWS3cC9qCbmieH6FUpccKQn0V4GuEVZD3QDtigdp+uxdAu6tYPVuxk\n") + "f1qbFFgBJ34TUMdrKuZoPL9coAob4Q566eKAw+np9v1sEZ7Q5SgnK1QyQhSCdeZK\n") + "8CtmdWOMovsEPoMOmzbwGOQmIMOM8CgHrTwXZoi1/baI\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("NetLock Business (Class B) Root", (("MIGZMQswCQYDVQQGEwJIVTERMA8GA1UEBxMIQnVkYXBlc3QxJzAlBgNVBAoTHk5ldExvY2sgSGFs" + "b3phdGJpenRvbnNhZ2kgS2Z0LjEaMBgGA1UECxMRVGFudXNpdHZhbnlraWFkb2sxMjAwBgNVBAMT") + "KU5ldExvY2sgVXpsZXRpIChDbGFzcyBCKSBUYW51c2l0dmFueWtpYWRv"), (((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIFSzCCBLSgAwIBAgIBaTANBgkqhkiG9w0BAQQFADCBmTELMAkGA1UEBhMCSFUx\n") + "ETAPBgNVBAcTCEJ1ZGFwZXN0MScwJQYDVQQKEx5OZXRMb2NrIEhhbG96YXRiaXp0\n") + "b25zYWdpIEtmdC4xGjAYBgNVBAsTEVRhbnVzaXR2YW55a2lhZG9rMTIwMAYDVQQD\n") + "EylOZXRMb2NrIFV6bGV0aSAoQ2xhc3MgQikgVGFudXNpdHZhbnlraWFkbzAeFw05\n") + "OTAyMjUxNDEwMjJaFw0xOTAyMjAxNDEwMjJaMIGZMQswCQYDVQQGEwJIVTERMA8G\n") + "A1UEBxMIQnVkYXBlc3QxJzAlBgNVBAoTHk5ldExvY2sgSGFsb3phdGJpenRvbnNh\n") + "Z2kgS2Z0LjEaMBgGA1UECxMRVGFudXNpdHZhbnlraWFkb2sxMjAwBgNVBAMTKU5l\n") + "dExvY2sgVXpsZXRpIChDbGFzcyBCKSBUYW51c2l0dmFueWtpYWRvMIGfMA0GCSqG\n") + "SIb3DQEBAQUAA4GNADCBiQKBgQCx6gTsIKAjwo84YM/HRrPVG/77uZmeBNwcf4xK\n") + "gZjupNTKihe5In+DCnVMm8Bp2GQ5o+2So/1bXHQawEfKOml2mrriRBf8TKPV/riX\n") + "iK+IA4kfpPIEPsgHC+b5sy96YhQJRhTKZPWLgLViqNhr1nGTLbO/CVRY7QbrqHvc\n") + "Q7GhaQIDAQABo4ICnzCCApswEgYDVR0TAQH/BAgwBgEB/wIBBDAOBgNVHQ8BAf8E\n") + "BAMCAAYwEQYJYIZIAYb4QgEBBAQDAgAHMIICYAYJYIZIAYb4QgENBIICURaCAk1G\n") + "SUdZRUxFTSEgRXplbiB0YW51c2l0dmFueSBhIE5ldExvY2sgS2Z0LiBBbHRhbGFu\n") + "b3MgU3pvbGdhbHRhdGFzaSBGZWx0ZXRlbGVpYmVuIGxlaXJ0IGVsamFyYXNvayBh\n") + "bGFwamFuIGtlc3p1bHQuIEEgaGl0ZWxlc2l0ZXMgZm9seWFtYXRhdCBhIE5ldExv\n") + "Y2sgS2Z0LiB0ZXJtZWtmZWxlbG9zc2VnLWJpenRvc2l0YXNhIHZlZGkuIEEgZGln\n") + "aXRhbGlzIGFsYWlyYXMgZWxmb2dhZGFzYW5hayBmZWx0ZXRlbGUgYXogZWxvaXJ0\n") + "IGVsbGVub3J6ZXNpIGVsamFyYXMgbWVndGV0ZWxlLiBBeiBlbGphcmFzIGxlaXJh\n") + "c2EgbWVndGFsYWxoYXRvIGEgTmV0TG9jayBLZnQuIEludGVybmV0IGhvbmxhcGph\n") + "biBhIGh0dHBzOi8vd3d3Lm5ldGxvY2submV0L2RvY3MgY2ltZW4gdmFneSBrZXJo\n") + "ZXRvIGF6IGVsbGVub3J6ZXNAbmV0bG9jay5uZXQgZS1tYWlsIGNpbWVuLiBJTVBP\n") + "UlRBTlQhIFRoZSBpc3N1YW5jZSBhbmQgdGhlIHVzZSBvZiB0aGlzIGNlcnRpZmlj\n") + "YXRlIGlzIHN1YmplY3QgdG8gdGhlIE5ldExvY2sgQ1BTIGF2YWlsYWJsZSBhdCBo\n") + "dHRwczovL3d3dy5uZXRsb2NrLm5ldC9kb2NzIG9yIGJ5IGUtbWFpbCBhdCBjcHNA\n") + "bmV0bG9jay5uZXQuMA0GCSqGSIb3DQEBBAUAA4GBAATbrowXr/gOkDFOzT4JwG06\n") + "sPgzTEdM43WIEJessDgVkcYplswhwG08pXTP2IKlOcNl40JwuyKQ433bNXbhoLXa\n") + "n3BukxowOR0w2y7jfLKRstE3Kfq51hdcR0/jHTjrn9V7lagonhVK0dHQKwCXoOKS\n") + "NitjrFgBazMpUIaD8QFI\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("NetLock Express (Class C) Root", (("MIGbMQswCQYDVQQGEwJIVTERMA8GA1UEBxMIQnVkYXBlc3QxJzAlBgNVBAoTHk5ldExvY2sgSGFs" + "b3phdGJpenRvbnNhZ2kgS2Z0LjEaMBgGA1UECxMRVGFudXNpdHZhbnlraWFkb2sxNDAyBgNVBAMT") + "K05ldExvY2sgRXhwcmVzc3ogKENsYXNzIEMpIFRhbnVzaXR2YW55a2lhZG8="), (((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIFTzCCBLigAwIBAgIBaDANBgkqhkiG9w0BAQQFADCBmzELMAkGA1UEBhMCSFUx\n") + "ETAPBgNVBAcTCEJ1ZGFwZXN0MScwJQYDVQQKEx5OZXRMb2NrIEhhbG96YXRiaXp0\n") + "b25zYWdpIEtmdC4xGjAYBgNVBAsTEVRhbnVzaXR2YW55a2lhZG9rMTQwMgYDVQQD\n") + "EytOZXRMb2NrIEV4cHJlc3N6IChDbGFzcyBDKSBUYW51c2l0dmFueWtpYWRvMB4X\n") + "DTk5MDIyNTE0MDgxMVoXDTE5MDIyMDE0MDgxMVowgZsxCzAJBgNVBAYTAkhVMREw\n") + "DwYDVQQHEwhCdWRhcGVzdDEnMCUGA1UEChMeTmV0TG9jayBIYWxvemF0Yml6dG9u\n") + "c2FnaSBLZnQuMRowGAYDVQQLExFUYW51c2l0dmFueWtpYWRvazE0MDIGA1UEAxMr\n") + "TmV0TG9jayBFeHByZXNzeiAoQ2xhc3MgQykgVGFudXNpdHZhbnlraWFkbzCBnzAN\n") + "BgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEA6+ywbGGKIyWvYCDj2Z/8kwvbXY2wobNA\n") + "OoLO/XXgeDIDhlqGlZHtU/qdQPzm6N3ZW3oDvV3zOwzDUXmbrVWg6dADEK8KuhRC\n") + "2VImESLH0iDMgqSaqf64gXadarfSNnU+sYYJ9m5tfk63euyucYT2BDMIJTLrdKwW\n") + "RMbkQJMdf60CAwEAAaOCAp8wggKbMBIGA1UdEwEB/wQIMAYBAf8CAQQwDgYDVR0P\n") + "AQH/BAQDAgAGMBEGCWCGSAGG+EIBAQQEAwIABzCCAmAGCWCGSAGG+EIBDQSCAlEW\n") + "ggJNRklHWUVMRU0hIEV6ZW4gdGFudXNpdHZhbnkgYSBOZXRMb2NrIEtmdC4gQWx0\n") + "YWxhbm9zIFN6b2xnYWx0YXRhc2kgRmVsdGV0ZWxlaWJlbiBsZWlydCBlbGphcmFz\n") + "b2sgYWxhcGphbiBrZXN6dWx0LiBBIGhpdGVsZXNpdGVzIGZvbHlhbWF0YXQgYSBO\n") + "ZXRMb2NrIEtmdC4gdGVybWVrZmVsZWxvc3NlZy1iaXp0b3NpdGFzYSB2ZWRpLiBB\n") + "IGRpZ2l0YWxpcyBhbGFpcmFzIGVsZm9nYWRhc2FuYWsgZmVsdGV0ZWxlIGF6IGVs\n") + "b2lydCBlbGxlbm9yemVzaSBlbGphcmFzIG1lZ3RldGVsZS4gQXogZWxqYXJhcyBs\n") + "ZWlyYXNhIG1lZ3RhbGFsaGF0byBhIE5ldExvY2sgS2Z0LiBJbnRlcm5ldCBob25s\n") + "YXBqYW4gYSBodHRwczovL3d3dy5uZXRsb2NrLm5ldC9kb2NzIGNpbWVuIHZhZ3kg\n") + "a2VyaGV0byBheiBlbGxlbm9yemVzQG5ldGxvY2submV0IGUtbWFpbCBjaW1lbi4g\n") + "SU1QT1JUQU5UISBUaGUgaXNzdWFuY2UgYW5kIHRoZSB1c2Ugb2YgdGhpcyBjZXJ0\n") + "aWZpY2F0ZSBpcyBzdWJqZWN0IHRvIHRoZSBOZXRMb2NrIENQUyBhdmFpbGFibGUg\n") + "YXQgaHR0cHM6Ly93d3cubmV0bG9jay5uZXQvZG9jcyBvciBieSBlLW1haWwgYXQg\n") + "Y3BzQG5ldGxvY2submV0LjANBgkqhkiG9w0BAQQFAAOBgQAQrX/XDDKACtiG8XmY\n") + "ta3UzbM2xJZIwVzNmtkFLp++UOv0JhQQLdRmF/iewSf98e3ke0ugbLWrmldwpu2g\n") + "pO0u9f38vf5NNwgMvOOWgyL1SRt/Syu0VMGAfJlOHdCM7tCs5ZL6dVb+ZKATj7i4\n") + "Fp1hBWeAyNDYpQcCNJgEjTME1A==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("XRamp Global CA Root", (("MIGCMQswCQYDVQQGEwJVUzEeMBwGA1UECxMVd3d3LnhyYW1wc2VjdXJpdHkuY29tMSQwIgYDVQQK" + "ExtYUmFtcCBTZWN1cml0eSBTZXJ2aWNlcyBJbmMxLTArBgNVBAMTJFhSYW1wIEdsb2JhbCBDZXJ0") + "aWZpY2F0aW9uIEF1dGhvcml0eQ=="), (((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEMDCCAxigAwIBAgIQUJRs7Bjq1ZxN1ZfvdY+grTANBgkqhkiG9w0BAQUFADCB\n") + "gjELMAkGA1UEBhMCVVMxHjAcBgNVBAsTFXd3dy54cmFtcHNlY3VyaXR5LmNvbTEk\n") + "MCIGA1UEChMbWFJhbXAgU2VjdXJpdHkgU2VydmljZXMgSW5jMS0wKwYDVQQDEyRY\n") + "UmFtcCBHbG9iYWwgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMDQxMTAxMTcx\n") + "NDA0WhcNMzUwMTAxMDUzNzE5WjCBgjELMAkGA1UEBhMCVVMxHjAcBgNVBAsTFXd3\n") + "dy54cmFtcHNlY3VyaXR5LmNvbTEkMCIGA1UEChMbWFJhbXAgU2VjdXJpdHkgU2Vy\n") + "dmljZXMgSW5jMS0wKwYDVQQDEyRYUmFtcCBHbG9iYWwgQ2VydGlmaWNhdGlvbiBB\n") + "dXRob3JpdHkwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCYJB69FbS6\n") + "38eMpSe2OAtp87ZOqCwuIR1cRN8hXX4jdP5efrRKt6atH67gBhbim1vZZ3RrXYCP\n") + "KZ2GG9mcDZhtdhAoWORlsH9KmHmf4MMxfoArtYzAQDsRhtDLooY2YKTVMIJt2W7Q\n") + "DxIEM5dfT2Fa8OT5kavnHTu86M/0ay00fOJIYRyO82FEzG+gSqmUsE3a56k0enI4\n") + "qEHMPJQRfevIpoy3hsvKMzvZPTeL+3o+hiznc9cKV6xkmxnr9A8ECIqsAxcZZPRa\n") + "JSKNNCyy9mgdEm3Tih4U2sSPpuIjhdV6Db1q4Ons7Be7QhtnqiXtRYMh/MHJfNVi\n") + "PvryxS3T/dRlAgMBAAGjgZ8wgZwwEwYJKwYBBAGCNxQCBAYeBABDAEEwCwYDVR0P\n") + "BAQDAgGGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFMZPoj0GY4QJnM5i5ASs\n") + "jVy16bYbMDYGA1UdHwQvMC0wK6ApoCeGJWh0dHA6Ly9jcmwueHJhbXBzZWN1cml0\n") + "eS5jb20vWEdDQS5jcmwwEAYJKwYBBAGCNxUBBAMCAQEwDQYJKoZIhvcNAQEFBQAD\n") + "ggEBAJEVOQMBG2f7Shz5CmBbodpNl2L5JFMn14JkTpAuw0kbK5rc/Kh4ZzXxHfAR\n") + "vbdI4xD2Dd8/0sm2qlWkSLoC295ZLhVbO50WfUfXN+pfTXYSNrsf16GBBEYgoyxt\n") + "qZ4Bfj8pzgCT3/3JknOJiWSe5yvkHJEs0rnOfc5vMZnT5r7SHpDwCRR5XCOrTdLa\n") + "IR9NmXmd4c8nnxCbHIgNsIpkQTG4DmyQJKSbXHGPurt+HBvbaoAPIbzp26a3QPSy\n") + "i6mx5O+aGtA9aZnuqCij4Tyz8LIRnM98QObd50N9otg6tamN8jSZxNQQ4Qb9CYQQ\n") + "O+7ETPTsJ3xCwnR8gooJybQDJbw=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Go Daddy Class 2 CA", ("MGMxCzAJBgNVBAYTAlVTMSEwHwYDVQQKExhUaGUgR28gRGFkZHkgR3JvdXAsIEluYy4xMTAvBgNV" + "BAsTKEdvIERhZGR5IENsYXNzIDIgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHk="), ((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEADCCAuigAwIBAgIBADANBgkqhkiG9w0BAQUFADBjMQswCQYDVQQGEwJVUzEh\n") + "MB8GA1UEChMYVGhlIEdvIERhZGR5IEdyb3VwLCBJbmMuMTEwLwYDVQQLEyhHbyBE\n") + "YWRkeSBDbGFzcyAyIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MB4XDTA0MDYyOTE3\n") + "MDYyMFoXDTM0MDYyOTE3MDYyMFowYzELMAkGA1UEBhMCVVMxITAfBgNVBAoTGFRo\n") + "ZSBHbyBEYWRkeSBHcm91cCwgSW5jLjExMC8GA1UECxMoR28gRGFkZHkgQ2xhc3Mg\n") + "MiBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTCCASAwDQYJKoZIhvcNAQEBBQADggEN\n") + "ADCCAQgCggEBAN6d1+pXGEmhW+vXX0iG6r7d/+TvZxz0ZWizV3GgXne77ZtJ6XCA\n") + "PVYYYwhv2vLM0D9/AlQiVBDYsoHUwHU9S3/Hd8M+eKsaA7Ugay9qK7HFiH7Eux6w\n") + "wdhFJ2+qN1j3hybX2C32qRe3H3I2TqYXP2WYktsqbl2i/ojgC95/5Y0V4evLOtXi\n") + "EqITLdiOr18SPaAIBQi2XKVlOARFmR6jYGB0xUGlcmIbYsUfb18aQr4CUWWoriMY\n") + "avx4A6lNf4DD+qta/KFApMoZFv6yyO9ecw3ud72a9nmYvLEHZ6IVDd2gWMZEewo+\n") + "YihfukEHU1jPEX44dMX4/7VpkI+EdOqXG68CAQOjgcAwgb0wHQYDVR0OBBYEFNLE\n") + "sNKR1EwRcbNhyz2h/t2oatTjMIGNBgNVHSMEgYUwgYKAFNLEsNKR1EwRcbNhyz2h\n") + "/t2oatTjoWekZTBjMQswCQYDVQQGEwJVUzEhMB8GA1UEChMYVGhlIEdvIERhZGR5\n") + "IEdyb3VwLCBJbmMuMTEwLwYDVQQLEyhHbyBEYWRkeSBDbGFzcyAyIENlcnRpZmlj\n") + "YXRpb24gQXV0aG9yaXR5ggEAMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQAD\n") + "ggEBADJL87LKPpH8EsahB4yOd6AzBhRckB4Y9wimPQoZ+YeAEW5p5JYXMP80kWNy\n") + "OO7MHAGjHZQopDH2esRU1/blMVgDoszOYtuURXO1v0XJJLXVggKtI3lpjbi2Tc7P\n") + "TMozI+gciKqdi0FuFskg5YmezTvacPd+mSYgFFQlq25zheabIZ0KbIIOqPjCDPoQ\n") + "HmyW74cNxA9hi63ugyuV+I6ShHI56yDqg+2DzZduCLzrTia2cyvk0/ZM/iZx4mER\n") + "dEr/VxqHD3VILs9RaRegAhJhldXRQLIQTO7ErBBDpqWeCtWVYpoNz4iCxTIM5Cuf\n") + "ReYNnyicsbkqWletNw+vHX/bvZ8=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Starfield Class 2 CA", ("MGgxCzAJBgNVBAYTAlVTMSUwIwYDVQQKExxTdGFyZmllbGQgVGVjaG5vbG9naWVzLCBJbmMuMTIw" + "MAYDVQQLEylTdGFyZmllbGQgQ2xhc3MgMiBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eQ=="), ((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEDzCCAvegAwIBAgIBADANBgkqhkiG9w0BAQUFADBoMQswCQYDVQQGEwJVUzEl\n") + "MCMGA1UEChMcU3RhcmZpZWxkIFRlY2hub2xvZ2llcywgSW5jLjEyMDAGA1UECxMp\n") + "U3RhcmZpZWxkIENsYXNzIDIgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMDQw\n") + "NjI5MTczOTE2WhcNMzQwNjI5MTczOTE2WjBoMQswCQYDVQQGEwJVUzElMCMGA1UE\n") + "ChMcU3RhcmZpZWxkIFRlY2hub2xvZ2llcywgSW5jLjEyMDAGA1UECxMpU3RhcmZp\n") + "ZWxkIENsYXNzIDIgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwggEgMA0GCSqGSIb3\n") + "DQEBAQUAA4IBDQAwggEIAoIBAQC3Msj+6XGmBIWtDBFk385N78gDGIc/oav7PKaf\n") + "8MOh2tTYbitTkPskpD6E8J7oX+zlJ0T1KKY/e97gKvDIr1MvnsoFAZMej2YcOadN\n") + "+lq2cwQlZut3f+dZxkqZJRRU6ybH838Z1TBwj6+wRir/resp7defqgSHo9T5iaU0\n") + "X9tDkYI22WY8sbi5gv2cOj4QyDvvBmVmepsZGD3/cVE8MC5fvj13c7JdBmzDI1aa\n") + "K4UmkhynArPkPw2vCHmCuDY96pzTNbO8acr1zJ3o/WSNF4Azbl5KXZnJHoe0nRrA\n") + "1W4TNSNe35tfPe/W93bC6j67eA0cQmdrBNj41tpvi/JEoAGrAgEDo4HFMIHCMB0G\n") + "A1UdDgQWBBS/X7fRzt0fhvRbVazc1xDCDqmI5zCBkgYDVR0jBIGKMIGHgBS/X7fR\n") + "zt0fhvRbVazc1xDCDqmI56FspGowaDELMAkGA1UEBhMCVVMxJTAjBgNVBAoTHFN0\n") + "YXJmaWVsZCBUZWNobm9sb2dpZXMsIEluYy4xMjAwBgNVBAsTKVN0YXJmaWVsZCBD\n") + "bGFzcyAyIENlcnRpZmljYXRpb24gQXV0aG9yaXR5ggEAMAwGA1UdEwQFMAMBAf8w\n") + "DQYJKoZIhvcNAQEFBQADggEBAAWdP4id0ckaVaGsafPzWdqbAYcaT1epoXkJKtv3\n") + "L7IezMdeatiDh6GX70k1PncGQVhiv45YuApnP+yz3SFmH8lU+nLMPUxA2IGvd56D\n") + "eruix/U0F47ZEUD0/CwqTRV/p2JdLiXTAAsgGh1o+Re49L2L7ShZ3U0WixeDyLJl\n") + "xy16paq8U4Zt3VekyvggQQto8PT7dL5WXXp59fkdheMtlb71cZBDzI0fmgAKhynp\n") + "VSJYACPq4xJDKVtHCN2MQWplBqjlIapBtJUhlbl90TSrE9atvNziPTnNvT51cKEY\n") + "WQPJIrSPnNVeKtelttQKbfi3QBFGmh95DmK/D5fs4C8fF5Q=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("StartCom Ltd.", ((("MIGwMQswCQYDVQQGEwJJTDEPMA0GA1UECBMGSXNyYWVsMQ4wDAYDVQQHEwVFaWxhdDEWMBQGA1UE" + "ChMNU3RhcnRDb20gTHRkLjEaMBgGA1UECxMRQ0EgQXV0aG9yaXR5IERlcC4xKTAnBgNVBAMTIEZy") + "ZWUgU1NMIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MSEwHwYJKoZIhvcNAQkBFhJhZG1pbkBzdGFy") + "dGNvbS5vcmc="), ((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIFFjCCBH+gAwIBAgIBADANBgkqhkiG9w0BAQQFADCBsDELMAkGA1UEBhMCSUwx\n") + "DzANBgNVBAgTBklzcmFlbDEOMAwGA1UEBxMFRWlsYXQxFjAUBgNVBAoTDVN0YXJ0\n") + "Q29tIEx0ZC4xGjAYBgNVBAsTEUNBIEF1dGhvcml0eSBEZXAuMSkwJwYDVQQDEyBG\n") + "cmVlIFNTTCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEhMB8GCSqGSIb3DQEJARYS\n") + "YWRtaW5Ac3RhcnRjb20ub3JnMB4XDTA1MDMxNzE3Mzc0OFoXDTM1MDMxMDE3Mzc0\n") + "OFowgbAxCzAJBgNVBAYTAklMMQ8wDQYDVQQIEwZJc3JhZWwxDjAMBgNVBAcTBUVp\n") + "bGF0MRYwFAYDVQQKEw1TdGFydENvbSBMdGQuMRowGAYDVQQLExFDQSBBdXRob3Jp\n") + "dHkgRGVwLjEpMCcGA1UEAxMgRnJlZSBTU0wgQ2VydGlmaWNhdGlvbiBBdXRob3Jp\n") + "dHkxITAfBgkqhkiG9w0BCQEWEmFkbWluQHN0YXJ0Y29tLm9yZzCBnzANBgkqhkiG\n") + "9w0BAQEFAAOBjQAwgYkCgYEA7YRgACOeyEpRKSfeOqE5tWmrCbIvNP1h3D3TsM+x\n") + "18LEwrHkllbEvqoUDufMOlDIOmKdw6OsWXuO7lUaHEe+o5c5s7XvIywI6Nivcy+5\n") + "yYPo7QAPyHWlLzRMGOh2iCNJitu27Wjaw7ViKUylS7eYtAkUEKD4/mJ2IhULpNYI\n") + "LzUCAwEAAaOCAjwwggI4MA8GA1UdEwEB/wQFMAMBAf8wCwYDVR0PBAQDAgHmMB0G\n") + "A1UdDgQWBBQcicOWzL3+MtUNjIExtpidjShkjTCB3QYDVR0jBIHVMIHSgBQcicOW\n") + "zL3+MtUNjIExtpidjShkjaGBtqSBszCBsDELMAkGA1UEBhMCSUwxDzANBgNVBAgT\n") + "BklzcmFlbDEOMAwGA1UEBxMFRWlsYXQxFjAUBgNVBAoTDVN0YXJ0Q29tIEx0ZC4x\n") + "GjAYBgNVBAsTEUNBIEF1dGhvcml0eSBEZXAuMSkwJwYDVQQDEyBGcmVlIFNTTCBD\n") + "ZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEhMB8GCSqGSIb3DQEJARYSYWRtaW5Ac3Rh\n") + "cnRjb20ub3JnggEAMB0GA1UdEQQWMBSBEmFkbWluQHN0YXJ0Y29tLm9yZzAdBgNV\n") + "HRIEFjAUgRJhZG1pbkBzdGFydGNvbS5vcmcwEQYJYIZIAYb4QgEBBAQDAgAHMC8G\n") + "CWCGSAGG+EIBDQQiFiBGcmVlIFNTTCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAy\n") + "BglghkgBhvhCAQQEJRYjaHR0cDovL2NlcnQuc3RhcnRjb20ub3JnL2NhLWNybC5j\n") + "cmwwKAYJYIZIAYb4QgECBBsWGWh0dHA6Ly9jZXJ0LnN0YXJ0Y29tLm9yZy8wOQYJ\n") + "YIZIAYb4QgEIBCwWKmh0dHA6Ly9jZXJ0LnN0YXJ0Y29tLm9yZy9pbmRleC5waHA/\n") + "YXBwPTExMTANBgkqhkiG9w0BAQQFAAOBgQBscSXhnjSRIe/bbL0BCFaPiNhBOlP1\n") + "ct8nV0t2hPdopP7rPwl+KLhX6h/BquL/lp9JmeaylXOWxkjHXo0Hclb4g4+fd68p\n") + "00UOpO6wNnQt8M2YI3s3S9r+UZjEHjQ8iP2ZO1CnwYszx8JSFhKVU2Ui77qLzmLb\n") + "cCOxgN8aIDjnfg==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("StartCom Certification Authority", (("MH0xCzAJBgNVBAYTAklMMRYwFAYDVQQKEw1TdGFydENvbSBMdGQuMSswKQYDVQQLEyJTZWN1cmUg" + "RGlnaXRhbCBDZXJ0aWZpY2F0ZSBTaWduaW5nMSkwJwYDVQQDEyBTdGFydENvbSBDZXJ0aWZpY2F0") + "aW9uIEF1dGhvcml0eQ=="), ((((((((((((((((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIHyTCCBbGgAwIBAgIBATANBgkqhkiG9w0BAQUFADB9MQswCQYDVQQGEwJJTDEW\n") + "MBQGA1UEChMNU3RhcnRDb20gTHRkLjErMCkGA1UECxMiU2VjdXJlIERpZ2l0YWwg\n") + "Q2VydGlmaWNhdGUgU2lnbmluZzEpMCcGA1UEAxMgU3RhcnRDb20gQ2VydGlmaWNh\n") + "dGlvbiBBdXRob3JpdHkwHhcNMDYwOTE3MTk0NjM2WhcNMzYwOTE3MTk0NjM2WjB9\n") + "MQswCQYDVQQGEwJJTDEWMBQGA1UEChMNU3RhcnRDb20gTHRkLjErMCkGA1UECxMi\n") + "U2VjdXJlIERpZ2l0YWwgQ2VydGlmaWNhdGUgU2lnbmluZzEpMCcGA1UEAxMgU3Rh\n") + "cnRDb20gQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwggIiMA0GCSqGSIb3DQEBAQUA\n") + "A4ICDwAwggIKAoICAQDBiNsJvGxGfHiflXu1M5DycmLWwTYgIiRezul38kMKogZk\n") + "pMyONvg45iPwbm2xPN1yo4UcodM9tDMr0y+v/uqwQVlntsQGfQqedIXWeUyAN3rf\n") + "OQVSWff0G0ZDpNKFhdLDcfN1YjS6LIp/Ho/u7TTQEceWzVI9ujPW3U3eCztKS5/C\n") + "Ji/6tRYccjV3yjxd5srhJosaNnZcAdt0FCX+7bWgiA/deMotHweXMAEtcnn6RtYT\n") + "Kqi5pquDSR3l8u/d5AGOGAqPY1MWhWKpDhk6zLVmpsJrdAfkK+F2PrRt2PZE4XNi\n") + "HzvEvqBTViVsUQn3qqvKv3b9bZvzndu/PWa8DFaqr5hIlTpL36dYUNk4dalb6kMM\n") + "Av+Z6+hsTXBbKWWc3apdzK8BMewM69KN6Oqce+Zu9ydmDBpI125C4z/eIT574Q1w\n") + "+2OqqGwaVLRcJXrJosmLFqa7LH4XXgVNWG4SHQHuEhANxjJ/GP/89PrNbpHoNkm+\n") + "Gkhpi8KWTRoSsmkXwQqQ1vp5Iki/untp+HDH+no32NgN0nZPV/+Qt+OR0t3vwmC3\n") + "Zzrd/qqc8NSLf3Iizsafl7b4r4qgEKjZ+xjGtrVcUjyJthkqcwEKDwOzEmDyei+B\n") + "26Nu/yYwl/WL3YlXtq09s68rxbd2AvCl1iuahhQqcvbjM4xdCUsT37uMdBNSSwID\n") + "AQABo4ICUjCCAk4wDAYDVR0TBAUwAwEB/zALBgNVHQ8EBAMCAa4wHQYDVR0OBBYE\n") + "FE4L7xqkQFulF2mHMMo0aEPQQa7yMGQGA1UdHwRdMFswLKAqoCiGJmh0dHA6Ly9j\n") + "ZXJ0LnN0YXJ0Y29tLm9yZy9zZnNjYS1jcmwuY3JsMCugKaAnhiVodHRwOi8vY3Js\n") + "LnN0YXJ0Y29tLm9yZy9zZnNjYS1jcmwuY3JsMIIBXQYDVR0gBIIBVDCCAVAwggFM\n") + "BgsrBgEEAYG1NwEBATCCATswLwYIKwYBBQUHAgEWI2h0dHA6Ly9jZXJ0LnN0YXJ0\n") + "Y29tLm9yZy9wb2xpY3kucGRmMDUGCCsGAQUFBwIBFilodHRwOi8vY2VydC5zdGFy\n") + "dGNvbS5vcmcvaW50ZXJtZWRpYXRlLnBkZjCB0AYIKwYBBQUHAgIwgcMwJxYgU3Rh\n") + "cnQgQ29tbWVyY2lhbCAoU3RhcnRDb20pIEx0ZC4wAwIBARqBl0xpbWl0ZWQgTGlh\n") + "YmlsaXR5LCByZWFkIHRoZSBzZWN0aW9uICpMZWdhbCBMaW1pdGF0aW9ucyogb2Yg\n") + "dGhlIFN0YXJ0Q29tIENlcnRpZmljYXRpb24gQXV0aG9yaXR5IFBvbGljeSBhdmFp\n") + "bGFibGUgYXQgaHR0cDovL2NlcnQuc3RhcnRjb20ub3JnL3BvbGljeS5wZGYwEQYJ\n") + "YIZIAYb4QgEBBAQDAgAHMDgGCWCGSAGG+EIBDQQrFilTdGFydENvbSBGcmVlIFNT\n") + "TCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTANBgkqhkiG9w0BAQUFAAOCAgEAFmyZ\n") + "9GYMNPXQhV59CuzaEE44HF7fpiUFS5Eyweg78T3dRAlbB0mKKctmArexmvclmAk8\n") + "jhvh3TaHK0u7aNM5Zj2gJsfyOZEdUauCe37Vzlrk4gNXcGmXCPleWKYK34wGmkUW\n") + "FjgKXlf2Ysd6AgXmvB618p70qSmD+LIU424oh0TDkBreOKk8rENNZEXO3SipXPJz\n") + "ewT4F+irsfMuXGRuczE6Eri8sxHkfY+BUZo7jYn0TZNmezwD7dOaHZrzZVD1oNB1\n") + "ny+v8OqCQ5j4aZyJecRDjkZy42Q2Eq/3JR44iZB3fsNrarnDy0RLrHiQi+fHLB5L\n") + "EUTINFInzQpdn4XBidUaePKVEFMy3YCEZnXZtWgo+2EuvoSoOMCZEoalHmdkrQYu\n") + "L6lwhceWD3yJZfWOQ1QOq92lgDmUYMA0yZZwLKMS9R9Ie70cfmu3nZD0Ijuu+Pwq\n") + "yvqCUqDvr0tVk+vBtfAii6w0TiYiBKGHLHVKt+V9E9e4DGTANtLJL4YSjCMJwRuC\n") + "O3NJo2pXh5Tl1njFmUNj403gdy3hZZlyaQQaRwnmDwFWJPsfvw55qVguucQJAX6V\n") + "um0ABj6y6koQOdjQK/W/7HW/lwLFCRsI3FU34oH7N4RDYiDK51ZLZer+bMEkkySh\n") + "NOsF/5oirpt9P/FlUQqmMGqz9IgcgA38corog14=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Taiwan GRCA", ("MD8xCzAJBgNVBAYTAlRXMTAwLgYDVQQKDCdHb3Zlcm5tZW50IFJvb3QgQ2VydGlmaWNhdGlvbiBB" + "dXRob3JpdHk="), ((((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIFcjCCA1qgAwIBAgIQH51ZWtcvwgZEpYAIaeNe9jANBgkqhkiG9w0BAQUFADA/\n") + "MQswCQYDVQQGEwJUVzEwMC4GA1UECgwnR292ZXJubWVudCBSb290IENlcnRpZmlj\n") + "YXRpb24gQXV0aG9yaXR5MB4XDTAyMTIwNTEzMjMzM1oXDTMyMTIwNTEzMjMzM1ow\n") + "PzELMAkGA1UEBhMCVFcxMDAuBgNVBAoMJ0dvdmVybm1lbnQgUm9vdCBDZXJ0aWZp\n") + "Y2F0aW9uIEF1dGhvcml0eTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIB\n") + "AJoluOzMonWoe/fOW1mKydGGEghU7Jzy50b2iPN86aXfTEc2pBsBHH8eV4qNw8XR\n") + "IePaJD9IK/ufLqGU5ywck9G/GwGHU5nOp/UKIXZ3/6m3xnOUT0b3EEk3+qhZSV1q\n") + "gQdW8or5BtD3cCJNtLdBuTK4sfCxw5w/cP1T3YGq2GN49thTbqGsaoQkclSGxtKy\n") + "yhwOeYHWtXBiCAEuTk8O1RGvqa/lmr/czIdtJuTJV6L7lvnM4T9TjGxMfptTCAts\n") + "F/tnyMKtsc2AtJfcdgEWFelq16TheEfOhtX7MfP6Mb40qij7cEwdScevLJ1tZqa2\n") + "jWR+tSBqnTuBto9AAGdLiYa4zGX+FVPpBMHWXx1E1wovJ5pGfaENda1UhhXcSTvx\n") + "ls4Pm6Dso3pdvtUqdULle96ltqqvKKyskKw4t9VoNSZ63Pc78/1Fm9G7Q3hub/FC\n") + "VGqY8A2tl+lSXunVanLeavcbYBT0peS2cWeqH+riTcFCQP5nRhc4L0c/cZyu5SHK\n") + "YS1tB6iEfC3uUSXxY5Ce/eFXiGvviiNtsea9P63RPZYLhY3Naye7twWb7LuRqQoH\n") + "EgKXTiCQ8P8NHuJBO9NAOueNXdpm5AKwB1KYXA6OM5zCppX7VRluTI6uSw+9wThN\n") + "Xo+EHWbNxWCWtFJaBYmOlXqYwZE8lSOyDvR5tMl8wUohAgMBAAGjajBoMB0GA1Ud\n") + "DgQWBBTMzO/MKWCkO7GStjz6MmKPrCUVOzAMBgNVHRMEBTADAQH/MDkGBGcqBwAE\n") + "MTAvMC0CAQAwCQYFKw4DAhoFADAHBgVnKgMAAAQUA5vwIhP/lSg209yewDL7MTqK\n") + "UWUwDQYJKoZIhvcNAQEFBQADggIBAECASvomyc5eMN1PhnR2WPWus4MzeKR6dBcZ\n") + "TulStbngCnRiqmjKeKBMmo4sIy7VahIkv9Ro04rQ2JyftB8M3jh+Vzj8jeJPXgyf\n") + "qzvS/3WXy6TjZwj/5cAWtUgBfen5Cv8b5Wppv3ghqMKnI6mGq3ZW6A4M9hPdKmaK\n") + "ZEk9GhiHkASfQlK3T8v+R0F2Ne//AHY2RTKbxkaFXeIksB7jSJaYV0eUVXoPQbFE\n") + "JPPB/hprv4j9wabak2BegUqZIJxIZhm1AHlUD7gsL0u8qV1bYH+Mh6XgUmMqvtg7\n") + "hUAV/h62ZT/FS9p+tXo1KaMuephgIqP0fSdOLeq0dDzpD6QzDxARvBMB1uUO07+1\n") + "EqLhRSPAzAhuYbeJq4PjJB7mXQfnHyA+z2fI56wwbSdLaG5LKlwCCDTb+HbkZ6Mm\n") + "nD+iMsJKxYEYMRBWqoTvLQr/uB930r+lWKBi5NdLkXWNiYCYfm3LU05er/ayl4WX\n") + "udpVBrkk7tfGOB5jGxI7leFYrPLfhNVfmS8NVVvmONsuP3LpSIXLuykTjx44Vbnz\n") + "ssQwmSNOXfJIoRIM3BKQCZBUkQM8R+XVyWXgt0t97EfTsws+rZ7QdAAO671RrcDe\n") + "LMDDav7v3Aun+kbfYNucpllQdSNpc5Oy+fwC00fmcc4QAu4njIT/rEUNE1yDMuAl\n") + "pYYsfPQS\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Firmaprofesional Root CA", (("MIGdMQswCQYDVQQGEwJFUzEiMCAGA1UEBxMZQy8gTXVudGFuZXIgMjQ0IEJhcmNlbG9uYTFCMEAG" + "A1UEAxM5QXV0b3JpZGFkIGRlIENlcnRpZmljYWNpb24gRmlybWFwcm9mZXNpb25hbCBDSUYgQTYy") + "NjM0MDY4MSYwJAYJKoZIhvcNAQkBFhdjYUBmaXJtYXByb2Zlc2lvbmFsLmNvbQ=="), ((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIEVzCCAz+gAwIBAgIBATANBgkqhkiG9w0BAQUFADCBnTELMAkGA1UEBhMCRVMx\n") + "IjAgBgNVBAcTGUMvIE11bnRhbmVyIDI0NCBCYXJjZWxvbmExQjBABgNVBAMTOUF1\n") + "dG9yaWRhZCBkZSBDZXJ0aWZpY2FjaW9uIEZpcm1hcHJvZmVzaW9uYWwgQ0lGIEE2\n") + "MjYzNDA2ODEmMCQGCSqGSIb3DQEJARYXY2FAZmlybWFwcm9mZXNpb25hbC5jb20w\n") + "HhcNMDExMDI0MjIwMDAwWhcNMTMxMDI0MjIwMDAwWjCBnTELMAkGA1UEBhMCRVMx\n") + "IjAgBgNVBAcTGUMvIE11bnRhbmVyIDI0NCBCYXJjZWxvbmExQjBABgNVBAMTOUF1\n") + "dG9yaWRhZCBkZSBDZXJ0aWZpY2FjaW9uIEZpcm1hcHJvZmVzaW9uYWwgQ0lGIEE2\n") + "MjYzNDA2ODEmMCQGCSqGSIb3DQEJARYXY2FAZmlybWFwcm9mZXNpb25hbC5jb20w\n") + "ggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDnIwNvbyOlXnjOlSztlB5u\n") + "Cp4Bx+ow0Syd3Tfom5h5VtP8c9/Qit5Vj1H5WuretXDE7aTt/6MNbg9kUDGvASdY\n") + "rv5sp0ovFy3Tc9UTHI9ZpTQsHVQERc1ouKDAA6XPhUJHlShbz++AbOCQl4oBPB3z\n") + "hxAwJkh91/zpnZFx/0GaqUC1N5wpIE8fUuOgfRNtVLcK3ulqTgesrBlf3H5idPay\n") + "BQC6haD9HThuy1q7hryUZzM1gywfI834yJFxzJeL764P3CkDG8A563DtwW4O2GcL\n") + "iam8NeTvtjS0pbbELaW+0MOUJEjb35bTALVmGotmBQ/dPz/LP6pemkr4tErvlTcb\n") + "AgMBAAGjgZ8wgZwwKgYDVR0RBCMwIYYfaHR0cDovL3d3dy5maXJtYXByb2Zlc2lv\n") + "bmFsLmNvbTASBgNVHRMBAf8ECDAGAQH/AgEBMCsGA1UdEAQkMCKADzIwMDExMDI0\n") + "MjIwMDAwWoEPMjAxMzEwMjQyMjAwMDBaMA4GA1UdDwEB/wQEAwIBBjAdBgNVHQ4E\n") + "FgQUMwugZtHq2s7eYpMEKFK1FH84aLcwDQYJKoZIhvcNAQEFBQADggEBAEdz/o0n\n") + "VPD11HecJ3lXV7cVVuzH2Fi3AQL0M+2TUIiefEaxvT8Ub/GzR0iLjJcG1+p+o1wq\n") + "u00vR+L4OQbJnC4xGgN49Lw4xiKLMzHwFgQEffl25EvXwOaD7FnMP97/T2u3Z36m\n") + "hoEyIwOdyPdfwUpgpZKpsaSgYMN4h7Mi8yrrW6ntBas3D7Hi05V2Y1Z0jFhyGzfl\n") + "ZKG+TQyTmAyX9odtsz/ny4Cm7YjHX1BiAuiZdBbQ5rQ58SfLyEDW44YQqSMSkuBp\n") + "QWOnryULwMWSyx6Yo1q6xTMPoJcB3X/ge9YGVM+h4k0460tQtcsm9MracEpqoeJ5\n") + "quGnM/b9Sh/22WA=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Wells Fargo Root CA", (("MIGCMQswCQYDVQQGEwJVUzEUMBIGA1UEChMLV2VsbHMgRmFyZ28xLDAqBgNVBAsTI1dlbGxzIEZh" + "cmdvIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MS8wLQYDVQQDEyZXZWxscyBGYXJnbyBSb290IENl") + "cnRpZmljYXRlIEF1dGhvcml0eQ=="), (((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIID5TCCAs2gAwIBAgIEOeSXnjANBgkqhkiG9w0BAQUFADCBgjELMAkGA1UEBhMC\n") + "VVMxFDASBgNVBAoTC1dlbGxzIEZhcmdvMSwwKgYDVQQLEyNXZWxscyBGYXJnbyBD\n") + "ZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEvMC0GA1UEAxMmV2VsbHMgRmFyZ28gUm9v\n") + "dCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcNMDAxMDExMTY0MTI4WhcNMjEwMTE0\n") + "MTY0MTI4WjCBgjELMAkGA1UEBhMCVVMxFDASBgNVBAoTC1dlbGxzIEZhcmdvMSww\n") + "KgYDVQQLEyNXZWxscyBGYXJnbyBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEvMC0G\n") + "A1UEAxMmV2VsbHMgRmFyZ28gUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwggEi\n") + "MA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDVqDM7Jvk0/82bfuUER84A4n13\n") + "5zHCLielTWi5MbqNQ1mXx3Oqfz1cQJ4F5aHiidlMuD+b+Qy0yGIZLEWukR5zcUHE\n") + "SxP9cMIlrCL1dQu3U+SlK93OvRw6esP3E48mVJwWa2uv+9iWsWCaSOAlIiR5NM4O\n") + "JgALTqv9i86C1y8IcGjBqAr5dE8Hq6T54oN+J3N0Prj5OEL8pahbSCOz6+MlsoCu\n") + "ltQKnMJ4msZoGK43YjdeUXWoWGPAUe5AeH6orxqg4bB4nVCMe+ez/I4jsNtlAHCE\n") + "AQgAFG5Uhpq6zPk3EPbg3oQtnaSFN9OH4xXQwReQfhkhahKpdv0SAulPIV4XAgMB\n") + "AAGjYTBfMA8GA1UdEwEB/wQFMAMBAf8wTAYDVR0gBEUwQzBBBgtghkgBhvt7hwcB\n") + "CzAyMDAGCCsGAQUFBwIBFiRodHRwOi8vd3d3LndlbGxzZmFyZ28uY29tL2NlcnRw\n") + "b2xpY3kwDQYJKoZIhvcNAQEFBQADggEBANIn3ZwKdyu7IvICtUpKkfnRLb7kuxpo\n") + "7w6kAOnu5+/u9vnldKTC2FJYxHT7zmu1Oyl5GFrvm+0fazbuSCUlFLZWohDo7qd/\n") + "0D+j0MNdJu4HzMPBJCGHHt8qElNvQRbn7a6U+oxy+hNH8Dx+rn0ROhPs7fpvcmR7\n") + "nX1/Jv16+yWt6j4pf0zjAFcysLPp7VMX2YuyFA4w6OXVE8Zkr8QA1dhYJPz1j+zx\n") + "x32l2w8n0cbyQIjmH/ZhqPRCyLk306m+LFZ4wnKbWV01QIroTmMatukgalHizqSQ\n") + "33ZwmVxwQ023tqcZZE6St8WRPH9IFmV7Fv3L/PvZ1dZPIWU7Sn9Ho/s=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Swisscom Root CA 1", ("MGQxCzAJBgNVBAYTAmNoMREwDwYDVQQKEwhTd2lzc2NvbTElMCMGA1UECxMcRGlnaXRhbCBDZXJ0" + "aWZpY2F0ZSBTZXJ2aWNlczEbMBkGA1UEAxMSU3dpc3Njb20gUm9vdCBDQSAx"), ((((((((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIF2TCCA8GgAwIBAgIQXAuFXAvnWUHfV8w/f52oNjANBgkqhkiG9w0BAQUFADBk\n") + "MQswCQYDVQQGEwJjaDERMA8GA1UEChMIU3dpc3Njb20xJTAjBgNVBAsTHERpZ2l0\n") + "YWwgQ2VydGlmaWNhdGUgU2VydmljZXMxGzAZBgNVBAMTElN3aXNzY29tIFJvb3Qg\n") + "Q0EgMTAeFw0wNTA4MTgxMjA2MjBaFw0yNTA4MTgyMjA2MjBaMGQxCzAJBgNVBAYT\n") + "AmNoMREwDwYDVQQKEwhTd2lzc2NvbTElMCMGA1UECxMcRGlnaXRhbCBDZXJ0aWZp\n") + "Y2F0ZSBTZXJ2aWNlczEbMBkGA1UEAxMSU3dpc3Njb20gUm9vdCBDQSAxMIICIjAN\n") + "BgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA0LmwqAzZuz8h+BvVM5OAFmUgdbI9\n") + "m2BtRsiMMW8Xw/qabFbtPMWRV8PNq5ZJkCoZSx6jbVfd8StiKHVFXqrWW/oLJdih\n") + "FvkcxC7mlSpnzNApbjyFNDhhSbEAn9Y6cV9Nbc5fuankiX9qUvrKm/LcqfmdmUc/\n") + "TilftKaNXXsLmREDA/7n29uj/x2lzZAeAR81sH8A25Bvxn570e56eqeqDFdvpG3F\n") + "EzuwpdntMhy0XmeLVNxzh+XTF3xmUHJd1BpYwdnP2IkCb6dJtDZd0KTeByy2dbco\n") + "kdaXvij1mB7qWybJvbCXc9qukSbraMH5ORXWZ0sKbU/Lz7DkQnGMU3nn7uHbHaBu\n") + "HYwadzVcFh4rUx80i9Fs/PJnB3r1re3WmquhsUvhzDdf/X/NTa64H5xD+SpYVUNF\n") + "vJbNcA78yeNmuk6NO4HLFWR7uZToXTNShXEuT46iBhFRyePLoW4xCGQMwtI89Tbo\n") + "19AOeCMgkckkKmUpWyL3Ic6DXqTz3kvTaI9GdVyDCW4pa8RwjPWd1yAv/0bSKzjC\n") + "L3UcPX7ape8eYIVpQtPM+GP+HkM5haa2Y0EQs3MevNP6yn0WR+Kn1dCjigoIlmJW\n") + "bjTb2QK5MHXjBNLnj8KwEUAKrNVxAmKLMb7dxiNYMUJDLXT5xp6mig/p/r+D5kNX\n") + "JLrvRjSq1xIBOO0CAwEAAaOBhjCBgzAOBgNVHQ8BAf8EBAMCAYYwHQYDVR0hBBYw\n") + "FDASBgdghXQBUwABBgdghXQBUwABMBIGA1UdEwEB/wQIMAYBAf8CAQcwHwYDVR0j\n") + "BBgwFoAUAyUv3m+CATpcLNwroWm1Z9SM0/0wHQYDVR0OBBYEFAMlL95vggE6XCzc\n") + "K6FptWfUjNP9MA0GCSqGSIb3DQEBBQUAA4ICAQA1EMvspgQNDQ/NwNurqPKIlwzf\n") + "ky9NfEBWMXrrpA9gzXrzvsMnjgM+pN0S734edAY8PzHyHHuRMSG08NBsl9Tpl7Ik\n") + "Vh5WwzW9iAUPWxAaZOHHgjD5Mq2eUCzneAXQMbFamIp1TpBcahQq4FJHgmDmHtqB\n") + "sfsUC1rxn9KVuj7QG9YVHaO+htXbD8BJZLsuUBlL0iT43R4HVtA4oJVwIHaM190e\n") + "3p9xxCPvgxNcoyQVTSlAPGrEqdi3pkSlDfTgnXceQHAm/NrZNuR55LU/vJtlvrsR\n") + "ls/bxig5OgjOR1tTWsWZ/l2p3e9M1MalrQLmjAcSHm8D0W+go/MpvRLHUKKwf4ip\n") + "mXeascClOS5cfGniLLDqN2qk4Vrh9VDlg++luyqI54zb/W1elxmofmZ1a3Hqv7HH\n") + "b6D0jqTsNFFbjCYDcKF31QESVwA12yPeDooomf2xEG9L/zgtYE4snOtnta1J7ksf\n") + "rK/7DZBaZmBwXarNeNQk7shBoJMBkpxqnvy5JMWzFYJ+vq6VK+uxwNrjAWALXmms\n") + "hFZhvnEX/h0TD/7Gh0Xp/jKgGg0TpJRVcaUWi7rKibCyx/yP2FS1k2Kdzs9Z+z0Y\n") + "zirLNRWCXf9UIltxUvu3yf5gmwBBZPCqKuy2QkPOiWaByIufOVQDJdMWNY6E0F/6\n") + "MBr1mmz0DlP5OlvRHA==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("DigiCert Assured ID Root CA", ("MGUxCzAJBgNVBAYTAlVTMRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxGTAXBgNVBAsTEHd3dy5kaWdp" + "Y2VydC5jb20xJDAiBgNVBAMTG0RpZ2lDZXJ0IEFzc3VyZWQgSUQgUm9vdCBDQQ=="), ((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDtzCCAp+gAwIBAgIQDOfg5RfYRv6P5WD8G/AwOTANBgkqhkiG9w0BAQUFADBl\n") + "MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3\n") + "d3cuZGlnaWNlcnQuY29tMSQwIgYDVQQDExtEaWdpQ2VydCBBc3N1cmVkIElEIFJv\n") + "b3QgQ0EwHhcNMDYxMTEwMDAwMDAwWhcNMzExMTEwMDAwMDAwWjBlMQswCQYDVQQG\n") + "EwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNl\n") + "cnQuY29tMSQwIgYDVQQDExtEaWdpQ2VydCBBc3N1cmVkIElEIFJvb3QgQ0EwggEi\n") + "MA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCtDhXO5EOAXLGH87dg+XESpa7c\n") + "JpSIqvTO9SA5KFhgDPiA2qkVlTJhPLWxKISKityfCgyDF3qPkKyK53lTXDGEKvYP\n") + "mDI2dsze3Tyoou9q+yHyUmHfnyDXH+Kx2f4YZNISW1/5WBg1vEfNoTb5a3/UsDg+\n") + "wRvDjDPZ2C8Y/igPs6eD1sNuRMBhNZYW/lmci3Zt1/GiSw0r/wty2p5g0I6QNcZ4\n") + "VYcgoc/lbQrISXwxmDNsIumH0DJaoroTghHtORedmTpyoeb6pNnVFzF1roV9Iq4/\n") + "AUaG9ih5yLHa5FcXxH4cDrC0kqZWs72yl+2qp/C3xag/lRbQ/6GW6whfGHdPAgMB\n") + "AAGjYzBhMA4GA1UdDwEB/wQEAwIBhjAPBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQW\n") + "BBRF66Kv9JLLgjEtUYunpyGd823IDzAfBgNVHSMEGDAWgBRF66Kv9JLLgjEtUYun\n") + "pyGd823IDzANBgkqhkiG9w0BAQUFAAOCAQEAog683+Lt8ONyc3pklL/3cmbYMuRC\n") + "dWKuh+vy1dneVrOfzM4UKLkNl2BcEkxY5NM9g0lFWJc1aRqoR+pWxnmrEthngYTf\n") + "fwk8lOa4JiwgvT2zKIn3X/8i4peEH+ll74fg38FnSbNd67IJKusm7Xi+fT8r87cm\n") + "NW1fiQG2SVufAQWbqz0lwcy2f8Lxb4bG+mRo64EtlOtCt/qMHt1i8b5QZ7dsvfPx\n") + "H2sMNgcWfzd8qVttevESRmCD1ycEvkvOl77DZypoEd+A5wwzZr8TDRRu838fYxAe\n") + "+o0bJW1sj6W3YQGx0qMmoRBxna3iw/nDmVG3KwcIzi7mULKn+gpFL6Lw8g==\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("DigiCert Global Root CA", ("MGExCzAJBgNVBAYTAlVTMRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxGTAXBgNVBAsTEHd3dy5kaWdp" + "Y2VydC5jb20xIDAeBgNVBAMTF0RpZ2lDZXJ0IEdsb2JhbCBSb290IENB"), ((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDrzCCApegAwIBAgIQCDvgVpBCRrGhdWrJWZHHSjANBgkqhkiG9w0BAQUFADBh\n") + "MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3\n") + "d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBD\n") + "QTAeFw0wNjExMTAwMDAwMDBaFw0zMTExMTAwMDAwMDBaMGExCzAJBgNVBAYTAlVT\n") + "MRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxGTAXBgNVBAsTEHd3dy5kaWdpY2VydC5j\n") + "b20xIDAeBgNVBAMTF0RpZ2lDZXJ0IEdsb2JhbCBSb290IENBMIIBIjANBgkqhkiG\n") + "9w0BAQEFAAOCAQ8AMIIBCgKCAQEA4jvhEXLeqKTTo1eqUKKPC3eQyaKl7hLOllsB\n") + "CSDMAZOnTjC3U/dDxGkAV53ijSLdhwZAAIEJzs4bg7/fzTtxRuLWZscFs3YnFo97\n") + "nh6Vfe63SKMI2tavegw5BmV/Sl0fvBf4q77uKNd0f3p4mVmFaG5cIzJLv07A6Fpt\n") + "43C/dxC//AH2hdmoRBBYMql1GNXRor5H4idq9Joz+EkIYIvUX7Q6hL+hqkpMfT7P\n") + "T19sdl6gSzeRntwi5m3OFBqOasv+zbMUZBfHWymeMr/y7vrTC0LUq7dBMtoM1O/4\n") + "gdW7jVg/tRvoSSiicNoxBN33shbyTApOB6jtSj1etX+jkMOvJwIDAQABo2MwYTAO\n") + "BgNVHQ8BAf8EBAMCAYYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUA95QNVbR\n") + "TLtm8KPiGxvDl7I90VUwHwYDVR0jBBgwFoAUA95QNVbRTLtm8KPiGxvDl7I90VUw\n") + "DQYJKoZIhvcNAQEFBQADggEBAMucN6pIExIK+t1EnE9SsPTfrgT1eXkIoyQY/Esr\n") + "hMAtudXH/vTBH1jLuG2cenTnmCmrEbXjcKChzUyImZOMkXDiqw8cvpOp/2PV5Adg\n") + "06O/nVsJ8dWO41P0jmP6P6fbtGbfYmbW0W5BjfIttep3Sp+dWOIrWcBAI+0tKIJF\n") + "PnlUkiaY4IBIqDfv8NZ5YBberOgOzW6sRBc4L0na4UU+Krk2U886UAb3LujEV0ls\n") + "YSEY1QSteDwsOoBrp+uvFRTp2InBuThs4pFsiv9kuXclVzDAGySj4dzp30d8tbQk\n") + "CAUw7C29C79Fv1C5qfPrmAESrciIxpg0X40KPMbp1ZWVbd4=\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("DigiCert High Assurance EV Root CA", ("MGwxCzAJBgNVBAYTAlVTMRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxGTAXBgNVBAsTEHd3dy5kaWdp" + "Y2VydC5jb20xKzApBgNVBAMTIkRpZ2lDZXJ0IEhpZ2ggQXNzdXJhbmNlIEVWIFJvb3QgQ0E="), (((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDxTCCAq2gAwIBAgIQAqxcJmoLQJuPC3nyrkYldzANBgkqhkiG9w0BAQUFADBs\n") + "MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3\n") + "d3cuZGlnaWNlcnQuY29tMSswKQYDVQQDEyJEaWdpQ2VydCBIaWdoIEFzc3VyYW5j\n") + "ZSBFViBSb290IENBMB4XDTA2MTExMDAwMDAwMFoXDTMxMTExMDAwMDAwMFowbDEL\n") + "MAkGA1UEBhMCVVMxFTATBgNVBAoTDERpZ2lDZXJ0IEluYzEZMBcGA1UECxMQd3d3\n") + "LmRpZ2ljZXJ0LmNvbTErMCkGA1UEAxMiRGlnaUNlcnQgSGlnaCBBc3N1cmFuY2Ug\n") + "RVYgUm9vdCBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMbM5XPm\n") + "+9S75S0tMqbf5YE/yc0lSbZxKsPVlDRnogocsF9ppkCxxLeyj9CYpKlBWTrT3JTW\n") + "PNt0OKRKzE0lgvdKpVMSOO7zSW1xkX5jtqumX8OkhPhPYlG++MXs2ziS4wblCJEM\n") + "xChBVfvLWokVfnHoNb9Ncgk9vjo4UFt3MRuNs8ckRZqnrG0AFFoEt7oT61EKmEFB\n") + "Ik5lYYeBQVCmeVyJ3hlKV9Uu5l0cUyx+mM0aBhakaHPQNAQTXKFx01p8VdteZOE3\n") + "hzBWBOURtCmAEvF5OYiiAhF8J2a3iLd48soKqDirCmTCv2ZdlYTBoSUeh10aUAsg\n") + "EsxBu24LUTi4S8sCAwEAAaNjMGEwDgYDVR0PAQH/BAQDAgGGMA8GA1UdEwEB/wQF\n") + "MAMBAf8wHQYDVR0OBBYEFLE+w2kD+L9HAdSYJhoIAu9jZCvDMB8GA1UdIwQYMBaA\n") + "FLE+w2kD+L9HAdSYJhoIAu9jZCvDMA0GCSqGSIb3DQEBBQUAA4IBAQAcGgaX3Nec\n") + "nzyIZgYIVyHbIUf4KmeqvxgydkAQV8GK83rZEWWONfqe/EW1ntlMMUu4kehDLI6z\n") + "eM7b41N5cdblIZQB2lWHmiRk9opmzN6cN82oNLFpmyPInngiK3BD41VHMWEZ71jF\n") + "hS9OMPagMRYjyOfiZRYzy78aG6A9+MpeizGLYAiJLQwGXFK3xPkKmNEVX58Svnw2\n") + "Yzi9RKR/5CYrCsSXaQ3pjOLAEFe4yHYSkVXySGnYvCoCWw9E1CAx2/S6cCZdkGCe\n") + "vEsXCS+0yx5DaMkHJ8HSXPfqIbloEpw8nL+e/IBcm2PN7EeqJSdnoDfzAIJ9VNep\n") + "+OkuE6N36B9K\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("Certplus Class 2 Primary CA", ("MD0xCzAJBgNVBAYTAkZSMREwDwYDVQQKEwhDZXJ0cGx1czEbMBkGA1UEAxMSQ2xhc3MgMiBQcmlt" + "YXJ5IENB"), ((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIDkjCCAnqgAwIBAgIRAIW9S/PY2uNp9pTXX8OlRCMwDQYJKoZIhvcNAQEFBQAw\n") + "PTELMAkGA1UEBhMCRlIxETAPBgNVBAoTCENlcnRwbHVzMRswGQYDVQQDExJDbGFz\n") + "cyAyIFByaW1hcnkgQ0EwHhcNOTkwNzA3MTcwNTAwWhcNMTkwNzA2MjM1OTU5WjA9\n") + "MQswCQYDVQQGEwJGUjERMA8GA1UEChMIQ2VydHBsdXMxGzAZBgNVBAMTEkNsYXNz\n") + "IDIgUHJpbWFyeSBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANxQ\n") + "ltAS+DXSCHh6tlJw/W/uz7kRy1134ezpfgSN1sxvc0NXYKwzCkTsA18cgCSR5aiR\n") + "VhKC9+Ar9NuuYS6JEI1rbLqzAr3VNsVINyPi8Fo3UjMXEuLRYE2+L0ER4/YXJQyL\n") + "kcAbmXuZVg2v7tK8R1fjeUl7NIknJITesezpWE7+Tt9avkGtrAjFGA7v0lPubNCd\n") + "EgETjdyAYveVqUSISnFOYFWe2yMZeVYHDD9jC1yw4r5+FfyUM1hBOHTE4Y+L3yas\n") + "H7WLO7dDWWuwJKZtkIvEcupdM5i3y95ee++U8Rs+yskhwcWYAqqi9lt3m/V+llU0\n") + "HGdpwPFC40es/CgcZlUCAwEAAaOBjDCBiTAPBgNVHRMECDAGAQH/AgEKMAsGA1Ud\n") + "DwQEAwIBBjAdBgNVHQ4EFgQU43Mt38sOKAze3bOkynm4jrvoMIkwEQYJYIZIAYb4\n") + "QgEBBAQDAgEGMDcGA1UdHwQwMC4wLKAqoCiGJmh0dHA6Ly93d3cuY2VydHBsdXMu\n") + "Y29tL0NSTC9jbGFzczIuY3JsMA0GCSqGSIb3DQEBBQUAA4IBAQCnVM+IRBnL39R/\n") + "AN9WM2K191EBkOvDP9GIROkkXe/nFL0gt5o8AP5tn9uQ3Nf0YtaLcF3n5QRIqWh8\n") + "yfFC82x/xXp8HVGIutIKPidd3i1RTtMTZGnkLuPT55sJmabglZvOGtd/vjzOUrMR\n") + "FcEPF80Du5wlFbqidon8BvEY0JNLDnyCt6X09l/+7UCmnYR0ObncHoUW2ikbhiMA\n") + "ybuJfm6AiB4vFLQDJKgybwOaRywwvlbGp0ICcBvqQNi6BQNwB6SW//1IMwrh3KWB\n") + "kJtN3X3n57LNXMhqlfil9o3EXXgIvnsG1knPGTZQIy4I5p4FTUcY1Rbpsda2ENW7\n") + "l7+ijrRU\n") + "-----END CERTIFICATE-----"));
            super.addPEMCertificate("VeriSign Class 3 Public Primary Certification Authority - G5", ((("MIHKMQswCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT" + "aWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAyMDA2IFZlcmlTaWduLCBJbmMuIC0gRm9y") + "IGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlTaWduIENsYXNzIDMgUHVibGljIFBy") + "aW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHNQ=="), ((((((((((((((((((((((((((("-----BEGIN CERTIFICATE-----\n" + "MIIE0zCCA7ugAwIBAgIQGNrRniZ96LtKIVjNzGs7SjANBgkqhkiG9w0BAQUFADCB\n") + "yjELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQL\n") + "ExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTowOAYDVQQLEzEoYykgMjAwNiBWZXJp\n") + "U2lnbiwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVzZSBvbmx5MUUwQwYDVQQDEzxW\n") + "ZXJpU2lnbiBDbGFzcyAzIFB1YmxpYyBQcmltYXJ5IENlcnRpZmljYXRpb24gQXV0\n") + "aG9yaXR5IC0gRzUwHhcNMDYxMTA4MDAwMDAwWhcNMzYwNzE2MjM1OTU5WjCByjEL\n") + "MAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZW\n") + "ZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTowOAYDVQQLEzEoYykgMjAwNiBWZXJpU2ln\n") + "biwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVzZSBvbmx5MUUwQwYDVQQDEzxWZXJp\n") + "U2lnbiBDbGFzcyAzIFB1YmxpYyBQcmltYXJ5IENlcnRpZmljYXRpb24gQXV0aG9y\n") + "aXR5IC0gRzUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCvJAgIKXo1\n") + "nmAMqudLO07cfLw8RRy7K+D+KQL5VwijZIUVJ/XxrcgxiV0i6CqqpkKzj/i5Vbex\n") + "t0uz/o9+B1fs70PbZmIVYc9gDaTY3vjgw2IIPVQT60nKWVSFJuUrjxuf6/WhkcIz\n") + "SdhDY2pSS9KP6HBRTdGJaXvHcPaz3BJ023tdS1bTlr8Vd6Gw9KIl8q8ckmcY5fQG\n") + "BO+QueQA5N06tRn/Arr0PO7gi+s3i+z016zy9vA9r911kTMZHRxAy3QkGSGT2RT+\n") + "rCpSx4/VBEnkjWNHiDxpg8v+R70rfk/Fla4OndTRQ8Bnc+MUCH7lP59zuDMKz10/\n") + "NIeWiu5T6CUVAgMBAAGjgbIwga8wDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8E\n") + "BAMCAQYwbQYIKwYBBQUHAQwEYTBfoV2gWzBZMFcwVRYJaW1hZ2UvZ2lmMCEwHzAH\n") + "BgUrDgMCGgQUj+XTGoasjY5rw8+AatRIGCx7GS4wJRYjaHR0cDovL2xvZ28udmVy\n") + "aXNpZ24uY29tL3ZzbG9nby5naWYwHQYDVR0OBBYEFH/TZafC3ey78DAJ80M5+gKv\n") + "MzEzMA0GCSqGSIb3DQEBBQUAA4IBAQCTJEowX2LP2BqYLz3q3JktvXf2pXkiOOzE\n") + "p6B4Eq1iDkVwZMXnl2YtmAl+X6/WzChl8gGqCBpH3vn5fJJaCGkgDdk+bW48DW7Y\n") + "5gaRQBi5+MHt39tBquCWIMnNZBU4gcmU7qKEKQsTb47bDN0lAtukixlE0kF6BWlK\n") + "WE9gyn6CagsCqiUXObXbf+eEZSqVir2G3l6BFoMtEMze/aiCKm0oHw0LxOXnGiYZ\n") + "4fQRbxC1lfznQgUy286dUV4otp6F01vvpX1FQHKOtw5rDgb7MzVIcbidJ4vEZV8N\n") + "hnacRHr2lVz2XTIIM6RUthg/aFzyQkqFOFSDX9HoLPKsEdao7WNq\n") + "-----END CERTIFICATE-----"));
        }
        override public function addPEMCertificate(_arg1:String, _arg2:String, _arg3:String):void{
            throw (new Error("Cannot add certificates to the Root CA store."));
        }
        override public function addCertificate(_arg1:X509Certificate):void{
            throw (new Error("Cannot add certificates to the Root CA store."));
        }

    }
}//package com.hurlant.crypto.cert 
﻿package com.hurlant.crypto.cert {

    public class X509CertificateCollection {

        private var _map:Object;

        public function X509CertificateCollection(){
            this._map = {};
        }
        public function addPEMCertificate(_arg1:String, _arg2:String, _arg3:String):void{
            this._map[_arg2] = new X509Certificate(_arg3);
        }
        public function addCertificate(_arg1:X509Certificate):void{
            var _local2:String = _arg1.getSubjectPrincipal();
            this._map[_local2] = _arg1;
        }
        public function getCertificate(_arg1:String):X509Certificate{
            return (this._map[_arg1]);
        }

    }
}//package com.hurlant.crypto.cert 
﻿package com.hurlant.crypto.cert {
    import flash.utils.*;
    import com.hurlant.crypto.rsa.*;
    import com.hurlant.crypto.hash.*;
    import com.hurlant.util.der.*;
    import com.hurlant.util.*;

    public class X509Certificate {

        private var _loaded:Boolean;
        private var _param;
        private var _obj:Object;

        public function X509Certificate(_arg1){
            this._loaded = false;
            this._param = _arg1;
        }
        private function load():void{
            var _local2:ByteArray;
            if (this._loaded){
                return;
            };
            var _local1:* = this._param;
            if ((_local1 is String)){
                _local2 = PEM.readCertIntoArray((_local1 as String));
            } else {
                if ((_local1 is ByteArray)){
                    _local2 = _local1;
                };
            };
            if (_local2 != null){
                this._obj = DER.parse(_local2, Type.TLS_CERT);
                this._loaded = true;
            } else {
                throw (new Error(("Invalid x509 Certificate parameter: " + _local1)));
            };
        }
        public function isSigned(_arg1:X509CertificateCollection, _arg2:X509CertificateCollection, _arg3:Date=null):Boolean{
            this.load();
            if (_arg3 == null){
                _arg3 = new Date();
            };
            var _local4:Date = this.getNotBefore();
            var _local5:Date = this.getNotAfter();
            if (_arg3.getTime() < _local4.getTime()){
                return (false);
            };
            if (_arg3.getTime() > _local5.getTime()){
                return (false);
            };
            var _local6:String = this.getIssuerPrincipal();
            var _local7:X509Certificate = _arg2.getCertificate(_local6);
            var _local8:Boolean;
            if (_local7 == null){
                _local7 = _arg1.getCertificate(_local6);
                if (_local7 == null){
                    return (false);
                };
            } else {
                _local8 = true;
            };
            if (_local7 == this){
                return (false);
            };
            if (((!(((_local8) && (_local7.isSelfSigned(_arg3))))) && (!(_local7.isSigned(_arg1, _arg2, _arg3))))){
                return (false);
            };
            var _local9:RSAKey = _local7.getPublicKey();
            return (this.verifyCertificate(_local9));
        }
        public function isSelfSigned(_arg1:Date):Boolean{
            this.load();
            var _local2:RSAKey = this.getPublicKey();
            return (this.verifyCertificate(_local2));
        }
        private function verifyCertificate(_arg1:RSAKey):Boolean{
            var _local3:IHash;
            var _local4:String;
            var _local2:String = this.getAlgorithmIdentifier();
            switch (_local2){
                case OID.SHA1_WITH_RSA_ENCRYPTION:
                    _local3 = new SHA1();
                    _local4 = OID.SHA1_ALGORITHM;
                    break;
                case OID.MD2_WITH_RSA_ENCRYPTION:
                    _local3 = new MD2();
                    _local4 = OID.MD2_ALGORITHM;
                    break;
                case OID.MD5_WITH_RSA_ENCRYPTION:
                    _local3 = new MD5();
                    _local4 = OID.MD5_ALGORITHM;
                    break;
                default:
                    return (false);
            };
            var _local5:ByteArray = this._obj.signedCertificate_bin;
            var _local6:ByteArray = new ByteArray();
            _arg1.verify(this._obj.encrypted, _local6, this._obj.encrypted.length);
            _local6.position = 0;
            _local5 = _local3.hash(_local5);
            var _local7:Object = DER.parse(_local6, Type.RSA_SIGNATURE);
            if (_local7.algorithm.algorithmId.toString() != _local4){
                return (false);
            };
            if (!ArrayUtil.equals(_local7.hash, _local5)){
                return (false);
            };
            return (true);
        }
        private function signCertificate(_arg1:RSAKey, _arg2:String):ByteArray{
            var _local3:IHash;
            var _local4:String;
            switch (_arg2){
                case OID.SHA1_WITH_RSA_ENCRYPTION:
                    _local3 = new SHA1();
                    _local4 = OID.SHA1_ALGORITHM;
                    break;
                case OID.MD2_WITH_RSA_ENCRYPTION:
                    _local3 = new MD2();
                    _local4 = OID.MD2_ALGORITHM;
                    break;
                case OID.MD5_WITH_RSA_ENCRYPTION:
                    _local3 = new MD5();
                    _local4 = OID.MD5_ALGORITHM;
                    break;
                default:
                    return (null);
            };
            var _local5:ByteArray = this._obj.signedCertificate_bin;
            _local5 = _local3.hash(_local5);
            var _local6:Sequence = new Sequence();
            _local6[0] = new Sequence();
            _local6[0][0] = new ObjectIdentifier(0, 0, _local4);
            _local6[0][1] = null;
            _local6[1] = new ByteString();
            _local6[1].writeBytes(_local5);
            _local5 = _local6.toDER();
            var _local7:ByteArray = new ByteArray();
            _arg1.sign(_local5, _local7, _local5.length);
            return (_local7);
        }
        public function getPublicKey():RSAKey{
            this.load();
            var _local1:ByteArray = (this._obj.signedCertificate.subjectPublicKeyInfo.subjectPublicKey as ByteArray);
            _local1.position = 0;
            var _local2:Object = DER.parse(_local1, [{name:"N"}, {name:"E"}]);
            return (new RSAKey(_local2.N, _local2.E.valueOf()));
        }
        public function getSubjectPrincipal():String{
            this.load();
            return (Base64.encodeByteArray(this._obj.signedCertificate.subject_bin));
        }
        public function getIssuerPrincipal():String{
            this.load();
            return (Base64.encodeByteArray(this._obj.signedCertificate.issuer_bin));
        }
        public function getAlgorithmIdentifier():String{
            return (this._obj.algorithmIdentifier.algorithmId.toString());
        }
        public function getNotBefore():Date{
            return (this._obj.signedCertificate.validity.notBefore.date);
        }
        public function getNotAfter():Date{
            return (this._obj.signedCertificate.validity.notAfter.date);
        }
        public function getCommonName():String{
            var _local1:Sequence = this._obj.signedCertificate.subject;
            return ((_local1.findAttributeValue(OID.COMMON_NAME) as PrintableString).getString());
        }

    }
}//package com.hurlant.crypto.cert 
﻿package com.hurlant.util.der {
    import com.hurlant.util.*;

    public class Type {

        public static const TLS_CERT:Array = [{
            name:"signedCertificate",
            extract:true,
            value:[{
                name:"versionHolder",
                optional:true,
                value:[{name:"version"}],
                defaultValue:function ():Sequence{
                    var _local1:* = new Sequence(0, 0);
                    var _local2:* = new Integer(2, 1, Hex.toArray("00"));
                    _local1.push(_local2);
                    _local1.version = _local2;
                    return (_local1);
                }()
            }, {name:"serialNumber"}, {
                name:"signature",
                value:[{name:"algorithmId"}]
            }, {
                name:"issuer",
                extract:true,
                value:[{name:"type"}, {name:"value"}]
            }, {
                name:"validity",
                value:[{name:"notBefore"}, {name:"notAfter"}]
            }, {
                name:"subject",
                extract:true,
                value:[]
            }, {
                name:"subjectPublicKeyInfo",
                value:[{
                    name:"algorithm",
                    value:[{name:"algorithmId"}]
                }, {name:"subjectPublicKey"}]
            }, {
                name:"extensions",
                value:[]
            }]
        }, {
            name:"algorithmIdentifier",
            value:[{name:"algorithmId"}]
        }, {
            name:"encrypted",
            value:null
        }];
        public static const CERTIFICATE:Array = [{
            name:"tbsCertificate",
            value:[{
                name:"tag0",
                value:[{name:"version"}]
            }, {name:"serialNumber"}, {name:"signature"}, {
                name:"issuer",
                value:[{name:"type"}, {name:"value"}]
            }, {
                name:"validity",
                value:[{name:"notBefore"}, {name:"notAfter"}]
            }, {name:"subject"}, {
                name:"subjectPublicKeyInfo",
                value:[{name:"algorithm"}, {name:"subjectPublicKey"}]
            }, {name:"issuerUniqueID"}, {name:"subjectUniqueID"}, {name:"extensions"}]
        }, {name:"signatureAlgorithm"}, {name:"signatureValue"}];
        public static const RSA_PUBLIC_KEY:Array = [{name:"modulus"}, {name:"publicExponent"}];
        public static const RSA_SIGNATURE:Array = [{
            name:"algorithm",
            value:[{name:"algorithmId"}]
        }, {name:"hash"}];

    }
}//package com.hurlant.util.der 
﻿package com.hurlant.util.der {
    import flash.utils.*;
    import com.hurlant.math.*;

    public class Integer extends BigInteger implements IAsn1Type {

        private var type:uint;
        private var len:uint;

        public function Integer(_arg1:uint, _arg2:uint, _arg3:ByteArray){
            this.type = _arg1;
            this.len = _arg2;
            super(_arg3);
        }
        public function getLength():uint{
            return (this.len);
        }
        public function getType():uint{
            return (this.type);
        }
        override public function toString(_arg1:Number=0):String{
            return ((((((((DER.indent + "Integer[") + this.type) + "][") + this.len) + "][") + super.toString(16)) + "]"));
        }
        public function toDER():ByteArray{
            return (null);
        }

    }
}//package com.hurlant.util.der 
﻿package com.hurlant.util.der {
    import flash.utils.*;

    public interface IAsn1Type {

        function getType():uint;
        function getLength():uint;
        function toDER():ByteArray;

    }
}//package com.hurlant.util.der 
﻿package com.hurlant.util.der {
    import flash.utils.*;

    public class UTCTime implements IAsn1Type {

        protected var type:uint;
        protected var len:uint;
        public var date:Date;

        public function UTCTime(_arg1:uint, _arg2:uint){
            this.type = _arg1;
            this.len = _arg2;
        }
        public function getLength():uint{
            return (this.len);
        }
        public function getType():uint{
            return (this.type);
        }
        public function setUTCTime(_arg1:String):void{
            var _local2:uint = parseInt(_arg1.substr(0, 2));
            if (_local2 < 50){
                _local2 = (_local2 + 2000);
            } else {
                _local2 = (_local2 + 1900);
            };
            var _local3:uint = parseInt(_arg1.substr(2, 2));
            var _local4:uint = parseInt(_arg1.substr(4, 2));
            var _local5:uint = parseInt(_arg1.substr(6, 2));
            var _local6:uint = parseInt(_arg1.substr(8, 2));
            this.date = new Date(_local2, (_local3 - 1), _local4, _local5, _local6);
        }
        public function toString():String{
            return ((((((((DER.indent + "UTCTime[") + this.type) + "][") + this.len) + "][") + this.date) + "]"));
        }
        public function toDER():ByteArray{
            return (null);
        }

    }
}//package com.hurlant.util.der 
﻿package com.hurlant.util.der {
    import flash.utils.*;

    public class DER {

        public static var indent:String = "";

        public static function parse(_arg1:ByteArray, _arg2=null):IAsn1Type{
            var _local3:int;
            var _local5:int;
            var _local6:ByteArray;
            var _local7:int;
            var _local8:int;
            var _local9:Sequence;
            var _local10:Array;
            var _local11:Set;
            var _local12:ByteString;
            var _local13:PrintableString;
            var _local14:UTCTime;
            var _local15:Object;
            var _local16:Boolean;
            var _local17:Boolean;
            var _local18:String;
            var _local19:*;
            var _local20:IAsn1Type;
            var _local21:int;
            var _local22:ByteArray;
            _local3 = _arg1.readUnsignedByte();
            var _local4 = !(((_local3 & 32) == 0));
            _local3 = (_local3 & 31);
            _local5 = _arg1.readUnsignedByte();
            if (_local5 >= 128){
                _local7 = (_local5 & 127);
                _local5 = 0;
                while (_local7 > 0) {
                    _local5 = ((_local5 << 8) | _arg1.readUnsignedByte());
                    _local7--;
                };
            };
            switch (_local3){
                case 0:
                case 16:
                    _local8 = _arg1.position;
                    _local9 = new Sequence(_local3, _local5);
                    _local10 = (_arg2 as Array);
                    if (_local10 != null){
                        _local10 = _local10.concat();
                    };
                    while (_arg1.position < (_local8 + _local5)) {
                        _local15 = null;
                        if (_local10 != null){
                            _local15 = _local10.shift();
                        };
                        if (_local15 != null){
                            while (((_local15) && (_local15.optional))) {
                                _local16 = (_local15.value is Array);
                                _local17 = isConstructedType(_arg1);
                                if (_local16 != _local17){
                                    _local9.push(_local15.defaultValue);
                                    _local9[_local15.name] = _local15.defaultValue;
                                    _local15 = _local10.shift();
                                } else {
                                    break;
                                };
                            };
                        };
                        if (_local15 != null){
                            _local18 = _local15.name;
                            _local19 = _local15.value;
                            if (_local15.extract){
                                _local21 = getLengthOfNextElement(_arg1);
                                _local22 = new ByteArray();
                                _local22.writeBytes(_arg1, _arg1.position, _local21);
                                _local9[(_local18 + "_bin")] = _local22;
                            };
                            _local20 = DER.parse(_arg1, _local19);
                            _local9.push(_local20);
                            _local9[_local18] = _local20;
                        } else {
                            _local9.push(DER.parse(_arg1));
                        };
                    };
                    return (_local9);
                case 17:
                    _local8 = _arg1.position;
                    _local11 = new Set(_local3, _local5);
                    while (_arg1.position < (_local8 + _local5)) {
                        _local11.push(DER.parse(_arg1));
                    };
                    return (_local11);
                case 2:
                    _local6 = new ByteArray();
                    _arg1.readBytes(_local6, 0, _local5);
                    _local6.position = 0;
                    return (new Integer(_local3, _local5, _local6));
                case 6:
                    _local6 = new ByteArray();
                    _arg1.readBytes(_local6, 0, _local5);
                    _local6.position = 0;
                    return (new ObjectIdentifier(_local3, _local5, _local6));
                default:
                    trace(("I DONT KNOW HOW TO HANDLE DER stuff of TYPE " + _local3));
                case 3:
                    if (_arg1[_arg1.position] == 0){
                        _arg1.position++;
                        _local5--;
                    };
                case 4:
                    _local12 = new ByteString(_local3, _local5);
                    _arg1.readBytes(_local12, 0, _local5);
                    return (_local12);
                case 5:
                    return (null);
                case 19:
                    _local13 = new PrintableString(_local3, _local5);
                    _local13.setString(_arg1.readMultiByte(_local5, "US-ASCII"));
                    return (_local13);
                case 34:
                case 20:
                    _local13 = new PrintableString(_local3, _local5);
                    _local13.setString(_arg1.readMultiByte(_local5, "latin1"));
                    return (_local13);
                case 23:
                    _local14 = new UTCTime(_local3, _local5);
                    _local14.setUTCTime(_arg1.readMultiByte(_local5, "US-ASCII"));
                    return (_local14);
            };
        }
        private static function getLengthOfNextElement(_arg1:ByteArray):int{
            var _local4:int;
            var _local2:uint = _arg1.position;
            _arg1.position++;
            var _local3:int = _arg1.readUnsignedByte();
            if (_local3 >= 128){
                _local4 = (_local3 & 127);
                _local3 = 0;
                while (_local4 > 0) {
                    _local3 = ((_local3 << 8) | _arg1.readUnsignedByte());
                    _local4--;
                };
            };
            _local3 = (_local3 + (_arg1.position - _local2));
            _arg1.position = _local2;
            return (_local3);
        }
        private static function isConstructedType(_arg1:ByteArray):Boolean{
            var _local2:int = _arg1[_arg1.position];
            return (!(((_local2 & 32) == 0)));
        }
        public static function wrapDER(_arg1:int, _arg2:ByteArray):ByteArray{
            var _local3:ByteArray = new ByteArray();
            _local3.writeByte(_arg1);
            var _local4:int = _arg2.length;
            if (_local4 < 128){
                _local3.writeByte(_local4);
            } else {
                if (_local4 < 0x0100){
                    _local3.writeByte((1 | 128));
                    _local3.writeByte(_local4);
                } else {
                    if (_local4 < 65536){
                        _local3.writeByte((2 | 128));
                        _local3.writeByte((_local4 >> 8));
                        _local3.writeByte(_local4);
                    } else {
                        if (_local4 < (65536 * 0x0100)){
                            _local3.writeByte((3 | 128));
                            _local3.writeByte((_local4 >> 16));
                            _local3.writeByte((_local4 >> 8));
                            _local3.writeByte(_local4);
                        } else {
                            _local3.writeByte((4 | 128));
                            _local3.writeByte((_local4 >> 24));
                            _local3.writeByte((_local4 >> 16));
                            _local3.writeByte((_local4 >> 8));
                            _local3.writeByte(_local4);
                        };
                    };
                };
            };
            _local3.writeBytes(_arg2);
            _local3.position = 0;
            return (_local3);
        }

    }
}//package com.hurlant.util.der 
﻿package com.hurlant.util.der {

    public class OID {

        public static const RSA_ENCRYPTION:String = "1.2.840.113549.1.1.1";
        public static const MD2_WITH_RSA_ENCRYPTION:String = "1.2.840.113549.1.1.2";
        public static const MD5_WITH_RSA_ENCRYPTION:String = "1.2.840.113549.1.1.4";
        public static const SHA1_WITH_RSA_ENCRYPTION:String = "1.2.840.113549.1.1.5";
        public static const MD2_ALGORITHM:String = "1.2.840.113549.2.2";
        public static const MD5_ALGORITHM:String = "1.2.840.113549.2.5";
        public static const DSA:String = "1.2.840.10040.4.1";
        public static const DSA_WITH_SHA1:String = "1.2.840.10040.4.3";
        public static const DH_PUBLIC_NUMBER:String = "1.2.840.10046.2.1";
        public static const SHA1_ALGORITHM:String = "1.3.14.3.2.26";
        public static const COMMON_NAME:String = "2.5.4.3";
        public static const SURNAME:String = "2.5.4.4";
        public static const COUNTRY_NAME:String = "2.5.4.6";
        public static const LOCALITY_NAME:String = "2.5.4.7";
        public static const STATE_NAME:String = "2.5.4.8";
        public static const ORGANIZATION_NAME:String = "2.5.4.10";
        public static const ORG_UNIT_NAME:String = "2.5.4.11";
        public static const TITLE:String = "2.5.4.12";

    }
}//package com.hurlant.util.der 
﻿package com.hurlant.util.der {

    public dynamic class Set extends Sequence implements IAsn1Type {

        public function Set(_arg1:uint=49, _arg2:uint=0){
            super(_arg1, _arg2);
        }
        override public function toString():String{
            var _local1:String;
            _local1 = DER.indent;
            DER.indent = (DER.indent + "    ");
            var _local2:String = join("\n");
            DER.indent = _local1;
            return ((((((((((DER.indent + "Set[") + type) + "][") + len) + "][\n") + _local2) + "\n") + _local1) + "]"));
        }

    }
}//package com.hurlant.util.der 
﻿package com.hurlant.util.der {
    import flash.utils.*;

    public class PrintableString implements IAsn1Type {

        protected var type:uint;
        protected var len:uint;
        protected var str:String;

        public function PrintableString(_arg1:uint, _arg2:uint){
            this.type = _arg1;
            this.len = _arg2;
        }
        public function getLength():uint{
            return (this.len);
        }
        public function getType():uint{
            return (this.type);
        }
        public function setString(_arg1:String):void{
            this.str = _arg1;
        }
        public function getString():String{
            return (this.str);
        }
        public function toString():String{
            return ((DER.indent + this.str));
        }
        public function toDER():ByteArray{
            return (null);
        }

    }
}//package com.hurlant.util.der 
﻿package com.hurlant.util.der {
    import flash.utils.*;
    import com.hurlant.util.*;

    public class ByteString extends ByteArray implements IAsn1Type {

        private var type:uint;
        private var len:uint;

        public function ByteString(_arg1:uint=4, _arg2:uint=0){
            this.type = _arg1;
            this.len = _arg2;
        }
        public function getLength():uint{
            return (this.len);
        }
        public function getType():uint{
            return (this.type);
        }
        public function toDER():ByteArray{
            return (DER.wrapDER(this.type, this));
        }
        override public function toString():String{
            return ((((((((DER.indent + "ByteString[") + this.type) + "][") + this.len) + "][") + Hex.fromArray(this)) + "]"));
        }

    }
}//package com.hurlant.util.der 
﻿package com.hurlant.util.der {
    import flash.utils.*;

    public dynamic class Sequence extends Array implements IAsn1Type {

        protected var type:uint;
        protected var len:uint;

        public function Sequence(_arg1:uint=48, _arg2:uint=0){
            this.type = _arg1;
            this.len = _arg2;
        }
        public function getLength():uint{
            return (this.len);
        }
        public function getType():uint{
            return (this.type);
        }
        public function toDER():ByteArray{
            var _local3:IAsn1Type;
            var _local1:ByteArray = new ByteArray();
            var _local2:int;
            while (_local2 < length) {
                _local3 = this[_local2];
                if (_local3 == null){
                    _local1.writeByte(5);
                    _local1.writeByte(0);
                } else {
                    _local1.writeBytes(_local3.toDER());
                };
                _local2++;
            };
            return (DER.wrapDER(this.type, _local1));
        }
        public function toString():String{
            var _local4:Boolean;
            var _local5:String;
            var _local1:String = DER.indent;
            DER.indent = (DER.indent + "    ");
            var _local2 = "";
            var _local3:int;
            while (_local3 < length) {
                if (this[_local3] == null){
                } else {
                    _local4 = false;
                    for (_local5 in this) {
                        if (((!((_local3.toString() == _local5))) && ((this[_local3] == this[_local5])))){
                            _local2 = (_local2 + (((_local5 + ": ") + this[_local3]) + "\n"));
                            _local4 = true;
                            break;
                        };
                    };
                    if (!_local4){
                        _local2 = (_local2 + (this[_local3] + "\n"));
                    };
                };
                _local3++;
            };
            DER.indent = _local1;
            return ((((((((((DER.indent + "Sequence[") + this.type) + "][") + this.len) + "][\n") + _local2) + "\n") + _local1) + "]"));
        }
        public function findAttributeValue(_arg1:String):IAsn1Type{
            var _local2:*;
            var _local3:*;
            var _local4:*;
            var _local5:ObjectIdentifier;
            for each (_local2 in this) {
                if ((_local2 is Set)){
                    _local3 = _local2[0];
                    if ((_local3 is Sequence)){
                        _local4 = _local3[0];
                        if ((_local4 is ObjectIdentifier)){
                            _local5 = (_local4 as ObjectIdentifier);
                            if (_local5.toString() == _arg1){
                                return ((_local3[1] as IAsn1Type));
                            };
                        };
                    };
                };
            };
            return (null);
        }

    }
}//package com.hurlant.util.der 
﻿package com.hurlant.util.der {
    import flash.utils.*;
    import com.hurlant.crypto.rsa.*;
    import com.hurlant.util.*;

    public class PEM {

        private static const RSA_PRIVATE_KEY_HEADER:String = "-----BEGIN RSA PRIVATE KEY-----";
        private static const RSA_PRIVATE_KEY_FOOTER:String = "-----END RSA PRIVATE KEY-----";
        private static const RSA_PUBLIC_KEY_HEADER:String = "-----BEGIN PUBLIC KEY-----";
        private static const RSA_PUBLIC_KEY_FOOTER:String = "-----END PUBLIC KEY-----";
        private static const CERTIFICATE_HEADER:String = "-----BEGIN CERTIFICATE-----";
        private static const CERTIFICATE_FOOTER:String = "-----END CERTIFICATE-----";

        public static function readRSAPrivateKey(_arg1:String):RSAKey{
            var _local4:Array;
            var _local2:ByteArray = extractBinary(RSA_PRIVATE_KEY_HEADER, RSA_PRIVATE_KEY_FOOTER, _arg1);
            if (_local2 == null){
                return (null);
            };
            var _local3:* = DER.parse(_local2);
            if ((_local3 is Array)){
                _local4 = (_local3 as Array);
                return (new RSAKey(_local4[1], _local4[2].valueOf(), _local4[3], _local4[4], _local4[5], _local4[6], _local4[7], _local4[8]));
            };
            return (null);
        }
        public static function readRSAPublicKey(_arg1:String):RSAKey{
            var _local4:Array;
            var _local2:ByteArray = extractBinary(RSA_PUBLIC_KEY_HEADER, RSA_PUBLIC_KEY_FOOTER, _arg1);
            if (_local2 == null){
                return (null);
            };
            var _local3:* = DER.parse(_local2);
            if ((_local3 is Array)){
                _local4 = (_local3 as Array);
                if (_local4[0][0].toString() != OID.RSA_ENCRYPTION){
                    return (null);
                };
                _local4[1].position = 1;
                _local3 = DER.parse(_local4[1]);
                if ((_local3 is Array)){
                    _local4 = (_local3 as Array);
                    return (new RSAKey(_local4[0], _local4[1]));
                };
                return (null);
            };
            return (null);
        }
        public static function readCertIntoArray(_arg1:String):ByteArray{
            var _local2:ByteArray = extractBinary(CERTIFICATE_HEADER, CERTIFICATE_FOOTER, _arg1);
            return (_local2);
        }
        private static function extractBinary(_arg1:String, _arg2:String, _arg3:String):ByteArray{
            var _local4:int = _arg3.indexOf(_arg1);
            if (_local4 == -1){
                return (null);
            };
            _local4 = (_local4 + _arg1.length);
            var _local5:int = _arg3.indexOf(_arg2);
            if (_local5 == -1){
                return (null);
            };
            var _local6:String = _arg3.substring(_local4, _local5);
            _local6 = _local6.replace(/\s/mg, "");
            return (Base64.decodeToByteArray(_local6));
        }

    }
}//package com.hurlant.util.der 
﻿package com.hurlant.util.der {
    import flash.utils.*;

    public class ObjectIdentifier implements IAsn1Type {

        private var type:uint;
        private var len:uint;
        private var oid:Array;

        public function ObjectIdentifier(_arg1:uint, _arg2:uint, _arg3){
            this.type = _arg1;
            this.len = _arg2;
            if ((_arg3 is ByteArray)){
                this.parse((_arg3 as ByteArray));
            } else {
                if ((_arg3 is String)){
                    this.generate((_arg3 as String));
                } else {
                    throw (new Error("Invalid call to new ObjectIdentifier"));
                };
            };
        }
        private function generate(_arg1:String):void{
            this.oid = _arg1.split(".");
        }
        private function parse(_arg1:ByteArray):void{
            var _local5:Boolean;
            var _local2:uint = _arg1.readUnsignedByte();
            var _local3:Array = [];
            _local3.push(uint((_local2 / 40)));
            _local3.push(uint((_local2 % 40)));
            var _local4:uint;
            while (_arg1.bytesAvailable > 0) {
                _local2 = _arg1.readUnsignedByte();
                _local5 = ((_local2 & 128) == 0);
                _local2 = (_local2 & 127);
                _local4 = ((_local4 * 128) + _local2);
                if (_local5){
                    _local3.push(_local4);
                    _local4 = 0;
                };
            };
            this.oid = _local3;
        }
        public function getLength():uint{
            return (this.len);
        }
        public function getType():uint{
            return (this.type);
        }
        public function toDER():ByteArray{
            var _local4:int;
            var _local1:Array = [];
            _local1[0] = ((this.oid[0] * 40) + this.oid[1]);
            var _local2 = 2;
            while (_local2 < this.oid.length) {
                _local4 = parseInt(this.oid[_local2]);
                if (_local4 < 128){
                    _local1.push(_local4);
                } else {
                    if (_local4 < (128 * 128)){
                        _local1.push(((_local4 >> 7) | 128));
                        _local1.push((_local4 & 127));
                    } else {
                        if (_local4 < ((128 * 128) * 128)){
                            _local1.push(((_local4 >> 14) | 128));
                            _local1.push((((_local4 >> 7) & 127) | 128));
                            _local1.push((_local4 & 127));
                        } else {
                            if (_local4 < (((128 * 128) * 128) * 128)){
                                _local1.push(((_local4 >> 21) | 128));
                                _local1.push((((_local4 >> 14) & 127) | 128));
                                _local1.push((((_local4 >> 7) & 127) | 128));
                                _local1.push((_local4 & 127));
                            } else {
                                throw (new Error("OID element bigger than we thought. :("));
                            };
                        };
                    };
                };
                _local2++;
            };
            this.len = _local1.length;
            if (this.type == 0){
                this.type = 6;
            };
            _local1.unshift(this.len);
            _local1.unshift(this.type);
            var _local3:ByteArray = new ByteArray();
            _local2 = 0;
            while (_local2 < _local1.length) {
                _local3[_local2] = _local1[_local2];
                _local2++;
            };
            return (_local3);
        }
        public function toString():String{
            return ((DER.indent + this.oid.join(".")));
        }
        public function dump():String{
            return ((((((("OID[" + this.type) + "][") + this.len) + "][") + this.toString()) + "]"));
        }

    }
}//package com.hurlant.util.der 
﻿package com.hurlant.util {
    import flash.utils.*;

    public class Hex {

        public static function toArray(_arg1:String):ByteArray{
            _arg1 = _arg1.replace(/\s|:/gm, "");
            var _local2:ByteArray = new ByteArray();
            if ((_arg1.length & (1 == 1))){
                _arg1 = ("0" + _arg1);
            };
            var _local3:uint;
            while (_local3 < _arg1.length) {
                _local2[(_local3 / 2)] = parseInt(_arg1.substr(_local3, 2), 16);
                _local3 = (_local3 + 2);
            };
            return (_local2);
        }
        public static function fromArray(_arg1:ByteArray, _arg2:Boolean=false):String{
            var _local3 = "";
            var _local4:uint;
            while (_local4 < _arg1.length) {
                _local3 = (_local3 + ("0" + _arg1[_local4].toString(16)).substr(-2, 2));
                if (_arg2){
                    if (_local4 < (_arg1.length - 1)){
                        _local3 = (_local3 + ":");
                    };
                };
                _local4++;
            };
            return (_local3);
        }
        public static function toString(_arg1:String):String{
            var _local2:ByteArray = toArray(_arg1);
            return (_local2.readUTFBytes(_local2.length));
        }
        public static function fromString(_arg1:String, _arg2:Boolean=false):String{
            var _local3:ByteArray = new ByteArray();
            _local3.writeUTFBytes(_arg1);
            return (fromArray(_local3, _arg2));
        }

    }
}//package com.hurlant.util 
﻿package com.hurlant.util {
    import flash.net.*;
    import flash.system.*;

    public class Memory {

        public static function gc():void{
            try {
                new LocalConnection().connect("foo");
                new LocalConnection().connect("foo");
            } catch(e) {
            };
        }
        public static function get used():uint{
            return (System.totalMemory);
        }

    }
}//package com.hurlant.util 
﻿package com.hurlant.util {
    import flash.utils.*;

    public class Base64 {

        private static const BASE64_CHARS:String = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
        public static const version:String = "1.0.0";

        public function Base64(){
            throw (new Error("Base64 class is static container only"));
        }
        public static function encode(_arg1:String):String{
            var _local2:ByteArray = new ByteArray();
            _local2.writeUTFBytes(_arg1);
            return (encodeByteArray(_local2));
        }
        public static function encodeByteArray(_arg1:ByteArray):String{
            var _local3:Array;
            var _local5:uint;
            var _local6:uint;
            var _local7:uint;
            var _local2 = "";
            var _local4:Array = new Array(4);
            _arg1.position = 0;
            while (_arg1.bytesAvailable > 0) {
                _local3 = new Array();
                _local5 = 0;
                while ((((_local5 < 3)) && ((_arg1.bytesAvailable > 0)))) {
                    _local3[_local5] = _arg1.readUnsignedByte();
                    _local5++;
                };
                _local4[0] = ((_local3[0] & 252) >> 2);
                _local4[1] = (((_local3[0] & 3) << 4) | (_local3[1] >> 4));
                _local4[2] = (((_local3[1] & 15) << 2) | (_local3[2] >> 6));
                _local4[3] = (_local3[2] & 63);
                _local6 = _local3.length;
                while (_local6 < 3) {
                    _local4[(_local6 + 1)] = 64;
                    _local6++;
                };
                _local7 = 0;
                while (_local7 < _local4.length) {
                    _local2 = (_local2 + BASE64_CHARS.charAt(_local4[_local7]));
                    _local7++;
                };
            };
            return (_local2);
        }
        public static function decode(_arg1:String):String{
            var _local2:ByteArray = decodeToByteArray(_arg1);
            return (_local2.readUTFBytes(_local2.length));
        }
        public static function decodeToByteArray(_arg1:String):ByteArray{
            var _local6:uint;
            var _local7:uint;
            var _local2:ByteArray = new ByteArray();
            var _local3:Array = new Array(4);
            var _local4:Array = new Array(3);
            var _local5:uint;
            while (_local5 < _arg1.length) {
                _local6 = 0;
                while ((((_local6 < 4)) && (((_local5 + _local6) < _arg1.length)))) {
                    _local3[_local6] = BASE64_CHARS.indexOf(_arg1.charAt((_local5 + _local6)));
                    _local6++;
                };
                _local4[0] = ((_local3[0] << 2) + ((_local3[1] & 48) >> 4));
                _local4[1] = (((_local3[1] & 15) << 4) + ((_local3[2] & 60) >> 2));
                _local4[2] = (((_local3[2] & 3) << 6) + _local3[3]);
                _local7 = 0;
                while (_local7 < _local4.length) {
                    if (_local3[(_local7 + 1)] == 64){
                        break;
                    };
                    _local2.writeByte(_local4[_local7]);
                    _local7++;
                };
                _local5 = (_local5 + 4);
            };
            _local2.position = 0;
            return (_local2);
        }

    }
}//package com.hurlant.util 
﻿package com.hurlant.util {
    import flash.utils.*;

    public class ArrayUtil {

        public static function equals(_arg1:ByteArray, _arg2:ByteArray):Boolean{
            if (_arg1.length != _arg2.length){
                return (false);
            };
            var _local3:int = _arg1.length;
            var _local4:int;
            while (_local4 < _local3) {
                if (_arg1[_local4] != _arg2[_local4]){
                    return (false);
                };
                _local4++;
            };
            return (true);
        }

    }
}//package com.hurlant.util 
﻿package com.hurlant.math {
    import com.hurlant.math.*;

    interface IReduction {

        function convert(_arg1:BigInteger):BigInteger;
        function revert(_arg1:BigInteger):BigInteger;
        function reduce(_arg1:BigInteger):void;
        function mulTo(_arg1:BigInteger, _arg2:BigInteger, _arg3:BigInteger):void;
        function sqrTo(_arg1:BigInteger, _arg2:BigInteger):void;

    }
}//package com.hurlant.math 
﻿package com.hurlant.math {
    import com.hurlant.math.*;

    class ClassicReduction implements IReduction {

        private var m:BigInteger;

        public function ClassicReduction(_arg1:BigInteger){
            this.m = _arg1;
        }
        public function convert(_arg1:BigInteger):BigInteger{
            if ((((_arg1.s < 0)) || ((_arg1.compareTo(this.m) >= 0)))){
                return (_arg1.mod(this.m));
            };
            return (_arg1);
        }
        public function revert(_arg1:BigInteger):BigInteger{
            return (_arg1);
        }
        public function reduce(_arg1:BigInteger):void{
            _arg1.divRemTo(this.m, null, _arg1);
        }
        public function mulTo(_arg1:BigInteger, _arg2:BigInteger, _arg3:BigInteger):void{
            _arg1.multiplyTo(_arg2, _arg3);
            this.reduce(_arg3);
        }
        public function sqrTo(_arg1:BigInteger, _arg2:BigInteger):void{
            _arg1.squareTo(_arg2);
            this.reduce(_arg2);
        }

    }
}//package com.hurlant.math 
﻿package com.hurlant.math {

    public class NullReduction implements IReduction {

        public function revert(_arg1:BigInteger):BigInteger{
            return (_arg1);
        }
        public function mulTo(_arg1:BigInteger, _arg2:BigInteger, _arg3:BigInteger):void{
            _arg1.multiplyTo(_arg2, _arg3);
        }
        public function sqrTo(_arg1:BigInteger, _arg2:BigInteger):void{
            _arg1.squareTo(_arg2);
        }
        public function convert(_arg1:BigInteger):BigInteger{
            return (_arg1);
        }
        public function reduce(_arg1:BigInteger):void{
        }

    }
}//package com.hurlant.math 
﻿package com.hurlant.math {

    public namespace bi_internal = "http://crypto.hurlant.com/BigInteger";
}//package com.hurlant.math 
﻿package com.hurlant.math {
    import com.hurlant.math.*;

    class BarrettReduction implements IReduction {

        private var m:BigInteger;
        private var r2:BigInteger;
        private var q3:BigInteger;
        private var mu:BigInteger;

        public function BarrettReduction(_arg1:BigInteger){
            this.r2 = new BigInteger();
            this.q3 = new BigInteger();
            BigInteger.ONE.dlShiftTo((2 * _arg1.t), this.r2);
            this.mu = this.r2.divide(_arg1);
            this.m = _arg1;
        }
        public function revert(_arg1:BigInteger):BigInteger{
            return (_arg1);
        }
        public function mulTo(_arg1:BigInteger, _arg2:BigInteger, _arg3:BigInteger):void{
            _arg1.multiplyTo(_arg2, _arg3);
            this.reduce(_arg3);
        }
        public function sqrTo(_arg1:BigInteger, _arg2:BigInteger):void{
            _arg1.squareTo(_arg2);
            this.reduce(_arg2);
        }
        public function convert(_arg1:BigInteger):BigInteger{
            var _local2:BigInteger;
            if ((((_arg1.s < 0)) || ((_arg1.t > (2 * this.m.t))))){
                return (_arg1.mod(this.m));
            };
            if (_arg1.compareTo(this.m) < 0){
                return (_arg1);
            };
            _local2 = new BigInteger();
            _arg1.copyTo(_local2);
            this.reduce(_local2);
            return (_local2);
        }
        public function reduce(_arg1:BigInteger):void{
            var _local2:BigInteger = (_arg1 as BigInteger);
            _local2.drShiftTo((this.m.t - 1), this.r2);
            if (_local2.t > (this.m.t + 1)){
                _local2.t = (this.m.t + 1);
                _local2.clamp();
            };
            this.mu.multiplyUpperTo(this.r2, (this.m.t + 1), this.q3);
            this.m.multiplyLowerTo(this.q3, (this.m.t + 1), this.r2);
            while (_local2.compareTo(this.r2) < 0) {
                _local2.dAddOffset(1, (this.m.t + 1));
            };
            _local2.subTo(this.r2, _local2);
            while (_local2.compareTo(this.m) >= 0) {
                _local2.subTo(this.m, _local2);
            };
        }

    }
}//package com.hurlant.math 
﻿package com.hurlant.math {
    import flash.utils.*;
    import com.hurlant.crypto.prng.*;
    import com.hurlant.util.*;

    public class BigInteger {

        public static const DB:int = 30;
        public static const DV:int = (1 << DB);
        public static const DM:int = (DV - 1);
        public static const BI_FP:int = 52;
        public static const FV:Number = Math.pow(2, BI_FP);
        public static const F1:int = 22;
        public static const F2:int = 8;
        public static const ZERO:BigInteger = nbv(0);
        public static const ONE:BigInteger = nbv(1);
        public static const lowprimes:Array = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 0x0101, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509];
        public static const lplim:int = ((1 << 26) / lowprimes[(lowprimes.length - 1)]);

        public var t:int;
        bi_internal var s:int;
        bi_internal var a:Array;

        public function BigInteger(_arg1=null, _arg2:int=0){
            var _local3:ByteArray;
            var _local4:int;
            super();
            this.a = new Array();
            if ((_arg1 is String)){
                _arg1 = Hex.toArray(_arg1);
                _arg2 = 0;
            };
            if ((_arg1 is ByteArray)){
                _local3 = (_arg1 as ByteArray);
                _local4 = ((_arg2) || ((_local3.length - _local3.position)));
                this.fromArray(_local3, _local4);
            };
        }
        public static function nbv(_arg1:int):BigInteger{
            var _local2:BigInteger = new (BigInteger)();
            _local2.fromInt(_arg1);
            return (_local2);
        }

        public function dispose():void{
            var _local1:Random = new Random();
            var _local2:uint;
            while (_local2 < this.a.length) {
                this.a[_local2] = _local1.nextByte();
                delete this.a[_local2];
                _local2++;
            };
            this.a = null;
            this.t = 0;
            this.s = 0;
            Memory.gc();
        }
        public function toString(_arg1:Number=16):String{
            var _local2:int;
            if (this.s < 0){
                return (("-" + this.negate().toString(_arg1)));
            };
            switch (_arg1){
                case 2:
                    _local2 = 1;
                    break;
                case 4:
                    _local2 = 2;
                    break;
                case 8:
                    _local2 = 3;
                    break;
                case 16:
                    _local2 = 4;
                    break;
                case 32:
                    _local2 = 5;
                    break;
            };
            var _local3:int = ((1 << _local2) - 1);
            var _local4:int;
            var _local5:Boolean;
            var _local6 = "";
            var _local7:int = this.t;
            var _local8:int = (DB - ((_local7 * DB) % _local2));
            var _temp1 = _local7;
            _local7 = (_local7 - 1);
            if (_temp1 > 0){
                if ((((_local8 < DB)) && (((_local4 = (this.a[_local7] >> _local8)) > 0)))){
                    _local5 = true;
                    _local6 = _local4.toString(36);
                };
                while (_local7 >= 0) {
                    if (_local8 < _local2){
                        _local4 = ((this.a[_local7] & ((1 << _local8) - 1)) << (_local2 - _local8));
                        var _temp2 = _local4;
                        _local7 = (_local7 - 1);
                        _local8 = (_local8 + (DB - _local2));
                        _local4 = (_temp2 | (this.a[_local7] >> _local8));
                    } else {
                        _local8 = (_local8 - _local2);
                        _local4 = ((this.a[_local7] >> _local8) & _local3);
                        if (_local8 <= 0){
                            _local8 = (_local8 + DB);
                            _local7--;
                        };
                    };
                    if (_local4 > 0){
                        _local5 = true;
                    };
                    if (_local5){
                        _local6 = (_local6 + _local4.toString(36));
                    };
                };
            };
            return (((_local5) ? _local6 : "0"));
        }
        public function toArray(_arg1:ByteArray):uint{
            var _local2 = 8;
            var _local3:int = ((1 << 8) - 1);
            var _local4:int;
            var _local5:int = this.t;
            var _local6:int = (DB - ((_local5 * DB) % _local2));
            var _local7:Boolean;
            var _local8:int;
            var _temp1 = _local5;
            _local5 = (_local5 - 1);
            if (_temp1 > 0){
                if ((((_local6 < DB)) && (((_local4 = (this.a[_local5] >> _local6)) > 0)))){
                    _local7 = true;
                    _arg1.writeByte(_local4);
                    _local8++;
                };
                while (_local5 >= 0) {
                    if (_local6 < _local2){
                        _local4 = ((this.a[_local5] & ((1 << _local6) - 1)) << (_local2 - _local6));
                        var _temp2 = _local4;
                        _local5 = (_local5 - 1);
                        _local6 = (_local6 + (DB - _local2));
                        _local4 = (_temp2 | (this.a[_local5] >> _local6));
                    } else {
                        _local6 = (_local6 - _local2);
                        _local4 = ((this.a[_local5] >> _local6) & _local3);
                        if (_local6 <= 0){
                            _local6 = (_local6 + DB);
                            _local5--;
                        };
                    };
                    if (_local4 > 0){
                        _local7 = true;
                    };
                    if (_local7){
                        _arg1.writeByte(_local4);
                        _local8++;
                    };
                };
            };
            return (_local8);
        }
        public function valueOf():Number{
            var _local1:Number = 1;
            var _local2:Number = 0;
            var _local3:uint;
            while (_local3 < this.t) {
                _local2 = (_local2 + (this.a[_local3] * _local1));
                _local1 = (_local1 * DV);
                _local3++;
            };
            return (_local2);
        }
        public function negate():BigInteger{
            var _local1:BigInteger = this.nbi();
            ZERO.subTo(this, _local1);
            return (_local1);
        }
        public function abs():BigInteger{
            return (((this.s)<0) ? this.negate() : this);
        }
        public function compareTo(_arg1:BigInteger):int{
            var _local2:int = (this.s - _arg1.s);
            if (_local2 != 0){
                return (_local2);
            };
            var _local3:int = this.t;
            _local2 = (_local3 - _arg1.t);
            if (_local2 != 0){
                return (_local2);
            };
            while (--_local3 >= 0) {
                _local2 = (this.a[_local3] - _arg1.a[_local3]);
                if (_local2 != 0){
                    return (_local2);
                };
            };
            return (0);
        }
        bi_internal function nbits(_arg1:int):int{
            var _local3:int;
            var _local2 = 1;
            _local3 = (_arg1 >>> 16);
            if (_local3 != 0){
                _arg1 = _local3;
                _local2 = (_local2 + 16);
            };
            _local3 = (_arg1 >> 8);
            if (_local3 != 0){
                _arg1 = _local3;
                _local2 = (_local2 + 8);
            };
            _local3 = (_arg1 >> 4);
            if (_local3 != 0){
                _arg1 = _local3;
                _local2 = (_local2 + 4);
            };
            _local3 = (_arg1 >> 2);
            if (_local3 != 0){
                _arg1 = _local3;
                _local2 = (_local2 + 2);
            };
            _local3 = (_arg1 >> 1);
            if (_local3 != 0){
                _arg1 = _local3;
                _local2 = (_local2 + 1);
            };
            return (_local2);
        }
        public function bitLength():int{
            if (this.t <= 0){
                return (0);
            };
            return (((DB * (this.t - 1)) + this.nbits((this.a[(this.t - 1)] ^ (this.s & DM)))));
        }
        public function mod(_arg1:BigInteger):BigInteger{
            var _local2:BigInteger = this.nbi();
            this.abs().divRemTo(_arg1, null, _local2);
            if ((((this.s < 0)) && ((_local2.compareTo(ZERO) > 0)))){
                _arg1.subTo(_local2, _local2);
            };
            return (_local2);
        }
        public function modPowInt(_arg1:int, _arg2:BigInteger):BigInteger{
            var _local3:IReduction;
            if ((((_arg1 < 0x0100)) || (_arg2.isEven()))){
                _local3 = new ClassicReduction(_arg2);
            } else {
                _local3 = new MontgomeryReduction(_arg2);
            };
            return (this.exp(_arg1, _local3));
        }
        bi_internal function copyTo(_arg1:BigInteger):void{
            var _local2:int = (this.t - 1);
            while (_local2 >= 0) {
                _arg1.a[_local2] = this.a[_local2];
                _local2--;
            };
            _arg1.t = this.t;
            _arg1.s = this.s;
        }
        bi_internal function fromInt(_arg1:int):void{
            this.t = 1;
            this.s = ((_arg1)<0) ? -1 : 0;
            if (_arg1 > 0){
                this.a[0] = _arg1;
            } else {
                if (_arg1 < -1){
                    this.a[0] = (_arg1 + DV);
                } else {
                    this.t = 0;
                };
            };
        }
        bi_internal function fromArray(_arg1:ByteArray, _arg2:int):void{
            var _local7:int;
            var _local3:int = _arg1.position;
            var _local4:int = (_local3 + _arg2);
            var _local5:int;
            var _local6 = 8;
            this.t = 0;
            this.s = 0;
            while (--_local4 >= _local3) {
                _local7 = (((_local4 < _arg1.length)) ? _arg1[_local4] : 0);
                if (_local5 == 0){
                    var _local8 = this.t++;
                    this.a[_local8] = _local7;
                } else {
                    if ((_local5 + _local6) > DB){
                        this.a[(this.t - 1)] = (this.a[(this.t - 1)] | ((_local7 & ((1 << (DB - _local5)) - 1)) << _local5));
                        _local8 = this.t++;
                        this.a[_local8] = (_local7 >> (DB - _local5));
                    } else {
                        this.a[(this.t - 1)] = (this.a[(this.t - 1)] | (_local7 << _local5));
                    };
                };
                _local5 = (_local5 + _local6);
                if (_local5 >= DB){
                    _local5 = (_local5 - DB);
                };
            };
            this.clamp();
            _arg1.position = Math.min((_local3 + _arg2), _arg1.length);
        }
        bi_internal function clamp():void{
            var _local1 = (this.s & DM);
            while ((((this.t > 0)) && ((this.a[(this.t - 1)] == _local1)))) {
                this.t--;
            };
        }
        bi_internal function dlShiftTo(_arg1:int, _arg2:BigInteger):void{
            var _local3:int;
            _local3 = (this.t - 1);
            while (_local3 >= 0) {
                _arg2.a[(_local3 + _arg1)] = this.a[_local3];
                _local3--;
            };
            _local3 = (_arg1 - 1);
            while (_local3 >= 0) {
                _arg2.a[_local3] = 0;
                _local3--;
            };
            _arg2.t = (this.t + _arg1);
            _arg2.s = this.s;
        }
        bi_internal function drShiftTo(_arg1:int, _arg2:BigInteger):void{
            var _local3:int;
            _local3 = _arg1;
            while (_local3 < this.t) {
                _arg2.a[(_local3 - _arg1)] = this.a[_local3];
                _local3++;
            };
            _arg2.t = Math.max((this.t - _arg1), 0);
            _arg2.s = this.s;
        }
        bi_internal function lShiftTo(_arg1:int, _arg2:BigInteger):void{
            var _local8:int;
            var _local3:int = (_arg1 % DB);
            var _local4:int = (DB - _local3);
            var _local5:int = ((1 << _local4) - 1);
            var _local6:int = (_arg1 / DB);
            var _local7 = ((this.s << _local3) & DM);
            _local8 = (this.t - 1);
            while (_local8 >= 0) {
                _arg2.a[((_local8 + _local6) + 1)] = ((this.a[_local8] >> _local4) | _local7);
                _local7 = ((this.a[_local8] & _local5) << _local3);
                _local8--;
            };
            _local8 = (_local6 - 1);
            while (_local8 >= 0) {
                _arg2.a[_local8] = 0;
                _local8--;
            };
            _arg2.a[_local6] = _local7;
            _arg2.t = ((this.t + _local6) + 1);
            _arg2.s = this.s;
            _arg2.clamp();
        }
        bi_internal function rShiftTo(_arg1:int, _arg2:BigInteger):void{
            var _local7:int;
            _arg2.s = this.s;
            var _local3:int = (_arg1 / DB);
            if (_local3 >= this.t){
                _arg2.t = 0;
                return;
            };
            var _local4:int = (_arg1 % DB);
            var _local5:int = (DB - _local4);
            var _local6:int = ((1 << _local4) - 1);
            _arg2.a[0] = (this.a[_local3] >> _local4);
            _local7 = (_local3 + 1);
            while (_local7 < this.t) {
                _arg2.a[((_local7 - _local3) - 1)] = (_arg2.a[((_local7 - _local3) - 1)] | ((this.a[_local7] & _local6) << _local5));
                _arg2.a[(_local7 - _local3)] = (this.a[_local7] >> _local4);
                _local7++;
            };
            if (_local4 > 0){
                _arg2.a[((this.t - _local3) - 1)] = (_arg2.a[((this.t - _local3) - 1)] | ((this.s & _local6) << _local5));
            };
            _arg2.t = (this.t - _local3);
            _arg2.clamp();
        }
        bi_internal function subTo(_arg1:BigInteger, _arg2:BigInteger):void{
            var _local3:int;
            var _local4:int;
            var _local5:int = Math.min(_arg1.t, this.t);
            while (_local3 < _local5) {
                _local4 = (_local4 + (this.a[_local3] - _arg1.a[_local3]));
                var _temp1 = _local3;
                _local3 = (_local3 + 1);
                var _local6 = _temp1;
                _arg2.a[_local6] = (_local4 & DM);
                _local4 = (_local4 >> DB);
            };
            if (_arg1.t < this.t){
                _local4 = (_local4 - _arg1.s);
                while (_local3 < this.t) {
                    _local4 = (_local4 + this.a[_local3]);
                    var _temp2 = _local3;
                    _local3 = (_local3 + 1);
                    _local6 = _temp2;
                    _arg2.a[_local6] = (_local4 & DM);
                    _local4 = (_local4 >> DB);
                };
                _local4 = (_local4 + this.s);
            } else {
                _local4 = (_local4 + this.s);
                while (_local3 < _arg1.t) {
                    _local4 = (_local4 - _arg1.a[_local3]);
                    var _temp3 = _local3;
                    _local3 = (_local3 + 1);
                    _local6 = _temp3;
                    _arg2.a[_local6] = (_local4 & DM);
                    _local4 = (_local4 >> DB);
                };
                _local4 = (_local4 - _arg1.s);
            };
            _arg2.s = ((_local4)<0) ? -1 : 0;
            if (_local4 < -1){
                var _temp4 = _local3;
                _local3 = (_local3 + 1);
                _local6 = _temp4;
                _arg2.a[_local6] = (DV + _local4);
            } else {
                if (_local4 > 0){
                    var _temp5 = _local3;
                    _local3 = (_local3 + 1);
                    _local6 = _temp5;
                    _arg2.a[_local6] = _local4;
                };
            };
            _arg2.t = _local3;
            _arg2.clamp();
        }
        bi_internal function am(_arg1:int, _arg2:int, _arg3:BigInteger, _arg4:int, _arg5:int, _arg6:int):int{
            var _local9:int;
            var _local10:int;
            var _local11:int;
            var _local7 = (_arg2 & 32767);
            var _local8 = (_arg2 >> 15);
            while (--_arg6 >= 0) {
                _local9 = (this.a[_arg1] & 32767);
                var _temp1 = _arg1;
                _arg1 = (_arg1 + 1);
                _local10 = (this.a[_temp1] >> 15);
                _local11 = ((_local8 * _local9) + (_local10 * _local7));
                _local9 = ((((_local7 * _local9) + ((_local11 & 32767) << 15)) + _arg3.a[_arg4]) + (_arg5 & 1073741823));
                _arg5 = ((((_local9 >>> 30) + (_local11 >>> 15)) + (_local8 * _local10)) + (_arg5 >>> 30));
                var _temp2 = _arg4;
                _arg4 = (_arg4 + 1);
                var _local12 = _temp2;
                _arg3.a[_local12] = (_local9 & 1073741823);
            };
            return (_arg5);
        }
        bi_internal function multiplyTo(_arg1:BigInteger, _arg2:BigInteger):void{
            var _local3:BigInteger = this.abs();
            var _local4:BigInteger = _arg1.abs();
            var _local5:int = _local3.t;
            _arg2.t = (_local5 + _local4.t);
            while (--_local5 >= 0) {
                _arg2.a[_local5] = 0;
            };
            _local5 = 0;
            while (_local5 < _local4.t) {
                _arg2.a[(_local5 + _local3.t)] = _local3.am(0, _local4.a[_local5], _arg2, _local5, 0, _local3.t);
                _local5++;
            };
            _arg2.s = 0;
            _arg2.clamp();
            if (this.s != _arg1.s){
                ZERO.subTo(_arg2, _arg2);
            };
        }
        bi_internal function squareTo(_arg1:BigInteger):void{
            var _local4:int;
            var _local2:BigInteger = this.abs();
            var _local3:int = (_arg1.t = (2 * _local2.t));
            while (--_local3 >= 0) {
                _arg1.a[_local3] = 0;
            };
            _local3 = 0;
            while (_local3 < (_local2.t - 1)) {
                _local4 = _local2.am(_local3, _local2.a[_local3], _arg1, (2 * _local3), 0, 1);
                if ((_arg1.a[(_local3 + _local2.t)] = (_arg1.a[(_local3 + _local2.t)] + _local2.am((_local3 + 1), (2 * _local2.a[_local3]), _arg1, ((2 * _local3) + 1), _local4, ((_local2.t - _local3) - 1)))) >= DV){
                    _arg1.a[(_local3 + _local2.t)] = (_arg1.a[(_local3 + _local2.t)] - DV);
                    _arg1.a[((_local3 + _local2.t) + 1)] = 1;
                };
                _local3++;
            };
            if (_arg1.t > 0){
                _arg1.a[(_arg1.t - 1)] = (_arg1.a[(_arg1.t - 1)] + _local2.am(_local3, _local2.a[_local3], _arg1, (2 * _local3), 0, 1));
            };
            _arg1.s = 0;
            _arg1.clamp();
        }
        bi_internal function divRemTo(_arg1:BigInteger, _arg2:BigInteger=null, _arg3:BigInteger=null):void{
            var qd:* = 0;
            var m:* = _arg1;
            var q = _arg2;
            var r = _arg3;
            var pm:* = m.abs();
            if (pm.t <= 0){
                return;
            };
            var pt:* = this.abs();
            if (pt.t < pm.t){
                if (q != null){
                    q.fromInt(0);
                };
                if (r != null){
                    this.copyTo(r);
                };
                return;
            };
            if (r == null){
                r = this.nbi();
            };
            var y:* = this.nbi();
            var ts:* = this.s;
            var ms:* = m.s;
            var nsh:* = (DB - this.nbits(pm.a[(pm.t - 1)]));
            if (nsh > 0){
                pm.lShiftTo(nsh, y);
                pt.lShiftTo(nsh, r);
            } else {
                pm.copyTo(y);
                pt.copyTo(r);
            };
            var ys:* = y.t;
            var y0:* = y.a[(ys - 1)];
            if (y0 == 0){
                return;
            };
            var yt:* = ((y0 * (1 << F1)) + ((ys)>1) ? (y.a[(ys - 2)] >> F2) : 0);
            var d1:* = (FV / yt);
            var d2:* = ((1 << F1) / yt);
            var e:* = (1 << F2);
            var i:* = r.t;
            var j:* = (i - ys);
            var t:* = ((q)==null) ? this.nbi() : q;
            y.dlShiftTo(j, t);
            if (r.compareTo(t) >= 0){
                var _local5 = r.t++;
                r.a[_local5] = 1;
                r.subTo(t, r);
            };
            ONE.dlShiftTo(ys, t);
            t.subTo(y, y);
            while (y.t < ys) {
                y.(y.t++); //not popped
            };
            while ((j = (j - 1)), (j - 1) >= 0) {
                i = (i - 1);
                qd = ((r.a[(i - 1)])==y0) ? DM : ((Number(r.a[i]) * d1) + ((Number(r.a[(i - 1)]) + e) * d2));
                if ((r.a[i] = (r.a[i] + y.am(0, qd, r, j, 0, ys))) < qd){
                    y.dlShiftTo(j, t);
                    r.subTo(t, r);
                    while ((qd = (qd - 1)), r.a[i] < (qd - 1)) {
                        r.subTo(t, r);
                    };
                };
            };
            if (q != null){
                r.drShiftTo(ys, q);
                if (ts != ms){
                    ZERO.subTo(q, q);
                };
            };
            r.t = ys;
            r.clamp();
            if (nsh > 0){
                r.rShiftTo(nsh, r);
            };
            if (ts < 0){
                ZERO.subTo(r, r);
            };
        }
        bi_internal function invDigit():int{
            if (this.t < 1){
                return (0);
            };
            var _local1:int = this.a[0];
            if ((_local1 & 1) == 0){
                return (0);
            };
            var _local2 = (_local1 & 3);
            _local2 = ((_local2 * (2 - ((_local1 & 15) * _local2))) & 15);
            _local2 = ((_local2 * (2 - ((_local1 & 0xFF) * _local2))) & 0xFF);
            _local2 = ((_local2 * (2 - (((_local1 & 0xFFFF) * _local2) & 0xFFFF))) & 0xFFFF);
            _local2 = ((_local2 * (2 - ((_local1 * _local2) % DV))) % DV);
            return (((_local2)>0) ? (DV - _local2) : -(_local2));
        }
        bi_internal function isEven():Boolean{
            return ((((this.t)>0) ? (this.a[0] & 1) : this.s == 0));
        }
        bi_internal function exp(_arg1:int, _arg2:IReduction):BigInteger{
            var _local7:BigInteger;
            if ((((_arg1 > 0xFFFFFFFF)) || ((_arg1 < 1)))){
                return (ONE);
            };
            var _local3:BigInteger = this.nbi();
            var _local4:BigInteger = this.nbi();
            var _local5:BigInteger = _arg2.convert(this);
            var _local6:int = (this.nbits(_arg1) - 1);
            _local5.copyTo(_local3);
            while (--_local6 >= 0) {
                _arg2.sqrTo(_local3, _local4);
                if ((_arg1 & (1 << _local6)) > 0){
                    _arg2.mulTo(_local4, _local5, _local3);
                } else {
                    _local7 = _local3;
                    _local3 = _local4;
                    _local4 = _local7;
                };
            };
            return (_arg2.revert(_local3));
        }
        bi_internal function intAt(_arg1:String, _arg2:int):int{
            return (parseInt(_arg1.charAt(_arg2), 36));
        }
        protected function nbi(){
            return (new BigInteger());
        }
        public function clone():BigInteger{
            var _local1:BigInteger = new BigInteger();
            this.copyTo(_local1);
            return (_local1);
        }
        public function intValue():int{
            if (this.s < 0){
                if (this.t == 1){
                    return ((this.a[0] - DV));
                };
                if (this.t == 0){
                    return (-1);
                };
            } else {
                if (this.t == 1){
                    return (this.a[0]);
                };
                if (this.t == 0){
                    return (0);
                };
            };
            return ((((this.a[1] & ((1 << (32 - DB)) - 1)) << DB) | this.a[0]));
        }
        public function byteValue():int{
            return (((this.t)==0) ? this.s : ((this.a[0] << 24) >> 24));
        }
        public function shortValue():int{
            return (((this.t)==0) ? this.s : ((this.a[0] << 16) >> 16));
        }
        protected function chunkSize(_arg1:Number):int{
            return (Math.floor(((Math.LN2 * DB) / Math.log(_arg1))));
        }
        public function sigNum():int{
            if (this.s < 0){
                return (-1);
            };
            if ((((this.t <= 0)) || ((((this.t == 1)) && ((this.a[0] <= 0)))))){
                return (0);
            };
            return (1);
        }
        protected function toRadix(_arg1:uint=10):String{
            if ((((((this.sigNum() == 0)) || ((_arg1 < 2)))) || ((_arg1 > 32)))){
                return ("0");
            };
            var _local2:int = this.chunkSize(_arg1);
            var _local3:Number = Math.pow(_arg1, _local2);
            var _local4:BigInteger = nbv(_local3);
            var _local5:BigInteger = this.nbi();
            var _local6:BigInteger = this.nbi();
            var _local7 = "";
            this.divRemTo(_local4, _local5, _local6);
            while (_local5.sigNum() > 0) {
                _local7 = ((_local3 + _local6.intValue()).toString(_arg1).substr(1) + _local7);
                _local5.divRemTo(_local4, _local5, _local6);
            };
            return ((_local6.intValue().toString(_arg1) + _local7));
        }
        protected function fromRadix(_arg1:String, _arg2:int=10):void{
            var _local9:int;
            this.fromInt(0);
            var _local3:int = this.chunkSize(_arg2);
            var _local4:Number = Math.pow(_arg2, _local3);
            var _local5:Boolean;
            var _local6:int;
            var _local7:int;
            var _local8:int;
            while (_local8 < _arg1.length) {
                _local9 = this.intAt(_arg1, _local8);
                if (_local9 < 0){
                    if ((((_arg1.charAt(_local8) == "-")) && ((this.sigNum() == 0)))){
                        _local5 = true;
                    };
                } else {
                    _local7 = ((_arg2 * _local7) + _local9);
                    ++_local6;
                    if (_local6 >= _local3){
                        this.dMultiply(_local4);
                        this.dAddOffset(_local7, 0);
                        _local6 = 0;
                        _local7 = 0;
                    };
                };
                _local8++;
            };
            if (_local6 > 0){
                this.dMultiply(Math.pow(_arg2, _local6));
                this.dAddOffset(_local7, 0);
            };
            if (_local5){
                BigInteger.ZERO.subTo(this, this);
            };
        }
        public function toByteArray():ByteArray{
            var _local4:int;
            var _local1:int = this.t;
            var _local2:ByteArray = new ByteArray();
            _local2[0] = this.s;
            var _local3:int = (DB - ((_local1 * DB) % 8));
            var _local5:int;
            var _temp1 = _local1;
            _local1 = (_local1 - 1);
            if (_temp1 > 0){
                if ((((_local3 < DB)) && (!(((_local4 = (this.a[_local1] >> _local3)) == ((this.s & DM) >> _local3)))))){
                    var _temp2 = _local5;
                    _local5 = (_local5 + 1);
                    var _local6 = _temp2;
                    _local2[_local6] = (_local4 | (this.s << (DB - _local3)));
                };
                while (_local1 >= 0) {
                    if (_local3 < 8){
                        _local4 = ((this.a[_local1] & ((1 << _local3) - 1)) << (8 - _local3));
                        var _temp3 = _local4;
                        _local1 = (_local1 - 1);
                        _local3 = (_local3 + (DB - 8));
                        _local4 = (_temp3 | (this.a[_local1] >> _local3));
                    } else {
                        _local3 = (_local3 - 8);
                        _local4 = ((this.a[_local1] >> _local3) & 0xFF);
                        if (_local3 <= 0){
                            _local3 = (_local3 + DB);
                            _local1--;
                        };
                    };
                    if ((_local4 & 128) != 0){
                        _local4 = (_local4 | -256);
                    };
                    if ((((_local5 == 0)) && (!(((this.s & 128) == (_local4 & 128)))))){
                        _local5++;
                    };
                    if ((((_local5 > 0)) || (!((_local4 == this.s))))){
                        var _temp4 = _local5;
                        _local5 = (_local5 + 1);
                        _local6 = _temp4;
                        _local2[_local6] = _local4;
                    };
                };
            };
            return (_local2);
        }
        public function equals(_arg1:BigInteger):Boolean{
            return ((this.compareTo(_arg1) == 0));
        }
        public function min(_arg1:BigInteger):BigInteger{
            return (((this.compareTo(_arg1))<0) ? this : _arg1);
        }
        public function max(_arg1:BigInteger):BigInteger{
            return (((this.compareTo(_arg1))>0) ? this : _arg1);
        }
        protected function bitwiseTo(_arg1:BigInteger, _arg2:Function, _arg3:BigInteger):void{
            var _local4:int;
            var _local5:int;
            var _local6:int = Math.min(_arg1.t, this.t);
            _local4 = 0;
            while (_local4 < _local6) {
                _arg3.a[_local4] = _arg2(this.a[_local4], _arg1.a[_local4]);
                _local4++;
            };
            if (_arg1.t < this.t){
                _local5 = (_arg1.s & DM);
                _local4 = _local6;
                while (_local4 < this.t) {
                    _arg3.a[_local4] = _arg2(this.a[_local4], _local5);
                    _local4++;
                };
                _arg3.t = this.t;
            } else {
                _local5 = (this.s & DM);
                _local4 = _local6;
                while (_local4 < _arg1.t) {
                    _arg3.a[_local4] = _arg2(_local5, _arg1.a[_local4]);
                    _local4++;
                };
                _arg3.t = _arg1.t;
            };
            _arg3.s = _arg2(this.s, _arg1.s);
            _arg3.clamp();
        }
        private function op_and(_arg1:int, _arg2:int):int{
            return ((_arg1 & _arg2));
        }
        public function and(_arg1:BigInteger):BigInteger{
            var _local2:BigInteger = new BigInteger();
            this.bitwiseTo(_arg1, this.op_and, _local2);
            return (_local2);
        }
        private function op_or(_arg1:int, _arg2:int):int{
            return ((_arg1 | _arg2));
        }
        public function or(_arg1:BigInteger):BigInteger{
            var _local2:BigInteger = new BigInteger();
            this.bitwiseTo(_arg1, this.op_or, _local2);
            return (_local2);
        }
        private function op_xor(_arg1:int, _arg2:int):int{
            return ((_arg1 ^ _arg2));
        }
        public function xor(_arg1:BigInteger):BigInteger{
            var _local2:BigInteger = new BigInteger();
            this.bitwiseTo(_arg1, this.op_xor, _local2);
            return (_local2);
        }
        private function op_andnot(_arg1:int, _arg2:int):int{
            return ((_arg1 & ~(_arg2)));
        }
        public function andNot(_arg1:BigInteger):BigInteger{
            var _local2:BigInteger = new BigInteger();
            this.bitwiseTo(_arg1, this.op_andnot, _local2);
            return (_local2);
        }
        public function not():BigInteger{
            var _local1:BigInteger = new BigInteger();
            var _local2:int;
            while (_local2 < this.t) {
                _local1[_local2] = (DM & ~(this.a[_local2]));
                _local2++;
            };
            _local1.t = this.t;
            _local1.s = ~(this.s);
            return (_local1);
        }
        public function shiftLeft(_arg1:int):BigInteger{
            var _local2:BigInteger = new BigInteger();
            if (_arg1 < 0){
                this.rShiftTo(-(_arg1), _local2);
            } else {
                this.lShiftTo(_arg1, _local2);
            };
            return (_local2);
        }
        public function shiftRight(_arg1:int):BigInteger{
            var _local2:BigInteger = new BigInteger();
            if (_arg1 < 0){
                this.lShiftTo(-(_arg1), _local2);
            } else {
                this.rShiftTo(_arg1, _local2);
            };
            return (_local2);
        }
        private function lbit(_arg1:int):int{
            if (_arg1 == 0){
                return (-1);
            };
            var _local2:int;
            if ((_arg1 & 0xFFFF) == 0){
                _arg1 = (_arg1 >> 16);
                _local2 = (_local2 + 16);
            };
            if ((_arg1 & 0xFF) == 0){
                _arg1 = (_arg1 >> 8);
                _local2 = (_local2 + 8);
            };
            if ((_arg1 & 15) == 0){
                _arg1 = (_arg1 >> 4);
                _local2 = (_local2 + 4);
            };
            if ((_arg1 & 3) == 0){
                _arg1 = (_arg1 >> 2);
                _local2 = (_local2 + 2);
            };
            if ((_arg1 & 1) == 0){
                _local2++;
            };
            return (_local2);
        }
        public function getLowestSetBit():int{
            var _local1:int;
            while (_local1 < this.t) {
                if (this.a[_local1] != 0){
                    return (((_local1 * DB) + this.lbit(this.a[_local1])));
                };
                _local1++;
            };
            if (this.s < 0){
                return ((this.t * DB));
            };
            return (-1);
        }
        private function cbit(_arg1:int):int{
            var _local2:uint;
            while (_arg1 != 0) {
                _arg1 = (_arg1 & (_arg1 - 1));
                _local2++;
            };
            return (_local2);
        }
        public function bitCount():int{
            var _local1:int;
            var _local2 = (this.s & DM);
            var _local3:int;
            while (_local3 < this.t) {
                _local1 = (_local1 + this.cbit((this.a[_local3] ^ _local2)));
                _local3++;
            };
            return (_local1);
        }
        public function testBit(_arg1:int):Boolean{
            var _local2:int = Math.floor((_arg1 / DB));
            if (_local2 >= this.t){
                return (!((this.s == 0)));
            };
            return (!(((this.a[_local2] & (1 << (_arg1 % DB))) == 0)));
        }
        protected function changeBit(_arg1:int, _arg2:Function):BigInteger{
            var _local3:BigInteger = BigInteger.ONE.shiftLeft(_arg1);
            this.bitwiseTo(_local3, _arg2, _local3);
            return (_local3);
        }
        public function setBit(_arg1:int):BigInteger{
            return (this.changeBit(_arg1, this.op_or));
        }
        public function clearBit(_arg1:int):BigInteger{
            return (this.changeBit(_arg1, this.op_andnot));
        }
        public function flipBit(_arg1:int):BigInteger{
            return (this.changeBit(_arg1, this.op_xor));
        }
        protected function addTo(_arg1:BigInteger, _arg2:BigInteger):void{
            var _local3:int;
            var _local4:int;
            var _local5:int = Math.min(_arg1.t, this.t);
            while (_local3 < _local5) {
                _local4 = (_local4 + (this.a[_local3] + _arg1.a[_local3]));
                var _temp1 = _local3;
                _local3 = (_local3 + 1);
                var _local6 = _temp1;
                _arg2.a[_local6] = (_local4 & DM);
                _local4 = (_local4 >> DB);
            };
            if (_arg1.t < this.t){
                _local4 = (_local4 + _arg1.s);
                while (_local3 < this.t) {
                    _local4 = (_local4 + this.a[_local3]);
                    var _temp2 = _local3;
                    _local3 = (_local3 + 1);
                    _local6 = _temp2;
                    _arg2.a[_local6] = (_local4 & DM);
                    _local4 = (_local4 >> DB);
                };
                _local4 = (_local4 + this.s);
            } else {
                _local4 = (_local4 + this.s);
                while (_local3 < _arg1.t) {
                    _local4 = (_local4 + _arg1.a[_local3]);
                    var _temp3 = _local3;
                    _local3 = (_local3 + 1);
                    _local6 = _temp3;
                    _arg2.a[_local6] = (_local4 & DM);
                    _local4 = (_local4 >> DB);
                };
                _local4 = (_local4 + _arg1.s);
            };
            _arg2.s = ((_local4)<0) ? -1 : 0;
            if (_local4 > 0){
                var _temp4 = _local3;
                _local3 = (_local3 + 1);
                _local6 = _temp4;
                _arg2.a[_local6] = _local4;
            } else {
                if (_local4 < -1){
                    var _temp5 = _local3;
                    _local3 = (_local3 + 1);
                    _local6 = _temp5;
                    _arg2.a[_local6] = (DV + _local4);
                };
            };
            _arg2.t = _local3;
            _arg2.clamp();
        }
        public function add(_arg1:BigInteger):BigInteger{
            var _local2:BigInteger = new BigInteger();
            this.addTo(_arg1, _local2);
            return (_local2);
        }
        public function subtract(_arg1:BigInteger):BigInteger{
            var _local2:BigInteger = new BigInteger();
            this.subTo(_arg1, _local2);
            return (_local2);
        }
        public function multiply(_arg1:BigInteger):BigInteger{
            var _local2:BigInteger = new BigInteger();
            this.multiplyTo(_arg1, _local2);
            return (_local2);
        }
        public function divide(_arg1:BigInteger):BigInteger{
            var _local2:BigInteger = new BigInteger();
            this.divRemTo(_arg1, _local2, null);
            return (_local2);
        }
        public function remainder(_arg1:BigInteger):BigInteger{
            var _local2:BigInteger = new BigInteger();
            this.divRemTo(_arg1, null, _local2);
            return (_local2);
        }
        public function divideAndRemainder(_arg1:BigInteger):Array{
            var _local2:BigInteger = new BigInteger();
            var _local3:BigInteger = new BigInteger();
            this.divRemTo(_arg1, _local2, _local3);
            return ([_local2, _local3]);
        }
        bi_internal function dMultiply(_arg1:int):void{
            this.a[this.t] = this.am(0, (_arg1 - 1), this, 0, 0, this.t);
            this.t++;
            this.clamp();
        }
        bi_internal function dAddOffset(_arg1:int, _arg2:int):void{
            while (this.t <= _arg2) {
                var _local3 = this.t++;
                this.a[_local3] = 0;
            };
            this.a[_arg2] = (this.a[_arg2] + _arg1);
            while (this.a[_arg2] >= DV) {
                this.a[_arg2] = (this.a[_arg2] - DV);
                ++_arg2;
                if (_arg2 >= this.t){
                    _local3 = this.t++;
                    this.a[_local3] = 0;
                };
                _local3 = this.a;
                var _local4 = _arg2;
                var _local5 = (_local3[_local4] + 1);
                _local3[_local4] = _local5;
            };
        }
        public function pow(_arg1:int):BigInteger{
            return (this.exp(_arg1, new NullReduction()));
        }
        bi_internal function multiplyLowerTo(_arg1:BigInteger, _arg2:int, _arg3:BigInteger):void{
            var _local5:int;
            var _local4:int = Math.min((this.t + _arg1.t), _arg2);
            _arg3.s = 0;
            _arg3.t = _local4;
            while (_local4 > 0) {
                --_local4;
                var _local6 = _local4;
                _arg3.a[_local6] = 0;
            };
            _local5 = (_arg3.t - this.t);
            while (_local4 < _local5) {
                _arg3.a[(_local4 + this.t)] = this.am(0, _arg1.a[_local4], _arg3, _local4, 0, this.t);
                _local4++;
            };
            _local5 = Math.min(_arg1.t, _arg2);
            while (_local4 < _local5) {
                this.am(0, _arg1.a[_local4], _arg3, _local4, 0, (_arg2 - _local4));
                _local4++;
            };
            _arg3.clamp();
        }
        bi_internal function multiplyUpperTo(_arg1:BigInteger, _arg2:int, _arg3:BigInteger):void{
            _arg2--;
            var _local4:int = (_arg3.t = ((this.t + _arg1.t) - _arg2));
            _arg3.s = 0;
            while (--_local4 >= 0) {
                _arg3.a[_local4] = 0;
            };
            _local4 = Math.max((_arg2 - this.t), 0);
            while (_local4 < _arg1.t) {
                _arg3.a[((this.t + _local4) - _arg2)] = this.am((_arg2 - _local4), _arg1.a[_local4], _arg3, 0, 0, ((this.t + _local4) - _arg2));
                _local4++;
            };
            _arg3.clamp();
            _arg3.drShiftTo(1, _arg3);
        }
        public function modPow(_arg1:BigInteger, _arg2:BigInteger):BigInteger{
            var _local4:int;
            var _local6:IReduction;
            var _local12:int;
            var _local15:BigInteger;
            var _local16:BigInteger;
            var _local3:int = _arg1.bitLength();
            var _local5:BigInteger = nbv(1);
            if (_local3 <= 0){
                return (_local5);
            };
            if (_local3 < 18){
                _local4 = 1;
            } else {
                if (_local3 < 48){
                    _local4 = 3;
                } else {
                    if (_local3 < 144){
                        _local4 = 4;
                    } else {
                        if (_local3 < 0x0300){
                            _local4 = 5;
                        } else {
                            _local4 = 6;
                        };
                    };
                };
            };
            if (_local3 < 8){
                _local6 = new ClassicReduction(_arg2);
            } else {
                if (_arg2.isEven()){
                    _local6 = new BarrettReduction(_arg2);
                } else {
                    _local6 = new MontgomeryReduction(_arg2);
                };
            };
            var _local7:Array = [];
            var _local8 = 3;
            var _local9:int = (_local4 - 1);
            var _local10:int = ((1 << _local4) - 1);
            _local7[1] = _local6.convert(this);
            if (_local4 > 1){
                _local16 = new BigInteger();
                _local6.sqrTo(_local7[1], _local16);
                while (_local8 <= _local10) {
                    _local7[_local8] = new BigInteger();
                    _local6.mulTo(_local16, _local7[(_local8 - 2)], _local7[_local8]);
                    _local8 = (_local8 + 2);
                };
            };
            var _local11:int = (_arg1.t - 1);
            var _local13:Boolean;
            var _local14:BigInteger = new BigInteger();
            _local3 = (this.nbits(_arg1.a[_local11]) - 1);
            while (_local11 >= 0) {
                if (_local3 >= _local9){
                    _local12 = ((_arg1.a[_local11] >> (_local3 - _local9)) & _local10);
                } else {
                    _local12 = ((_arg1.a[_local11] & ((1 << (_local3 + 1)) - 1)) << (_local9 - _local3));
                    if (_local11 > 0){
                        _local12 = (_local12 | (_arg1.a[(_local11 - 1)] >> ((DB + _local3) - _local9)));
                    };
                };
                _local8 = _local4;
                while ((_local12 & 1) == 0) {
                    _local12 = (_local12 >> 1);
                    _local8--;
                };
                _local3 = (_local3 - _local8);
                if (_local3 < 0){
                    _local3 = (_local3 + DB);
                    _local11--;
                };
                if (_local13){
                    _local7[_local12].copyTo(_local5);
                    _local13 = false;
                } else {
                    while (_local8 > 1) {
                        _local6.sqrTo(_local5, _local14);
                        _local6.sqrTo(_local14, _local5);
                        _local8 = (_local8 - 2);
                    };
                    if (_local8 > 0){
                        _local6.sqrTo(_local5, _local14);
                    } else {
                        _local15 = _local5;
                        _local5 = _local14;
                        _local14 = _local15;
                    };
                    _local6.mulTo(_local14, _local7[_local12], _local5);
                };
                while ((((_local11 >= 0)) && (((_arg1.a[_local11] & (1 << _local3)) == 0)))) {
                    _local6.sqrTo(_local5, _local14);
                    _local15 = _local5;
                    _local5 = _local14;
                    _local14 = _local15;
                    --_local3;
                    if (_local3 < 0){
                        _local3 = (DB - 1);
                        _local11--;
                    };
                };
            };
            return (_local6.revert(_local5));
        }
        public function gcd(_arg1:BigInteger):BigInteger{
            var _local6:BigInteger;
            var _local2:BigInteger = ((this.s)<0) ? this.negate() : this.clone();
            var _local3:BigInteger = ((_arg1.s)<0) ? _arg1.negate() : _arg1.clone();
            if (_local2.compareTo(_local3) < 0){
                _local6 = _local2;
                _local2 = _local3;
                _local3 = _local6;
            };
            var _local4:int = _local2.getLowestSetBit();
            var _local5:int = _local3.getLowestSetBit();
            if (_local5 < 0){
                return (_local2);
            };
            if (_local4 < _local5){
                _local5 = _local4;
            };
            if (_local5 > 0){
                _local2.rShiftTo(_local5, _local2);
                _local3.rShiftTo(_local5, _local3);
            };
            while (_local2.sigNum() > 0) {
                _local4 = _local2.getLowestSetBit();
                if (_local4 > 0){
                    _local2.rShiftTo(_local4, _local2);
                };
                _local4 = _local3.getLowestSetBit();
                if (_local4 > 0){
                    _local3.rShiftTo(_local4, _local3);
                };
                if (_local2.compareTo(_local3) >= 0){
                    _local2.subTo(_local3, _local2);
                    _local2.rShiftTo(1, _local2);
                } else {
                    _local3.subTo(_local2, _local3);
                    _local3.rShiftTo(1, _local3);
                };
            };
            if (_local5 > 0){
                _local3.lShiftTo(_local5, _local3);
            };
            return (_local3);
        }
        protected function modInt(_arg1:int):int{
            var _local4:int;
            if (_arg1 <= 0){
                return (0);
            };
            var _local2:int = (DV % _arg1);
            var _local3:int = ((this.s)<0) ? (_arg1 - 1) : 0;
            if (this.t > 0){
                if (_local2 == 0){
                    _local3 = (this.a[0] % _arg1);
                } else {
                    _local4 = (this.t - 1);
                    while (_local4 >= 0) {
                        _local3 = (((_local2 * _local3) + this.a[_local4]) % _arg1);
                        _local4--;
                    };
                };
            };
            return (_local3);
        }
        public function modInverse(_arg1:BigInteger):BigInteger{
            var _local2:Boolean = _arg1.isEven();
            if (((((this.isEven()) && (_local2))) || ((_arg1.sigNum() == 0)))){
                return (BigInteger.ZERO);
            };
            var _local3:BigInteger = _arg1.clone();
            var _local4:BigInteger = this.clone();
            var _local5:BigInteger = nbv(1);
            var _local6:BigInteger = nbv(0);
            var _local7:BigInteger = nbv(0);
            var _local8:BigInteger = nbv(1);
            while (_local3.sigNum() != 0) {
                while (_local3.isEven()) {
                    _local3.rShiftTo(1, _local3);
                    if (_local2){
                        if (((!(_local5.isEven())) || (!(_local6.isEven())))){
                            _local5.addTo(this, _local5);
                            _local6.subTo(_arg1, _local6);
                        };
                        _local5.rShiftTo(1, _local5);
                    } else {
                        if (!_local6.isEven()){
                            _local6.subTo(_arg1, _local6);
                        };
                    };
                    _local6.rShiftTo(1, _local6);
                };
                while (_local4.isEven()) {
                    _local4.rShiftTo(1, _local4);
                    if (_local2){
                        if (((!(_local7.isEven())) || (!(_local8.isEven())))){
                            _local7.addTo(this, _local7);
                            _local8.subTo(_arg1, _local8);
                        };
                        _local7.rShiftTo(1, _local7);
                    } else {
                        if (!_local8.isEven()){
                            _local8.subTo(_arg1, _local8);
                        };
                    };
                    _local8.rShiftTo(1, _local8);
                };
                if (_local3.compareTo(_local4) >= 0){
                    _local3.subTo(_local4, _local3);
                    if (_local2){
                        _local5.subTo(_local7, _local5);
                    };
                    _local6.subTo(_local8, _local6);
                } else {
                    _local4.subTo(_local3, _local4);
                    if (_local2){
                        _local7.subTo(_local5, _local7);
                    };
                    _local8.subTo(_local6, _local8);
                };
            };
            if (_local4.compareTo(BigInteger.ONE) != 0){
                return (BigInteger.ZERO);
            };
            if (_local8.compareTo(_arg1) >= 0){
                return (_local8.subtract(_arg1));
            };
            if (_local8.sigNum() < 0){
                _local8.addTo(_arg1, _local8);
            } else {
                return (_local8);
            };
            if (_local8.sigNum() < 0){
                return (_local8.add(_arg1));
            };
            return (_local8);
        }
        public function isProbablePrime(_arg1:int):Boolean{
            var _local2:int;
            var _local4:int;
            var _local5:int;
            var _local3:BigInteger = this.abs();
            if ((((_local3.t == 1)) && ((_local3.a[0] <= lowprimes[(lowprimes.length - 1)])))){
                _local2 = 0;
                while (_local2 < lowprimes.length) {
                    if (_local3[0] == lowprimes[_local2]){
                        return (true);
                    };
                    _local2++;
                };
                return (false);
            };
            if (_local3.isEven()){
                return (false);
            };
            _local2 = 1;
            while (_local2 < lowprimes.length) {
                _local4 = lowprimes[_local2];
                _local5 = (_local2 + 1);
                while ((((_local5 < lowprimes.length)) && ((_local4 < lplim)))) {
                    var _temp1 = _local5;
                    _local5 = (_local5 + 1);
                    _local4 = (_local4 * lowprimes[_temp1]);
                };
                _local4 = _local3.modInt(_local4);
                while (_local2 < _local5) {
                    var _temp2 = _local4;
                    var _temp3 = _local2;
                    _local2 = (_local2 + 1);
                    if ((_temp2 % lowprimes[_temp3]) == 0){
                        return (false);
                    };
                };
            };
            return (_local3.millerRabin(_arg1));
        }
        protected function millerRabin(_arg1:int):Boolean{
            var _local7:BigInteger;
            var _local8:int;
            var _local2:BigInteger = this.subtract(BigInteger.ONE);
            var _local3:int = _local2.getLowestSetBit();
            if (_local3 <= 0){
                return (false);
            };
            var _local4:BigInteger = _local2.shiftRight(_local3);
            _arg1 = ((_arg1 + 1) >> 1);
            if (_arg1 > lowprimes.length){
                _arg1 = lowprimes.length;
            };
            var _local5:BigInteger = new BigInteger();
            var _local6:int;
            while (_local6 < _arg1) {
                _local5.fromInt(lowprimes[_local6]);
                _local7 = _local5.modPow(_local4, this);
                if (((!((_local7.compareTo(BigInteger.ONE) == 0))) && (!((_local7.compareTo(_local2) == 0))))){
                    _local8 = 1;
                    while ((((_local8++ < _local3)) && (!((_local7.compareTo(_local2) == 0))))) {
                        _local7 = _local7.modPowInt(2, this);
                        if (_local7.compareTo(BigInteger.ONE) == 0){
                            return (false);
                        };
                    };
                    if (_local7.compareTo(_local2) != 0){
                        return (false);
                    };
                };
                _local6++;
            };
            return (true);
        }
        public function primify(_arg1:int, _arg2:int):void{
            if (!this.testBit((_arg1 - 1))){
                this.bitwiseTo(BigInteger.ONE.shiftLeft((_arg1 - 1)), this.op_or, this);
            };
            if (this.isEven()){
                this.dAddOffset(1, 0);
            };
            while (!(this.isProbablePrime(_arg2))) {
                this.dAddOffset(2, 0);
                while (this.bitLength() > _arg1) {
                    this.subTo(BigInteger.ONE.shiftLeft((_arg1 - 1)), this);
                };
            };
        }

    }
}//package com.hurlant.math 
﻿package com.hurlant.math {
    import com.hurlant.math.*;

    class MontgomeryReduction implements IReduction {

        private var m:BigInteger;
        private var mp:int;
        private var mpl:int;
        private var mph:int;
        private var um:int;
        private var mt2:int;

        public function MontgomeryReduction(_arg1:BigInteger){
            this.m = _arg1;
            this.mp = _arg1.invDigit();
            this.mpl = (this.mp & 32767);
            this.mph = (this.mp >> 15);
            this.um = ((1 << (BigInteger.DB - 15)) - 1);
            this.mt2 = (2 * _arg1.t);
        }
        public function convert(_arg1:BigInteger):BigInteger{
            var _local2:BigInteger = new BigInteger();
            _arg1.abs().dlShiftTo(this.m.t, _local2);
            _local2.divRemTo(this.m, null, _local2);
            if ((((_arg1.s < 0)) && ((_local2.compareTo(BigInteger.ZERO) > 0)))){
                this.m.subTo(_local2, _local2);
            };
            return (_local2);
        }
        public function revert(_arg1:BigInteger):BigInteger{
            var _local2:BigInteger = new BigInteger();
            _arg1.copyTo(_local2);
            this.reduce(_local2);
            return (_local2);
        }
        public function reduce(_arg1:BigInteger):void{
            var _local3:int;
            var _local4:int;
            while (_arg1.t <= this.mt2) {
                var _local5 = _arg1.t++;
                _arg1.a[_local5] = 0;
            };
            var _local2:int;
            while (_local2 < this.m.t) {
                _local3 = (_arg1.a[_local2] & 32767);
                _local4 = (((_local3 * this.mpl) + ((((_local3 * this.mph) + ((_arg1.a[_local2] >> 15) * this.mpl)) & this.um) << 15)) & BigInteger.DM);
                _local3 = (_local2 + this.m.t);
                _arg1.a[_local3] = (_arg1.a[_local3] + this.m.am(0, _local4, _arg1, _local2, 0, this.m.t));
                while (_arg1.a[_local3] >= BigInteger.DV) {
                    _arg1.a[_local3] = (_arg1.a[_local3] - BigInteger.DV);
                    _local5 = _arg1.a;
                    ++_local3;
                    var _local6 = _local3;
                    var _local7 = (_local5[_local6] + 1);
                    _local5[_local6] = _local7;
                };
                _local2++;
            };
            _arg1.clamp();
            _arg1.drShiftTo(this.m.t, _arg1);
            if (_arg1.compareTo(this.m) >= 0){
                _arg1.subTo(this.m, _arg1);
            };
        }
        public function sqrTo(_arg1:BigInteger, _arg2:BigInteger):void{
            _arg1.squareTo(_arg2);
            this.reduce(_arg2);
        }
        public function mulTo(_arg1:BigInteger, _arg2:BigInteger, _arg3:BigInteger):void{
            _arg1.multiplyTo(_arg2, _arg3);
            this.reduce(_arg3);
        }

    }
}//package com.hurlant.math 
﻿package Interface_fla {
    import flash.display.*;

    public dynamic class NewsIcon_68 extends MovieClip {

        public function NewsIcon_68(){
            addFrameScript(0, this.frame1, 1, this.frame2);
        }
        function frame1(){
            stop();
        }
        function frame2(){
            stop();
        }

    }
}//package Interface_fla 
﻿package Interface_fla {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.fonts.*;

    public dynamic class TextFieldError_79 extends MovieClip {

        public var tlf:TLFTextField;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;

        public function TextFieldError_79(){
            super();
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.TahomaRegular";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "tlf", new Rectangle(0, 0, 36.75, 20), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="2" paddingTop="5" paddingRight="5" paddingBottom="5" background="true" backgroundColor="#990000" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#ffffff" fontFamily="Tahoma-Reg*" fontSize="11" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">error</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
        }
        public function __registerTLFFonts():void{
            Font.registerFont(TahomaRegular);
            RuntimeFontMapper.addFontMapEntry("['Tahoma-Reg*','normal','normal']", ["Tahoma", "normal", "normal"]);
        }

    }
}//package Interface_fla 
﻿package Interface_fla {
    import flash.display.*;

    public dynamic class button_bg_74 extends MovieClip {

        public function button_bg_74(){
            addFrameScript(0, this.frame1);
        }
        function frame1(){
            stop();
        }

    }
}//package Interface_fla 
﻿package Interface_fla {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.components.*;
    import com.slskin.ignitenetwork.fonts.*;

    public dynamic class loader_119 extends MovieClip {

        public var spinner:SpinnerLight;
        public var loadingTLF:TLFTextField;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;

        public function loader_119(){
            super();
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.MyriadSemiBold";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "loadingTLF", new Rectangle(0, 0, 130, 40), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="42" paddingTop="0" paddingRight="0" paddingBottom="0" background="true" backgroundColor="#000000" backgroundAlpha="1" border="true" borderColor="#666666" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="0" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#cccccc" fontFamily="MyriadPro-SemiBold*" fontSize="15" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">Loading...</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
        }
        public function __registerTLFFonts():void{
            Font.registerFont(MyriadSemiBold);
            RuntimeFontMapper.addFontMapEntry("['MyriadPro-SemiBold*','normal','normal']", ["Myriad Pro Light", "bold", "normal"]);
        }

    }
}//package Interface_fla 
﻿package Interface_fla {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.fonts.*;

    public dynamic class password_header_83 extends MovieClip {

        public var title:TLFTextField;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;

        public function password_header_83(){
            super();
            addFrameScript(0, this.frame1);
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.MyriadRegular";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "title", new Rectangle(0, 0, 163.5, 36), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#ffffff" fontFamily="MyriadPro-Reg*" fontSize="20" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">Account Password</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
        }
        public function __registerTLFFonts():void{
            Font.registerFont(MyriadRegular);
            RuntimeFontMapper.addFontMapEntry("['MyriadPro-Reg*','normal','normal']", ["Myriad Pro", "normal", "normal"]);
        }
        function frame1(){
            InteractiveObject(this.title.getChildAt(1)).tabEnabled = false;
        }

    }
}//package Interface_fla 
﻿package Interface_fla {
    import flash.display.*;

    public dynamic class StatusIndicator_95 extends MovieClip {

        public function StatusIndicator_95(){
            addFrameScript(0, this.frame1, 1, this.frame2);
        }
        function frame1(){
            stop();
        }
        function frame2(){
            stop();
        }

    }
}//package Interface_fla 
﻿package Interface_fla {
    import flash.display.*;

    public dynamic class selectorBackground_59 extends MovieClip {

        public function selectorBackground_59(){
            addFrameScript(0, this.frame1, 10, this.frame11);
        }
        function frame1(){
            stop();
        }
        function frame11(){
            stop();
        }

    }
}//package Interface_fla 
﻿package Interface_fla {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.fonts.*;

    public dynamic class content_93 extends MovieClip {

        public var moreInfoButton:SimpleButton;
        public var sessionsTLF:TLFTextField;
        public var singleplayerTLF:TLFTextField;
        public var multiplayerTLF:TLFTextField;
        public var __id5_:TCMText;
        public var singleplayerStatus:MovieClip;
        public var sessionsSubTLF:TLFTextField;
        public var multiplayerStatus:MovieClip;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;

        public function content_93(){
            super();
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.TahomaBold";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                TCMRuntimeManager.getSingleton().addInstance(this, "__id5_", new Rectangle(0, 0, 50, 16.05), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="top" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#cccccc" fontFamily="Tahoma-Regular*" fontSize="10" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="100%" textAlpha="1" textRotation="auto" trackingRight="0%">more info</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
                RuntimeManager.getSingleton().addInstance(this, "multiplayerTLF", new Rectangle(0, 0, 67.5, 32), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="toFit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#cccccc" fontFamily="Tahoma-Regular*" fontSize="10" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="100%" textAlpha="1" textRotation="auto" trackingRight="0%">Multiplayer</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
                RuntimeManager.getSingleton().addInstance(this, "singleplayerTLF", new Rectangle(0, 0, 75, 32), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="toFit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#cccccc" fontFamily="Tahoma-Regular*" fontSize="10" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="100%" textAlpha="1" textRotation="auto" trackingRight="0%">Singleplayer</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
                RuntimeManager.getSingleton().addInstance(this, "sessionsSubTLF", new Rectangle(0, 0, 50, 32), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="middle" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="toFit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="center" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#cccccc" fontFamily="Tahoma-Regular*" fontSize="10" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="100%" textAlpha="1" textRotation="auto" trackingRight="0%">local player(s)</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
                RuntimeManager.getSingleton().addInstance(this, "sessionsTLF", new Rectangle(0, 0, 50, 19.35), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="bottom" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="true" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="toFit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="center" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#cccccc" fontFamily="Tahoma-Bold*" fontSize="20" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="100%" textAlpha="1" textRotation="auto" trackingRight="0%">00</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
            TCMRuntimeManager.getSingleton().addInstanceComplete(this);
        }
        public function __registerTLFFonts():void{
            Font.registerFont(TahomaBold);
            Font.registerFont(TahomaRegular);
            RuntimeFontMapper.addFontMapEntry("['Tahoma-Bold*','normal','normal']", ["Tahoma", "bold", "normal"]);
            RuntimeFontMapper.addFontMapEntry("['Tahoma-Regular*','normal','normal']", ["Tahoma", "normal", "normal"]);
        }

    }
}//package Interface_fla 
﻿package Interface_fla {
    import flash.display.*;

    public dynamic class LaunchButtonBackground_66 extends MovieClip {

        public function LaunchButtonBackground_66(){
            addFrameScript(0, this.frame1, 1, this.frame2, 2, this.frame3);
        }
        function frame1(){
            stop();
        }
        function frame2(){
            stop();
        }
        function frame3(){
            stop();
        }

    }
}//package Interface_fla 
﻿package Interface_fla {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.fonts.*;

    public dynamic class userinfo_header_81 extends MovieClip {

        public var title:TLFTextField;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;

        public function userinfo_header_81(){
            super();
            addFrameScript(0, this.frame1);
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.MyriadRegular";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "title", new Rectangle(0, 0, 189.5, 24), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="top" firstBaselineOffset="auto" paddingLeft="2" paddingTop="2" paddingRight="2" paddingBottom="2" background="false" backgroundColor="#ffffff" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="2" textAlign="start" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#ffffff" fontFamily="MyriadPro-Reg*" fontSize="20" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">Personal Information</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
        }
        public function __registerTLFFonts():void{
            Font.registerFont(MyriadRegular);
            RuntimeFontMapper.addFontMapEntry("['MyriadPro-Reg*','normal','normal']", ["Myriad Pro", "normal", "normal"]);
        }
        function frame1(){
            InteractiveObject(this.title.getChildAt(1)).tabEnabled = false;
        }

    }
}//package Interface_fla 
﻿package Interface_fla {
    import flash.display.*;

    public dynamic class arrow_122 extends MovieClip {

        public var arrow:MovieClip;

        public function arrow_122(){
            addFrameScript(0, this.frame1, 9, this.frame10);
        }
        function frame1(){
            stop();
        }
        function frame10(){
            gotoAndStop(1);
        }

    }
}//package Interface_fla 
﻿package Interface_fla {
    import flash.display.*;

    public dynamic class LogoutBackground_111 extends MovieClip {

        public function LogoutBackground_111(){
            addFrameScript(0, this.frame1, 1, this.frame2);
        }
        function frame1(){
            stop();
        }
        function frame2(){
            stop();
        }

    }
}//package Interface_fla 
﻿package Interface_fla {
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;
    import flash.text.*;
    import fl.text.*;
    import com.slskin.ignitenetwork.fonts.*;

    public dynamic class LogoutButton_110 extends MovieClip {

        public var icon:MovieClip;
        public var hitbox:SimpleButton;
        public var tlf:TLFTextField;
        public var bg:MovieClip;
        public var __checkFontName_:String;
        public var __cacheXMLSettings:Object;

        public function LogoutButton_110(){
            super();
            this.__checkFontName_ = "com.slskin.ignitenetwork.fonts.TahomaBold";
            if (!RuntimeManager.checkTLFFontsLoaded(null, this.__checkFontName_, this.__registerTLFFonts)){
                addEventListener(Event.FRAME_CONSTRUCTED, RuntimeManager.checkTLFFontsLoaded, false, 1);
            };
            this.__cacheXMLSettings = XML.settings();
            try {
                XML.ignoreProcessingInstructions = false;
                XML.ignoreWhitespace = false;
                XML.prettyPrinting = false;
                RuntimeManager.getSingleton().addInstance(this, "tlf", new Rectangle(0, 0, 80, 25.25), <tlfTextObject type="Paragraph" editPolicy="readOnly" columnCount="1" columnGap="20" verticalAlign="top" firstBaselineOffset="auto" paddingLeft="2" paddingTop="7" paddingRight="7" paddingBottom="2" background="false" backgroundColor="#b6b6b6" backgroundAlpha="1" border="false" borderColor="#000000" borderAlpha="1" borderWidth="1" paddingLock="false" multiline="false" antiAliasType="advanced" embedFonts="true"><TextFlow blockProgression="tb" lineBreak="explicit" locale="en_US" whiteSpaceCollapse="preserve" version="2.0.0" xmlns="http://ns.adobe.com/textLayout/2008"><p direction="ltr" paragraphEndIndent="0" paragraphSpaceAfter="0" paragraphSpaceBefore="0" paragraphStartIndent="0" textAlign="end" textAlignLast="start" textIndent="0" textJustify="interWord"><span color="#333333" fontFamily="Tahoma-Bold*" fontSize="13" fontStyle="normal" fontWeight="normal" kerning="off" lineHeight="128.75%" textAlpha="1" textRotation="auto" trackingRight="0%">Logout</span></p></TextFlow></tlfTextObject>
                , null, undefined, 0, 0, "", false, true);
            } finally {
                XML.setSettings(this.__cacheXMLSettings);
            };
            RuntimeManager.getSingleton().addInstanceComplete(this);
        }
        public function __registerTLFFonts():void{
            Font.registerFont(TahomaBold);
            RuntimeFontMapper.addFontMapEntry("['Tahoma-Bold*','normal','normal']", ["Tahoma", "bold", "normal"]);
        }

    }
}//package Interface_fla 
﻿package {
    import flash.display.*;

    public dynamic class ScrollThumb_Up_Light extends MovieClip {

    }
}//package 
﻿package {
    import flash.display.*;

    public dynamic class ScrollArrowUp_upSkin extends MovieClip {

    }
}//package 
﻿package {
    import flash.display.*;

    public dynamic class ScrollArrowUp_overSkin extends MovieClip {

    }
}//package
